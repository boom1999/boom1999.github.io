<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>å®šæ—¶å™¨è§£å†³æ–¹æ¡ˆå¤‡å¿˜å½•</title>
    <url>/2020/12/22/AT89S51%E5%AE%9A%E6%97%B6%E5%99%A8%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88%E5%A4%87%E5%BF%98%E5%BD%95/</url>
    <content><![CDATA[<ul>
<li><strong>æµ™æ±Ÿå·¥ä¸šå¤§å­¦ä¿¡æ¯å·¥ç¨‹å­¦é™¢å•ç‰‡æœºå®éªŒ</strong></li>
</ul>
<span id="more"></span>
<blockquote>
<p>P2.0æ¥LEDæ¨¡å—J12çš„A</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">    ORG     0000H</span><br><span class="line">RESET:</span><br><span class="line">    LJMP    MAIN</span><br><span class="line">    ORG     000BH           //å®šæ—¶å™¨ä¸­æ–­0å…¥å£</span><br><span class="line">    LJMP    T0_INT</span><br><span class="line">    ORG     0100H</span><br><span class="line"></span><br><span class="line">MAIN:</span><br><span class="line">    MOV     SP,#60H</span><br><span class="line">    MOV     TMOD,#01H       //è®¡æ—¶å·¥ä½œæ–¹å¼1</span><br><span class="line">    MOV     30H,#00H        //å®šæ—¶å™¨è¶…æ—¶ä¸€ç™¾æ¬¡ï¼Œè¾¾åˆ°64hå³ä¸€ç§’</span><br><span class="line">                            //12MHzï¼Œæœºå™¨å‘¨æœŸ1Î¼sï¼Œéœ€è¦10000ä¸ªè®¡æ•°ï¼Œåˆå€¼=65536-10000=55536=D8F0H</span><br><span class="line">    MOV     TH0,#0D8H</span><br><span class="line">    MOV     TL0,#0F0H</span><br><span class="line">    SETB    P2.0</span><br><span class="line">    SETB    ET0             //å¼€æ”¾T0ä¸­æ–­å’Œæ€»ä¸­æ–­</span><br><span class="line">    SETB    EA</span><br><span class="line">    SETB    TR0             //å¯åŠ¨T0</span><br><span class="line">    JNB     TF0,$           //wait for TF0</span><br><span class="line"></span><br><span class="line">T0_INT:</span><br><span class="line">    PUSH    PSW             //ä¿æŠ¤çŠ¶æ€å­—å¯„å­˜å™¨</span><br><span class="line">    PUSH    ACC</span><br><span class="line">    CLR     EA              //å…³é—­æ€»ä¸­æ–­</span><br><span class="line">    MOV     TH0,#0D8H</span><br><span class="line">    MOV     TL0,#0F0H</span><br><span class="line">    INC     30H</span><br><span class="line">    MOV     A,30H</span><br><span class="line">    CJNE    A,#100,CONTINUE_T0</span><br><span class="line">    MOV     30H,#00H        //å®šæ—¶å™¨è¶…æ—¶ä¸€ç™¾æ¬¡ï¼Œè¾¾åˆ°64hå³ä¸€ç§’</span><br><span class="line">    CPL     P2.0</span><br><span class="line"></span><br><span class="line">CONTINUE_T0:</span><br><span class="line">    SETB    EA              //å¼€æ€»ä¸­æ–­</span><br><span class="line">    POP     ACC</span><br><span class="line">    POP     PSW             //ä¿æŠ¤çŠ¶æ€å­—å¯„å­˜å™¨</span><br><span class="line">    RETI</span><br><span class="line"></span><br><span class="line">    END</span><br></pre></td></tr></tbody></table></figure>
<hr>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><blockquote>
<p>å®šæ—¶å™¨0è¿˜æ˜¯å®šæ—¶å™¨1<br>æ™¶æŒ¯é¢‘ç‡æ˜¯6Mhzè¿˜æ˜¯12Mhzï¼ˆè¿™é‡Œä½¿ç”¨çš„æ˜¯12MHzï¼Œåˆ™12ä¸ªæ™¶æŒ¯å‘¨æœŸâ€”&gt;æœºå™¨å‘¨æœŸ1Î¼sï¼‰<br>æ–¹å¼1ï¼šæœ€å¤š2^16=65536*1Î¼s=65.5ms<br>æ–¹å¼2ï¼šæœ€å¤š2^8=256Î¼sä½†è‡ªåŠ¨é‡è£…è½½</p>
</blockquote>
<hr>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Keil/Keil_INT0.png" alt="å®šæ—¶å™¨è°ƒè¯•"></p>
<ul>
<li>è®¾ç½®ä¸€ç™¾æ¬¡10mså®šæ—¶å™¨æº¢å‡ºåæ–­ç‚¹è°ƒè¯•ï¼Œå‘ç°å³ä¸‹è§’æ—¶é—´åˆšå¥½ä¸º1s</li>
<li>ï¼ˆä¸ç²¾å‡†ï¼Œç”±äºæ—¶é’Ÿå®é™…11.0592ï¼‰</li>
</ul>
]]></content>
      <categories>
        <category>AT89S51</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>ASM</tag>
      </tags>
  </entry>
  <entry>
    <title>ASK and PSK</title>
    <url>/2021/05/30/ASK%20and%20PSK/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<h3 id="Most-communication-channels-have-communication-channels-so-the-only-way-to-transmit-signals-through-such-channels-is-to-move-the-fortunate-frequency-that-carries-the-message-to-the-frequency-band-of-the-channel"><a href="#Most-communication-channels-have-communication-channels-so-the-only-way-to-transmit-signals-through-such-channels-is-to-move-the-fortunate-frequency-that-carries-the-message-to-the-frequency-band-of-the-channel" class="headerlink" title="Most communication channels have communication channels, so the only way to transmit signals through such channels is to move the fortunate frequency that carries the message to the frequency band of the channel"></a>Most communication channels have communication channels, so the only way to transmit signals through such channels is to move the fortunate frequency that carries the message to the frequency band of the channel</h3><p><span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•£</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f563.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<span id="more"></span>
<hr>
<h2 id="notebook-4ASK"><a href="#notebook-4ASK" class="headerlink" title=":notebook: 4ASK"></a><span class="github-emoji"><span>ğŸ““</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4ASK</h2><h3 id="u-m-t-A-m-g-T-t-cos-2-pi-f-c-t-m-1-2-3-â€¦-M"><a href="#u-m-t-A-m-g-T-t-cos-2-pi-f-c-t-m-1-2-3-â€¦-M" class="headerlink" title="$u{m}(t) = A{m}g{T}(t)cos(2\pi f{c}t),m=1,2,3,â€¦,M$"></a>$u<em>{m}(t) = A</em>{m}g<em>{T}(t)cos(2\pi f</em>{c}t),m=1,2,3,â€¦,M$</h3><h3 id="A-m-2m-1-M-d-m-1-2-3-â€¦-M"><a href="#A-m-2m-1-M-d-m-1-2-3-â€¦-M" class="headerlink" title="$A_{m}=(2m-1-M)d,m=1,2,3,â€¦,M$"></a>$A_{m}=(2m-1-M)d,m=1,2,3,â€¦,M$</h3><p>$ g_{T}(t)=<br>  \begin{cases}<br>  \sqrt\frac 2T, 0â‰¤tâ‰¤T \\<br>  0, otherwise \\<br>  \end{cases} $</p>
<p><em>Where d=1, T=1, fc=5Hz, the mapping rule from the bit pair to m is: 00-&gt;1, 01-&gt;2,11-&gt;3,10-&gt;4.<br>(1) If the message bits are 11 00 10 00 01, plot the corresponding 4ASK signal in both time and frequency domain, sampling frequency fs=1000Hz.<br>(2) Give the average signal energy per bit, i.e., Eb, for 4ASK.<br>(3) Denote SNR as Eb/N0, plot the theoretical SER (symbol error rate) and simulated SER, for SNR=0:2:8 dB.</em></p>
<h3 id="memo-4ASK-Code"><a href="#memo-4ASK-Code" class="headerlink" title=":memo: 4ASK Code"></a><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4ASK Code</h3><ul>
<li>4ASK.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% Consider the following 4ASK modulation, where T=1.</span></span><br><span class="line"> </span><br><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(1)</span></span><br><span class="line"><span class="comment">% Plot the corresponding 4ASK signal.</span></span><br><span class="line">T = <span class="number">1</span>;                  <span class="comment">% Symbol interval.</span></span><br><span class="line">d = <span class="number">1</span>;</span><br><span class="line">Tb = T/<span class="number">2</span>;               <span class="comment">% Bit interval.</span></span><br><span class="line">m = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>];          <span class="comment">% Equally spaced.</span></span><br><span class="line">M = <span class="number">4</span>;                  <span class="comment">% 4ASK:M=4</span></span><br><span class="line">A_m = (<span class="number">2</span>*m<span class="number">-1</span>-M)*d;      <span class="comment">% The amplitude of the m-th waveform.</span></span><br><span class="line">fc = <span class="number">5</span>;                 <span class="comment">% Carrier frequency.</span></span><br><span class="line">fs = <span class="number">1000</span>;              <span class="comment">% Sampling frequency.</span></span><br><span class="line">gT=<span class="built_in">sqrt</span>(<span class="number">2</span>/T);           <span class="comment">% Transmission pulse.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Message bits.</span></span><br><span class="line">N = <span class="number">5</span>;</span><br><span class="line">Sig = [<span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>];</span><br><span class="line"><span class="comment">% Mapping.</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">2</span>:<span class="built_in">length</span>(Sig)</span><br><span class="line">    <span class="keyword">if</span>(Sig(<span class="built_in">i</span>)==<span class="number">0</span>&amp;&amp;Sig(<span class="built_in">i</span>+<span class="number">1</span>)==<span class="number">0</span>)</span><br><span class="line">        m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = A_m(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">elseif</span>(Sig(<span class="built_in">i</span>)==<span class="number">0</span>&amp;&amp;Sig(<span class="built_in">i</span>+<span class="number">1</span>)==<span class="number">1</span>)</span><br><span class="line">        m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = A_m(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">elseif</span>(Sig(<span class="built_in">i</span>)==<span class="number">1</span>&amp;&amp;Sig(<span class="built_in">i</span>+<span class="number">1</span>)==<span class="number">1</span>)</span><br><span class="line">        m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = A_m(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = A_m(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Sampling.</span></span><br><span class="line">[t,x] = Sampling(T,fs,m);</span><br><span class="line"><span class="comment">% Carrier wave.</span></span><br><span class="line">carrier = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fc*t);</span><br><span class="line"><span class="comment">% ASK modulation.</span></span><br><span class="line">u_m=gT*x.*carrier;</span><br><span class="line"><span class="comment">% T2F.</span></span><br><span class="line">[sf,U_m]=T2F(t,u_m);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Plotting commands follow.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,u_m);</span><br><span class="line">title(<span class="string">'Time domain'</span>)</span><br><span class="line">xlabel(<span class="string">'t/s'</span>)</span><br><span class="line">ylabel(<span class="string">'u\_m(t)'</span>)</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(sf,<span class="built_in">abs</span>(U_m));</span><br><span class="line">title(<span class="string">'Frequency domain'</span>)</span><br><span class="line">xlabel(<span class="string">'f/Hz'</span>)</span><br><span class="line">ylabel(<span class="string">'U\_m'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(2)</span></span><br><span class="line"><span class="comment">% Give the average energy per symbol and average energy per bit.</span></span><br><span class="line">Eav = sum(A_m.^<span class="number">2</span>)/<span class="number">4</span>     <span class="comment">% Average energy per symbol.</span></span><br><span class="line">Eb = Eav/<span class="number">2</span>              <span class="comment">% Average energy per bit.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(3)</span></span><br><span class="line"><span class="comment">% SER.</span></span><br><span class="line"> </span><br><span class="line">SNRindB=<span class="number">0</span>:<span class="number">2</span>:<span class="number">8</span>;          </span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">length</span>(SNRindB)</span><br><span class="line">  <span class="comment">% Simulated error rate .</span></span><br><span class="line">  smld_err_prb(<span class="built_in">i</span>)=smldpe(SNRindB(<span class="built_in">i</span>));     </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">length</span>(SNRindB)</span><br><span class="line">  <span class="comment">% Signal-to-noise ratio.</span></span><br><span class="line">  SNR_per_bit=<span class="built_in">exp</span>(SNRindB(<span class="built_in">i</span>)*<span class="built_in">log</span>(<span class="number">10</span>)/<span class="number">10</span>);  </span><br><span class="line">  <span class="comment">% Theoretical error rate.</span></span><br><span class="line">  theo_err_prb(<span class="built_in">i</span>)=(<span class="number">3</span>/<span class="number">2</span>)*Qfunct(<span class="built_in">sqrt</span>((<span class="number">4</span>/<span class="number">5</span>)*SNR_per_bit));  </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">% Plotting commands follow.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line">semilogy(SNRindB,smld_err_prb,<span class="string">'*'</span>);</span><br><span class="line"><span class="built_in">hold</span></span><br><span class="line">semilogy(SNRindB,theo_err_prb);</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Sampling.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[T,Samp_Sig]</span>=<span class="title">Sampling</span><span class="params">(t,Fs,sig)</span> </span></span><br><span class="line"><span class="comment">% Fucntion Name:Sampling </span></span><br><span class="line"><span class="comment">%Input: Tb,Fs:sig OutPut:Samp_Sig </span></span><br><span class="line"><span class="comment">%When you call the Function ,u input the tiem for a bit,the </span></span><br><span class="line"><span class="comment">%Sampling rate and the source signal,then output the Samplint Signal.</span></span><br><span class="line">Ts=<span class="number">1</span>/Fs;</span><br><span class="line">Sig=sig;</span><br><span class="line">len=<span class="built_in">length</span>(Sig);</span><br><span class="line">T=<span class="number">0</span>:Ts:len*t-Ts;</span><br><span class="line">Samp_Sig=T; </span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">0</span>:<span class="number">1</span>:len<span class="number">-1</span></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">1</span>:t/Ts</span><br><span class="line">        Samp_Sig(<span class="built_in">i</span>*t/Ts+<span class="built_in">j</span>)=Sig(<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">end</span>    </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>T2T.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[f,sf]</span>=<span class="title">T2F</span><span class="params">(t,st)</span></span></span><br><span class="line"><span class="comment">%input is time and the signal vectors</span></span><br><span class="line"><span class="comment">%output is freguency and signal spectrum</span></span><br><span class="line"> </span><br><span class="line">dt=t(<span class="number">2</span>)-t(<span class="number">1</span>);</span><br><span class="line">T=t(<span class="keyword">end</span>)-t(<span class="number">1</span>)+dt;</span><br><span class="line">df=<span class="number">1</span>/T;                     <span class="comment">%smapling rate</span></span><br><span class="line">N=<span class="built_in">length</span>(st);</span><br><span class="line"> </span><br><span class="line">f=-N/<span class="number">2</span>*df:df:(N/<span class="number">2</span><span class="number">-1</span>)*df;    <span class="comment">% Frequency sampling point.</span></span><br><span class="line">sf=fft(st);</span><br><span class="line"><span class="comment">% Compensation for time shift</span></span><br><span class="line">sf=T/N*fftshift(sf).*<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*f*t(<span class="number">1</span>));   </span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>smldpe.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[p]</span>=<span class="title">smldpe</span><span class="params">(snr_in_dB)</span></span></span><br><span class="line"><span class="comment">% [p]=smldPe(snr_in_dB)</span></span><br><span class="line"><span class="comment">%       SMLDPE  simulates the probability of error for the given</span></span><br><span class="line"><span class="comment">%           snr_in_dB, signal to noise ratio in dB.</span></span><br><span class="line">d=<span class="number">1</span>;</span><br><span class="line">SNR=<span class="built_in">exp</span>(snr_in_dB*<span class="built_in">log</span>(<span class="number">10</span>)/<span class="number">10</span>);      <span class="comment">% signal to noise ratio per bit</span></span><br><span class="line">sgma=<span class="built_in">sqrt</span>((<span class="number">5</span>*d^<span class="number">2</span>)/(<span class="number">4</span>*SNR));         <span class="comment">% sigma, standard deviation of noise</span></span><br><span class="line">N=<span class="number">10000</span>;                            <span class="comment">% number of symbols being simulated</span></span><br><span class="line"><span class="comment">% generation of the quarternary data source follows</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:N</span><br><span class="line">  temp=<span class="built_in">rand</span>;                        <span class="comment">% a uniform random variable over (0,1)</span></span><br><span class="line">  <span class="keyword">if</span> (temp&lt;<span class="number">0.25</span>)</span><br><span class="line">    dsource(<span class="built_in">i</span>)=<span class="number">1</span>;                   <span class="comment">% with probability 1/4, source output is "00"</span></span><br><span class="line">  <span class="keyword">elseif</span> (temp&lt;<span class="number">0.5</span>)</span><br><span class="line">    dsource(<span class="built_in">i</span>)=<span class="number">2</span>;                   <span class="comment">% with probability 1/4, source output is "01"</span></span><br><span class="line">  <span class="keyword">elseif</span> (temp&lt;<span class="number">0.75</span>)</span><br><span class="line">    dsource(<span class="built_in">i</span>)=<span class="number">3</span>;                   <span class="comment">% with probability 1/4, source output is "11"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    dsource(<span class="built_in">i</span>)=<span class="number">4</span>;                   <span class="comment">% with probability 1/4, source output is "10"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">% detection, and probability of error calculation</span></span><br><span class="line">numoferr=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:N</span><br><span class="line">  <span class="comment">% The matched filter outputs</span></span><br><span class="line">  <span class="keyword">if</span> (dsource(<span class="built_in">i</span>)==<span class="number">1</span>)</span><br><span class="line">    r=<span class="number">-3</span>*d+gngauss(sgma);           <span class="comment">% if the source output is "00"</span></span><br><span class="line">  <span class="keyword">elseif</span> (dsource(<span class="built_in">i</span>)==<span class="number">2</span>)</span><br><span class="line">    r=-d+gngauss(sgma);             <span class="comment">% if the source output is "01"</span></span><br><span class="line">  <span class="keyword">elseif</span> (dsource(<span class="built_in">i</span>)==<span class="number">3</span>)  </span><br><span class="line">    r=d+gngauss(sgma);              <span class="comment">% if the source output is "11"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    r=<span class="number">3</span>*d+gngauss(sgma);            <span class="comment">% if the source output is "10"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">% detector follows</span></span><br><span class="line">  <span class="keyword">if</span> (r&lt;<span class="number">-2</span>*d)</span><br><span class="line">    decis=<span class="number">1</span>;                        <span class="comment">% decision is "00"</span></span><br><span class="line">  <span class="keyword">elseif</span> (r&lt;<span class="number">0</span>)</span><br><span class="line">    decis=<span class="number">2</span>;                        <span class="comment">% decision is "01"</span></span><br><span class="line">  <span class="keyword">elseif</span> (r&lt;<span class="number">2</span>*d)</span><br><span class="line">    decis=<span class="number">3</span>;                        <span class="comment">% decision is "11"</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    decis=<span class="number">4</span>;                        <span class="comment">% decision is "10"</span></span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> (decis~=dsource(<span class="built_in">i</span>))            <span class="comment">% if it is an error, increase the error counter</span></span><br><span class="line">    numoferr=numoferr+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">p=numoferr/N;                       <span class="comment">% probability of error </span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>gngauss.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[gsrv1,gsrv2]</span>=<span class="title">gngauss</span><span class="params">(m,sgma)</span></span></span><br><span class="line"><span class="comment">% [gsrv1,gsrv2]=gngauss(m,sgma)</span></span><br><span class="line"><span class="comment">% [gsrv1,gsrv2]=gngauss(sgma)</span></span><br><span class="line"><span class="comment">% [gsrv1,gsrv2]=gngauss</span></span><br><span class="line"><span class="comment">%       GNGAUSS  generates two independent Gaussian random variables with mean</span></span><br><span class="line"><span class="comment">%           m and standard deviation sgma. If one of the input arguments is missing </span></span><br><span class="line"><span class="comment">%           it takes the mean as 0, and the standard deviation as the given parameter.</span></span><br><span class="line"><span class="comment">%           If neither mean nor the variance is given, it generates two standard</span></span><br><span class="line"><span class="comment">%           Gaussian random variables. </span></span><br><span class="line"><span class="keyword">if</span> nargin == <span class="number">0</span>,</span><br><span class="line">  m=<span class="number">0</span>; sgma=<span class="number">1</span>;</span><br><span class="line"><span class="keyword">elseif</span> nargin == <span class="number">1</span>,</span><br><span class="line">  sgma=m; m=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">end</span>;</span><br><span class="line">u=<span class="built_in">rand</span>;                             <span class="comment">% a uniform random variable in (0,1)       </span></span><br><span class="line">z=sgma*(<span class="built_in">sqrt</span>(<span class="number">2</span>*<span class="built_in">log</span>(<span class="number">1</span>/(<span class="number">1</span>-u))));      <span class="comment">% a Rayleigh distributed random variable</span></span><br><span class="line">u=<span class="built_in">rand</span>;                             <span class="comment">% another uniform random variable in (0,1)</span></span><br><span class="line">gsrv1=m+z*<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*u);</span><br><span class="line">gsrv2=m+z*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*u);</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Qfunct.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[y]</span>=<span class="title">Qfunct</span><span class="params">(x)</span></span></span><br><span class="line"><span class="comment">% [y]=Qfunct(x)</span></span><br><span class="line"><span class="comment">%       QFUNCT  evaluates the Q-function. </span></span><br><span class="line"><span class="comment">%           y = 1/sqrt(2*pi) * integral from x to inf of exp(-t^2/2) dt.</span></span><br><span class="line"><span class="comment">%           y = (1/2) * erfc(x/sqrt(2)).</span></span><br><span class="line">y=(<span class="number">1</span>/<span class="number">2</span>)*<span class="built_in">erfc</span>(x/<span class="built_in">sqrt</span>(<span class="number">2</span>));</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="chart-4ASK-Fig"><a href="#chart-4ASK-Fig" class="headerlink" title=":chart: 4ASK Fig"></a><span class="github-emoji"><span>ğŸ’¹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b9.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4ASK Fig</h3><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/ASK_PSK/Time_domain.png" alt="Message bits in Time domain(4ASK)."></p>
<center><font size="2">Fig.1 Message bits in Time domain(4ASK).</font></center>
<br><br><br>

![Fig.2 Message bits in Frequency domain.][2]
<center><font size="2">Fig.2 Message bits in Frequency domain.</font></center>
<br><br><br>

<div align="center"><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/ASK_PSK/lab6_1_Eb.png"></div>
<center><font size="2">Fig.3 The average signal energy per bit.</font></center>
<br><br><br>

![Fig.4 The theoretical SER and simulated SER][4]
<center><font size="2">Fig.4 The theoretical SER and simulated SER</font></center>

<h3 id="grey-question-4ASK-Discussion"><a href="#grey-question-4ASK-Discussion" class="headerlink" title=":grey_question: 4ASK Discussion"></a><span class="github-emoji"><span>â”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2754.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4ASK Discussion</h3><blockquote>
<p>Using carrier wave to transmit information is different from baseband transmission. Carrier-modulated digital transmission moves the frequency of the signal carrying the information to the frequency band of the signal.<br>The baseband signal waveform is multiplied by the sine carrier, and the frequency spectrum of the baseband signal is shifted by an amount of fc, and thus the signal is placed in the bandwidth of the channel.<br>First map the 10-bit learning sequence to a binary number according to the law, and then change the corresponding amplitude according to the 4ASK mapping relationship. After sampling the baseband signal with fs=1000Hz, it is multiplied by the 5Hz sine carrier, and it is found that only the amplitude has occurred in the time domain. Change, the frequency has shifted in the frequency spectrum.</p>
</blockquote>
<h2 id="blue-book-4PSK"><a href="#blue-book-4PSK" class="headerlink" title=":blue_book: 4PSK"></a><span class="github-emoji"><span>ğŸ“˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4PSK</h2><h3 id="u-m-t-sqrt-frac-2E-s-Tcos-2-pi-f-c-t-frac-2-pi-m-4-frac-pi-4-m-1-2-3-â€¦-M"><a href="#u-m-t-sqrt-frac-2E-s-Tcos-2-pi-f-c-t-frac-2-pi-m-4-frac-pi-4-m-1-2-3-â€¦-M" class="headerlink" title="$u{m}(t) = \sqrt \frac {2E{s}}Tcos(2\pi f_{c}t+\frac{2\pi m}4+\frac \pi 4),m=1,2,3,â€¦,M$"></a>$u<em>{m}(t) = \sqrt \frac {2E</em>{s}}Tcos(2\pi f_{c}t+\frac{2\pi m}4+\frac \pi 4),m=1,2,3,â€¦,M$</h3><p>where the average signal energy Es=1, T=1, fc=5Hz, and the constellation diagram is:</p>
<h3 id="s-m-sqrt-E-s-cos-frac-2-pi-m-4-frac-pi-4-sqrt-E-s-sin-frac-2-pi-m-4-frac-pi-4"><a href="#s-m-sqrt-E-s-cos-frac-2-pi-m-4-frac-pi-4-sqrt-E-s-sin-frac-2-pi-m-4-frac-pi-4" class="headerlink" title="$s{m}=(\sqrt{E{s}}cos(\frac{2\pi m}4+\frac \pi 4),\sqrt{E_{s}}sin(\frac{2\pi m}4+\frac \pi 4))$"></a>$s<em>{m}=(\sqrt{E</em>{s}}cos(\frac{2\pi m}4+\frac \pi 4),\sqrt{E_{s}}sin(\frac{2\pi m}4+\frac \pi 4))$</h3><p><em>(1) If the message bits are 11 00 10 00 01, plot the corresponding 4PSK signal in both time and frequency domain, sampling frequency fs=1000Hz.<br>(2) Plot the constellation diagram of the 4PSK experiencing the AWGN channel with N0=0.5. (You can generate a large number of 4PSK signals and noise samples.)<br>(3) Give the BER and SER for N0=0.5, from theoretical calculation and numerical simulation, respectively.</em></p>
<h3 id="memo-4PSK-Code"><a href="#memo-4PSK-Code" class="headerlink" title=":memo: 4PSK Code"></a><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4PSK Code</h3><ul>
<li>4PSK.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% Consider the following 4PSK modulation.</span></span><br><span class="line"> </span><br><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(1)</span></span><br><span class="line"><span class="comment">% Plot the corresponding 4PSK signal.</span></span><br><span class="line">T = <span class="number">1</span>;                  <span class="comment">% Symbol interval.</span></span><br><span class="line">Es = <span class="number">1</span>;                 <span class="comment">% Energy of every symbol.</span></span><br><span class="line">Tb = T/<span class="number">2</span>;               <span class="comment">% Bit interval.</span></span><br><span class="line">m = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];          <span class="comment">% Equally spaced.</span></span><br><span class="line">M = <span class="number">4</span>;                  <span class="comment">% 4PSK:M=4</span></span><br><span class="line">fc = <span class="number">5</span>;                 <span class="comment">% Carrier frequency.</span></span><br><span class="line">fs = <span class="number">1000</span>;              <span class="comment">% Sampling frequency.</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Message bits.</span></span><br><span class="line">N = <span class="number">5</span>;</span><br><span class="line">Sig = [<span class="number">1</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span>];</span><br><span class="line"><span class="comment">% Mapping.</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">2</span>:<span class="built_in">length</span>(Sig)</span><br><span class="line">    <span class="keyword">if</span>(Sig(<span class="built_in">i</span>)==<span class="number">0</span>&amp;&amp;Sig(<span class="built_in">i</span>+<span class="number">1</span>)==<span class="number">0</span>)</span><br><span class="line">        phase_m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = m(<span class="number">1</span>);</span><br><span class="line">    <span class="keyword">elseif</span>(Sig(<span class="built_in">i</span>)==<span class="number">0</span>&amp;&amp;Sig(<span class="built_in">i</span>+<span class="number">1</span>)==<span class="number">1</span>)</span><br><span class="line">        phase_m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = m(<span class="number">2</span>);</span><br><span class="line">    <span class="keyword">elseif</span>(Sig(<span class="built_in">i</span>)==<span class="number">1</span>&amp;&amp;Sig(<span class="built_in">i</span>+<span class="number">1</span>)==<span class="number">1</span>)</span><br><span class="line">        phase_m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = m(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        phase_m(<span class="built_in">fix</span>(<span class="built_in">i</span>/<span class="number">2</span>)+<span class="number">1</span>) = m(<span class="number">4</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Sampling.</span></span><br><span class="line">[t,x] = Sampling(T,fs,phase_m);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">1</span>:N*T*fs</span><br><span class="line">    u_m(<span class="built_in">i</span>) =<span class="built_in">sqrt</span>(<span class="number">2</span>*Es/T)*<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*fc*<span class="built_in">i</span>/fs+<span class="number">2</span>*<span class="built_in">pi</span>*x(<span class="built_in">i</span>)/<span class="number">4</span>+<span class="built_in">pi</span>/<span class="number">4</span>); </span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">% T2F.</span></span><br><span class="line">[sf,U_m]=T2F(t,u_m);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Plotting commands follow.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,u_m);</span><br><span class="line">title(<span class="string">'Time domain'</span>)</span><br><span class="line">xlabel(<span class="string">'t/s'</span>)</span><br><span class="line">ylabel(<span class="string">'u\_m(t)'</span>)</span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>);</span><br><span class="line"><span class="built_in">plot</span>(sf,<span class="built_in">abs</span>(U_m));</span><br><span class="line">title(<span class="string">'Frequency domain'</span>)</span><br><span class="line">xlabel(<span class="string">'f/Hz'</span>)</span><br><span class="line">ylabel(<span class="string">'U\_m'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(2)</span></span><br><span class="line"><span class="comment">% Plot the constellation diagram.</span></span><br><span class="line">N0 = <span class="number">0.5</span>;</span><br><span class="line">nc=<span class="built_in">sqrt</span>(N0/<span class="number">2</span>)*<span class="built_in">randn</span>(<span class="number">5000</span>,<span class="number">1</span>);</span><br><span class="line">ns=<span class="built_in">sqrt</span>(N0/<span class="number">2</span>)*<span class="built_in">randn</span>(<span class="number">5000</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">1</span>:N*T*fs</span><br><span class="line">    Sm_x(<span class="built_in">i</span>) = <span class="built_in">sqrt</span>(Es)*<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x(<span class="built_in">i</span>)/<span class="number">4</span>+<span class="built_in">pi</span>/<span class="number">4</span>)+nc(<span class="built_in">i</span>);</span><br><span class="line">    Sm_y(<span class="built_in">i</span>) = <span class="built_in">sqrt</span>(Es)*<span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*x(<span class="built_in">i</span>)/<span class="number">4</span>+<span class="built_in">pi</span>/<span class="number">4</span>)+ns(<span class="built_in">i</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Plotting commands follow.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="number">1</span>:<span class="number">5000</span></span><br><span class="line">    <span class="keyword">if</span>(x(<span class="built_in">i</span>)==<span class="number">0</span>)</span><br><span class="line">        <span class="built_in">plot</span>(Sm_x(<span class="built_in">i</span>),Sm_y(<span class="built_in">i</span>),<span class="string">'r*'</span>)</span><br><span class="line">        <span class="built_in">hold</span> on;</span><br><span class="line">    <span class="keyword">elseif</span>(x(<span class="built_in">i</span>)==<span class="number">1</span>)</span><br><span class="line">        <span class="built_in">plot</span>(Sm_x(<span class="built_in">i</span>),Sm_y(<span class="built_in">i</span>),<span class="string">'g+'</span>)</span><br><span class="line">        <span class="built_in">hold</span> on;</span><br><span class="line">    <span class="keyword">elseif</span>(x(<span class="built_in">i</span>)==<span class="number">2</span>)</span><br><span class="line">        <span class="built_in">plot</span>(Sm_x(<span class="built_in">i</span>),Sm_y(<span class="built_in">i</span>),<span class="string">'b.'</span>)</span><br><span class="line">        <span class="built_in">hold</span> on;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">plot</span>(Sm_x(<span class="built_in">i</span>),Sm_y(<span class="built_in">i</span>),<span class="string">'c.'</span>)</span><br><span class="line">        <span class="built_in">hold</span> on;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    axis square</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">title(<span class="string">'The constellation diagram of the 4PSK'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(3)</span></span><br><span class="line"><span class="comment">% BER and SER.</span></span><br><span class="line"> </span><br><span class="line">N=<span class="number">100000</span>;</span><br><span class="line">Eb=Es/<span class="number">2</span>;</span><br><span class="line">SNR = Eb/N0;</span><br><span class="line">sgma=<span class="built_in">sqrt</span>(Es/SNR/<span class="number">4</span>);            <span class="comment">% noise variance</span></span><br><span class="line"><span class="comment">% The signal mapping.</span></span><br><span class="line">s00=[<span class="number">1</span> <span class="number">1</span>]\<span class="built_in">sqrt</span>(<span class="number">2</span>);</span><br><span class="line">s01=[<span class="number">-1</span> <span class="number">1</span>]\<span class="built_in">sqrt</span>(<span class="number">2</span>);</span><br><span class="line">s11=[<span class="number">-1</span> <span class="number">-1</span>]\<span class="built_in">sqrt</span>(<span class="number">2</span>);</span><br><span class="line">s10=[<span class="number">1</span> <span class="number">-1</span>]\<span class="built_in">sqrt</span>(<span class="number">2</span>);</span><br><span class="line"><span class="comment">% Generation of the data source.</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:N</span><br><span class="line">  temp=<span class="built_in">rand</span>;                <span class="comment">% a uniform random variable between 0 and 1</span></span><br><span class="line">  <span class="keyword">if</span> (temp&lt;<span class="number">0.25</span>)            <span class="comment">% With probability 1/4, source output is "00."</span></span><br><span class="line">    dsource1(<span class="built_in">i</span>)=<span class="number">0</span>;</span><br><span class="line">    dsource2(<span class="built_in">i</span>)=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">elseif</span> (temp&lt;<span class="number">0.5</span>)         <span class="comment">% With probability 1/4, source output is "01."</span></span><br><span class="line">    dsource1(<span class="built_in">i</span>)=<span class="number">0</span>;</span><br><span class="line">    dsource2(<span class="built_in">i</span>)=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">elseif</span> (temp&lt;<span class="number">0.75</span>)        <span class="comment">% With probability 1/4, source output is "11."</span></span><br><span class="line">    dsource1(<span class="built_in">i</span>)=<span class="number">1</span>;  </span><br><span class="line">    dsource2(<span class="built_in">i</span>)=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span>                      <span class="comment">% With probability 1/4, source output is "10."</span></span><br><span class="line">    dsource1(<span class="built_in">i</span>)=<span class="number">1</span>;</span><br><span class="line">    dsource2(<span class="built_in">i</span>)=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">% Detection and the probability of error calculation.</span></span><br><span class="line">numofsymbolerror=<span class="number">0</span>;</span><br><span class="line">numofbiterror=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:N</span><br><span class="line">  <span class="comment">% The received signal at the detector, for the ith symbol, is:</span></span><br><span class="line">  n(<span class="number">1</span>)=gngauss(sgma);         </span><br><span class="line">  n(<span class="number">2</span>)=gngauss(sgma);</span><br><span class="line">  <span class="keyword">if</span> ((dsource1(<span class="built_in">i</span>)==<span class="number">0</span>) &amp;&amp; (dsource2(<span class="built_in">i</span>)==<span class="number">0</span>))</span><br><span class="line">    r=s00+n;</span><br><span class="line">  <span class="keyword">elseif</span> ((dsource1(<span class="built_in">i</span>)==<span class="number">0</span>) &amp;&amp; (dsource2(<span class="built_in">i</span>)==<span class="number">1</span>))</span><br><span class="line">    r=s01+n;</span><br><span class="line">  <span class="keyword">elseif</span> ((dsource1(<span class="built_in">i</span>)==<span class="number">1</span>) &amp;&amp; (dsource2(<span class="built_in">i</span>)==<span class="number">1</span>))</span><br><span class="line">    r=s11+n;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    r=s10+n;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">% The correlation metrics are computed below.</span></span><br><span class="line">  c00=<span class="built_in">dot</span>(r,s00);</span><br><span class="line">  c01=<span class="built_in">dot</span>(r,s01);</span><br><span class="line">  c11=<span class="built_in">dot</span>(r,s11);</span><br><span class="line">  c10=<span class="built_in">dot</span>(r,s10);</span><br><span class="line">  <span class="comment">% The decision on the ith symbol is made next.</span></span><br><span class="line">  c_max=<span class="built_in">max</span>([c00 c01 c11 c10]);</span><br><span class="line">  <span class="keyword">if</span> (c00==c_max)</span><br><span class="line">    decis1=<span class="number">0</span>; decis2=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">elseif</span> (c01==c_max)</span><br><span class="line">    decis1=<span class="number">0</span>; decis2=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">elseif</span> (c11==c_max)</span><br><span class="line">    decis1=<span class="number">1</span>; decis2=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    decis1=<span class="number">1</span>; decis2=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="comment">% Increment the error counter, if the decision is not correct.</span></span><br><span class="line">  symbolerror=<span class="number">0</span>;</span><br><span class="line">  <span class="keyword">if</span> (decis1~=dsource1(<span class="built_in">i</span>))</span><br><span class="line">    numofbiterror=numofbiterror+<span class="number">1</span>;</span><br><span class="line">    symbolerror=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> (decis2~=dsource2(<span class="built_in">i</span>))</span><br><span class="line">    numofbiterror=numofbiterror+<span class="number">1</span>;</span><br><span class="line">    symbolerror=<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line">  <span class="keyword">if</span> (symbolerror==<span class="number">1</span>)</span><br><span class="line">    numofsymbolerror = numofsymbolerror+<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="comment">% Since there are totally N symbols.</span></span><br><span class="line">ps=numofsymbolerror/N</span><br><span class="line"><span class="comment">% Since 2N bits are transmitted.</span></span><br><span class="line">pb=numofbiterror/(<span class="number">2</span>*N)</span><br><span class="line"> </span><br><span class="line">theo_err_prb=Qfunct(<span class="built_in">sqrt</span>(<span class="number">2</span>*SNR))    <span class="comment">% Theoretical bit-error rate.</span></span><br><span class="line">theo_err_sym=theo_err_prb*<span class="number">2</span>         <span class="comment">% Theoretical symbol-error rate.</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h3 id="chart-4PSK-Fig"><a href="#chart-4PSK-Fig" class="headerlink" title=":chart: 4PSK Fig"></a><span class="github-emoji"><span>ğŸ’¹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b9.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4PSK Fig</h3><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/ASK_PSK/4PSK_Time_domain.png" alt="Fig.5 Message bits in Time domain(4PSK)."></p>
<center><font size="2">Fig.5 Message bits in Time domain(4PSK).</font></center>
<br><br><br>

![Fig.6 Message bits in Frequency domain(4PSK).][6]
<center><font size="2">Fig.6 Message bits in Frequency domain(4PSK).</font></center>
<br><br><br>

![Fig.7 The constellation diagram of the 4PSK.][7]
<center><font size="2">Fig.7 The constellation diagram of the 4PSK.</font></center>
<br><br><br>

<div align="center"><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/ASK_PSK/lab6_2_theoretical_calculation_and_numerical_simulation.png"></div>
<center><font size="2">Fig.8 BER and SER(theoretical calculation and numerical simulation).</font></center>

<h3 id="grey-question-4PSK-Discussion"><a href="#grey-question-4PSK-Discussion" class="headerlink" title=":grey_question: 4PSK Discussion"></a><span class="github-emoji"><span>â”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2754.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4PSK Discussion</h3><blockquote>
<p>In carrier phase modulation, the signal to be transmitted through a communication channel is embedded in the phase of the carrier, and the information sequence is binary-coded and mapped to the corresponding phase. Each piece of data corresponds to a phase. The amplitude does not change, but it changes. Initial phase.<br>When the phase of the two bits of information undergoes a sudden change, the time-domain waveform will also undergo a sudden change. The reason is the discontinuity of the phase, which may cause bit errors during demodulation.<br>In the constellation diagram, we can see that the PSK signal will drift due to noise. If the noise is too large, a large number of signals will drift to other phase points, causing an increase in the bit error rate.</p>
</blockquote>
<!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Communication</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>Matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>äº¤é€šç¯ç³»ç»Ÿ</title>
    <url>/2021/01/12/AT89S51%E4%BA%A4%E9%80%9A%E7%81%AF%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<ul>
<li><p><strong>æµ™æ±Ÿå·¥ä¸šå¤§å­¦ä¿¡æ¯å·¥ç¨‹å­¦é™¢å•ç‰‡æœºå®éªŒ</strong></p>
</li>
<li><p>é¢˜ï¼šå®šä¹‰ä¸€ä¸ªç§’è¡¨è®¡æ•°å™¨å¦‚R2</p>
</li>
</ul>
<ol>
<li>åœ¨R2çš„å€¼ä¸º1~30ç§’ï¼Œè¾“å‡ºP1å£å’ŒP3.0ã€P3.1å®ç°å—åŒ—ç»¿ç¯ã€ä¸œè¥¿çº¢ç¯ã€äººè¡Œé“ä¸œè¥¿çº¢ç¯ã€å—åŒ—ç»¿ç¯ï¼Œå¹¶å°†R2çš„å€¼é™¤10ï¼Œå•†æ”¾åœ¨åŠ¨æ€LED0ï¼Œä½™æ•°æ”¾åœ¨åŠ¨æ€LED1ç‚¹äº®ï¼›</li>
<li>åœ¨R2çš„å€¼ä¸º31~35ç§’ï¼Œè¾“å‡ºP1å£å’ŒP3.0ã€P3.1å®ç°å—åŒ—é»„ç¯ã€ä¸œè¥¿çº¢ç¯ã€äººè¡Œé“ä¸œè¥¿çº¢ç¯ã€å—åŒ—çº¢ç¯ï¼Œå¹¶å°†R2çš„å€¼å‡å»30åé™¤10ï¼Œå•†æ”¾åœ¨åŠ¨æ€LED0ï¼Œä½™æ•°æ”¾åœ¨åŠ¨æ€LED1ç‚¹äº®ï¼›</li>
<li>åœ¨R2çš„å€¼ä¸º36~65ç§’ï¼Œè¾“å‡ºP1å£å’ŒP3.0ã€P3.1å®ç°å—åŒ—çº¢ç¯ã€ä¸œè¥¿ç»¿ç¯ã€äººè¡Œé“ä¸œè¥¿ç»¿ç¯ã€å—åŒ—çº¢ç¯ï¼Œå¹¶å°†R2çš„å€¼å‡å»35åé™¤10ï¼Œå•†æ”¾åœ¨åŠ¨æ€LED0ï¼Œä½™æ•°æ”¾åœ¨åŠ¨æ€LED1ç‚¹äº®ï¼›</li>
<li>åœ¨R2çš„å€¼ä¸º66~70ç§’ï¼Œè¾“å‡ºP1å£å’ŒP3.0ã€P3.1å®ç°å—åŒ—çº¢ç¯ã€ä¸œè¥¿é»„ç¯ã€äººè¡Œé“ä¸œè¥¿çº¢ç¯ã€å—åŒ—çº¢ç¯ï¼Œå¹¶å°†R2çš„å€¼å‡å»65åé™¤10ï¼Œå•†æ”¾åœ¨åŠ¨æ€LED0ï¼Œä½™æ•°æ”¾åœ¨åŠ¨æ€LED1ç‚¹äº®ï¼›</li>
<li>å½“R2çš„å€¼ç­‰äº71ç§’æ—¶ï¼ŒR2ç½®1ï¼Œé‡æ–°å¼€å§‹</li>
</ol>
<span id="more"></span>
<blockquote>
<p>äº¤é€šç¯æ¨¡å—ã€åŠ¨æ€æ•°ç ç®¡æ¨¡å—ï¼Œåˆ©ç”¨å®šæ—¶å™¨ã€åè¿›åˆ¶æ•°æ‹†åˆ†<br>ç”¨ 8 æ ¹çš„æ’çº¿è¿æ¥å•ç‰‡æœº P0 çš„ JP10 åˆ°åŠ¨æ€æ•°ç ç®¡çš„ J12ï¼Œç”¨ 8 æ ¹çš„æ’çº¿è¿æ¥å•ç‰‡æœº P1 çš„ JP8 åˆ° äº¤é€šç¯æ¨¡å—çš„ JP1<br>å•ç‰‡æœºçš„ P22ã€P23ã€P24 åˆ†åˆ«æ¥åˆ° 74HC138 æ¨¡å—çš„Aã€Bã€Cã€‚JP165 è·³çº¿å¸½ä¸€å®šè¦æ‹”æ‰ï¼Œæ’åœ¨å…¶ä¸­ä¸€æ ¹é’ˆä¸Šï¼Œä»¥å…ä¸¢æ‰ã€‚<br>å—åŒ—ç»¿ç¯30sï¼Œçº¢ç¯30sï¼›é»„ç¯å‡ä¸º5sï¼›ä¸œè¥¿ç»¿ç¯25sï¼Œçº¢ç¯35sï¼Œ<br>äººè¡Œé“ä¸æ˜¾ç¤ºå€’è®¡æ—¶ï¼Œè½¦é“æ˜¾ç¤ºå€’è®¡æ—¶</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">    ORG     0000H</span><br><span class="line">RESET:</span><br><span class="line">    AJMP    MAIN</span><br><span class="line">    ORG     000BH           //å®šæ—¶å™¨ä¸­æ–­0å…¥å£</span><br><span class="line">    AJMP    INTI0</span><br><span class="line">    ORG     0100H</span><br><span class="line"></span><br><span class="line">MAIN:</span><br><span class="line">    MOV     SP,#60H         //è®¡æ—¶å·¥ä½œæ–¹å¼1</span><br><span class="line">    MOV     TMOD,#01H</span><br><span class="line">    MOV     DPTR,#TABLE</span><br><span class="line">                            //12MHzï¼Œæœºå™¨å‘¨æœŸ1Î¼sï¼Œéœ€è¦10000ä¸ªè®¡æ•°ï¼Œåˆå€¼=65536-10000=55536=D8F0H</span><br><span class="line">    MOV     TH0,#0D8H</span><br><span class="line">    MOV     TL0,#0F0H</span><br><span class="line">    SETB    ET0             //å¼€æ”¾T0ä¸­æ–­å’Œæ€»ä¸­æ–­</span><br><span class="line">    SETB    EA</span><br><span class="line">    SETB    TR0             //å¯åŠ¨T0</span><br><span class="line">    MOV     R0,#01          //è®¡æ•°å™¨åˆå€¼ä¸º01</span><br><span class="line">    MOV     30H,#00H        //å®šæ—¶å™¨è¶…æ—¶ä¸€ç™¾æ¬¡ï¼Œè¾¾åˆ°64hå³ä¸€ç§’</span><br><span class="line">    MOV     31H,#30         //å—åŒ—æ–¹å‘çº¢é»„ç»¿æ—¶é—´ï¼Œ30ï¼Œ5ï¼Œ30</span><br><span class="line">    MOV     32H,#35         //ä¸œè¥¿æ–¹å‘çº¢é»„ç»¿æ—¶é—´ï¼Œ35ï¼Œ5ï¼Œ25</span><br><span class="line">    MOV     P1,#11001101B   //110ä¸œè¥¿çº¢'011å—åŒ—ç»¿'01äººè¡Œå—åŒ—ç»¿</span><br><span class="line">    CLR     P3.0            //10äººè¡Œä¸œè¥¿çº¢</span><br><span class="line">    SETB    P3.1</span><br><span class="line">    LCALL   CALCU</span><br><span class="line">    LJMP    DISPLAY</span><br><span class="line"></span><br><span class="line">CALCU:</span><br><span class="line">/***********å—åŒ—æ–¹å‘å€’è®¡æ—¶è®¡ç®—********************/</span><br><span class="line">    MOV     R1,#10          //é™¤æ•°ä¸º10</span><br><span class="line">    MOV     A,31H           //å€’è®¡æ—¶æ•°å­—æ”¾åˆ°A</span><br><span class="line">    MOV     B,R1            //é™¤æ•°10æ”¾åˆ°B</span><br><span class="line">    DIV     AB              //Aä¸ºå•†ï¼ŒBä¸ºä½™æ•°</span><br><span class="line">    MOV     R4,A            //R4å­˜æ”¾å•†</span><br><span class="line">    MOV     R5,B            //R5å­˜æ”¾ä½™æ•°</span><br><span class="line">/***********ä¸œè¥¿æ–¹å‘å€’è®¡æ—¶è®¡ç®—********************/</span><br><span class="line">    MOV     R1,#10          //é™¤æ•°ä¸º10</span><br><span class="line">    MOV     A,32H           //å€’è®¡æ—¶æ•°å­—æ”¾åˆ°A</span><br><span class="line">    MOV     B,R1            //é™¤æ•°10æ”¾åˆ°B</span><br><span class="line">    DIV     AB              //Aä¸ºå•†ï¼ŒBä¸ºä½™æ•°</span><br><span class="line">    MOV     R6,A            //R6å­˜æ”¾å•†</span><br><span class="line">    MOV     R7,B            //R7å­˜æ”¾ä½™æ•°</span><br><span class="line">    RET</span><br><span class="line"></span><br><span class="line">DISPLAY:</span><br><span class="line">/***********å—åŒ—æ–¹å‘å€’è®¡æ—¶æ˜¾ç¤º********************/</span><br><span class="line">    CLR     P2.2</span><br><span class="line">    CLR     P2.3</span><br><span class="line">    CLR     P2.4</span><br><span class="line">    MOV     A,R4            //LED0è¾“å‡ºå•†</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P0,A</span><br><span class="line">    LCALL   D04MS</span><br><span class="line">    </span><br><span class="line">    SETB    P2.2</span><br><span class="line">    MOV     A,R5            //LED1è¾“å‡ºä½™æ•°</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P0,A</span><br><span class="line">/***********ä¸œè¥¿æ–¹å‘å€’è®¡æ—¶æ˜¾ç¤º********************/</span><br><span class="line">    CLR     P2.2</span><br><span class="line">    CLR     P2.3</span><br><span class="line">    SETB    P2.4</span><br><span class="line">    LCALL   D04MS </span><br><span class="line">    MOV     A,R6            //LED4è¾“å‡ºå•†</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P0,A</span><br><span class="line">    LCALL   D04MS</span><br><span class="line">    </span><br><span class="line">    SETB    P2.2</span><br><span class="line">    MOV     A,R7            //LED5è¾“å‡ºä½™æ•°</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P0,A</span><br><span class="line">/*********************************************/</span><br><span class="line">    JNB     TF0,DISPLAY     //wait for TF0</span><br><span class="line"></span><br><span class="line">INTI0:</span><br><span class="line">    PUSH    PSW             //ä¿æŠ¤çŠ¶æ€å­—å¯„å­˜å™¨</span><br><span class="line">    PUSH    ACC</span><br><span class="line">    CLR     EA              //å…³é—­æ€»ä¸­æ–­</span><br><span class="line">    MOV     TH0,#0D8H       //å®šæ—¶10ms</span><br><span class="line">    MOV     TL0,#0F0H</span><br><span class="line">    INC     30H</span><br><span class="line">    MOV     A,30H</span><br><span class="line">    CJNE    A,#100,OUT</span><br><span class="line">    MOV     30H,#00H        //å®šæ—¶å™¨è¶…æ—¶ä¸€ç™¾æ¬¡ï¼Œè¾¾åˆ°64hå³ä¸€ç§’</span><br><span class="line">    INC     R0              //è®¡æ•°å™¨+1</span><br><span class="line">    DEC     31H</span><br><span class="line">    DEC     32H</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">/***********å››ç§çŠ¶æ€äº’ç›¸è½¬å˜********************/</span><br><span class="line">JMP5SN:</span><br><span class="line">    CJNE    R0,#31,JMP30EW</span><br><span class="line">    MOV     P1,#11010110B   //110ä¸œè¥¿çº¢'101å—åŒ—é»„'10äººè¡Œå—åŒ—çº¢</span><br><span class="line">    CLR     P3.0            //10äººè¡Œä¸œè¥¿çº¢</span><br><span class="line">    SETB    P3.1</span><br><span class="line">    MOV     31H,#5</span><br><span class="line">    LCALL   CALCU</span><br><span class="line">    SJMP    OUT</span><br><span class="line">JMP30EW:</span><br><span class="line">    CJNE    R0,#36,JMP5EW</span><br><span class="line">    MOV     P1,#01111010B   //011ä¸œè¥¿ç»¿'110å—åŒ—çº¢'10äººè¡Œå—åŒ—çº¢</span><br><span class="line">    SETB    P3.0            //01äººè¡Œä¸œè¥¿ç»¿</span><br><span class="line">    CLR     P3.1</span><br><span class="line">    MOV     31H,#30</span><br><span class="line">    MOV     32H,#25</span><br><span class="line">    LCALL   CALCU</span><br><span class="line">    SJMP    OUT</span><br><span class="line">JMP5EW:</span><br><span class="line">    CJNE    R0,#66,JMP30SN</span><br><span class="line">    MOV     P1,#10111010B   //101ä¸œè¥¿é»„'110å—åŒ—çº¢'10äººè¡Œå—åŒ—çº¢</span><br><span class="line">    SETB    P3.0            //01äººè¡Œä¸œè¥¿ç»¿</span><br><span class="line">    CLR     P3.1</span><br><span class="line">    MOV     32H,#5</span><br><span class="line">    LCALL   CALCU</span><br><span class="line">    SJMP    OUT</span><br><span class="line">JMP30SN:</span><br><span class="line">    CJNE    R0,#71,OUT</span><br><span class="line">    MOV     R0,#1</span><br><span class="line">    MOV     P1,#11001101B   //110ä¸œè¥¿çº¢'011å—åŒ—ç»¿'01äººè¡Œå—åŒ—ç»¿</span><br><span class="line">    CLR     P3.0            //10äººè¡Œä¸œè¥¿çº¢</span><br><span class="line">    SETB    P3.1</span><br><span class="line">    MOV     31H,#30</span><br><span class="line">    MOV     32H,#35</span><br><span class="line">    LCALL   CALCU</span><br><span class="line">    SJMP    OUT</span><br><span class="line"></span><br><span class="line">OUT:</span><br><span class="line">    SETB    EA              //å¼€æ€»ä¸­æ–­</span><br><span class="line">    POP     ACC</span><br><span class="line">    POP     PSW             //ä¿æŠ¤çŠ¶æ€å­—å¯„å­˜å™¨</span><br><span class="line">    RETI</span><br><span class="line"></span><br><span class="line">D04MS:                      //å»¶æ—¶0.4ms</span><br><span class="line">    MOV     R3,#2</span><br><span class="line">D1: MOV     R2,#10</span><br><span class="line">D2: DJNZ    R2,D2</span><br><span class="line">    DJNZ    R3,D1</span><br><span class="line">    RET</span><br><span class="line"></span><br><span class="line">TABLE:</span><br><span class="line">    DB  3FH,06H,5BH,4FH,66H,6DH,7DH,07H //å…±é˜´æ0~9</span><br><span class="line">    DB  7FH,6FH</span><br><span class="line">    DB  00H</span><br><span class="line"></span><br><span class="line">END</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>AT89S51</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>ASM</tag>
      </tags>
  </entry>
  <entry>
    <title>Dual_computer_communication</title>
    <url>/2020/12/29/AT89S51%E5%8F%8C%E6%9C%BA%E9%80%9A%E4%BF%A1/</url>
    <content><![CDATA[<ul>
<li><p><strong>æµ™æ±Ÿå·¥ä¸šå¤§å­¦ä¿¡æ¯å·¥ç¨‹å­¦é™¢å•ç‰‡æœºå®éªŒ</strong></p>
</li>
<li><p>è¦æ±‚ï¼šç”²æœºå°†å†…éƒ¨RAM 30h~4Fhçš„å†…å®¹å‘é€ç»™ä¹™æœº</p>
</li>
</ul>
<span id="more"></span>
<blockquote>
<p>é€šè®¯åŒæ–¹å‡é‡‡ç”¨4800bpsæ³¢ç‰¹ç‡è¿›è¡Œä¼ é€(ç³»ç»Ÿæ—¶é’Ÿé¢‘ç‡ä¸º11.0592MHz)ï¼Œç”²æœºå‘é€æ•°æ®ï¼Œä¹™æœºæ¥æ”¶æ•°æ®ã€‚åŒæœºå¼€å§‹é€šè®¯æ—¶ï¼Œç”²æœºå‘é€ä¸€ä¸ªå‘¼å«ä¿¡å·â€œ06Hâ€ï¼Œè¯¢é—®ä¹™æœºæ˜¯å¦å¯ä»¥æ¥æ”¶æ•°æ®ï¼›ä¹™æœºæ”¶åˆ°å‘¼å«ä¿¡å·åï¼Œè‹¥åŒæ„æ¥æ”¶æ•°æ®åˆ™å‘å›â€œ00Hâ€ä½œä¸ºåº”ç­”ï¼Œå¦åˆ™å‘â€œ15Hâ€è¡¨ç¤ºæš‚ä¸èƒ½æ¥æ”¶æ•°æ®ï¼Œç”²æœºåªæœ‰æ”¶åˆ°ä¹™æœºçš„åº”ç­”ä¿¡å·â€œ00Hâ€åæ‰å¯æŠŠå­˜æ”¾åœ¨å†…éƒ¨æ•°æ®å­˜å‚¨å™¨çš„å­—èŠ‚å†…å®¹å‘é€ç»™ä¹™æœºï¼Œå¦åˆ™ç»§ç»­å‘ä¹™æœºå‘¼å«ï¼Œç›´åˆ°ä¹™æœºåŒæ„æ¥æ”¶ã€‚å‘¼å«æˆåŠŸåç”²æœºä¾æ¬¡å‘é€é•¿åº¦å­—èŠ‚ï¼ˆ1å­—èŠ‚ï¼‰ã€æ•°æ®å­—èŠ‚ï¼ˆnå­—èŠ‚ï¼‰å’Œæ ¡éªŒå’Œå­—èŠ‚ï¼ˆ1å­—èŠ‚ï¼‰ï¼Œå…¶ä¸­æ ¡éªŒå’Œä¸ºé•¿åº¦å­—èŠ‚å’Œæ•°æ®å­—èŠ‚çš„â€œç´¯åŠ å’Œâ€ã€‚ä¹™æœºåœ¨æˆåŠŸæ”¶åˆ°ç”²æœºçš„æ•°æ®ä¹‹åï¼Œå‘é€â€œ0FHâ€ä½œä¸ºæˆåŠŸåº”ç­”ï¼Œå¦åˆ™å‘é€â€œF0Hâ€ä½œä¸ºå¤±è´¥åº”ç­”ã€‚</p>
</blockquote>
<hr>
<h2 id="å‘é€æœº"><a href="#å‘é€æœº" class="headerlink" title="å‘é€æœº"></a>å‘é€æœº</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">        ORG     0000H</span><br><span class="line">        LJMP    START</span><br><span class="line">        ORG     1000H</span><br><span class="line">            </span><br><span class="line">START:</span><br><span class="line">        MOV     SP,#60H</span><br><span class="line">        MOV     TMOD,#20H       //å®šæ—¶å™¨0ï¼Œå®šæ—¶å™¨å·¥ä½œæ¨¡å¼2å·¥ä½œ</span><br><span class="line">        MOV     TH1,#0FAH       //æ¨¡å¼2è‡ªåŠ¨é‡è£…è½½çš„åˆå€¼</span><br><span class="line">        MOV     TH1,#0FAH</span><br><span class="line">        SETB    TR1             //å¼€å§‹è®¡æ—¶</span><br><span class="line">        MOV     SCON,#50H       //æ–¹å¼1å·¥ä½œ,å…è®¸æ¥æ”¶--&gt;4.8kbit/s</span><br><span class="line">        MOV     PCON,#00H       //SMOD=0</span><br><span class="line">        MOV     R0,30H          //å­˜æ”¾å‘é€çš„æ•°æ®å—é¦–åœ°å€</span><br><span class="line">        MOV     R7,#20H         //å­˜æ”¾å‘é€çš„æ•°æ®å—é•¿åº¦</span><br><span class="line">        MOV     R6,#00H         //æ ¡éªŒå’Œï¼Œé•¿åº¦å­—èŠ‚ä¸æ•°å­—å­—èŠ‚çš„ç´¯åŠ å’Œ</span><br><span class="line">        </span><br><span class="line">TX_ACK:</span><br><span class="line">        MOV     A,#06H          //å‘é€06Hè¯¢é—®æ˜¯å¦å¯ä»¥æ¥æ”¶æ•°æ®</span><br><span class="line">        MOV     SBUF,A</span><br><span class="line">        </span><br><span class="line">WAIT1:</span><br><span class="line">        JNB     TI,WAIT1        //ç­‰å¾…å‘é€å®Œä¸€ä¸ªå­—èŠ‚</span><br><span class="line">        CLR     TI              //æ¸…é™¤å‘é€å®Œæ¯•TIæ ‡å¿—ä½</span><br><span class="line"></span><br><span class="line">RX_YES:</span><br><span class="line">        JNB     RI,RX_YES       //ç­‰å¾…ä¹™æœºå›ç­”æ˜¯å¦å¯ä»¥æ¥æ”¶</span><br><span class="line">        CLR     RI              //æ¸…é™¤æ¥æ”¶å®Œæ¯•RIæ ‡å¿—ä½</span><br><span class="line">        </span><br><span class="line">NEXT1:</span><br><span class="line">        MOV     A,SBUF          //æ¥æ”¶åˆ°ä¹™æœºå‘é€è¿‡æ¥çš„ACK</span><br><span class="line">        CJNE    A,#00H,TX_ACK   //è‹¥ä¸º00Håˆ™è¡¨ç¤ºå¯ä»¥æ¥æ”¶æ•°æ®ï¼Œå¾€ä¸‹å¯åŠ¨å‘é€ï¼Œå¦åˆ™å†æ¬¡è¯¢é—®</span><br><span class="line">        </span><br><span class="line">TX_LENGTH:</span><br><span class="line">        MOV     A,R7            //å…ˆå‘é€å­—èŠ‚é•¿åº¦æ•°R7</span><br><span class="line">        MOV     SBUF,A</span><br><span class="line">        </span><br><span class="line">WAIT2:</span><br><span class="line">        JNB     TI,WAIT2        //ç­‰å¾…æ•°æ®å‘é€å®Œæ¯•</span><br><span class="line">        CLR     TI              //æ¸…é™¤å‘é€å®Œæ¯•TIæ ‡å¿—ä½</span><br><span class="line">        MOV     R6,A            //å¢åŠ æ ¡éªŒå’Œ</span><br><span class="line"></span><br><span class="line">TX_NEWS:                        //æŸ¥è¯¢å‘é€æ•°æ®</span><br><span class="line">        MOV     A,@R0</span><br><span class="line">        MOV     SBUF,A</span><br><span class="line">        </span><br><span class="line">TX_NEWS_WAIT:</span><br><span class="line">        JNB     TI,TX_NEWS_WAIT</span><br><span class="line">        CLR     TI              //æ¸…é™¤å‘é€å®Œæ¯•TIæ ‡å¿—ä½</span><br><span class="line">        MOV     A,R6</span><br><span class="line">        ADD     A,@R0</span><br><span class="line">        MOV     R6,A</span><br><span class="line">        INC     @R0</span><br><span class="line">        DJNZ    R7,TX_NEWS      //å¦‚æœæ²¡å‘é€å®Œ32ä¸ªæ•°æ®ï¼Œç»§ç»­å‘é€</span><br><span class="line">        </span><br><span class="line">TX_CHECK:</span><br><span class="line">        MOV     A,R6</span><br><span class="line">        ADD     A,@R0</span><br><span class="line">        MOV     R6,A</span><br><span class="line">        MOV     A,R6            //å‘é€æ ¡éªŒä½</span><br><span class="line">        MOV     SBUF,A</span><br><span class="line">        </span><br><span class="line">WAIT3:                          //ç­‰å¾…å‘é€å®Œæ ¡éªŒä½</span><br><span class="line">        JNB     TI,WAIT3</span><br><span class="line">        CLR     TI</span><br><span class="line">        </span><br><span class="line">WAIT4:                          //ç­‰å¾…æ¥æ”¶å®Œæ ¡éªŒä½</span><br><span class="line">        JNB     RI,WAIT4</span><br><span class="line">        CLR     RI</span><br><span class="line">        </span><br><span class="line">IF_0FH:</span><br><span class="line">        MOV     A,SBUF          //å°†æ¥æ”¶åˆ°æ ¡éªŒæ˜¯å¦æ­£ç¡®çš„æ¢å¤å­˜åˆ°ç´¯åŠ å™¨</span><br><span class="line">        CJNE    A,#0FH,START</span><br><span class="line"></span><br><span class="line">HERE:</span><br><span class="line">        SJMP    HERE</span><br><span class="line"></span><br><span class="line">        END</span><br><span class="line">        </span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<h2 id="æ¥æ”¶æœº"><a href="#æ¥æ”¶æœº" class="headerlink" title="æ¥æ”¶æœº"></a>æ¥æ”¶æœº</h2><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">        ORG     0000H</span><br><span class="line">        LJMP    START</span><br><span class="line">        ORG     0023H</span><br><span class="line">        LJMP    IF_06H</span><br><span class="line">        ORG     1000H</span><br><span class="line">            </span><br><span class="line">START:</span><br><span class="line">        MOV     SP,#60H</span><br><span class="line">        MOV     TMOD,#20H       //å®šæ—¶å™¨0ï¼Œå®šæ—¶å™¨å·¥ä½œæ¨¡å¼2å·¥ä½œ</span><br><span class="line">        MOV     TH1,#0FAH       //æ¨¡å¼2è‡ªåŠ¨é‡è£…è½½çš„åˆå€¼</span><br><span class="line">        MOV     TH1,#0FAH</span><br><span class="line">        SETB    TR1             //å¼€å§‹è®¡æ—¶</span><br><span class="line">        MOV     SCON,#50H       //æ–¹å¼1,å…è®¸æ¥æ”¶--&gt;4.8kbit/s</span><br><span class="line">        MOV     PCON,#00H       //SMOD=0</span><br><span class="line">        MOV     IE,#90H</span><br><span class="line">        MOV     R0,30H          //å­˜æ”¾å‘é€çš„æ•°æ®å—é¦–åœ°å€</span><br><span class="line">        MOV     R7,#00H         //å­˜æ”¾å‘é€çš„æ•°æ®å—é•¿åº¦</span><br><span class="line">        MOV     R6,#00H         //æ ¡éªŒå’Œï¼Œé•¿åº¦å­—èŠ‚ä¸æ•°å­—å­—èŠ‚çš„ç´¯åŠ å’Œ</span><br><span class="line">        </span><br><span class="line">HERE:</span><br><span class="line">        SJMP    HERE</span><br><span class="line">        </span><br><span class="line">IF_06H:</span><br><span class="line">        PUSH    ACC</span><br><span class="line">        PUSH    PSW</span><br><span class="line">        CLR     RI              //æ¸…é™¤æ¥æ”¶å®Œæ¯•RIæ ‡å¿—ä½</span><br><span class="line">        MOV     A,SBUF          //æ ¸å¯¹æ¡æ‰‹ä¿¡å·æ˜¯ä¸æ˜¯06H</span><br><span class="line">        CJNE    A,#06H,TX_15H   //å¦‚æœæ˜¯06Håˆ™å‘é€00Håº”ç­”ï¼Œå¦åˆ™å‘é€15Hæ‹’ç»</span><br><span class="line"></span><br><span class="line">TX_00H:</span><br><span class="line">        MOV     A,#00H</span><br><span class="line">        MOV     SBUF,A          //å‘é€å‡º00Hè¡¨ç¤ºå¯ä»¥æ¥æ”¶æ•°æ®</span><br><span class="line">        LJMP    HERE_RE</span><br><span class="line">        </span><br><span class="line">TX_15H:</span><br><span class="line">        MOV     A,#15H          //å‘é€15Hè¡¨ç¤ºä¸å¯ä»¥æ¥æ”¶</span><br><span class="line">        MOV     SBUF,A</span><br><span class="line">        LJMP    RETURN</span><br><span class="line">            </span><br><span class="line">HERE_RE:</span><br><span class="line">        JNB     TI,HERE_RE      //ç­‰å¾…å‘é€å®Œæ¯•ï¼Œå‘é€å®Œæ¯•å‡†å¤‡æ¥æ”¶</span><br><span class="line">        CLR     TI</span><br><span class="line">        </span><br><span class="line">HAVE1:</span><br><span class="line">        JNB     RI,HAVE1        //ç­‰å¾…æ¥æ”¶æ•°æ®é•¿åº¦</span><br><span class="line">        CLR     RI</span><br><span class="line">        MOV     A,SBUF</span><br><span class="line">        MOV     R7,A            //R7å­˜æ•°æ®é•¿åº¦</span><br><span class="line">        MOV     R6,A            //R6å­˜æ ¡éªŒå’Œ</span><br><span class="line"></span><br><span class="line">HAVE2:</span><br><span class="line">        JNB     RI,HAVE2        //ç­‰å¾…æ¥æ”¶æ­£å¼æ•°æ®</span><br><span class="line">        CLR     RI</span><br><span class="line">        MOV     A,SBUF</span><br><span class="line">        MOV     @R0,A</span><br><span class="line">        MOV     A,R6</span><br><span class="line">        ADD     A,@R0</span><br><span class="line">        MOV     R6,A</span><br><span class="line">        INC     @R0</span><br><span class="line">        DJNZ    R7,HAVE2        //å¦‚æœæ²¡æ¥æ”¶å®Œå®Œ20ä¸ªæ•°æ®ï¼Œç»§ç»­æ¥æ”¶</span><br><span class="line">        </span><br><span class="line">RX_CHECK:                       //æ¥æ”¶æ ¡éªŒå’Œ</span><br><span class="line">        JNB     RI,RX_CHECK</span><br><span class="line">        CLR     RI</span><br><span class="line">        MOV     A,SBUF</span><br><span class="line">        MOV     39H,A</span><br><span class="line">        CJNE    A,39H,TX_ERR    //å¦‚æœæ ¡éªŒæ­£ç¡®ï¼Œåˆ™ç»§ç»­å‘ä¸‹okï¼Œé”™è¯¯åˆ™å‘é€#F0H</span><br><span class="line">        </span><br><span class="line">TX_OK:                          //æ ¡éªŒæ­£ç¡®ï¼Œå‘é€0FH</span><br><span class="line">        MOV     A,#0FH</span><br><span class="line">        MOV     SBUF,A</span><br><span class="line">        LJMP    HERE_END</span><br><span class="line">            </span><br><span class="line">TX_ERR:                         //æ ¡éªŒé”™è¯¯ï¼Œå‘é€F0H</span><br><span class="line">        MOV     A,#0F0H</span><br><span class="line">        MOV     SBUF,A</span><br><span class="line">        </span><br><span class="line">HERE_END:                       //ç­‰å¾…å‘é€å®Œæ¯•</span><br><span class="line">        JNB TI,HERE_END</span><br><span class="line">        CLR TI</span><br><span class="line"></span><br><span class="line">RETURN:</span><br><span class="line">        POP     PSW</span><br><span class="line">        POP     ACC</span><br><span class="line">        RETI</span><br><span class="line"></span><br><span class="line">        END</span><br><span class="line">            </span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>AT89S51</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>ASM</tag>
      </tags>
  </entry>
  <entry>
    <title>PSWè®¾ç½®æ”¹è¿›ä¸­æ–­</title>
    <url>/2020/12/15/AT89S51%E7%9A%84PSW%E8%AE%BE%E7%BD%AE%E6%94%B9%E8%BF%9B%E4%B8%AD%E6%96%AD/</url>
    <content><![CDATA[<ul>
<li><strong>æµ™æ±Ÿå·¥ä¸šå¤§å­¦ä¿¡æ¯å·¥ç¨‹å­¦é™¢å•ç‰‡æœºå®éªŒ</strong></li>
</ul>
<blockquote>
<p>ä¸­æ–­ä¼˜å…ˆçº§å®éªŒï¼Œä¸»ç¨‹åºç›¸é‚»2ä¸ªLEDç¯å¾ªç¯ç‚¹äº®ï¼ˆ03Hâ€”C0Hï¼‰1Sï¼Œå¤–éƒ¨ä¸­æ–­0åé™æ€æ•°ç ç®¡é—´éš”1Sè½®æµç‚¹äº®0-Fåè¿”å›ï¼Œå¤–éƒ¨ä¸­æ–­1å1ä¸ªLEDç¯å¾ªç¯ç‚¹äº®ï¼ˆ01H-80Hï¼‰åè¿”å›ï¼Œå¤–éƒ¨ä¸­æ–­0ä¼˜å…ˆçº§é«˜äºå¤–éƒ¨ä¸­æ–­1ï¼Œå®ç°ä¸­æ–­åµŒå¥—</p>
</blockquote>
<span id="more"></span>
<hr>
<blockquote>
<p>P1æ¥LEDçš„ABCDEFï¼ŒP3.2æ¥K1ï¼ŒP3.3æ¥K4ï¼ŒP0æ¥é™æ€æ•°ç ç®¡ABCDEF</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">    ORG     0000H</span><br><span class="line">    AJMP    START</span><br><span class="line"></span><br><span class="line">    ORG     0003H</span><br><span class="line">    AJMP    INTT0</span><br><span class="line">    </span><br><span class="line">    ORG     0013H</span><br><span class="line">    AJMP    INTT1</span><br><span class="line">    </span><br><span class="line">    ORG     0100H</span><br><span class="line">START:</span><br><span class="line">    MOV     SP,#60H</span><br><span class="line">    MOV     PSW,#00H</span><br><span class="line">    SETB    EX0</span><br><span class="line">    SETB    IT0</span><br><span class="line">    SETB    EX1</span><br><span class="line">    SETB    IT1</span><br><span class="line">    SETB    EA</span><br><span class="line">    MOV     IP,#01H</span><br><span class="line">    MOV     P3,#0FFH</span><br><span class="line">MAIN:</span><br><span class="line">    MOV     DPTR,#TABLE</span><br><span class="line">    MOV     R0,#03H</span><br><span class="line">    MOV     R2,#08H</span><br><span class="line">    ACALL   LOOP</span><br><span class="line">    LJMP    MAIN</span><br><span class="line"></span><br><span class="line">LOOP:</span><br><span class="line">    MOV     A,R0</span><br><span class="line">    MOV     P1,A</span><br><span class="line">    RL      A</span><br><span class="line">    MOV     R0,A</span><br><span class="line">    LCALL   D1S</span><br><span class="line">    DJNZ    R2,LOOP</span><br><span class="line">    RET</span><br><span class="line"></span><br><span class="line">INTT0:</span><br><span class="line">    PUSH    PSW</span><br><span class="line">    PUSH    ACC</span><br><span class="line">    MOV     PSW,#08H</span><br><span class="line">    MOV     A,P3</span><br><span class="line">    CPL     A</span><br><span class="line">    JZ      RETURN</span><br><span class="line">    LCALL   D10ms           //å»æŠ–åŠ¨</span><br><span class="line">    MOV     A,P3</span><br><span class="line">    CPL     A</span><br><span class="line">    JZ      RETURN</span><br><span class="line">    JB      ACC.2,Pkey0</span><br><span class="line">    LJMP    RETURN</span><br><span class="line"></span><br><span class="line">INTT1:</span><br><span class="line">    PUSH    PSW</span><br><span class="line">    PUSH    ACC</span><br><span class="line">    MOV     PSW,#10H</span><br><span class="line">    MOV     A,P3</span><br><span class="line">    CPL     A</span><br><span class="line">    JZ      RETURN</span><br><span class="line">    LCALL   D10ms           //å»æŠ–åŠ¨</span><br><span class="line">    MOV     A,P3</span><br><span class="line">    CPL     A</span><br><span class="line">    JZ      RETURN</span><br><span class="line">    JB      ACC.3,Pkey2</span><br><span class="line">    LJMP    RETURN</span><br><span class="line">Pkey0:</span><br><span class="line">    MOV     A,#00H</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    CJNE    A,#0FFH,Pkey1</span><br><span class="line">    LJMP    RETURN</span><br><span class="line">Pkey1:</span><br><span class="line">    MOV     P0,A</span><br><span class="line">    LCALL   D1S</span><br><span class="line">    INC     DPTR</span><br><span class="line">    LJMP    Pkey0</span><br><span class="line">Pkey2:</span><br><span class="line">    MOV     R1,#01H</span><br><span class="line">    MOV     R3,#08H</span><br><span class="line">    ACALL   Pkey3</span><br><span class="line">    LJMP    RETURN</span><br><span class="line">Pkey3:</span><br><span class="line">    MOV     A,R1</span><br><span class="line">    MOV     P1,A</span><br><span class="line">    RL      A</span><br><span class="line">    MOV     R1,A</span><br><span class="line">    LCALL   D1S</span><br><span class="line">    DJNZ    R3,Pkey3</span><br><span class="line">    RET</span><br><span class="line">RETURN:</span><br><span class="line">    POP     ACC</span><br><span class="line">    POP     PSW</span><br><span class="line">    RETI</span><br><span class="line"></span><br><span class="line">TABLE:</span><br><span class="line">    DB  0C0H,0F9H,0A4H,0B0H,99H,92H,82H,0F8H</span><br><span class="line">    DB  80H,90H,88H,83H,0C6H,0A1H,86H,8EH</span><br><span class="line">    DB  0FFH</span><br><span class="line"></span><br><span class="line">D10ms:</span><br><span class="line">    MOV     R7,#25</span><br><span class="line">D4:</span><br><span class="line">    MOV     R6,#200</span><br><span class="line">    DJNZ    R6,$</span><br><span class="line">    DJNZ    R7,D4</span><br><span class="line">    RET</span><br><span class="line"></span><br><span class="line">D1S:</span><br><span class="line">    MOV     R5,#20</span><br><span class="line">D5: MOV     R6,#100</span><br><span class="line">D6: MOV     R7,#248</span><br><span class="line">D7: DJNZ     R7,D7</span><br><span class="line">    DJNZ    R6,D6</span><br><span class="line">    DJNZ    R5,D5</span><br><span class="line">    RET</span><br><span class="line">    </span><br><span class="line">    END</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>AT89S51</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>ASM</tag>
        <tag>Terminate</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¨¡æ‹Ÿé‡‡é›†ADè½¬åŒ–</title>
    <url>/2021/01/05/AT89S51%E6%A8%A1%E6%8B%9F%E9%87%87%E9%9B%86AD%E8%BD%AC%E5%8C%96/</url>
    <content><![CDATA[<ul>
<li><strong>æµ™æ±Ÿå·¥ä¸šå¤§å­¦ä¿¡æ¯å·¥ç¨‹å­¦é™¢å•ç‰‡æœºå®éªŒ</strong></li>
</ul>
<blockquote>
<p>åŒ…å«è¿›åˆ¶è½¬åŒ–å’ŒåŠ¨æ€æ˜¾ç¤º<br>ADè½¬æ¢å™¨XPT2046æ˜¯12ä½çš„ä¸²è¡Œå£ï¼ˆSPIï¼‰è¾“å‡ºçš„å¯ç¼–ç¨‹æ§åˆ¶ADèŠ¯ç‰‡ï¼Œè½¬æ¢æ—¶é—´çº¦10uS,æ§åˆ¶å­—åˆ†åˆ«ä¸º94Hå¯è°ƒç”µä½å™¨ã€0A4Hå…‰æ•ç”µé˜»ã€0D4Hçƒ­æ•ç”µé˜»<br>é‡‡ç”¨LEDï¼ˆ4ä½ï¼‰åŠ¨æ€æ˜¾ç¤ºï¼Œåƒä½ã€ç™¾ä½ã€åä½å’Œä¸ªä½<br>000H-FFFHçš„æ¸©åº¦æ•°æ®éœ€è¦è½¬æ¢æˆåè¿›åˆ¶æ•°çš„ä»Ÿä½°æ‹¾ä¸ªä½</p>
</blockquote>
<span id="more"></span>
<hr>
<blockquote>
<p>è¿æ¥å•ç‰‡æœºçš„ JP10 åˆ°åŠ¨æ€æ•°ç ç®¡çš„ J12<br>åˆ†åˆ«è¿æ¥å•ç‰‡æœºçš„ P20ã€P21ã€P22 åˆ° 74HC138 æ¨¡å—çš„ Aã€Bã€Cã€‚<br>åˆ†åˆ«è¿æ¥å•ç‰‡æœºçš„ P34ã€P35ã€P36ã€P37 åˆ°AD/DAæ¨¡å—çš„ DIã€CSã€CLKã€DOã€‚<br>å°†NE555 æ¨¡å—çš„è·³çº¿å¸½ J11 è·³å¼€ï¼Œè·³çº¿å¸½å®‰è£…åœ¨å…¶ä¸­ä¸€æ ¹ä¸Šï¼Œä»¥å…ä¸¢æ‰ã€‚</p>
</blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">    ORG     0000H</span><br><span class="line">    LJMP    MAIN</span><br><span class="line"></span><br><span class="line">    ORG     0200H</span><br><span class="line">MAIN:</span><br><span class="line">    MOV     SP,#60H</span><br><span class="line">    ACALL   AD_CHANGE</span><br><span class="line">    </span><br><span class="line">    MOV     DPTR,#D_table   //åŠ¨æ€æ˜¾ç¤ºå››ä½</span><br><span class="line">    </span><br><span class="line">    MOV     A,#00H          //38è¯‘ç å™¨åŠ¨æ€æ˜¾ç¤ºå››ä½</span><br><span class="line">    MOV     A,R0            //æ”¾ä¸ªä½</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P2,#03</span><br><span class="line">    MOV     P0,A</span><br><span class="line">    ACALL   Delay</span><br><span class="line"></span><br><span class="line">    MOV     A,#00H</span><br><span class="line">    MOV     A,R1            //æ”¾åä½</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P2,#02</span><br><span class="line">    MOV     P0,A</span><br><span class="line">    ACALL   Delay</span><br><span class="line"></span><br><span class="line">    MOV     A,#00H</span><br><span class="line">    MOV     A,R2            //æ”¾ç™¾ä½</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P2,#01</span><br><span class="line">    MOV     P0,A</span><br><span class="line">    ACALL   Delay</span><br><span class="line"></span><br><span class="line">    MOV     A,#00H</span><br><span class="line">    MOV     A,R3            //æ”¾åƒä½</span><br><span class="line">    MOVC    A,@A+DPTR</span><br><span class="line">    MOV     P2,#00</span><br><span class="line">    MOV     P0,A</span><br><span class="line">    ACALL   Delay</span><br><span class="line">    </span><br><span class="line">    MOV     P0,#00H</span><br><span class="line">    LJMP    MAIN</span><br><span class="line"></span><br><span class="line">AD_CHANGE:                  //è·å–ADè½¬æ¢ç»“æœï¼Œå…±12ä½ï¼Œä¸²è¡Œè¯»å…¥å•ç‰‡æœºå†…ï¼Œç”¨SPIæ€»çº¿</span><br><span class="line">    INC     R7</span><br><span class="line">DELL: </span><br><span class="line">    DJNZ    R6,DELL</span><br><span class="line">    CJNE    R7,#0FFH,RETURN</span><br><span class="line">    MOV     R7,#00H</span><br><span class="line">    MOV     R6,#0FFH</span><br><span class="line">    </span><br><span class="line">    MOV     R0,#0d4H        //R0æ§åˆ¶å­—  0X94æˆ–0XB4ç”µä½ï¼Œ0XD4çƒ­æ•ï¼Œ0XA4å…‰æ•</span><br><span class="line">    CLR     P3.5            //ç‰‡é€‰CSä¸ºä½ç”µå¹³ï¼Œé€‰ä¸­XPT2046</span><br><span class="line">    CLR     P3.6            //æ—¶é’Ÿè„šI/O CLOCKä½ä½ç”µå¹³</span><br><span class="line">    MOV     R2,#08H         //è®¾ç½®å¾ªç¯è¯»å…¥çš„æ¬¡æ•°ä¸º8</span><br><span class="line">    MOV     A,R0            //ä¸‹ä¸€æ¬¡è½¬æ¢çš„å‘½ä»¤ä»R0é€å…¥A</span><br><span class="line">LOOP0:</span><br><span class="line">    RLC     A</span><br><span class="line">    MOV     P3.4,C</span><br><span class="line">    CLR     P3.6</span><br><span class="line">    NOP</span><br><span class="line">    SETB    P3.6</span><br><span class="line">    NOP</span><br><span class="line">    DJNZ    R2,LOOP0</span><br><span class="line">    MOV     A,#00H</span><br><span class="line">    MOV     R2,#04H</span><br><span class="line">    NOP</span><br><span class="line">    NOP</span><br><span class="line">    NOP</span><br><span class="line">    NOP</span><br><span class="line">LOOP1:</span><br><span class="line">    MOV     C,P3.7          //è¯»å…¥ä¸Šä¸€æ¬¡çš„è½¬æ¢ç»“æœä¸­çš„1ä½</span><br><span class="line">    RRC     A               //å¸¦è¿›ä½ä½çš„å¾ªç¯å³ç§»</span><br><span class="line">    </span><br><span class="line">    SETB    P3.6            //ä¸€ä¸ªCLKæ—¶é’Ÿ</span><br><span class="line">    NOP</span><br><span class="line">    CLR     P3.6</span><br><span class="line">    NOP</span><br><span class="line">    </span><br><span class="line">    DJNZ    R2,LOOP1        //æ˜¯å¦å®Œæˆ8æ¬¡è½¬æ¢ç»“æœè¯»å…¥å’Œå‘½ä»¤è¾“å‡ºï¼Ÿæœªå®Œæˆåˆ™ç»§ç»­</span><br><span class="line">    RRC     A</span><br><span class="line">    RRC     A</span><br><span class="line">    RRC     A</span><br><span class="line">    RRC     A</span><br><span class="line">    MOV     R1,A            //R1å­˜é«˜4ä½æ•°æ®</span><br><span class="line">    MOV     A,#00H          //Aæ¸…â€œ0â€</span><br><span class="line">    MOV     R2,#08H         //è®¾ç½®R2å¾ªç¯æ¬¡æ•°ä¸º8ï¼Œä¸ºç§»å…¥8ä½æ•°æ®å‡†å¤‡</span><br><span class="line">LOOP2:</span><br><span class="line">    MOV     C,P3.7          //è¯»å…¥ä¸Šä¸€æ¬¡çš„è½¬æ¢ç»“æœä¸­çš„1ä½</span><br><span class="line">    RRC     A               //å¸¦è¿›ä½ä½çš„å¾ªç¯å³ç§»</span><br><span class="line"></span><br><span class="line">    CLR     P3.6            //ä¸€ä¸ªCLKæ—¶é’Ÿ</span><br><span class="line">    NOP</span><br><span class="line">    SETB    P3.6</span><br><span class="line">    NOP</span><br><span class="line">    </span><br><span class="line">    DJNZ    R2,LOOP2        //æ˜¯å¦å®Œæˆ8æ¬¡è½¬æ¢ç»“æœè¯»å…¥å’Œå‘½ä»¤è¾“å‡ºï¼Ÿæœªå®Œæˆåˆ™ç»§ç»­</span><br><span class="line">    </span><br><span class="line">    SWAP    A</span><br><span class="line">    MOV     R0,A            //R0å­˜ä½8ä½</span><br><span class="line">    SETB    P3.6</span><br><span class="line">    LJMP    DATA_HEX_DEC</span><br><span class="line">RETURN:</span><br><span class="line">    RET</span><br><span class="line">    </span><br><span class="line">DATA_HEX_DEC:               //å°†è·å–çš„12ä½2è¿›åˆ¶æ•°è½¬æ¢ä¸ºåè¿›åˆ¶å­˜åœ¨R3 R2 R1 R0ï¼›åƒä½ ç™¾ä½ åä½ ä¸ªä½é‡Œ #R0--&gt;TL0 #R1--&gt;TH0</span><br><span class="line">    MOV     A,R1</span><br><span class="line">    ANL     A,#0FH</span><br><span class="line">    MOV     R1,A</span><br><span class="line">    CLR     A</span><br><span class="line">    </span><br><span class="line">    MOV     R2,A            //å…ˆæ¸…é›¶</span><br><span class="line">    MOV     R3,A</span><br><span class="line">    MOV     R4,A</span><br><span class="line">    MOV     R5,#16          //å…±è½¬æ¢åå…­ä½æ•° </span><br><span class="line">LOOP:</span><br><span class="line">    CLR     C</span><br><span class="line">    MOV     A,R0            //ä»å¾…è½¬æ¢æ•°çš„é«˜ç«¯ç§»å‡ºä¸€ä½åˆ°Cy</span><br><span class="line">    RLC     A</span><br><span class="line">    MOV     R0,A</span><br><span class="line">    </span><br><span class="line">    MOV     A,R1</span><br><span class="line">    RLC     A</span><br><span class="line">    MOV     R1,A</span><br><span class="line">    </span><br><span class="line">    MOV     A,R4            //é€åˆ°BCDç çš„ä½ç«¯</span><br><span class="line">    ADDC    A,R4            //å¸¦è¿›ä½çš„è‡ªèº«ç›¸åŠ ï¼Œç›¸å½“äºå·¦ç§»ä¸€ä½</span><br><span class="line">    DA      A               //åè¿›åˆ¶è°ƒæ•´ï¼Œå˜æˆBCDç </span><br><span class="line">    MOV     R4,A</span><br><span class="line">    </span><br><span class="line">    MOV     A,R3</span><br><span class="line">    ADDC    A,R3</span><br><span class="line">    DA      A</span><br><span class="line">    MOV     R3,A</span><br><span class="line">    </span><br><span class="line">    MOV     A,R2</span><br><span class="line">    ADDC    A,R2</span><br><span class="line">    MOV     R2,A</span><br><span class="line">    </span><br><span class="line">    DJNZ    R5,LOOP</span><br><span class="line">//å·²ç»æŠŠTH1 TL1ä¸­çš„æ•°å­—ï¼Œè½¬æ¢æˆBCDç ï¼Œé€åˆ°äº†R2 R3 R4</span><br><span class="line">//*************************************************//</span><br><span class="line">//åˆ†åˆ«å­˜å…¥ R3 R2 R1 R0ï¼›åƒä½ ç™¾ä½ åä½ ä¸ªä½</span><br><span class="line">    MOV     A,R4</span><br><span class="line">    MOV     B,#16</span><br><span class="line">    DIV     AB</span><br><span class="line">    MOV     R1,A</span><br><span class="line">    MOV     R0,B</span><br><span class="line"></span><br><span class="line">    MOV     A,R2</span><br><span class="line">    MOV     R4,A</span><br><span class="line"></span><br><span class="line">    MOV     A,R3</span><br><span class="line">    MOV     B,#16</span><br><span class="line">    DIV     AB</span><br><span class="line">    MOV     R3,A</span><br><span class="line">    MOV     R2,B</span><br><span class="line">    RET </span><br><span class="line">    </span><br><span class="line">Delay:                      //å®šæ—¶0.4ms</span><br><span class="line">        MOV     30H,#10</span><br><span class="line">DEL0:   MOV     31H,#1</span><br><span class="line">DEL1:   MOV     32H,#20</span><br><span class="line">DEL2:   DJNZ    32H,DEL2</span><br><span class="line">        DJNZ    31H,DEL1</span><br><span class="line">        DJNZ    30H,DEL0</span><br><span class="line">      </span><br><span class="line">    RET  </span><br><span class="line">    </span><br><span class="line">D_table:</span><br><span class="line">    DB 3FH,06H,5BH,4FH,66H,6DH,7DH,07H,7FH,6FH  //å…±é˜´æ0~9</span><br><span class="line"></span><br><span class="line">    END</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>AT89S51</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>ASM</tag>
        <tag>ADC</tag>
      </tags>
  </entry>
  <entry>
    <title>ClickHouseåˆæ¢</title>
    <url>/2024/06/29/ClickHouse%E5%88%9D%E6%8E%A2/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æœ€è¿‘çš„é¡¹ç›®ç”¨åˆ°äº†<code>ClickHouse</code>ï¼Œå…¨ç§°<code>Click Stream, Data Warehouse</code>ï¼Œæ˜¯ç”¨äºè”æœºåˆ†æçš„åˆ—å¼æ•°æ®åº“ï¼Œç”±Russiançš„Yandexå¼€å‘é€æ¸æ¼”è¿›è€Œæ¥ï¼Œåœ¨è¿™é‡Œè®°å½•ä¸€äº›åˆæ¬¡ä½¿ç”¨ClickHouseæ—¶æ‘¸ç´¢çš„ä¸€äº›ç‰¹æ€§å’Œå‘ã€‚</p>
<p><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•™</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f559.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<span id="more"></span>
<h2 id="1-ä¼˜ç¼ºç‚¹"><a href="#1-ä¼˜ç¼ºç‚¹" class="headerlink" title="1. ä¼˜ç¼ºç‚¹"></a>1. ä¼˜ç¼ºç‚¹</h2><h3 id="1-1-Benefits"><a href="#1-1-Benefits" class="headerlink" title="1.1 Benefits"></a>1.1 Benefits</h3><ul>
<li>ROLAPå®æ—¶åˆ†æã€å®æ—¶æŸ¥è¯¢ã€åˆ—å¼å­˜å‚¨ã€å®Œå–„çš„SQLæ”¯æŒã€é«˜å¯ç”¨ï¼Œé€‚åˆå¤§æ•°æ®é‡çš„æ•°æ®åˆ†æï¼Œæ”¯æŒPBçº§åˆ«çš„æ•°æ®é‡</li>
</ul>
<h3 id="1-2-Drawbacks"><a href="#1-2-Drawbacks" class="headerlink" title="1.2 Drawbacks"></a>1.2 Drawbacks</h3><ul>
<li>ä¸æ”¯æŒäº‹åŠ¡</li>
<li>joinçš„è¯­æ³•ä¸å¤Ÿå®Œå–„</li>
<li>é‡‡ç”¨å¹¶è¡Œå¤„ç†ï¼Œä¸æ”¯æŒé«˜å¹¶å‘</li>
<li>ç¨€ç–ç´¢å¼•å¯¼è‡´æŸ¥è¯¢æ€§èƒ½ä¸ç¨³å®šï¼Œåˆ æ”¹æ•°æ®æ€§èƒ½è¾ƒå·®</li>
</ul>
<h2 id="2-åº”ç”¨åœºæ™¯"><a href="#2-åº”ç”¨åœºæ™¯" class="headerlink" title="2. åº”ç”¨åœºæ™¯"></a>2. åº”ç”¨åœºæ™¯</h2><ul>
<li>ä¸»è¦ç”¨äºæ•°æ®åˆ†æé¢†åŸŸï¼Œé€‚åˆOLAPåœºæ™¯ï¼Œä¸é€‚åˆOLTPåœºæ™¯</li>
</ul>
<h2 id="3-å®‰è£…"><a href="#3-å®‰è£…" class="headerlink" title="3. å®‰è£…"></a>3. å®‰è£…</h2><blockquote>
<p>åœ¨Ubuntuçš„ç¯å¢ƒä¸‹ç”¨aptå®‰è£…</p>
</blockquote>
<ul>
<li><p>Use repository from Yandex</p>
<ul>
<li><p>Add key</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-key adv --keyserver keyserver.ubuntu.com --recv E0C56BD4</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">OutputExecuting: /tmp/apt-key-gpghome.JkkcKnBAFY/gpg.1.sh --keyserver keyserver.ubuntu.com --recv E0C56BD4</span><br><span class="line"></span><br><span class="line">gpg: key C8F1E19FE0C56BD4: public key "ClickHouse Repository Key &lt;milovidov@yandex-team.ru&gt;" imported</span><br><span class="line">gpg: Total number processed: 1</span><br><span class="line">gpg:               imported: 1</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Add repository and update</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">echo "deb http://repo.yandex.ru/clickhouse/deb/stable/ main/" | sudo tee /etc/apt/sources.list.d/clickhouse.list</span><br><span class="line"></span><br><span class="line">sudo apt update</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Install ClickHouse<br>  You need to enter the password for the <code>default</code> user when installiation in 75% progress.</p>
  <figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install clickhouse-server clickhouse-client</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Start ClickHouse</p>
  <figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">sudo service clickhouse-server start</span><br><span class="line">sudo service clickhouse-server status</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="4-é˜²ç«å¢™è®¾ç½®å’Œè¿œç¨‹è¿æ¥"><a href="#4-é˜²ç«å¢™è®¾ç½®å’Œè¿œç¨‹è¿æ¥" class="headerlink" title="4. é˜²ç«å¢™è®¾ç½®å’Œè¿œç¨‹è¿æ¥"></a>4. é˜²ç«å¢™è®¾ç½®å’Œè¿œç¨‹è¿æ¥</h2><blockquote>
<p>å¦‚æœä»…åœ¨åŒä¸€æœåŠ¡å™¨è®¿é—®ClickHouseï¼Œåˆ™æ— éœ€è®¾ç½®é˜²ç«å¢™<br>å¦‚æœéœ€è¦è¿œç¨‹è®¿é—®ï¼Œåˆ™éœ€è¦é…ç½®ç”¨æˆ·æƒé™</p>
</blockquote>
<ul>
<li><p>ä¿®æ”¹ClickHouseé…ç½®æ–‡ä»¶ï¼Œç›‘å¬æ‰€æœ‰IPåœ°å€</p>
<ul>
<li><p>å–æ¶ˆæ³¨é‡Šï¼Œå¤§çº¦åœ¨é…ç½®æ–‡ä»¶çš„ä¸€ç™¾äº”åå¤šè¡Œ</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">sudo vim /etc/clickhouse-server/config.xml</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">listen_host</span>&gt;</span>::<span class="tag">&lt;/<span class="name">listen_host</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>é‡å¯ClickHouse</p>
  <figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart clickhouse-server.service</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è¿œç¨‹è®¿é—®</p>
</li>
</ul>
<blockquote>
<p>æ— æ³•ä½¿ç”¨<code>default</code>ç”¨æˆ·è¿œç¨‹è®¿é—®ï¼Œéœ€è¦å¢åŠ <code>default</code>çš„ç®¡ç†æƒé™ååˆ›å»ºæ–°ç”¨æˆ·</p>
</blockquote>
<ul>
<li><p>ä¿®æ”¹<code>default</code>ç”¨æˆ·æƒé™ï¼Œå–æ¶ˆ<code>access_management&gt;1&lt;/access_management&gt;</code>çš„æ³¨é‡Š</p>
  <figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">sudo vim /etc/clickhouse-server/users.xml</span><br></pre></td></tr></tbody></table></figure>
  <figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">users</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">default</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- ... --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- User can create other users and grant rights to them. --&gt;</span></span><br><span class="line">        <span class="comment">&lt;!-- &lt;access_management&gt;1&lt;/access_management&gt; --&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">default</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">users</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
  <figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">systemctl restart clickhouse-server.service</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>åˆ›å»ºåªè¯»æƒé™å’Œæ–°ç”¨æˆ·</p>
  <figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">clickhouse-client --password</span><br></pre></td></tr></tbody></table></figure>
  <figure class="highlight sql"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> ROLE role_read;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span> <span class="keyword">ON</span> db.<span class="operator">*</span> <span class="keyword">TO</span> role_read;</span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> user_read IDENTIFIED <span class="keyword">WITH</span> sha256_password  <span class="keyword">BY</span> <span class="string">'password'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">GRANT</span> role_read <span class="keyword">TO</span> user_read;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è®¿é—®</p>
  <figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">clickhouse-client -m -u user_read --password 'your_password'</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>DBeaverè¿æ¥</p>
<ul>
<li>Driver: ClickHouse</li>
<li>URL: jdbc:clickhouse://your_ip:8123</li>
<li>User: user_read</li>
<li>Password: your_password</li>
</ul>
</li>
<li><p>SpringBootè¿æ¥</p>
<ul>
<li><p>Dependency</p>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>ru.yandex.clickhouse<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>clickhouse-jdbc<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.2.4<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Application.yml</p>
<figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">application:</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">"logBase"</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">"dev"</span></span><br><span class="line">  <span class="attr">main:</span></span><br><span class="line">    <span class="attr">allow-circular-references:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">datasource:</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">com.alibaba.druid.pool.DruidDataSource</span></span><br><span class="line">    <span class="attr">clickhouse:</span></span><br><span class="line">    <span class="attr">driverClassName:</span> <span class="string">${log-base.datasource.driver-class-name}</span></span><br><span class="line">    <span class="attr">url:</span> <span class="string">jdbc:clickhouse://${log-base.datasource.host}:${log-base.datasource.port}/${log-base.datasource.database}</span></span><br><span class="line">    <span class="attr">username:</span> <span class="string">${log-base.datasource.username}</span></span><br><span class="line">    <span class="attr">password:</span> <span class="string">${log-base.datasource.password}</span></span><br><span class="line">    <span class="attr">testWhileIdle:</span> <span class="string">${log-base.datasource.test-while-idle}</span></span><br><span class="line">    <span class="attr">validationQuery:</span> <span class="string">${log-base.datasource.validation-query}</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ClickHouseProperties</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = "spring.datasource.clickhouse")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClickHouseProperties</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String driverClassName;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String url;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String username;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String password;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String validationQuery;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String testWhileIdle;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>CLickHouseConfiguration.java</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClickHouseConfiguration</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> ClickHouseProperties clickHouseProperties;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ClickHouseConfiguration</span><span class="params">(ClickHouseProperties clickHouseProperties)</span> {</span><br><span class="line">        <span class="built_in">this</span>.clickHouseProperties = clickHouseProperties;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name = "clickhouseDataSource")</span></span><br><span class="line">    <span class="keyword">public</span> DataSource <span class="title function_">dataSource</span><span class="params">()</span> {</span><br><span class="line">        log.info(<span class="string">"Init clickhouse datasource"</span>);</span><br><span class="line">        <span class="type">DruidDataSource</span> <span class="variable">dataSource</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DruidDataSource</span>();</span><br><span class="line">        dataSource.setUrl(clickHouseProperties.getUrl());</span><br><span class="line">        dataSource.setDriverClassName(clickHouseProperties.getDriverClassName());</span><br><span class="line">        dataSource.setUsername(clickHouseProperties.getUsername());</span><br><span class="line">        dataSource.setPassword(clickHouseProperties.getPassword());</span><br><span class="line">        dataSource.setTestWhileIdle(Boolean.parseBoolean(clickHouseProperties.getTestWhileIdle()));</span><br><span class="line">        dataSource.setValidationQuery(clickHouseProperties.getValidationQuery());</span><br><span class="line">        <span class="keyword">return</span> dataSource;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>ClickHouse</tag>
        <tag>Database</tag>
      </tags>
  </entry>
  <entry>
    <title>F-OFDM vs OFDM</title>
    <url>/2021/06/15/F-OFDM%20vs%20OFDM/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<h3 id="Divide-the-OFDM-cattier-bandwidth-into-multiple-sub-bands-with-different-parameters-and-filter-the-sub-bands-and-try-to-leave-as-few-isolation-bands-as-possible-between-the-sub-bands"><a href="#Divide-the-OFDM-cattier-bandwidth-into-multiple-sub-bands-with-different-parameters-and-filter-the-sub-bands-and-try-to-leave-as-few-isolation-bands-as-possible-between-the-sub-bands" class="headerlink" title="Divide the OFDM cattier bandwidth into multiple sub bands with different parameters, and filter the sub bands, and try to leave as few isolation bands as possible between the sub bands"></a>Divide the OFDM cattier bandwidth into multiple sub bands with different parameters, and filter the sub bands, and try to leave as few isolation bands as possible between the sub bands</h3><p><span class="github-emoji"><span>ğŸŒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f31e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•’</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f552.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<span id="more"></span>
<hr>
<h2 id="books-Abstract"><a href="#books-Abstract" class="headerlink" title=":books: Abstract"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Abstract</h2><ul>
<li><em>With the launch of the 3GPP 5G standard, the 5G sky has gradually disappeared, and the bright stars of the candidate technology have dazzled us, and the 5G serialized new air interface technology proposed by Huawei is undoubtedly the brightest star among them. F-OFDM can realize the slicing of the physical layer of the air interface and is backward compatible with the LTE 4G system, and can meet the needs of future 5G development.</em></li>
</ul>
<h2 id="blue-book-OFDM-vs-F-OFDM"><a href="#blue-book-OFDM-vs-F-OFDM" class="headerlink" title=":blue_book: OFDM vs F-OFDM"></a><span class="github-emoji"><span>ğŸ“˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> OFDM vs F-OFDM</h2><ul>
<li><em>OFDM modulates high-rate data to mutually orthogonal sub-carriers through serial/parallel conversion, and introduces cyclic prefixes, which better solves the headache of inter-symbol interference. But the main problem of OFDM is not flexible enough.</em></li>
<li><em>For example, the Internet of vehicles service with millisecond delay requires extremely short time-domain symbol and TTI; in the multi-connection scenario of the Internet of things, the amount of data transmitted by a single sensor is extremely low, but the requirements for the number of overall connections of the system are very high. It is necessary to configure a relatively narrow subcarrier spacing in the frequency domain. These flexible requirements cannot be met by OFDM technology.</em></li>
<li><em>We can understand the time-frequency resources of the system as a carriage. If the OFDM scheme is adopted for decoration, the train can only provide fixed-size hard seats (sub-carrier spacing). Everyone, regardless of fat or thin, rich or not, can only sitting on a hard seat of the same size, this situation is obviously not humane enough. For 5G, we hope that the seats and spaces can be flexibly customized according to the height, short, fat and thin of passengers. Hard seats, soft seats, sleepers, boxesâ€¦you can adjust them whatever you wang. This the adaptive harmony train, and F-OFDM technology is based on this idea.</em></li>
<li><em>F-OFDM can provide different sub-carrier spacing and numerology to meet the time-frequency resource requirements of different services. F-OFDM greatly reduces out-of-band leakage by optimizing the filter design, and the guard band overhead between different sub bands can be reduced to about 1%, which not only greatly improves the efficiency of spectrum utilization, but also, itâ€™s possible to provides opportunities for future use of fragmented spectrum.</em></li>
<li><em>In general, on the basis of inheriting all the advantages of OFDM (high spectrum utilization, adaptive MIMO, etc.), F-OFDM overcomes some inherent shortcomings of OFDM, and further improves flexibility and spectrum utilization efficiency basic technology to realize 5G air interface slicing.</em></li>
</ul>
<h2 id="green-book-Benefits-or-advantages-of-F-OFDM"><a href="#green-book-Benefits-or-advantages-of-F-OFDM" class="headerlink" title=":green_book: Benefits or advantages of F-OFDM"></a><span class="github-emoji"><span>ğŸ“—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d7.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Benefits or advantages of F-OFDM</h2><ol>
<li>Efficient utilization of spectrum.</li>
<li>It suppresses out of band emission and hence guard band consumption can be reduced to minimum level.</li>
<li>Optimized numerology can be applied to suit the needs of certain type of services within each sub bands.</li>
<li>Possibility to incorporate other waveforms such as GFDM, FBMC, UFMC etc.</li>
<li>Backward and forward compatibility.</li>
<li>Using sub band-based filtering, global synchronization requirement is being relaxed. Hence inter-sub-band asynchronous transmission can be supported.</li>
</ol>
<h2 id="orange-book-Drawbacks-or-disadvantages-of-F-FDOM"><a href="#orange-book-Drawbacks-or-disadvantages-of-F-FDOM" class="headerlink" title=":orange_book: Drawbacks or disadvantages of F-FDOM"></a><span class="github-emoji"><span>ğŸ“™</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d9.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Drawbacks or disadvantages of F-FDOM</h2><ol>
<li>The F-OFDM requires additional pair of transmit and receiver filters in transmitter and receiver chain respectively compare to conventional OFDM.</li>
<li>Like OFDM, CP can also be used in filter-based waveforms such as UFMC, F-OFDM to protect signal from SIS.</li>
<li>Since full-band filtering cannot remove any SIS, it exists in F-OFDM similar to standard OFDM.</li>
</ol>
<h2 id="open-book-Understanding-of-this-example"><a href="#open-book-Understanding-of-this-example" class="headerlink" title=":open_book: Understanding of this example"></a><span class="github-emoji"><span>ğŸ“–</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d6.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Understanding of this example</h2><ul>
<li><em>This example compares Filtered-OFDM modulation with generic Cyclic Prefix OFDM (CP-OFDM) modulation. For F-OFDM, a well-designed filter is applied to the time domain OFDM symbol to improve the out-of-band radiation of the sub-band signal, while maintaining the complex-domain orthogonality of OFDM symbols. This example also models Filtered-OFDM modulation with configurable parameters. It highlights the filter design technique and the basic transmit/receive processing.</em></li>
<li><em>A filter with a rectangular frequency response, i.e. a sinc impulse response, meets these criteria. To make this causal, the low-pass filter is realized using a window, which, effectively truncates the impulse response and offers smooth transitions to zero on both ends.</em></li>
<li><em>In F-OFDM, the sub-band CP-OFDM signal is passed through the designed filter. As the filterâ€™s passband corresponds to the signalâ€™s bandwidth, only the few subcarriers close to the edge are affected. A key consideration is that the filter length can be allowed to exceed the cyclic prefix length for F-OFDM. The inter-symbol interference incurred is minimized due to the filter design using windowing (with soft truncation).</em></li>
<li><em>Transmit-end processing operations are shown in the following F-OFDM transmitter diagram.</em></li>
<li><em>The example next highlights the basic receive processing for F-OFDM for a single OFDM symbol. The received signal is passed through a matched filter, followed by the normal CP-OFDM receiver. It accounts for both the filtering ramp-up and latency prior to the FFT operation.</em></li>
<li><em>No fading channel is considered in this example but noise is added to the received signal to achieve the desired SNR.</em></li>
</ul>
<h2 id="closed-book-Conclusion"><a href="#closed-book-Conclusion" class="headerlink" title=":closed_book: Conclusion"></a><span class="github-emoji"><span>ğŸ“•</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d5.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Conclusion</h2><ul>
<li><em>Comparing the plots of the spectral densities for CP-OFDM and F-OFDM schemes, F-OFDM has lower sidelobes. This allows a higher utilization of the allocated spectrum, leading to increased spectral efficiency.</em></li>
<li><em>When we design F-OFDM filter, appropriate filtering for F-OFDM satisfies the following criteria:</em></li>
</ul>
<blockquote>
<ol>
<li>Should have a flat passband over the subcarriers in the sub-band.</li>
<li>Should have a sharp transition band to minimize guard-bands.</li>
<li>Should have sufficient stop-band attenuation.</li>
</ol>
</blockquote>
<ul>
<li><em>Universal Filtered Multi-Carrier (UFMC) modulation scheme is another approach to sub-band filtered OFDM. For more information, see the UFMC vs. OFDM Modulation example. This F-OFDM example uses a single sub-band while the UFMC example uses multiple sub-bands.</em></li>
<li><em>F-OFDM and UFMC both use time-domain filtering with subtle differences in the way the filter is designed and applied. For UFMC, the length of filter is constrained to be equal to the cyclic-prefix length, while for F-OFDM, it can exceed the CP length.</em></li>
<li><em>For F-OFDM, the filter design leads to a slight loss in orthogonality (strictly speaking) which affects only the edge subcarriers.</em></li>
</ul>
<h2 id="memo-Code"><a href="#memo-Code" class="headerlink" title=":memo: Code"></a><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Code</h2><figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% F-OFDM vs. OFDM Modulation</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"></span><br><span class="line">s = rng(<span class="number">211</span>);       <span class="comment">% Set RNG state for repeatability</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">%% System Parameters</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"><span class="comment">% Define system parameters for the example. These parameters can be</span></span><br><span class="line"><span class="comment">% modified to explore their impact on the system.</span></span><br><span class="line"> </span><br><span class="line">numFFT = <span class="number">1024</span>;           <span class="comment">% Number of FFT points</span></span><br><span class="line">numRBs = <span class="number">50</span>;             <span class="comment">% Number of resource blocks</span></span><br><span class="line">rbSize = <span class="number">12</span>;             <span class="comment">% Number of subcarriers per resource block</span></span><br><span class="line">cpLen = <span class="number">72</span>;              <span class="comment">% Cyclic prefix length in samples</span></span><br><span class="line"> </span><br><span class="line">bitsPerSubCarrier = <span class="number">8</span>;   <span class="comment">% 2: QPSK, 4: 16QAM, 6: 64QAM, 8: 256QAM</span></span><br><span class="line">snrdB = <span class="number">18</span>;              <span class="comment">% SNR in dB</span></span><br><span class="line"> </span><br><span class="line">toneOffset = <span class="number">2.5</span>;        <span class="comment">% Tone offset or excess bandwidth (in subcarriers)</span></span><br><span class="line">L = <span class="number">513</span>;                 <span class="comment">% Filter length (=filterOrder+1), odd</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Filtered-OFDM Filter Design</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"></span><br><span class="line">numDataCarriers = numRBs*rbSize;    <span class="comment">% number of data subcarriers in subband</span></span><br><span class="line">halfFilt = <span class="built_in">floor</span>(L/<span class="number">2</span>);</span><br><span class="line">n = -halfFilt:halfFilt;  </span><br><span class="line"> </span><br><span class="line"><span class="comment">% Sinc function prototype filter</span></span><br><span class="line">pb = sinc((numDataCarriers+<span class="number">2</span>*toneOffset).*n./numFFT);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Sinc truncation window</span></span><br><span class="line">w = (<span class="number">0.5</span>*(<span class="number">1</span>+<span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>.*n/(L<span class="number">-1</span>)))).^<span class="number">0.6</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Normalized lowpass filter coefficients</span></span><br><span class="line">fnum = (pb.*w)/sum(pb.*w);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Filter impulse response</span></span><br><span class="line">h = fvtool(fnum, <span class="string">'Analysis'</span>, <span class="string">'impulse'</span>, ...</span><br><span class="line">    <span class="string">'NormalizedFrequency'</span>, <span class="string">'off'</span>, <span class="string">'Fs'</span>, <span class="number">15.36e6</span>);</span><br><span class="line">h.CurrentAxes.XLabel.String = <span class="string">'Time (\mus)'</span>;</span><br><span class="line">h.FigureToolbar = <span class="string">'off'</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Use dsp filter objects for filtering</span></span><br><span class="line">filtTx = dsp.FIRFilter(<span class="string">'Structure'</span>, <span class="string">'Direct form symmetric'</span>, ...</span><br><span class="line">    <span class="string">'Numerator'</span>, fnum);</span><br><span class="line">filtRx = clone(filtTx); <span class="comment">% Matched filter for the Rx</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% QAM Symbol mapper</span></span><br><span class="line">qamMapper = comm.RectangularQAMModulator( ...</span><br><span class="line">    <span class="string">'ModulationOrder'</span>, <span class="number">2</span>^bitsPerSubCarrier, <span class="string">'BitInput'</span>, <span class="built_in">true</span>, ...</span><br><span class="line">    <span class="string">'NormalizationMethod'</span>, <span class="string">'Average power'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% F-OFDM Transmit Processing</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Set up a figure for spectrum plot</span></span><br><span class="line">hFig = <span class="built_in">figure</span>(<span class="string">'Position'</span>, figposition([<span class="number">46</span> <span class="number">50</span> <span class="number">30</span> <span class="number">30</span>]));</span><br><span class="line">axis([<span class="number">-0.5</span> <span class="number">0.5</span> <span class="number">-200</span> <span class="number">-20</span>]);</span><br><span class="line"><span class="built_in">hold</span> on; </span><br><span class="line">grid on</span><br><span class="line">xlabel(<span class="string">'Normalized frequency'</span>);</span><br><span class="line">ylabel(<span class="string">'PSD (dBW/Hz)'</span>)</span><br><span class="line">title([<span class="string">'F-OFDM, '</span> num2str(numRBs) <span class="string">' Resource blocks, '</span>  ...</span><br><span class="line">    num2str(rbSize) <span class="string">' Subcarriers each'</span>])</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Generate data symbols</span></span><br><span class="line">bitsIn = randi([<span class="number">0</span> <span class="number">1</span>], bitsPerSubCarrier*numDataCarriers, <span class="number">1</span>);</span><br><span class="line">symbolsIn = qamMapper(bitsIn);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Pack data into an OFDM symbol </span></span><br><span class="line">offset = (numFFT-numDataCarriers)/<span class="number">2</span>; <span class="comment">% for band center</span></span><br><span class="line">symbolsInOFDM = [<span class="built_in">zeros</span>(offset,<span class="number">1</span>); symbolsIn; ...</span><br><span class="line">                 <span class="built_in">zeros</span>(numFFT-offset-numDataCarriers,<span class="number">1</span>)];</span><br><span class="line">ifftOut = ifft(ifftshift(symbolsInOFDM));</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Prepend cyclic prefix</span></span><br><span class="line">txSigOFDM = [ifftOut(<span class="keyword">end</span>-cpLen+<span class="number">1</span>:<span class="keyword">end</span>); ifftOut]; </span><br><span class="line"> </span><br><span class="line"><span class="comment">% Filter, with zero-padding to flush tail. Get the transmit signal</span></span><br><span class="line">txSigFOFDM = filtTx([txSigOFDM; <span class="built_in">zeros</span>(L<span class="number">-1</span>,<span class="number">1</span>)]);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Plot power spectral density (PSD) </span></span><br><span class="line">[psd,f] = periodogram(txSigFOFDM, rectwin(<span class="built_in">length</span>(txSigFOFDM)), ...</span><br><span class="line">                      numFFT*<span class="number">2</span>, <span class="number">1</span>, <span class="string">'centered'</span>); </span><br><span class="line"><span class="built_in">plot</span>(f,<span class="number">10</span>*<span class="built_in">log10</span>(psd)); </span><br><span class="line"> </span><br><span class="line"><span class="comment">% Compute peak-to-average-power ratio (PAPR)</span></span><br><span class="line">PAPR = comm.CCDF(<span class="string">'PAPROutputPort'</span>, <span class="built_in">true</span>, <span class="string">'PowerUnits'</span>, <span class="string">'dBW'</span>);</span><br><span class="line">[~,~,paprFOFDM] = PAPR(txSigFOFDM);</span><br><span class="line"><span class="built_in">disp</span>([<span class="string">'Peak-to-Average-Power-Ratio for F-OFDM = '</span> num2str(paprFOFDM) <span class="string">' dB'</span>]);</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% OFDM Modulation with Corresponding Parameters</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Plot power spectral density (PSD) for OFDM signal</span></span><br><span class="line">[psd,f] = periodogram(txSigOFDM, rectwin(<span class="built_in">length</span>(txSigOFDM)), numFFT*<span class="number">2</span>, ...</span><br><span class="line">                      <span class="number">1</span>, <span class="string">'centered'</span>); </span><br><span class="line">hFig1 = <span class="built_in">figure</span>(<span class="string">'Position'</span>, figposition([<span class="number">46</span> <span class="number">15</span> <span class="number">30</span> <span class="number">30</span>])); </span><br><span class="line"><span class="built_in">plot</span>(f,<span class="number">10</span>*<span class="built_in">log10</span>(psd)); </span><br><span class="line">grid on</span><br><span class="line">axis([<span class="number">-0.5</span> <span class="number">0.5</span> <span class="number">-100</span> <span class="number">-20</span>]);</span><br><span class="line">xlabel(<span class="string">'Normalized frequency'</span>); </span><br><span class="line">ylabel(<span class="string">'PSD (dBW/Hz)'</span>)</span><br><span class="line">title([<span class="string">'OFDM, '</span> num2str(numRBs*rbSize) <span class="string">' Subcarriers'</span>])</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Compute peak-to-average-power ratio (PAPR)</span></span><br><span class="line">PAPR2 = comm.CCDF(<span class="string">'PAPROutputPort'</span>, <span class="built_in">true</span>, <span class="string">'PowerUnits'</span>, <span class="string">'dBW'</span>);</span><br><span class="line">[~,~,paprOFDM] = PAPR2(txSigOFDM);</span><br><span class="line"><span class="built_in">disp</span>([<span class="string">'Peak-to-Average-Power-Ratio for OFDM = '</span> num2str(paprOFDM) <span class="string">' dB'</span>]);</span><br><span class="line"></span><br><span class="line"><span class="comment">%% F-OFDM Receiver with No Channel</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Add WGN</span></span><br><span class="line">rxSig = awgn(txSigFOFDM, snrdB, <span class="string">'measured'</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">%%</span></span><br><span class="line"><span class="comment">% Receive processing operations are shown in the following F-OFDM receiver</span></span><br><span class="line"><span class="comment">% diagram.</span></span><br><span class="line"><span class="comment">%</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Receive matched filter</span></span><br><span class="line">rxSigFilt = filtRx(rxSig);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Account for filter delay </span></span><br><span class="line">rxSigFiltSync = rxSigFilt(L:<span class="keyword">end</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Remove cyclic prefix</span></span><br><span class="line">rxSymbol = rxSigFiltSync(cpLen+<span class="number">1</span>:<span class="keyword">end</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Perform FFT </span></span><br><span class="line">RxSymbols = fftshift(fft(rxSymbol));</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Select data subcarriers</span></span><br><span class="line">dataRxSymbols = RxSymbols(offset+(<span class="number">1</span>:numDataCarriers));</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Plot received symbols constellation</span></span><br><span class="line"><span class="keyword">switch</span> bitsPerSubCarrier</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>  <span class="comment">% QPSK</span></span><br><span class="line">        refConst = qammod((<span class="number">0</span>:<span class="number">3</span>).', <span class="number">4</span>, <span class="string">'UnitAveragePower'</span>, <span class="built_in">true</span>);</span><br><span class="line">    <span class="keyword">case</span> <span class="number">4</span>  <span class="comment">% 16QAM</span></span><br><span class="line">        refConst = qammod((<span class="number">0</span>:<span class="number">15</span>).', <span class="number">16</span>,<span class="string">'UnitAveragePower'</span>, <span class="built_in">true</span>);</span><br><span class="line">    <span class="keyword">case</span> <span class="number">6</span>  <span class="comment">% 64QAM</span></span><br><span class="line">        refConst = qammod((<span class="number">0</span>:<span class="number">63</span>).', <span class="number">64</span>,<span class="string">'UnitAveragePower'</span>, <span class="built_in">true</span>);</span><br><span class="line">    <span class="keyword">case</span> <span class="number">8</span>  <span class="comment">% 256QAM</span></span><br><span class="line">        refConst = qammod((<span class="number">0</span>:<span class="number">255</span>).', <span class="number">256</span>,<span class="string">'UnitAveragePower'</span>, <span class="built_in">true</span>);</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">constDiagRx = comm.ConstellationDiagram( ...</span><br><span class="line">    <span class="string">'ShowReferenceConstellation'</span>, <span class="built_in">true</span>, ...</span><br><span class="line">    <span class="string">'ReferenceConstellation'</span>, refConst, ...</span><br><span class="line">    <span class="string">'Position'</span>, figposition([<span class="number">20</span> <span class="number">15</span> <span class="number">25</span> <span class="number">30</span>]), ...</span><br><span class="line">    <span class="string">'MeasurementInterval'</span>, <span class="built_in">length</span>(dataRxSymbols), ...</span><br><span class="line">    <span class="string">'Title'</span>, <span class="string">'F-OFDM Demodulated Symbols'</span>, ...</span><br><span class="line">    <span class="string">'Name'</span>, <span class="string">'F-OFDM Reception'</span>, ...</span><br><span class="line">    <span class="string">'XLimits'</span>, [<span class="number">-1.5</span> <span class="number">1.5</span>], <span class="string">'YLimits'</span>, [<span class="number">-1.5</span> <span class="number">1.5</span>]);</span><br><span class="line">constDiagRx(dataRxSymbols);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Channel equalization is not necessary here as no channel is modeled</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Demapping and BER computation</span></span><br><span class="line">qamDemod = comm.RectangularQAMDemodulator(<span class="string">'ModulationOrder'</span>, ...</span><br><span class="line">    <span class="number">2</span>^bitsPerSubCarrier, <span class="string">'BitOutput'</span>, <span class="built_in">true</span>, ...</span><br><span class="line">    <span class="string">'NormalizationMethod'</span>, <span class="string">'Average power'</span>);</span><br><span class="line">BER = comm.ErrorRate;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Perform hard decision and measure errors</span></span><br><span class="line">rxBits = qamDemod(dataRxSymbols);</span><br><span class="line">ber = BER(bitsIn, rxBits);</span><br><span class="line"> </span><br><span class="line"><span class="built_in">disp</span>([<span class="string">'F-OFDM Reception, BER = '</span> num2str(ber(<span class="number">1</span>)) <span class="string">' at SNR = '</span> ...</span><br><span class="line">    num2str(snrdB) <span class="string">' dB'</span>]);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Restore RNG state</span></span><br><span class="line">rng(s);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="chart-4ASK-Fig"><a href="#chart-4ASK-Fig" class="headerlink" title=":chart: 4ASK Fig"></a><span class="github-emoji"><span>ğŸ’¹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b9.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4ASK Fig</h3><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/F-OFDM/Impluse_Response.bmp" alt="Fig.1  Impulse Response."></p>
<center><font size="2">Fig.1  Impulse Response.</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/F-OFDM/F-OFDM_normalized_frequency.png" alt="Fig.2  F-OFDM normalized frequency."></p>
<center><font size="2">Fig.2  F-OFDM normalized frequency.</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/F-OFDM/OFDM_normalized_frequency.png" alt="Fig.2  OFDM normalized frequency."></p>
<center><font size="2">Fig.3  OFDM normalized frequency.</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/F-OFDM/F-OFDM_Reception.png" alt="Fig.4  F-OFDM Reception."></p>
<center><font size="2">Fig.4  F-OFDM Reception.</font></center>

<h3 id="bell-Reference"><a href="#bell-Reference" class="headerlink" title=":bell: Reference"></a><span class="github-emoji"><span>ğŸ””</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f514.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Reference</h3><blockquote>
<ol>
<li>Abdoli J., Jia M. and Ma J., â€œFiltered OFDM: A New Waveform for Future Wireless Systems,â€ 2015 IEEEÂ® 16th International Workshop on Signal Processing Advances in Wireless Communications (SPAWC), Stockholm, 2015, pp. 66-70.</li>
<li>R1-162152. â€œOFDM based flexible waveform for 5G.â€ 3GPP TSG RAN WG1 meeting 84bis. Huawei; HiSilicon. April 2016.</li>
<li>R1-165425. â€œF-OFDM scheme and filter design.â€ 3GPP TSG RAN WG1 meeting 85. Huawei; HiSilicon. May 2016.</li>
</ol>
</blockquote>
<!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Communication</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>Matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>ElasticSearch query performance optimization</title>
    <url>/2024/08/13/ElasticSearch%20query%20performance%20optimization/</url>
    <content><![CDATA[<blockquote>
<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>Elasticsearch</strong>ä½¿åŸç”Ÿçš„<strong>Lucene</strong>æŸ¥è¯¢æ›´åŠ ç®€å•ï¼ŒåŒæ—¶æä¾›äº†æ›´å¤šçš„åŠŸèƒ½ï¼Œä¸”å¯ä»¥é€šè¿‡<strong>RESTful API</strong>è®¿é—®ã€‚<strong>Elasticsearch</strong>æ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„æœç´¢å¼•æ“ï¼Œæä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼å¤šç”¨æˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ï¼ŒåŸºäº<strong>RESTful</strong>çš„<strong>web</strong>æ¥å£ã€‚æ­¤å¤–ä¹Ÿå¯ä»¥æ‰©å±•åˆ°å‡ ä¹æ— é™æ•°é‡çš„æœåŠ¡å™¨ï¼Œä»¥åŠèƒ½åŠ›å»å¤„ç†<strong>PB</strong>çº§åˆ«çš„æ•°æ®ã€‚</p>
</blockquote>
<span id="more"></span>
<h2 id="books-æ ¸å¿ƒæ¦‚å¿µ"><a href="#books-æ ¸å¿ƒæ¦‚å¿µ" class="headerlink" title=":books: æ ¸å¿ƒæ¦‚å¿µ"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æ ¸å¿ƒæ¦‚å¿µ</h2><h3 id="lock-åŸºæœ¬æ¦‚å¿µ"><a href="#lock-åŸºæœ¬æ¦‚å¿µ" class="headerlink" title=":lock: åŸºæœ¬æ¦‚å¿µ"></a><span class="github-emoji"><span>ğŸ”’</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f512.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> åŸºæœ¬æ¦‚å¿µ</h3><blockquote>
<p>ä¸ºäº†æ–¹ä¾¿ç†è§£Elasticsearchçš„ä¸€äº›åŸºæœ¬æ¦‚å¿µï¼Œå°†å…¶ä¸­çš„ä¸€äº›æ¦‚å¿µå’Œå…³ç³»å‹æ•°æ®åº“åšç±»æ¯”ã€‚<strong>ä½†æ˜¯è¯·æ³¨æ„ï¼Œè¿™æ ·ç±»æ¯”å¹¶ä¸æ˜¯éå¸¸åˆé€‚ï¼Œç”šè‡³å¯èƒ½å­˜åœ¨ä¸€äº›åå·®ï¼Œä»…é€‚ç”¨ä¸ºåˆæœŸæä¾›æ›´å¥½çš„ç†è§£ã€‚</strong></p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Elasticsearch</th>
<th style="text-align:center">Mysql</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ç´¢å¼•åº“<code>Index</code></td>
<td style="text-align:center">æ•°æ®åº“<code>Database</code></td>
</tr>
<tr>
<td style="text-align:center">æ–‡æ¡£ç±»å‹<code>Type</code>ï¼ˆES6.0å¼€å§‹é€æ¸å¼ƒç”¨ï¼‰</td>
<td style="text-align:center">æ•°æ®è¡¨<code>Table</code></td>
</tr>
<tr>
<td style="text-align:center">æ–‡æ¡£<code>Document</code></td>
<td style="text-align:center">è¡Œæ•°æ®<code>Row</code></td>
</tr>
<tr>
<td style="text-align:center">å­—æ®µ<code>Field</code></td>
<td style="text-align:center">å…·ä½“åˆ°æŸä¸€åˆ—<code>Column</code></td>
</tr>
<tr>
<td style="text-align:center">æ–‡æ¡£ID</td>
<td style="text-align:center">ä¸»é”®ID</td>
</tr>
<tr>
<td style="text-align:center">æŸ¥è¯¢<code>Query DSL</code></td>
<td style="text-align:center">æŸ¥è¯¢<code>SQL</code></td>
</tr>
<tr>
<td style="text-align:center"><code>Get http://...</code></td>
<td style="text-align:center"><code>SELECT * FROM...</code></td>
</tr>
<tr>
<td style="text-align:center"><code>PUT http://...</code></td>
<td style="text-align:center"><code>UPDATE TABLE SET...</code></td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><code>Index</code>æ˜¯æ–‡æ¡£çš„é›†åˆï¼Œç›¸å½“äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„æ•°æ®åº“ï¼Œä¸€ä¸ª<code>Index</code>å¯ä»¥åŒ…å«å¤šä¸ª<code>Type</code>ï¼Œä½†æ˜¯åœ¨ES6.0ç‰ˆæœ¬ä¸­é€æ¸å¼ƒç”¨<code>Type</code>ï¼Œä¸€ä¸ª<code>Index</code>åªèƒ½åŒ…å«ä¸€ä¸ª<code>Type</code><ul>
<li>ç´¢å¼•åç§°å¿…é¡»æ˜¯å°å†™çš„ï¼Œä¸èƒ½åŒ…å«é€—å·ã€ç©ºæ ¼ç­‰ç‰¹æ®Šå­—ç¬¦</li>
<li>ç´¢å¼•æœ‰<code>mapping</code>å’Œ<code>setting</code>ä¸¤ä¸ªé…ç½®ï¼Œ<code>mapping</code>å®šä¹‰äº†æ–‡æ¡£çš„å­—æ®µç±»å‹ï¼Œ<code>setting</code>å®šä¹‰äº†ç´¢å¼•çš„é…ç½®ä¾‹å¦‚åˆ†ç‰‡ã€å‰¯æœ¬å’Œè‡ªå®šä¹‰çš„<code>analyzer</code></li>
</ul>
</li>
<li><code>Document</code>æ˜¯å¯æœç´¢æ•°æ®çš„æœ€å°å•å…ƒï¼Œç›¸å½“äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„ä¸€æ¡è®°å½•ï¼Œåœ¨ESä¸­ä¼šè¢«åºåˆ—åŒ–æˆJsonæ ¼å¼å­˜å‚¨</li>
<li>å­˜å‚¨çš„Jsonå¯¹è±¡ç”±å„ä¸ªå­—æ®µç»„æˆï¼Œç›¸å½“äºå…³ç³»å‹æ•°æ®åº“ä¸­çš„åˆ—ï¼ŒåŒæ—¶æ¯ä¸ªå­—æ®µä¹Ÿæœ‰å…¶è‡ªå·±çš„ç±»å‹ï¼ˆå­—ç¬¦ä¸²ã€å¸ƒå°”ã€æ—¶é—´èŒƒå›´ç­‰ï¼‰</li>
<li>åˆ›å»ºæ–‡æ¡£æ—¶è‹¥ä¸æŒ‡å®šå­—æ®µçš„ç±»å‹ï¼ŒESå°†è‡ªåŠ¨åŒ¹é…æ˜ å°„ï¼Œä½†æ˜¯åœ¨ç”Ÿäº§ç¯å¢ƒä¸­æœ€å¥½è‡ªå®šä¹‰æ˜ å°„</li>
<li>æ¯ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ªIDç›¸å½“äºMysqlçš„ä¸»é”®ï¼Œå¯ä»¥è‡ªå®šä¹Ÿå¯ä»¥è‡ªåŠ¨ç”Ÿæˆ</li>
<li>èŠ‚ç‚¹<code>Node</code>æ˜¯ä¸€ä¸ªå•ç‹¬çš„Elasticsearchå®ä¾‹ï¼Œå®ƒå±äºä¸€ä¸ªé›†ç¾¤<code>Cluster</code>ï¼Œé›†ç¾¤æ˜¯ç”±ä¸€ä¸ªæˆ–å¤šä¸ªèŠ‚ç‚¹ç»„æˆçš„ï¼Œæœ¬è´¨ä¸Šä¸€ä¸ªèŠ‚ç‚¹å¯ç®€å•çœ‹ä½œæ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼Œåœ¨é›†ç¾¤ä¸­å»ºè®®åœ¨å•æœºåªéƒ¨ç½²ä¸€ä¸ªé«˜æ€§èƒ½èŠ‚ç‚¹ï¼Œå•æœºå¤šèŠ‚ç‚¹åè€Œå¯¼è‡´æ€§èƒ½ä¸‹é™ï¼›åŒæ ·ä¹Ÿå…·æœ‰ä¸€èˆ¬åˆ†å¸ƒå¼æ¶æ„çš„é€‰ä¸¾ã€<code>coor</code>ç­‰</li>
<li>åˆ†ç‰‡<code>Shard</code>æ˜¯ESä¸­æœ€å°çš„å·¥ä½œå•å…ƒï¼Œæ¯ä¸ªåˆ†ç‰‡éƒ½æ˜¯ä¸€ä¸ª<code>Lucene</code>å®ä¾‹ï¼Œåˆ†ç‰‡æ˜¯ESå®ç°åˆ†å¸ƒå¼å’Œæ°´å¹³æ‰©å±•çš„åŸºç¡€ï¼Œåˆ†ç‰‡çš„æ•°é‡åœ¨ç´¢å¼•åˆ›å»ºæ—¶å°±å·²ç»ç¡®å®šï¼Œåˆ†ç‰‡çš„æ•°é‡åªèƒ½å¢åŠ ä¸èƒ½å‡å°‘ï¼Œä¸€èˆ¬ä¸å»ºè®®åæœŸå†æ¬¡ä¿®æ”¹</li>
<li>å‰¯æœ¬<code>Replica</code>æ˜¯åˆ†ç‰‡çš„å‰¯æœ¬ï¼Œå‰¯æœ¬çš„ä½œç”¨æ˜¯æé«˜æ•°æ®çš„å¯ç”¨æ€§ï¼Œå‰¯æœ¬çš„æ•°é‡å¯ä»¥åŠ¨æ€è°ƒæ•´ï¼Œå‰¯æœ¬çš„æ•°é‡è¶Šå¤šï¼Œè¯»æ€§èƒ½è¶Šå¥½ï¼Œä½†æ˜¯å†™æ€§èƒ½ä¼šä¸‹é™ï¼Œå‰¯æœ¬çš„æ•°é‡ä¸èƒ½è¶…è¿‡èŠ‚ç‚¹çš„æ•°é‡ï¼Œé»˜è®¤å‰¯æœ¬ç³»æ•°ä¸º1ï¼Œä¹Ÿå°±æ˜¯ç»™æ¯ä¸ªä¸»åˆ†ç‰‡åˆ›å»ºä¸€ä¸ªcopy</li>
<li><strong>å…³äº<code>Type</code></strong>ï¼Œå¤š<code>Type</code>é‡Œçš„å­—æ®µéœ€è¦ä¿æŒä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯ä¸åŒå®ä½“ä¹‹é—´å‡ºç°äº†å¾ˆå¤šå†—ä½™ï¼Œå¯¼è‡´åˆ†å¸ƒç¨€ç–ï¼Œå¹²æ‰°äº†<code>Lucene</code>å‹ç¼©æ–‡æ¡£çš„èƒ½åŠ›ï¼Œå½±å“å­˜å‚¨æ€§èƒ½ï¼›ç›¸å¯¹äº<code>Mysql</code>ä¸­æ¯ä¸ª<code>Table</code>ä¸‹çš„<code>Scheme</code>æ˜¯æ²¡æœ‰é™åˆ¶è¦ä¿æŒä¸€è‡´çš„ï¼Œè¿™ä¹Ÿæ˜¯åŒºåˆ«ä¹‹ä¸€<ul>
<li><code>6.x</code>ä¹‹å‰å¯ä»¥æœ‰å¤šä¸ª<code>Type</code></li>
<li><code>6.x</code>ä¹‹ååªèƒ½æœ‰ä¸€ä¸ªè‡ªå®šä¹‰åå­—çš„æ–‡æ¡£ç±»å‹</li>
<li><code>7.x</code>ä¹‹ååªèƒ½æœ‰ä¸€ä¸ªä¸”åå­—æ˜¯<code>_doc</code></li>
<li>æœªæ¥å¯èƒ½å–æ¶ˆæ–‡æ¡£ç±»å‹çš„æ¦‚å¿µï¼Œéƒ¨åˆ†APIå°†æ”¹åŠ¨</li>
</ul>
</li>
</ul>
<h2 id="pencil2-æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–"><a href="#pencil2-æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–" class="headerlink" title=":pencil2: æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–"></a><span class="github-emoji"><span>âœ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/270f.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> æŸ¥è¯¢æ€§èƒ½ä¼˜åŒ–</h2><h3 id="Filesystem-Cache-æ–‡ä»¶ç³»ç»Ÿç¼“å­˜"><a href="#Filesystem-Cache-æ–‡ä»¶ç³»ç»Ÿç¼“å­˜" class="headerlink" title="Filesystem Cache æ–‡ä»¶ç³»ç»Ÿç¼“å­˜"></a>Filesystem Cache æ–‡ä»¶ç³»ç»Ÿç¼“å­˜</h3><blockquote>
<p>æ•°æ®å†™å…¥æµç¨‹ï¼šå®¢æˆ·ç«¯é€‰æ‹©ä¸€ä¸ªNodeå‘é€è¯·æ±‚ï¼Œè·¯ç”±åˆ°ä¸»åˆ†ç‰‡ï¼Œä¸»åˆ†ç‰‡å°†æ•°æ®å…ˆå†™å…¥åˆ°<code>buffer</code>é‡Œï¼ŒåŒæ—¶å°†æ•°æ®å†™åˆ°<code>translog</code>æ—¥å¿—ï¼ˆåŒæ­¥å†™å…¥åˆ°å‰¯æœ¬åˆ†ç‰‡ï¼‰ï¼Œå¯é€‰å†™åˆ°<code>translog</code>çš„åŒæ—¶åŒæ­¥å†™å…¥ç£ç›˜æˆ–è€…ç­‰å¾…åå¼‚æ­¥åˆ·åˆ°ç£ç›˜ï¼›è‹¥<code>buffer</code>æ»¡äº†æˆ–æ˜¯æ‰‹åŠ¨è§¦å‘åˆ·æ–°<code>refresh</code>ï¼Œå°±ä¼šåˆ·æ–°åˆ°<code>Filesystem Cache</code>ï¼Œæ­¤æ—¶ç”Ÿæˆä¸€ä¸ªæ–°çš„<code>segment</code>å°±å¯ä»¥è¢«æœç´¢åˆ°ï¼Œä¸€å®šæ—¶é—´æˆ–<code>translog</code>è¶…å‡ºå¤§å°åè§¦å‘<code>flush</code>å°†<code>Filesystem Cache</code>æ•°æ®åŒæ­¥åˆ°ç£ç›˜ç„¶åæ¸…ç©º<code>translog</code>ã€‚<strong>ç®€è€Œè¨€ä¹‹ï¼Œå†™æ•°æ®éƒ½å†™åˆ°ç£ç›˜é‡Œäº†ï¼Œæœç´¢ä»ç£ç›˜é‡Œæœç´¢æ‰æ˜¯æŸ¥è¯¢æ€§èƒ½çš„ç“¶é¢ˆæ‰€åœ¨</strong></p>
</blockquote>
<ul>
<li>å°½å¯èƒ½ç»™<code>filesystem cache</code>åˆ†é…æ›´å¤šå†…å­˜ï¼Œæœ€ä½³æƒ…å†µæ˜¯å¤§äºESæ‰€éœ€è¦æœç´¢çš„æ•°æ®å¤§å°ï¼Œå¯ä»¥ä¿è¯å®¹çº³æ‰€æœ‰ç´¢å¼•æ•°æ®ï¼Œæœç´¢å…¨éƒ¨èµ°å†…å­˜çš„è¯æ€§èƒ½éå¸¸é«˜</li>
<li>ç¡¬ä»¶é…ç½®çš„æå‡çš„æœ‰é™åº¦çš„ï¼Œå¯ä»¥è€ƒè™‘å‡å°‘å­˜å‚¨çš„ç´¢å¼•è§„æ¨¡ï¼Œåªå­˜å‚¨éœ€è¦æœç´¢çš„ç´¢å¼•ï¼Œå°†<code>id</code>ã€<code>name</code>ã€<code>age</code>ç­‰å­—æ®µå­˜å…¥ESï¼Œå°†å…¶ä»–æ•°æ®å­˜åœ¨<code>HBase</code>ç­‰é€‚åˆå­˜æ”¾å¤§è§„æ¨¡åœ¨çº¿æ•°æ®çš„æ•°æ®åº“ï¼Œä»ESä¸­æŸ¥è¯¢åˆ°å…³é”®å­—æ®µå†å»Hbaseä¸­æŸ¥å®Œæ•´çš„æ•°æ®</li>
</ul>
<h3 id="æ•°æ®å†·çƒ­åˆ†ç¦»"><a href="#æ•°æ®å†·çƒ­åˆ†ç¦»" class="headerlink" title="æ•°æ®å†·çƒ­åˆ†ç¦»"></a>æ•°æ®å†·çƒ­åˆ†ç¦»</h3><blockquote>
<p>æ— æ³•å®Œå…¨ä¿è¯<code>Filesystem Cache</code>å¤§äºæ•°æ®é‡æ—¶ï¼Œè€ƒè™‘åˆ†ç¦»çƒ­ç‚¹æ•°æ®å’Œå†·æ•°æ®</p>
</blockquote>
<ul>
<li>é—´éš”ä¸€æ®µæ—¶é—´è‡ªåŠ¨æœç´¢çƒ­ç‚¹æ•°æ®ï¼Œä¿è¯çƒ­ç‚¹æ•°æ®å§‹ç»ˆåœ¨<code>Filesystem Cache</code>é‡Œï¼Œå…¶å®å°±æ˜¯åšä¸€ä¸ªé¢„çƒ­çš„å­ç³»ç»Ÿ</li>
<li>æ‹†åˆ†å†·çƒ­æ•°æ®æ„å»ºä¸åŒçš„ç´¢å¼•ï¼Œé˜²æ­¢çƒ­æ•°æ®è¢«å†·æ•°æ®å†²åˆ·æ‰ï¼Œå…¶å®å°±æ˜¯åšç±»ä¼¼äºMysqlçš„åˆ†åº“ï¼Œä»¥ç‰ºç‰²å†·æ•°æ®çš„æŸ¥è¯¢æ€§èƒ½æ¥æå‡çƒ­æ•°æ®çš„æŸ¥è¯¢æ€§èƒ½</li>
</ul>
<h3 id="åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–"><a href="#åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–" class="headerlink" title="åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–"></a>åˆ†é¡µæŸ¥è¯¢ä¼˜åŒ–</h3><ul>
<li>å°½é‡é¿å…å¤æ‚çš„æ“ä½œï¼Œä¾‹å¦‚<code>join</code>æŸ¥è¯¢</li>
<li>å’ŒMysqlç±»ä¼¼ï¼Œåˆ†é¡µæŸ¥è¯¢è¶Šåé¢è¶Šæ…¢ï¼Œæ·±åº¦åˆ†é¡µæ€§èƒ½å¾ˆå·®ï¼Œä¹Ÿå°±æ˜¯éœ€è¦å…ˆåšä¸€ä¸ªè¿‡æ»¤ï¼Œé‚£ä¹ˆè¿‡æ»¤ç”¨ä»€ä¹ˆæ–¹å¼ï¼Ÿ<ul>
<li>ä½¿ç”¨<code>scroll api</code>è¿›è¡Œæ·±åº¦åˆ†é¡µï¼Œä½†æ˜¯ä½œè€…ä¸å†æ¨èä½¿ç”¨è¿™ä¸ªï¼Œ<code>scroll</code>å°†ä¸€æ¬¡æ€§ç»™å‡ºæ‰€æœ‰æ•°æ®çš„å¿«ç…§è°¢è°¢ï¼Œç„¶åé€šè¿‡<code>scroll_id</code>ç§»åŠ¨æŸ¥è¯¢ï¼Œåç»­çš„æŸ¥è¯¢åŸºæœ¬éƒ½å°†æ˜¯æ¯«ç§’çº§ï¼Œä½†ä¸èƒ½å®ç°è·³è½¬ï¼ŒåŒæ—¶æ•°æ®å®æ—¶æ€§å­˜åœ¨ç¼ºé™·</li>
<li>ä½¿ç”¨<code>search_after</code>åˆ©ç”¨å‰ä¸€é¡µçš„æ£€ç´¢ç»“æœæ¥å¸®åŠ©æ£€ç´¢ä¸‹ä¸€é¡µï¼ŒåŒæ ·è¿™ä¹Ÿæ— æ³•å®ç°éšæ„è·³è½¬ï¼Œå®˜æ–¹æ¨èä½¿ç”¨ <code>_uid</code>ä½œä¸ºå…¨å±€å”¯ä¸€å€¼ï¼Œå…¶å®ä½¿ç”¨ä¸šåŠ¡å±‚çš„<code>id</code>ä¹Ÿå¯ä»¥ï¼Œåœ¨æ¨¡å‹è®¾è®¡æ—¶éœ€è¦è€ƒè™‘é¢„ç•™ä¸€ä¸ªç”¨äºsortçš„å­—æ®µ</li>
</ul>
</li>
</ul>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>ElasticSearch</tag>
      </tags>
  </entry>
  <entry>
    <title>Docker To Kubernetes after V1.24</title>
    <url>/2024/05/10/Docker%20To%20Kubernetes/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å¤šæœºæ­å»ºDockerå’ŒKebernetesé›†ç¾¤ç¯å¢ƒï¼Œä»¥åŠéƒ¨ç½²åº”ç”¨ç¨‹åºã€‚</p>
<ul>
<li>Kubernetes æ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨ç¼–æ’å¼•æ“ï¼Œç”¨æ¥å¯¹å®¹å™¨åŒ–åº”ç”¨è¿›è¡Œè‡ªåŠ¨åŒ–éƒ¨ç½²ã€æ‰©ç¼©å’Œç®¡ç†ã€‚ä»…ä»…ç”¨Dockeræ˜¯ä¸å¤Ÿçš„ï¼Œå¢åŠ Docker-Composeå¯ä»¥å®ç°å¤šå®¹å™¨çš„ç¼–æ’ï¼Œä½†æ˜¯Kuberneteså¯ä»¥å®ç°å¤šæœºçš„å®¹å™¨ç¼–æ’ï¼Œå®ç°æ›´é«˜çº§çš„å®¹å™¨ç¼–æ’åŠŸèƒ½ã€‚<br><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•™</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f559.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
</ul>
<span id="more"></span>
<h2 id="1-before"><a href="#1-before" class="headerlink" title="1. before"></a>1. before</h2><ol>
<li>åœ¨æ­¤ä¹‹å‰ï¼ŒMasterä¸»æœºä¸Šå·²ç”¨<code>Docker 24.0.2</code>ï¼Œä½†æ˜¯å‘ç°Kuberneteså›¢é˜Ÿåœ¨2020å¹´12çº¦åˆçš„<code>Kubernetes 1.20</code>çš„<a href="https://github.com/kubernetes/kubernetes/blob/master/CHANGELOG/CHANGELOG-1.20.md">CHANGELOG</a>ä¸­æŒ‡å‡ºâ€Docker as an underlying runtime is being deprecated. Docker-produced images will continue to work in your cluster with all runtimes, as they always have.â€ï¼Œé€æ¸å¼€å§‹æ”¾å¼ƒå¯¹Dockerçš„æ”¯æŒã€‚<span style="color:grey">æ‰€ä»¥åœ¨æ­¤ä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼ŒKubernetesä¸å†æ”¯æŒDockerä½œä¸ºåº•å±‚è¿è¡Œæ—¶ï¼Œå¯èƒ½æ˜¯å› ä¸ºDockeré•¿æœŸä»¥æ¥ä¸æ”¯æŒCRI(Container Runtime Interface)ï¼Œä»¥è‡³äºéœ€è¦é•¿æœŸç»´æŠ¤Dockershimç»„ä»¶æ¥è¿›è¡Œé€‚é…ï¼›å½“ç„¶ä¹Ÿå¯èƒ½æ˜¯ç”±äºæŸäº›å›¢é˜Ÿä¹‹é—´çš„åˆ©ç›Šå†²çªã€‚</span></li>
<li>æ—©æœŸk8sé€šè¿‡ç¡¬ç¼–ç çš„æ–¹å¼æ”¯æŒDockerï¼Œåæ¥é€šè¿‡CRIæ¥æ”¯æŒå¤šç§å®¹å™¨ï¼Œä½†æ˜¯Dockerå¹¶æ²¡æœ‰æ”¯æŒCRIï¼Œå¯¼è‡´k8séœ€è¦ç»´æŠ¤dockershimã€‚2022å¹´05æœˆçš„<code>Kubernetes 1.24</code>æ­£å¼å°†dockershimç§»é™¤ï¼Œä¸å†æ”¯æŒDockerä½œä¸ºåº•å±‚è¿è¡Œæ—¶ï¼Œæ‰€ä»¥éœ€è¦ä¼˜å…ˆé€‰æ‹©containerdæˆ–è€…CRI-Oä½œä¸ºåº•å±‚è¿è¡Œæ—¶ã€‚</li>
<li>å½“ç„¶ä»ç„¶å¯ä»¥ç»§ç»­ä½¿ç”¨Dockerï¼Œç›®å‰å­˜åœ¨æ”¯æŒCRIçš„shim cri-dockerdï¼Œä½†æ˜¯è¿™ä¸ªé¡¹ç›®å¹¶ä¸ç”±Kuberneteså®˜æ–¹ç»´æŠ¤ã€‚</li>
<li><code>Docker Dasmon</code>æ˜¯Dockerçš„å®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨äºç®¡ç†Dockerå®¹å™¨ï¼›<code>dockerd</code>æ˜¯Dockerçš„æœåŠ¡ç«¯ï¼Œç”¨äºæ¥æ”¶Dockerå®¢æˆ·ç«¯çš„è¯·æ±‚ï¼ŒDockerå®¢æˆ·ç«¯æ˜¯Dockerçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨äºä¸DockeræœåŠ¡ç«¯è¿›è¡Œäº¤äº’ï¼›<code>containerd</code>æ˜¯Dockerçš„å®¹å™¨è¿è¡Œæ—¶ï¼Œç”¨äºç®¡ç†å®¹å™¨çš„ç”Ÿå‘½å‘¨æœŸ,<code>containerd-shim</code>æ˜¯ä»£ç†ï¼Œç”¨äºä¸<code>OCI runtime(runc)</code>è¿›è¡Œäº¤äº’ï¼Œ<code>runc</code>æ˜¯å®¹å™¨æ‰§è¡Œå™¨ï¼Œç”¨äºåˆ›å»ºå’Œè¿è¡Œå®¹å™¨ã€‚</li>
<li>ä¸ºäº†é¿å…ä¸å¿…è¦çš„è­¦å‘Šå’ŒæŠ¥é”™ï¼ˆ<em>è¿™æ˜¯ä»¶ä¼šè®©äººçƒ¦å¿ƒçš„äº‹æƒ…</em>ï¼‰ï¼Œæ‰€ä»¥æŠŠç§»é™¤dockershimå‰çš„æœ€åä¸€ä¸ªå¤§ç‰ˆæœ¬1.23.0ä½œä¸ºæœ¬æ–‡ä½¿ç”¨ç¯å¢ƒï¼Œå½“ç„¶ä¹Ÿæ˜¯ç”¨äº†cri-dockerdä½œä¸ºåº•å±‚è¿è¡Œæ—¶ï¼Œä½¿ç”¨åç»­ç‰ˆæœ¬çš„k8sä¹Ÿæ˜¯å¯è¡Œçš„ã€‚</li>
</ol>
<h2 id="2-Versions"><a href="#2-Versions" class="headerlink" title="2. Versions"></a>2. Versions</h2><ul>
<li>System: Linux<ul>
<li>Operating System: Ubuntu 18.04.6 LTS</li>
<li>Kernel: Linux 5.4.0-84-generic</li>
<li>Architecture: x86-64</li>
</ul>
</li>
<li>Docker: 24.0.2</li>
<li>containerd: 1.6.21</li>
<li><em>Docker-Compose: 2.2.2</em></li>
<li>cri-dockerd: 0.3.14</li>
<li>kubeadm: 1.28.10</li>
<li>kubelet: 1.28.10</li>
<li>kubectl: 1.28.10</li>
<li><em>Kubespary: maybe later</em></li>
<li>Kubernetes: 1.28.10</li>
</ul>
<h2 id="3-Install"><a href="#3-Install" class="headerlink" title="3. Install"></a>3. Install</h2><h3 id="3-1-Docker"><a href="#3-1-Docker" class="headerlink" title="3.1 Docker"></a>3.1 Docker</h3><ul>
<li><p>Remove old versions</p>
  <figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get remove docker docker-engine docker.io containerd runc  </span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Install</p>
  <figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install apt-transport-https ca-certificates curl software-properties-common</span><br><span class="line">curl -fsSL https://get.docker.com | bash -s docker --version 24.0.2</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Check</p>
  <figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">docker --version</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Maybe the following error occurs: <code>permission denied while trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get "http://%2Fvar%2Frun%2Fdocker.sock/v1.24/version": dial unix /var/run/docker.sock: connect: permission denied</code></li>
<li><p>To avoid this error, add the current user to the docker group (or use the root user):</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo gpasswd -a <span class="variable">$USER</span> docker</span><br><span class="line">newgrp docker</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="3-2-kubeadmã€kubeletã€kubectl"><a href="#3-2-kubeadmã€kubeletã€kubectl" class="headerlink" title="3.2 kubeadmã€kubeletã€kubectl"></a>3.2 kubeadmã€kubeletã€kubectl</h3><blockquote>
<p><code>kubeadm</code>ç”¨äºåˆ›å»ºk8sé›†ç¾¤çš„å·¥å…·ï¼Œå¯ä»¥å¿«é€Ÿåˆ›å»ºä¸€ä¸ªk8sé›†ç¾¤ï¼Œä½†æ˜¯ä¸é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œå¯è€ƒè™‘ä½¿ç”¨<code>kubespray</code>æˆ–<code>kops</code>ï¼Œæ›´å¤šçš„å®‰å…¨æ€§ã€é«˜å¯ç”¨æ€§å’Œç›‘æ§ä»¥åŠæ—¥å¿—ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨äº‘æœåŠ¡å•†æä¾›çš„k8sé›†ç¾¤ã€‚<br><code>kubelet</code>åœ¨é›†ç¾¤çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹ç”¨æ¥å¯åŠ¨Podå’Œå®¹å™¨çš„ç»„ä»¶ï¼Œkubeletä¼šæ ¹æ®PodSpecä¸­çš„æè¿°åˆ›å»ºå’Œç®¡ç†å®¹å™¨ã€‚<br><code>kubectl</code>ç”¨äºä¸k8sé›†ç¾¤è¿›è¡Œäº¤äº’ï¼Œå¯ä»¥é€šè¿‡kubectlæ¥éƒ¨ç½²åº”ç”¨ã€æŸ¥çœ‹é›†ç¾¤èµ„æºã€æŸ¥çœ‹æ—¥å¿—ç­‰ã€‚</p>
</blockquote>
<ul>
<li><p>Update</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y apt-transport-https ca-certificates curl gpg</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Add public key</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">curl -fsSL https://pkgs.k8s.io/core:/stable:/v1.28/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg</span><br><span class="line"></span><br><span class="line"><span class="comment"># Aliyun</span></span><br><span class="line">curl -fsSL https://mirrors.aliyun.com/kubernetes-new/core/stable/v1.28/deb/Release.key | sudo gpg --dearmor -o /etc/apt/keyrings/kubernetes-apt-keyring.gpg</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Add repository</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://pkgs.k8s.io/core:/stable:/v1.28/deb/ /'</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/kubernetes.list</span><br><span class="line"></span><br><span class="line"><span class="comment"># Aliyun</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'deb [signed-by=/etc/apt/keyrings/kubernetes-apt-keyring.gpg] https://mirrors.aliyun.com/kubernetes-new/core/stable/v1.28/deb/ /'</span> | sudo <span class="built_in">tee</span> /etc/apt/sources.list.d/kubernetes.list</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Install and lock version</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get update</span><br><span class="line">sudo apt-get install -y kubelet kubeadm kubectl</span><br><span class="line">sudo apt-mark hold kubelet kubeadm kubectl</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Check</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubeadm version</span><br><span class="line">kubelet --version</span><br><span class="line">kubectl version --client</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Maybe the following error occurs, then you need to use proxy or VPN to access the Internet or other images such as Aliyun, Tencent Cloud, etc.</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">E: Unable to locate package kubelet</span><br><span class="line">E: Unable to locate package kubeadm</span><br><span class="line">E: Unable to locate package kubect</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="3-3-CRI-O-or-containerd-or-cri-dockerd"><a href="#3-3-CRI-O-or-containerd-or-cri-dockerd" class="headerlink" title="3.3 CRI-O or containerd or cri-dockerd"></a>3.3 CRI-O or containerd or cri-dockerd</h3><blockquote>
<p>ä¸‰é€‰ä¸€å³å¯ï¼Œå¦‚æœç”¨çš„æ˜¯Dockerä¸”k8såœ¨1.24ä¹‹å‰çš„ç‰ˆæœ¬ï¼Œå¯ä»¥é€‰æ‹©ç”¨dockershimæ›¿ä»£cri-dockerdã€‚</p>
</blockquote>
<ul>
<li><p>cri-dockerd</p>
<ul>
<li>Download the latest release from the <a href="https://github.com/Mirantis/cri-dockerd/releases">GitHub release page</a></li>
<li><p>Install</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install -y ./cri-dockerd_0.3.14.3-0.ubuntu-focal_amd64.deb </span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Check version and status</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">cri-dockerd --version</span><br><span class="line">systemctl status cri-docker</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Config containerd, and comment out the â€˜disabled_plugins = [â€œcriâ€]â€™ line in the <code>/etc/containerd/config.toml</code> file.</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo vi /etc/containerd/config.toml</span><br><span class="line">sudo systemctl restart containerd</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Config the cri-dockerd service<br>Also you can download the service file from the <a href="https://github.com/Mirantis/cri-dockerd/blob/master/packaging/systemd/cri-docker.service">GitHub release page</a></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo wget -O /etc/systemd/system/cri-docker.service https://raw.githubusercontent.com/Mirantis/cri-dockerd/master/packaging/systemd/cri-docker.service</span><br><span class="line">sudo wget -O /etc/systemd/system/cri-docker.socket https://raw.githubusercontent.com/Mirantis/cri-dockerd/master/packaging/systemd/cri-docker.socket</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Change the <code>ExecStart</code> in the <code>/etc/systemd/system/cri-docker.service</code> fileï¼Œ add <code>pause</code> image from Aliyun mirror.</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">ExecStart=/usr/bin/cri-dockerd --container-runtime-endpoint fd:// --pod-infra-container-image=registry.aliyuncs.com/google_containers/pause:3.9</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Restart the cri-dockerd service</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload      <span class="comment"># é‡æ–°åŠ è½½systemdç®¡ç†çš„æœåŠ¡å•å…ƒæ–‡ä»¶çš„å‘½ä»¤</span></span><br><span class="line">sudo systemctl <span class="built_in">enable</span> cri-docker</span><br><span class="line">sudo systemctl start cri-docker</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
</ul>
<h3 id="3-4-Important-settings"><a href="#3-4-Important-settings" class="headerlink" title="3.4 Important settings"></a>3.4 Important settings</h3><ul>
<li><p>Change cgroup driver to systemd<br><code>kubeadm</code>æŠŠ<code>kubelet</code>è§†ä¸ºä¸€ä¸ªç³»ç»ŸæœåŠ¡æ¥ç®¡ç†ï¼Œæ‰€ä»¥ç”¨`kubeadmå¯åŠ¨æ—¶ï¼Œæ¨èä½¿ç”¨systemdä½œä¸ºcgroupé©±åŠ¨ç¨‹åºã€‚</p>
<ul>
<li><p>cgroup for Docker</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo vim /etc/docker/daemon.json</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">  <span class="attr">"registry-mirrors"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"https://********.mirror.aliyuncs.com"</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">"exec-opts"</span><span class="punctuation">:</span> <span class="punctuation">[</span> <span class="string">"native.cgroupdriver=systemd"</span> <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>You can see your Aliyun mirror address in the <a href="https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors">Aliyun</a> after logging in.</p>
</blockquote>
</li>
<li><p>Restart Docker</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart docker</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Check cgroup driver in Docker</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">docker info | grep -i cgroup</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>cgroup for kubelet<br>åœ¨ç‰ˆæœ¬ 1.22 åŠæ›´é«˜ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœç”¨æˆ·æ²¡æœ‰åœ¨KubeletConfigurationä¸­è®¾ç½®cgroupDriverå­—æ®µï¼Œkubeadmä¼šå°†å®ƒè®¾ç½®ä¸ºé»˜è®¤å€¼systemdã€‚</p>
</li>
</ul>
</li>
<li><p>Date and time synchronization, use <code>Chrony</code></p>
<ul>
<li><p>Install</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install chrony</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Start synchronization and check status</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo systemctl start chrony</span><br><span class="line">systemctl status chrony</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Set hostname</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo --static hostnamectl set-hostname master <span class="comment"># in master node</span></span><br><span class="line">sudo --static hostnamectl set-hostname node1  <span class="comment"># in node1</span></span><br><span class="line">sudo --static hostnamectl set-hostname node2  <span class="comment"># in node2</span></span><br><span class="line">.</span><br><span class="line">.</span><br><span class="line">.</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Set host in master node and check ping</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cat</span> &gt;&gt; /etc/hosts &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">192.168.254.129 master</span></span><br><span class="line"><span class="string">192.168.254.130 node1</span></span><br><span class="line"><span class="string">192.168.254.131 node2</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Disable selinux, edit <code>/etc/selinux/config</code> and set <code>SELINUX=disabled</code> and reboot the system.<br><span style="color:grey">å…è®¸å®¹å™¨è®¿é—®å®¿ä¸»æœºçš„æ–‡ä»¶ç³»ç»Ÿï¼šSetting SELinux in permissive mode by runningsetenforce 0andsed â€¦effectively disables it. This is required to allow containers to access the host filesystem, which is needed by pod networks for example. You have to do this until SELinux support is improved in the kubelet.</span></p>
<ul>
<li><p>In Ubuntu, there is no selinux, so the following error may occur:</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span>: /etc/selinx/config: No such file or directory</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>disable unix firewall<br><span style="color:grey">é¿å…é‡å¤çš„é˜²ç«å¢™è§„åˆ™ï¼šTheiptablestooling can act as a compatibility layer, behaving like iptables but actually configuring nftables. This nftables backend is not compatible with the current kubeadm packages: it causes duplicated firewall rules and breakskube-proxy.</span></p>
<ul>
<li><p>å…³é—­é˜²ç«å¢™ï¼Œé»˜è®¤åº”è¯¥æ˜¯å…³çš„ï¼Œ<code>Status: inactive</code></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo ufw <span class="built_in">disable</span></span><br><span class="line">sudo ufw status</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ä¹Ÿå¯ä»¥ç›´æ¥å…³é—­é˜²ç«å¢™æœåŠ¡ï¼Œé»˜è®¤æ˜¯å¼€çš„ï¼Œä½†é˜²ç«å¢™æœªå¯åŠ¨æ‰€ä»¥æ— æ•ˆ</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo systemctl stop firewalld</span><br><span class="line">sudo systemctl <span class="built_in">disable</span> firewalld</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Disable swap<br><span style="color:grey">å¼€å¯Swapå°†å¯¼è‡´å’Œk8sçš„åˆè¡·æœ‰æ‰€è¿èƒŒï¼Œäº§ç”Ÿæ€§èƒ½ä¸‹é™ï¼Œè¯¦è§<a href="https://github.com/kubernetes/kubernetes/issues/53533">Issue</a></span><br>Reference: <a href="https://askubuntu.com/questions/214805/how-do-i-disable-swap">How do i disable swap</a>, reboot the system after disabling swap.</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># Temporary</span></span><br><span class="line">sudo swapoff -a</span><br><span class="line"><span class="comment"># Permanent</span></span><br><span class="line">sudo sed -i <span class="string">'/ swap / s/^\(.*\)$/#\1/g'</span> /etc/fstab</span><br><span class="line"><span class="comment"># Check</span></span><br><span class="line">sudo swapon --show</span><br><span class="line">free -h</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="3-5-Other-settings"><a href="#3-5-Other-settings" class="headerlink" title="3.5 Other settings"></a>3.5 Other settings</h3><ul>
<li><p>Check MAC and product_uuid, make sure they are unique, otherwise the cluster will not work properly.</p>
<ul>
<li>MAC</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt install net-tools</span><br><span class="line">ifconfig</span><br><span class="line">ifconfig <span class="string">"your eth name"</span> | grep -i ether  </span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>product_uuid</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo <span class="built_in">cat</span> /sys/class/dmi/id/product_uuid</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="4-ç»„ä»¶çš„ç‰ˆæœ¬åå·®ç­–ç•¥"><a href="#4-ç»„ä»¶çš„ç‰ˆæœ¬åå·®ç­–ç•¥" class="headerlink" title="4. ç»„ä»¶çš„ç‰ˆæœ¬åå·®ç­–ç•¥"></a>4. ç»„ä»¶çš„ç‰ˆæœ¬åå·®ç­–ç•¥</h2><blockquote>
<p>è‹¥é›†ç¾¤çš„<code>kube-apiserver</code>æœ‰å¤šä¸ªç‰ˆæœ¬ï¼Œè§„åˆ™éƒ½å°†å¯¹æ¯ä¸ªç‰ˆæœ¬å–å¹¶é›†ã€‚</p>
</blockquote>
<h3 id="kubeletç‰ˆæœ¬"><a href="#kubeletç‰ˆæœ¬" class="headerlink" title="kubeletç‰ˆæœ¬"></a>kubeletç‰ˆæœ¬</h3><ul>
<li><code>kubelet</code>ç‰ˆæœ¬ä¸èƒ½æ¯”<code>kube-apiserver</code>ç‰ˆæœ¬æ–°ã€‚</li>
<li><code>kubelet</code>å¯ä»¥æ¯”<code>kube-apiserver</code>ä½ä¸‰ä¸ªæ¬¡è¦ç‰ˆæœ¬ï¼ˆå¦‚æœ<code>kubelet</code> &lt; 1.25ï¼Œåˆ™åªèƒ½æ¯”<code>kube-apiserver</code>ä½ä¸¤ä¸ªæ¬¡è¦ç‰ˆæœ¬ï¼‰ã€‚</li>
<li>ä¾‹å¦‚<ul>
<li><code>kube-apiserver</code>å¤„äº1.30ç‰ˆæœ¬</li>
<li><code>kubelet</code>æ”¯æŒ1.30ã€1.29ã€1.28å’Œ1.27ç‰ˆæœ¬</li>
</ul>
</li>
</ul>
<h3 id="kube-proxyç‰ˆæœ¬"><a href="#kube-proxyç‰ˆæœ¬" class="headerlink" title="kube-proxyç‰ˆæœ¬"></a>kube-proxyç‰ˆæœ¬</h3><ul>
<li>å…¶ä»–åŒ<code>kubelet</code>ä¸€æ ·ï¼Œ<code>kube-proxy</code>çš„ç‰ˆæœ¬ä¸èƒ½æ¯”<code>kube-apiserver</code>ç‰ˆæœ¬æ–°ï¼Œå°äºç­‰äºä¸‰ä¸ªæ¬¡è¦ç‰ˆæœ¬ã€‚</li>
<li><code>kube-proxy</code>å¯ä»¥ä¸<code>kubelet</code>æœ‰æ–°æˆ–æ—§ä¸‰ä¸ªæ¬¡è¦ç‰ˆæœ¬ï¼Œ<code>1.25</code>ä¹‹å‰åˆ™æ˜¯ä¸¤ä¸ªæ¬¡è¦ç‰ˆæœ¬ã€‚</li>
</ul>
<h3 id="kube-controller-managerã€kube-schedulerã€cloud-controller-managerç‰ˆæœ¬"><a href="#kube-controller-managerã€kube-schedulerã€cloud-controller-managerç‰ˆæœ¬" class="headerlink" title="kube-controller-managerã€kube-schedulerã€cloud-controller-managerç‰ˆæœ¬"></a>kube-controller-managerã€kube-schedulerã€cloud-controller-managerç‰ˆæœ¬</h3><ul>
<li>ä¸èƒ½æ¯”<code>kube-apiserver</code>ç‰ˆæœ¬æ–°ï¼Œæœ€å¤šæ¯”<code>kube-apiserver</code>ä½ä¸€ä¸ªæ¬¡è¦ç‰ˆæœ¬ã€‚</li>
<li>å…è®¸å®æ—¶å‡çº§</li>
</ul>
<h3 id="kubectlç‰ˆæœ¬"><a href="#kubectlç‰ˆæœ¬" class="headerlink" title="kubectlç‰ˆæœ¬"></a>kubectlç‰ˆæœ¬</h3><ul>
<li>ä¸<code>kube-apiserver</code>ç‰ˆæœ¬ç›¸åŒæˆ–è€…ä½ã€é«˜äº<code>kube-apiserver</code>ä¸€ä¸ªæ¬¡è¦ç‰ˆæœ¬ã€‚</li>
</ul>
<h2 id="5-Start-k8s-cluster"><a href="#5-Start-k8s-cluster" class="headerlink" title="5. Start k8s cluster"></a>5. Start k8s cluster</h2><ul>
<li><p>Initialize the master node</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo kubeadm init \</span><br><span class="line">  --apiserver-advertise-address=192.168.254.129 \</span><br><span class="line">  --image-repository registry.aliyuncs.com/google_containers \</span><br><span class="line">  --kubernetes-version v1.28.0 \</span><br><span class="line">  --service-cidr=10.96.0.0/12 \</span><br><span class="line">  --pod-network-cidr=10.244.0.0/16 \</span><br><span class="line">  --ignore-preflight-errors=all</span><br><span class="line"></span><br><span class="line"><span class="comment"># This command will occur the following error (cri-dockerd and containerd are compatible):</span></span><br><span class="line"></span><br><span class="line">Found multiple CRI endpoints on the host. Please define <span class="built_in">which</span> one <span class="keyword">do</span> you wish to use by setting the <span class="string">'criSocket'</span> field <span class="keyword">in</span> the kubeadm configuration file: unix:///var/run/containerd/containerd.sock, unix:///var/run/cri-dockerd.sock</span><br><span class="line">To see the stack trace of this error execute with --v=5 or higher</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo kubeadm init \</span><br><span class="line">  --apiserver-advertise-address=192.168.254.129 \</span><br><span class="line">  --image-repository registry.aliyuncs.com/google_containers \</span><br><span class="line">  --kubernetes-version v1.28.0 \</span><br><span class="line">  --service-cidr=10.96.0.0/12 \</span><br><span class="line">  --pod-network-cidr=10.244.0.0/16 \</span><br><span class="line">  --ignore-preflight-errors=all \</span><br><span class="line">  --cri-socket=unix:///var/run/cri-dockerd.sock</span><br><span class="line"></span><br><span class="line"><span class="comment"># Reply success</span></span><br><span class="line">Your Kubernetes control-plane has initialized successfully!</span><br><span class="line"></span><br><span class="line">To start using your cluster, you need to run the following as a regular user:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube</span><br><span class="line">  sudo <span class="built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config</span><br><span class="line">  sudo <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br><span class="line"></span><br><span class="line">Alternatively, <span class="keyword">if</span> you are the root user, you can run:</span><br><span class="line"></span><br><span class="line">  <span class="built_in">export</span> KUBECONFIG=/etc/kubernetes/admin.conf</span><br><span class="line"></span><br><span class="line">You should now deploy a pod network to the cluster.</span><br><span class="line">Run <span class="string">"kubectl apply -f [podnetwork].yaml"</span> with one of the options listed at:</span><br><span class="line">  https://kubernetes.io/docs/concepts/cluster-administration/addons/</span><br><span class="line"></span><br><span class="line">Then you can <span class="built_in">join</span> any number of worker nodes by running the following on each as root:</span><br><span class="line"></span><br><span class="line">kubeadm <span class="built_in">join</span> 192.168.254.129:6443 --token kgsf73.msjq37v3zwqkaycg \</span><br><span class="line">        --discovery-token-ca-cert-hash sha256:feb06b7d17a02964c162b3f5dda5e5182f8e407383ebf1d974b26416937d65ec</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>Copy the configuration file to the user directory</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube</span><br><span class="line">sudo <span class="built_in">cp</span> -i /etc/kubernetes/admin.conf <span class="variable">$HOME</span>/.kube/config</span><br><span class="line">sudo <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Check the status of the master node and the pods, <em>we havenâ€™t installed the network plugin yet, so the master is in the <code>NotReady</code> state.</em></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl get nodes</span><br><span class="line"></span><br><span class="line">NAME     STATUS     ROLES           AGE    VERSION</span><br><span class="line">master   NotReady   control-plane   8m9s   v1.28.10</span><br><span class="line"></span><br><span class="line">kubectl get pod -A</span><br><span class="line"></span><br><span class="line">NAMESPACE     NAME                             READY   STATUS    RESTARTS   AGE</span><br><span class="line">kube-system   coredns-66f779496c-6b4rw         0/1     Pending   0          6m13s</span><br><span class="line">kube-system   coredns-66f779496c-xszmj         0/1     Pending   0          6m13s</span><br><span class="line">kube-system   etcd-master                      1/1     Running   0          6m27s</span><br><span class="line">kube-system   kube-apiserver-master            1/1     Running   0          6m26s</span><br><span class="line">kube-system   kube-controller-manager-master   1/1     Running   0          6m29s</span><br><span class="line">kube-system   kube-proxy-r87hl                 1/1     Running   0          6m13s</span><br><span class="line">kube-system   kube-scheduler-master            1/1     Running   0          6m28s</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Join the worker node<br>åˆ›å»ºçš„æŒ‡ä»¤å’Œtokenåœ¨<code>kubeadm init</code>è¾“å‡ºçš„æœ€åä¸€è¡Œï¼Œä¹Ÿéœ€è¦<code>--cri-socket /var/run/cri-dockerd.sock</code>ï¼Œå› ä¸ºæˆ‘ä»¬çš„èŠ‚ç‚¹éƒ½é…ç½®äº†<code>cri-dockerd</code>ä»¥åŠ<code>containerd</code>ï¼Œå­˜åœ¨å†²çªï¼Œéœ€è¦æŒ‡å®šä½¿ç”¨runcã€‚tokençš„æœ‰æ•ˆæœŸä¸º24å°æ—¶ï¼Œè¿‡æœŸåéœ€è¦<code>kubeadm token create --print-join-command</code>é‡æ–°ç”Ÿæˆã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># The command is generated by the master node, the last line of the output of the `kubeadm init` command.</span></span><br><span class="line"><span class="comment"># Also need --cri-socket /var/run/cri-dockerd.sock'</span></span><br><span class="line">sudo kubeadm <span class="built_in">join</span> 192.168.254.129:6443 --cri-socket unix:///var/run/cri-dockerd.sock --token kgsf73.msjq37v3zwqkaycg \</span><br><span class="line">        --discovery-token-ca-cert-hash sha256:feb06b7d17a02964c162b3f5dda5e5182f8e407383ebf1d974b26416937d65ec</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>Check in the master node</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl get nodes -A</span><br><span class="line"></span><br><span class="line">NAMESPACE     NAME                             READY   STATUS              RESTARTS   AGE</span><br><span class="line">kube-system   coredns-66f779496c-6b4rw         0/1     Pending             0          23m</span><br><span class="line">kube-system   coredns-66f779496c-xszmj         0/1     Pending             0          23m</span><br><span class="line">kube-system   etcd-master                      1/1     Running             0          24m</span><br><span class="line">kube-system   kube-apiserver-master            1/1     Running             0          24m</span><br><span class="line">kube-system   kube-controller-manager-master   1/1     Running             0          24m</span><br><span class="line">kube-system   kube-proxy-5jgmq                 0/1     ContainerCreating   0          106s</span><br><span class="line">kube-system   kube-proxy-p9tq5                 0/1     ContainerCreating   0          6m8s</span><br><span class="line">kube-system   kube-proxy-r87hl                 1/1     Running             0          23m</span><br><span class="line">kube-system   kube-scheduler-master            1/1     Running             0          24m</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Copy the configuration file to the user directory, å¦åˆ™å°†å¯¼è‡´<code>kubectl get nodes</code>æ—¶å‡ºç°<code>The connection to the server localhost:8080 was refused - did you specify the right host or port?</code>ï¼Œä»¥åŠè¯¥èŠ‚ç‚¹å°†å§‹ç»ˆå¤„äº<code>NotReady</code>çŠ¶æ€ï¼Œè¯¥èŠ‚ç‚¹çš„kube-proxyå¤„äº<code>ContainerCreating</code>çŠ¶æ€ã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p <span class="variable">$HOME</span>/.kube</span><br><span class="line">sudo <span class="built_in">cp</span> -i /etc/kubernetes/kubelet.conf <span class="variable">$HOME</span>/.kube/config</span><br><span class="line">sudo <span class="built_in">chown</span> $(<span class="built_in">id</span> -u):$(<span class="built_in">id</span> -g) <span class="variable">$HOME</span>/.kube/config</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Remove the node from the cluster</p>
<ul>
<li><p><strong>In master node</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># Check the node å’Œ pods, å…ˆæ£€æŸ¥ä¸€ä¸‹</span></span><br><span class="line">kubectl get nodes</span><br><span class="line">kubectl get pods -A -o wide</span><br><span class="line"><span class="comment"># é˜»æ­¢è°ƒåº¦æ–°çš„podåœ¨è¯¥èŠ‚ç‚¹ä¸Šï¼Œä½†æ­¤æ—¶podå¯ä»¥åœ¨nodeä¸Šç»§ç»­è¿è¡Œ</span></span><br><span class="line">kubectl cordon node1</span><br><span class="line"><span class="comment"># é©±é€node1ä¸Šçš„æ‰€æœ‰pod</span></span><br><span class="line">kubectl drain node1 --ignore-daemonsets --delete-local-data</span><br><span class="line"><span class="comment"># åˆ é™¤node1</span></span><br><span class="line">kubectl delete node node1</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><strong>In worker node</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># Leave the cluster</span></span><br><span class="line">sudo kubeadm reset --cri-socket /var/run/cri-dockerd.sock</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># åˆ é™¤æ®‹ç•™çš„æ–‡ä»¶</span></span><br><span class="line">sudo <span class="built_in">rm</span> -rf /etc/kubernetes/</span><br><span class="line">sudo <span class="built_in">rm</span> -rf <span class="variable">$HOME</span>/.kube</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ¸…é™¤iptablesæˆ–è€…ipvsçš„é…ç½®</span></span><br><span class="line">sudo iptables -F &amp;&amp; iptables -t nat -F &amp;&amp; iptables -t mangle -F &amp;&amp; iptables -X</span><br><span class="line">sudo ipvsadm --clear</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Add CNI plugin<br>åˆ°ç°åœ¨ä¸ºæ­¢ä¸åŒçš„å®¿ä¸»æœºä¹‹é—´çš„podæ— æ³•è·¨ä¸»æœºé€šä¿¡ï¼Œéœ€è¦å®‰è£…ç½‘ç»œæ’ä»¶ï¼Œè¿™é‡Œé€‰æ‹©<code>Calico</code>ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©<code>Flannel</code>ã€<code>Cilium</code>ã€<code>Weave Net</code>ç­‰ã€‚</p>
<ul>
<li><p>Download the <code>Calico</code> plugin</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># wget https://docs.projectcalico.org/manifests/calico.yaml</span></span><br><span class="line">curl -O https://docs.tigera.io/archive/v3.25/manifests/calico.yaml</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Modify the <code>calico.yaml</code> file, change the <code>CALICO_IPV4POOL_CIDR</code> to <code>pod-network-cidr's</code> value, and apply the <code>Calico</code> plugin.</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">- name: CALICO_IPV4POOL_CIDR</span><br><span class="line">    value: <span class="string">"10.244.0.0/16"</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl apply -f calico.yaml</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>But there is still some bugs those are fixed in <a href="#jump">Debug Section</a>.</p>
</li>
</ul>
</li>
<li><p>Complete the master ande node1, node2 <em>(need to wait for a while)</em></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">boom@master:~$ kubectl get pods -A -o wide</span><br><span class="line">NAMESPACE     NAME                                       READY   STATUS    RESTARTS      AGE     IP                NODE     NOMINATED NODE   READINESS GATES</span><br><span class="line">kube-system   calico-kube-controllers-6d668dcdd6-gbrfq   1/1     Running   0             57m     10.244.104.3      node2    &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   calico-node-f8jwx                          1/1     Running   0             5m21s   192.168.254.130   node1    &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   calico-node-gvs6h                          1/1     Running   0             57m     192.168.254.131   node2    &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   calico-node-qk946                          1/1     Running   1 (45m ago)   57m     192.168.254.129   master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   coredns-66f779496c-6b4rw                   1/1     Running   2 (45m ago)   7h53m   10.244.219.66     master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   coredns-66f779496c-xszmj                   1/1     Running   2 (45m ago)   7h53m   10.244.219.65     master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   etcd-master                                1/1     Running   2 (45m ago)   7h54m   192.168.254.129   master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   kube-apiserver-master                      1/1     Running   2 (45m ago)   7h54m   192.168.254.129   master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   kube-controller-manager-master             1/1     Running   2 (45m ago)   7h54m   192.168.254.129   master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   kube-proxy-ff75p                           1/1     Running   0             86m     192.168.254.131   node2    &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   kube-proxy-r87hl                           1/1     Running   2 (45m ago)   7h53m   192.168.254.129   master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   kube-proxy-zgnjd                           1/1     Running   0             5m21s   192.168.254.130   node1    &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kube-system   kube-scheduler-master                      1/1     Running   2 (45m ago)   7h54m   192.168.254.129   master   &lt;none&gt;           &lt;none&gt;</span><br><span class="line"></span><br><span class="line">boom@master:~$ kubectl get nodes</span><br><span class="line">NAME     STATUS   ROLES           AGE     VERSION    INTERNAL-IP       EXTERNAL-IP   OS-IMAGE             KERNEL-VERSION      CONTAINER-RUNTIME</span><br><span class="line">master   Ready    control-plane   7h58m   v1.28.10   192.168.254.129   &lt;none&gt;        Ubuntu 18.04.6 LTS   5.4.0-150-generic   docker://24.0.2</span><br><span class="line">node1    Ready    &lt;none&gt;          10m     v1.28.10   192.168.254.130   &lt;none&gt;        Ubuntu 18.04.6 LTS   5.4.0-150-generic   docker://24.0.2</span><br><span class="line">node2    Ready    &lt;none&gt;          90m     v1.28.10   192.168.254.131   &lt;none&gt;        Ubuntu 18.04.6 LTS   5.4.0-150-generic   docker://24.0.2</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Dashboard</p>
<ul>
<li><p>Download the <code>Dashboard</code> plugin</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">curl -O https://raw.githubusercontent.com/kubernetes/dashboard/v2.4.0/aio/deploy/recommended.yaml</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Modify the <code>recommended.yaml</code> file, add the <code>type: NodePort</code> to the <code>Service</code> section, then apply the <code>Dashboard</code> plugin.</p>
<figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">kind:</span> <span class="string">Service</span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">v1</span></span><br><span class="line"><span class="attr">metadata:</span></span><br><span class="line">  <span class="attr">labels:</span></span><br><span class="line">    <span class="attr">k8s-app:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line">  <span class="attr">name:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line">  <span class="attr">namespace:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line"><span class="attr">spec:</span></span><br><span class="line">  <span class="attr">ports:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">port:</span> <span class="number">443</span></span><br><span class="line">      <span class="attr">targetPort:</span> <span class="number">8443</span></span><br><span class="line">  <span class="attr">selector:</span></span><br><span class="line">    <span class="attr">k8s-app:</span> <span class="string">kubernetes-dashboard</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">NodePort</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl apply -f recommended.yaml</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Check the <code>Dashboard</code> plugin, but the <code>Pod</code> is in the <code>Pending</code> state.</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl get pod -n kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">NAMESPACE              NAME                                         READY   STATUS    RESTARTS      AGE     IP                NODE     NOMINATED NODE   READINESS GATES</span><br><span class="line">kubernetes-dashboard   dashboard-metrics-scraper-5657497c4c-rvfnh   1/1     Running   0             3m51s   10.244.166.130    node1    &lt;none&gt;           &lt;none&gt;</span><br><span class="line">kubernetes-dashboard   kubernetes-dashboard-78f87ddfc-52msp         1/1     Running   0             3m51s   10.244.166.129    node1    &lt;none&gt;           &lt;none&gt;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Get the port of the <code>Dashboard</code> plugin, get <code>32000</code> <strong>(will change every time you apply the <code>Dashboard</code> plugin, so you need to check it every time).</strong></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl get svc -n kubernetes-dashboard</span><br><span class="line"></span><br><span class="line">NAME                        TYPE        CLUSTER-IP       EXTERNAL-IP   PORT(S)         AGE</span><br><span class="line">dashboard-metrics-scraper   ClusterIP   10.105.243.112   &lt;none&gt;        8000/TCP        2m42s</span><br><span class="line">kubernetes-dashboard        NodePort    10.99.228.207    &lt;none&gt;        443:32000/TCP   2m43s</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Access the <code>Dashboard</code> plugin, use the <code>master</code> nodeâ€™s IP and the <code>NodePort</code> port.</p>
</li>
</ul>
<p><img src="https://www.lingzhicheng.cn/usr/file/picture/k8s/k8sDashboardLogin.jpg" alt="DashboardLogin"></p>
<ul>
<li><p>Create a <code>Dashboard</code> user, and get the token. (Or you can use the <code>kubeconfig</code> file)</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># Create a service account</span></span><br><span class="line">kubectl create serviceaccount dashboard-admin -n kubernetes-dashboard</span><br><span class="line"><span class="comment"># Create a cluster role binding</span></span><br><span class="line">kubectl create clusterrolebinding dashboard-admin --clusterrole=cluster-admin --serviceaccount=kubernetes-dashboard:dashboard-admin</span><br><span class="line"><span class="comment"># Get the token</span></span><br><span class="line">kubectl create token dashboard-admin -n kubernetes-dashboard</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<p><img src="https://www.lingzhicheng.cn/usr/file/picture/k8s/k8sWorkloads.jpg" alt="DashboardWorkloads"></p>
</li>
</ul>
<h2 id="6-Debug"><a href="#6-Debug" class="headerlink" title="6.  Debug"></a>6.  <span id="jump">Debug</span></h2><ul>
<li><p>The pod <code>kube-proxy</code> is in <code>ContainerCreating</code> status for a long timeã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl  describe pod kube-proxy-4pkw4 -n kube-system</span><br><span class="line"></span><br><span class="line">Events:</span><br><span class="line">Type     Reason                  Age                   From               Message</span><br><span class="line">----     ------                  ----                  ----               -------</span><br><span class="line">Normal   Scheduled               12m                   default-scheduler  Successfully assigned kube-system/kube-proxy-4pkw4 to node2</span><br><span class="line">Warning  FailedCreatePodSandBox  4m52s (x2 over 6m1s)  kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed pulling image <span class="string">"registry.k8s.io/pause:3.9"</span>: Error response from daemon: Head <span class="string">"https://europe-west2-docker.pkg.dev/v2/k8s-artifacts-prod/images/pause/manifests/3.9"</span>: dial tcp 108.177.125.82:443: connect: connection refused</span><br><span class="line">Warning  FailedCreatePodSandBox  44s (x8 over 10m)     kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed pulling image <span class="string">"registry.k8s.io/pause:3.9"</span>: Error response from daemon: Head <span class="string">"https://us-west2-docker.pkg.dev/v2/k8s-artifacts-prod/images/pause/manifests/3.9"</span>: dial tcp 108.177.97.82:443: connect: connection refused</span><br><span class="line">Warning  FailedCreatePodSandBox  10s (x11 over 11m)    kubelet            Failed to create pod sandbox: rpc error: code = Unknown desc = failed pulling image <span class="string">"registry.k8s.io/pause:3.9"</span>: Error response from daemon: Head <span class="string">"https://asia-east1-docker.pkg.dev/v2/k8s-artifacts-prod/images/pause/manifests/3.9"</span>: dial tcp 74.125.23.82:443: connect: connection refused</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>æŸ¥ä¸€ä¸‹åº”è¯¥æ˜¯<code>pause</code>çš„é•œåƒæ‹‰å–å¤±è´¥ã€‚ä½†æ˜¯å·²ç»åœ¨ä¸Šæ–‡ï¼Œ<code>/etc/systemd/system/cri-docker.service</code>ä¸­çš„<code>ExecStart</code>ä¸­æ·»åŠ äº†<code>pause</code>çš„é•œåƒï¼Œæœ‰å¯èƒ½æ˜¯æ²¡æœ‰é‡å¯<code>cri-dockerd</code>æœåŠ¡ï¼Œå¯¼è‡´é•œåƒæ²¡æœ‰ç”Ÿæ•ˆï¼›æˆ–è€…æ˜¯æ²¡æœ‰é‡æ–°åŠ è½½systemdç®¡ç†çš„æœåŠ¡å•å…ƒæ–‡ä»¶ã€‚<em>ä¿®å¤ååŠ è½½æˆåŠŸäº†</em></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo systemctl daemon-reload</span><br><span class="line">sudo systemctl restart cri-docker</span><br><span class="line"></span><br><span class="line">kubectl  describe pod kube-proxy-4pkw4 -n kube-system</span><br><span class="line"></span><br><span class="line">Events:</span><br><span class="line">Type    Reason     Age    From               Message</span><br><span class="line">----    ------     ----   ----               -------</span><br><span class="line">Normal  Scheduled  5m24s  default-scheduler  Successfully assigned kube-system/kube-proxy-ff75p to node2</span><br><span class="line">Normal  Pulling    5m22s  kubelet            Pulling image <span class="string">"registry.aliyuncs.com/google_containers/kube-proxy:v1.28.0"</span></span><br><span class="line">Normal  Pulled     5m16s  kubelet            Successfully pulled image <span class="string">"registry.aliyuncs.com/google_containers/kube-proxy:v1.28.0"</span> <span class="keyword">in</span> 6.031s (6.032s including waiting)</span><br><span class="line">Normal  Created    5m16s  kubelet            Created container kube-proxy</span><br><span class="line">Normal  Started    5m16s  kubelet            Started container kube-proxy</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>The pod <code>calico-node-fcdmn</code> is in <code>Init:ImagePullBackOff</code> status for a long time, æŸ¥ä¸€ä¸‹åº”è¯¥æ˜¯<code>calico</code>çš„é•œåƒæ‹‰å–å¤±è´¥</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl  describe pod calico-node-fcdmn -n kube-system</span><br><span class="line"></span><br><span class="line">Events:</span><br><span class="line">Type     Reason     Age                  From               Message</span><br><span class="line">----     ------     ----                 ----               -------</span><br><span class="line">Normal   Scheduled  57m                  default-scheduler  Successfully assigned kube-system/calico-node-fcdmn to node1</span><br><span class="line">Normal   Pulling    50m (x4 over 56m)    kubelet            Pulling image <span class="string">"docker.io/calico/cni:v3.25.0"</span></span><br><span class="line">Warning  Failed     49m (x4 over 55m)    kubelet            Error: ErrImagePull</span><br><span class="line">Warning  Failed     48m (x7 over 55m)    kubelet            Error: ImagePullBackOff</span><br><span class="line">Warning  Failed     21m (x9 over 55m)    kubelet            Failed to pull image <span class="string">"docker.io/calico/cni:v3.25.0"</span>: rpc error: code = Canceled desc = context canceled</span><br><span class="line">Normal   BackOff    11m (x127 over 55m)  kubelet            Back-off pulling image <span class="string">"docker.io/calico/cni:v3.25.0"</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>æŸ¥ä¸€ä¸‹è¿˜æ˜¯é•œåƒæºçš„é—®é¢˜ï¼Œè™½ç„¶ç»™dockeré…ç½®äº†é˜¿é‡Œäº‘çš„é•œåƒæºï¼Œä½†æ˜¯<code>calico</code>çš„é•œåƒè¿˜æ˜¯ä»<code>docker.io</code>æ‹‰å–ï¼Œæ‰€ä»¥æ€€ç–‘æ˜¯Calicoæ¸…å•æ–‡ä»¶å‡ºäº†é—®é¢˜ï¼Œçœ‹ä¸€ä¸‹æœç„¶æ˜¯ï¼Œç½‘ä¸Šä¸€å †å±…ç„¶éƒ½ä¸è§£å†³è¿™ä¸ªé—®é¢˜èƒ½æˆåŠŸåŠ è½½çš„ï¼Œçœ‹å‡ºæ¥å¥½å¤šéƒ½æ˜¯ä¸œæ‹¼è¥¿å‡‘çš„Tutorialã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> calico.yaml |grep <span class="string">'image:'</span></span><br><span class="line"></span><br><span class="line">image: docker.io/calico/cni:v3.25.0</span><br><span class="line">image: docker.io/calico/cni:v3.25.0</span><br><span class="line">image: docker.io/calico/node:v3.25.0</span><br><span class="line">image: docker.io/calico/node:v3.25.0</span><br><span class="line">image: docker.io/calico/kube-controllers:v3.25.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># æ›¿æ¢æ‰æ‰€æœ‰'docker.io'çš„å‰ç¼€ä¸ºç©º</span></span><br><span class="line">sed -i <span class="string">'s#docker.io/##g'</span> calico.yaml</span><br><span class="line"><span class="comment"># é‡æ–°æ£€æŸ¥</span></span><br><span class="line"><span class="built_in">cat</span> calico.yaml |grep <span class="string">'image:'</span></span><br><span class="line">image: calico/cni:v3.25.0</span><br><span class="line">image: calico/cni:v3.25.0</span><br><span class="line">image: calico/node:v3.25.0</span><br><span class="line">image: calico/node:v3.25.0</span><br><span class="line">image: calico/kube-controllers:v3.25.0</span><br><span class="line"></span><br><span class="line"><span class="comment"># é‡å¯calico</span></span><br><span class="line">kubectl delete -f calico.yaml</span><br><span class="line">kubectl apply -f calico.yaml</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="7-Add-service"><a href="#7-Add-service" class="headerlink" title="7. Add service"></a>7. Add service</h2><ul>
<li><p>Nginx <em>(for example, nginx-deployment.yaml)</em></p>
<figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span>  </span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>  </span><br><span class="line"><span class="attr">metadata:</span>  </span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-deployment-1</span>  </span><br><span class="line"><span class="attr">spec:</span>  </span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span>  </span><br><span class="line">  <span class="attr">selector:</span>  </span><br><span class="line">    <span class="attr">matchLabels:</span>  </span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-1</span>  </span><br><span class="line">  <span class="attr">template:</span>  </span><br><span class="line">    <span class="attr">metadata:</span>  </span><br><span class="line">      <span class="attr">labels:</span>  </span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-1</span>  </span><br><span class="line">    <span class="attr">spec:</span>  </span><br><span class="line">      <span class="attr">containers:</span>  </span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span>  </span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:latest</span>  </span><br><span class="line">        <span class="attr">ports:</span>  </span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span>  </span><br><span class="line"><span class="meta">---  </span></span><br><span class="line"><span class="attr">apiVersion:</span> <span class="string">apps/v1</span>  </span><br><span class="line"><span class="attr">kind:</span> <span class="string">Deployment</span>  </span><br><span class="line"><span class="attr">metadata:</span>  </span><br><span class="line">  <span class="attr">name:</span> <span class="string">nginx-deployment-2</span>  </span><br><span class="line"><span class="attr">spec:</span>  </span><br><span class="line">  <span class="attr">replicas:</span> <span class="number">3</span>  </span><br><span class="line">  <span class="attr">selector:</span>  </span><br><span class="line">    <span class="attr">matchLabels:</span>  </span><br><span class="line">      <span class="attr">app:</span> <span class="string">nginx-2</span>  </span><br><span class="line">  <span class="attr">template:</span>  </span><br><span class="line">    <span class="attr">metadata:</span>  </span><br><span class="line">      <span class="attr">labels:</span>  </span><br><span class="line">        <span class="attr">app:</span> <span class="string">nginx-2</span>  </span><br><span class="line">    <span class="attr">spec:</span>  </span><br><span class="line">      <span class="attr">containers:</span>  </span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">nginx</span>  </span><br><span class="line">        <span class="attr">image:</span> <span class="string">nginx:latest</span>  </span><br><span class="line">        <span class="attr">ports:</span>  </span><br><span class="line">        <span class="bullet">-</span> <span class="attr">containerPort:</span> <span class="number">80</span>  </span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Apply the <code>Nginx</code> service</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">kubectl apply -f nginx-deployment.yaml</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="8-Stop-and-restart-the-cluster"><a href="#8-Stop-and-restart-the-cluster" class="headerlink" title="8. Stop and restart the cluster"></a>8. Stop and restart the cluster</h2><ul>
<li><p>Stop the cluster</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">systemctl stop kubelet </span><br><span class="line">systemctl stop etcd </span><br><span class="line">systemctl stop docker</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Restart the cluster</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">systemctl start docker</span><br><span class="line">systemctl start etcd</span><br><span class="line">systemctl start kubelet</span><br><span class="line">systemctl status docker etcd kubelet</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<!-- markdownlint-disable-file MD025 MD028 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Docker</tag>
        <tag>Kubernetes</tag>
      </tags>
  </entry>
  <entry>
    <title>Band-limited noiseless channel</title>
    <url>/2021/05/25/Band-limited%20noiseless%20channel/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<h3 id="Consider-a-band-limited-noiseless-channel-The-channel-response-in-frequency-domain-is-H-f-1-f-â‰¤3Hz-otherwise-H-f-0"><a href="#Consider-a-band-limited-noiseless-channel-The-channel-response-in-frequency-domain-is-H-f-1-f-â‰¤3Hz-otherwise-H-f-0" class="headerlink" title="Consider a band-limited noiseless channel. The channel response in frequency domain is H(f)=1, |f|â‰¤3Hz, otherwise, H(f)=0"></a>Consider a band-limited noiseless channel. The channel response in frequency domain is H(f)=1, |f|â‰¤3Hz, otherwise, H(f)=0</h3><p><span class="github-emoji"><span>â˜”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2614.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•¦</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f566.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<span id="more"></span>
<hr>
<h3 id="memo-Code"><a href="#memo-Code" class="headerlink" title=":memo: Code"></a><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Code</h3><ul>
<li><em>main.m</em></li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% Simulate the band-limited channel.</span></span><br><span class="line"></span><br><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line"></span><br><span class="line">Ts = <span class="number">1</span>;                 <span class="comment">% Symbol interval.</span></span><br><span class="line">Tb = Ts/<span class="number">3</span>;              <span class="comment">% Bit interval.</span></span><br><span class="line">fs = <span class="number">1000</span>;              <span class="comment">% Sampling rate.</span></span><br><span class="line">dt = <span class="number">1</span>/fs;              <span class="comment">% Sampling interval.</span></span><br><span class="line">N = <span class="number">10</span>;                 <span class="comment">% Number of symbols.</span></span><br><span class="line">t = -N/<span class="number">2</span> : dt : N/<span class="number">2</span>;    <span class="comment">% Sequence transmission time. </span></span><br><span class="line">m = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>];  <span class="comment">% Equally spaced.</span></span><br><span class="line">Am = <span class="number">-3.5</span>+m;            <span class="comment">% The amplitude of the m-th waveform.</span></span><br><span class="line"></span><br><span class="line"><span class="comment">%% Task(1) Randomly generate a sequence of ten 8-PAM signals.</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">length</span>(t)</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">fix</span>((<span class="built_in">i</span><span class="number">-1</span>)/fs)==((<span class="built_in">i</span><span class="number">-1</span>)/fs))</span><br><span class="line">        temp=randi(<span class="number">7</span>);</span><br><span class="line">        Sm(<span class="built_in">i</span>)=Am(temp);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        Sm(<span class="built_in">i</span>)=Sm(<span class="built_in">i</span><span class="number">-1</span>);</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">[f,Sf] = T2F(t,Sm);      <span class="comment">% TF</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,Sm);</span><br><span class="line">xlabel(<span class="string">'t'</span>);ylabel(<span class="string">'Amplitude '</span>); </span><br><span class="line">title(<span class="string">'8-PAM waveform'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(f,<span class="built_in">abs</span>(Sf));</span><br><span class="line">xlabel(<span class="string">'f/Ts'</span> );ylabel(<span class="string">''</span>);</span><br><span class="line">title(<span class="string">'8-PAM spectrum'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">%% Task(2) Consider a band-limited noiseless channel.</span></span><br><span class="line"><span class="comment">% Generate a band-limited noiseless channel H(f)=1, |f|â‰¤3Hz.</span></span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span> : <span class="built_in">length</span>(f)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(f(k))&gt;<span class="number">3</span></span><br><span class="line">        Hf1(k)=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        Hf1(k)=Ts;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">for</span> k = <span class="number">1</span> : <span class="built_in">length</span>(f)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(f(k))&gt;<span class="number">300</span></span><br><span class="line">        Hf2(k)=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        Hf2(k)=Ts;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% Plot the band-limited noiseless channel.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(f,Hf1,f,Hf2);</span><br><span class="line">grid on;</span><br><span class="line">xlabel (<span class="string">'f/Ts'</span>); ylabel(<span class="string">'Noiseless channel spectrum'</span>);</span><br><span class="line">axis([ - <span class="number">400</span> <span class="number">400</span> <span class="number">0</span>  <span class="number">1.2</span>]);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">'cut-off f=3'</span>,<span class="string">'cut-off f=300'</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">% Passing through this channel.</span></span><br><span class="line">value_t=t(<span class="number">1</span>);</span><br><span class="line">Xf1 = Sf.*Hf1;</span><br><span class="line">Xf1 = Xf1.*<span class="built_in">exp</span>(<span class="number">1</span><span class="built_in">i</span>*<span class="number">2</span>*<span class="built_in">pi</span>*f*value_t);</span><br><span class="line">[t,Xt1] = F2T(f,Xf1);      <span class="comment">% FT</span></span><br><span class="line"></span><br><span class="line">Xf2 = Sf.*Hf2;</span><br><span class="line">Xf2 = Xf2.*<span class="built_in">exp</span>(<span class="number">1</span><span class="built_in">i</span>*<span class="number">2</span>*<span class="built_in">pi</span>*f*value_t);</span><br><span class="line">[t,Xt2] = F2T(f,Xf2);      <span class="comment">% FT</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">4</span>)</span><br><span class="line">subplot(<span class="number">121</span>)</span><br><span class="line"><span class="built_in">plot</span>(f,<span class="built_in">abs</span>(Xf1));</span><br><span class="line">xlabel(<span class="string">'f/Ts'</span>);ylabel(<span class="string">''</span>); </span><br><span class="line">axis([ <span class="number">-5</span> <span class="number">5</span> <span class="number">0</span> <span class="number">6</span>]);</span><br><span class="line">title(<span class="string">'8-PAM waveform passomg noiseless channel spectrum'</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">'cut-off f=3'</span>);</span><br><span class="line">subplot(<span class="number">122</span>)</span><br><span class="line"><span class="built_in">plot</span>(f,<span class="built_in">abs</span>(Xf2));</span><br><span class="line">xlabel(<span class="string">'f/Ts'</span>);ylabel(<span class="string">''</span>); </span><br><span class="line">axis([ <span class="number">-50</span> <span class="number">50</span> <span class="number">0</span> <span class="number">6</span>]);</span><br><span class="line">title(<span class="string">'8-PAM waveform passomg noiseless channel spectrum'</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">'cut-off f=300'</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">5</span>)</span><br><span class="line">subplot(<span class="number">121</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,<span class="built_in">real</span>(Xt1));</span><br><span class="line">axis([ <span class="number">0</span> N <span class="number">-4</span> <span class="number">4</span>]);</span><br><span class="line">xlabel(<span class="string">'t'</span>);ylabel(<span class="string">'Amplitude'</span>); </span><br><span class="line">title(<span class="string">'8-PAM waveform passing noiseless channel waveform'</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">'cut-off f=3'</span>);</span><br><span class="line"></span><br><span class="line">subplot(<span class="number">122</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,<span class="built_in">real</span>(Xt2));</span><br><span class="line">axis([ <span class="number">0</span> N <span class="number">-4</span> <span class="number">4</span>]);</span><br><span class="line">xlabel(<span class="string">'t'</span>);ylabel(<span class="string">'Amplitude'</span>); </span><br><span class="line">title(<span class="string">'8-PAM waveform passing noiseless channel waveform'</span>);</span><br><span class="line"><span class="built_in">legend</span>(<span class="string">'cut-off f=300'</span>);</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><em>T2F.m</em></li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[f,sf]</span>=<span class="title">T2F</span><span class="params">(t,st)</span></span></span><br><span class="line"><span class="comment">%input is time and the signal vectors</span></span><br><span class="line"><span class="comment">%output is freguency and signal spectrum</span></span><br><span class="line"></span><br><span class="line">dt=t(<span class="number">2</span>)-t(<span class="number">1</span>);</span><br><span class="line">T=t(<span class="keyword">end</span>)-t(<span class="number">1</span>)+dt;</span><br><span class="line">df=<span class="number">1</span>/T; <span class="comment">%smapling rate</span></span><br><span class="line">N=<span class="built_in">length</span>(st);</span><br><span class="line"></span><br><span class="line">f=-N/<span class="number">2</span>*df:df:(N/<span class="number">2</span><span class="number">-1</span>)*df; <span class="comment">%é¢‘åŸŸæŠ½æ ·ç‚¹</span></span><br><span class="line">sf=fft(st);</span><br><span class="line">sf=T/N*fftshift(sf).*<span class="built_in">exp</span>(-<span class="built_in">j</span>*<span class="number">2</span>*<span class="built_in">pi</span>*f*t(<span class="number">1</span>));   <span class="comment">%è¡¥å¿æ—¶é—´ç§»ä½</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><em>F2T.m</em></li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% Inverse Fourier Transform</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[t,st]</span> = <span class="title">F2T</span><span class="params">(f,sf)</span></span></span><br><span class="line"><span class="comment">% output is time ande signal sequence</span></span><br><span class="line"><span class="comment">% input is frequency and signal spectrum</span></span><br><span class="line"></span><br><span class="line">df = f(<span class="number">2</span>) - f(<span class="number">1</span>);</span><br><span class="line">Fmx = f(<span class="keyword">end</span>) - f(<span class="number">1</span>) + df;</span><br><span class="line">dt = <span class="number">1</span>/Fmx;                 <span class="comment">% sampling rate</span></span><br><span class="line">N = <span class="built_in">length</span>(sf);</span><br><span class="line">T = N*dt;</span><br><span class="line"></span><br><span class="line">t = <span class="number">0</span>:dt:T-dt;              <span class="comment">% time sequence</span></span><br><span class="line">sff = ifftshift(sf);</span><br><span class="line">st = Fmx*ifft(sff);</span><br></pre></td></tr></tbody></table></figure>
<h3 id="chart-Fig"><a href="#chart-Fig" class="headerlink" title=":chart: Fig"></a><span class="github-emoji"><span>ğŸ’¹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b9.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Fig</h3><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Band_limited_channel/8-PAM_waveform.png" alt="Fig.1  8-PAM waveform."></p>
<p></p><center><font size="2">Fig.1  8-PAM waveform.</font></center><br><br><br><br><p></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Band_limited_channel/8-PAM_spectrum.png" alt="Fig.2  8-PAM spectrum."></p>
<p></p><center><font size="2">Fig.2  8-PAM spectrum.</font></center><br><br><br><br><p></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Band_limited_channel/Noiseless_channel_spectrum.png" alt="Fig.3  Noiseless channel spectrum."></p>
<p></p><center><font size="2">Fig.3  Noiseless channel spectrum.</font></center><br><br><br><br><p></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Band_limited_channel/8-PAM_waveform_passing_noiseless_channel_spectrum.png" alt="Fig.4  8-PAM waveform passing noiseless channel spectrum."></p>
<p></p><center><font size="2">Fig.4  8-PAM waveform passing noiseless channel spectrum.</font></center><br><br><br><br><p></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Band_limited_channel/8-PAM_waveform_passing_noiseless_channel_waveform.png" alt="Fig.5  8-PAM waveform passing noiseless channel waveform."></p>
<p></p><center><font size="2">Fig.5  8-PAM waveform passing noiseless channel waveform.</font></center><br><br><br><br><p></p>
<h3 id="grey-question-Discussion"><a href="#grey-question-Discussion" class="headerlink" title=":grey_question: Discussion"></a><span class="github-emoji"><span>â”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2754.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Discussion</h3><ol>
<li>The response of the noise-free band-limited channel is lower than the rectangular window of H(f)=1 at the cut-off frequency. After the 8-PAM signal passes through the band-limited channel, the high-frequency information is filtered out, and the restored information waveform becomes smooth; if continue to increase the cut-off frequency, the restored signal waveform will contain more original information, and the same bit error rate will decrease accordingly.</li>
<li>The result of time domain convolution is the same as the result of inverse Fourier transform after frequency multiplication.</li>
<li>Under a band-limited noiseless channel, the larger the passband, the smoother the signal.<!-- markdownlint-disable-file MD025 MD033 -->
</li>
</ol>
]]></content>
      <categories>
        <category>Communication</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>Matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>Gitå¸¸ç”¨æ“ä½œ</title>
    <url>/2021/03/25/Git%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ³</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f433.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æ€»ç»“Gitæ—¥å¸¸åŸºæœ¬æ“ä½œï¼Œä¸å®šæ—¶æ·»åŠ ä¸€äº›é‡åˆ°çš„é—®é¢˜ï¼Œä»¥åŠä»å°ç™½å…¥é—¨è¿æ¥æœ¬åœ°gitå’Œgithubç­‰<br><span class="github-emoji"><span>ğŸ””</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f514.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>é»˜è®¤å·²æœ‰Githubæˆ–Giteeç­‰è´¦å·,å·²ä¸‹è½½å®‰è£…git</p>
<ul>
<li><p><a href="#LocalGit">æœ¬åœ°<span class="github-emoji"><span>ğŸ’»</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Gité…ç½®</a></p>
<blockquote>
<p><a href="#UserInfo"><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>é…ç½®ç”¨æˆ·ä¿¡æ¯</a></p>
<p><a href="#SSH"><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ç”ŸæˆSSH Key</a></p>
</blockquote>
</li>
<li><p><a href="#UploadRepo">Upload repositories from <span class="github-emoji"><span>ğŸ’»</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>to<span class="github-emoji"><span>â˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2601.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></a></p>
</li>
<li><p><a href="#CloneRepo">Clone repositories from <span class="github-emoji"><span>â˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2601.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>to<span class="github-emoji"><span>ğŸ’»</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></a></p>
</li>
<li><p><a href="#GitBasic"><span class="github-emoji"><span>ğŸ“˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>GitåŸºæœ¬æŒ‡ä»¤æ±‡æ€»</a></p>
</li>
</ul>
<span id="more"></span>
<hr>
<h2 id="LocalGit">ä¸€ã€æœ¬åœ°Gité…ç½®</h2>

<h3 id="UserInfo">1.1é…ç½®ç”¨æˆ·ä¿¡æ¯</h3>

<ul>
<li>Git bash here<br>  <code>$ git config --global user.name "boom1999"</code><br>  <code>$ git config --global user.email "lingzhicheng@zjut.edu.cn"</code><br>  <code>$ git config --list</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/UserInfo.png" alt="UserInfo"></p>
<h3 id="SSH">1.2ç”ŸæˆSSH Key</h3>

<ul>
<li>Git bash here<br>  <code>$ ssh-keygen -t rsa -C "lingzhicheng@zjut.edu.cn"</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/SSHKey.png" alt="SSHKey"></p>
<ul>
<li>æ·»åŠ SSH Key<blockquote>
<p>å°†æç¤ºä½ç½®(/c/Users/xxx/.ssh/id_rsa)çš„å…¬é’¥ï¼ˆid_rsa.pubï¼‰å†…å®¹å¤åˆ¶ç²˜è´´è‡³github &gt; setting &gt; SSH and GPG keys&gt; key<br>æ³¨æ„ä¸è¦å¼„æ··å…¬é’¥å’Œç§é’¥<br>è‹¥åªåœ¨æŸä¸€ä¸ªRepoä¸­ä½¿ç”¨ï¼Œå¯åœ¨æ­¤Repoä¸­setting &gt; Deploy Keysä¸­æ·»åŠ å…¬é’¥</p>
</blockquote>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/DeployKeys.png" alt="DeployKeys"></p>
<h2 id="UploadRepo">äºŒã€ä»æœ¬åœ°ä¸Šä¼ Repositories</h2>

<h3 id="memo-æœ¬åœ°åˆ›å»ºRepo"><a href="#memo-æœ¬åœ°åˆ›å»ºRepo" class="headerlink" title=":memo:æœ¬åœ°åˆ›å»ºRepo"></a><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æœ¬åœ°åˆ›å»ºRepo</h3><ul>
<li>æ–°å»ºç›®å½•/é€‰æ‹©ç›®å½•</li>
<li>Git bash here è¿›å…¥å‘½ä»¤è¡Œæ“ä½œ<blockquote>
<p>æ–°å»ºæ–‡ä»¶<br>  <code>$ mkdir æ–‡ä»¶å</code><br>è¿›å…¥æ–‡ä»¶å¤¹<br>  <code>$ cd æ–‡ä»¶å</code></p>
</blockquote>
</li>
<li>åˆå§‹åŒ–gitä»“åº“<br>  <code>$ git init</code></li>
<li>æŸ¥çœ‹æ–‡ä»¶å†…å®¹æ£€æŸ¥æ˜¯å¦é…ç½®æˆåŠŸ<br>  <code>$ ls -la</code></li>
</ul>
<blockquote>
<p>è‡³æ­¤gitä»“åº“åˆå§‹åŒ–ç»“æŸï¼Œé»˜è®¤å«masteråˆ†æ”¯</p>
</blockquote>
<ul>
<li>æ–°å»ºæµ‹è¯•ï¼ˆdevï¼‰åˆ†æ”¯<br>  <code>$ git checkout -b dev</code></li>
<li>æ£€æŸ¥gitçŠ¶æ€<br>  <code>$ git status</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitInit.png" alt="GitInit"></p>
<ul>
<li>ä½¿ç”¨ç¼–è¾‘å™¨åœ¨æ–‡ä»¶å¤¹ä¸­ç¼–è¾‘å†…å®¹ï¼Œæµ‹è¯•å’Œæ‰§è¡Œ</li>
<li>æäº¤æ–‡ä»¶è‡³ç¼“å­˜åŒº(ç”¨<code>git add .</code>æäº¤ç›®å½•ä¸‹æ‰€æœ‰æ–‡ä»¶)<br>  <code>$ git add index.md</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitAdd.png" alt="GitAdd"></p>
<ul>
<li>æ’¤é”€ç¼“å­˜å†…å®¹<br>  <code>$ git rm --cached index.md</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitRm.png" alt="GitRm"></p>
<ul>
<li>å‘å¸ƒç‰ˆæœ¬<br>  <code>$ git commit -m 'This is a commit.'</code></li>
<li>æŸ¥çœ‹ç‰ˆæœ¬æ—¥å¿—ï¼ˆâ€”graphï¼‰<br>  <code>$ git log</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitCommit.png" alt="GitCommit"></p>
<ul>
<li>å°†æµ‹è¯•åˆ†æ”¯åˆå¹¶åˆ°ä¸»åˆ†æ”¯<blockquote>
<p>åˆ‡æ¢å›ä¸»åˆ†æ”¯<br>  <code>$ git checkout master</code><br>æ‰§è¡Œåˆå¹¶æ“ä½œ<br>  <code>$ git merge dev</code><br>åˆ é™¤devåˆ†æ”¯<br>  <code>$ git branch -d dev</code></p>
</blockquote>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitMerge.png" alt="GitMerge"></p>
<h3 id="computer-Repoä¸Šä¼ "><a href="#computer-Repoä¸Šä¼ " class="headerlink" title=":computer:Repoä¸Šä¼ "></a><span class="github-emoji"><span>ğŸ’»</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Repoä¸Šä¼ </h3><ul>
<li>åœ¨Githubä¸Šæ–°å»ºé¡¹ç›®ï¼Œå¤åˆ¶ç”Ÿæˆé¡¹ç›®å¯¹åº”çš„SSHåœ°å€</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitDemo.png" alt="GitDemo"></p>
<p><code>$ git remote add origin git@github.com:boom1999/gitdemo.git</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitDemoUpload.png" alt="GitDemoUpload"></p>
<ul>
<li>ç¬¬ä¸€æ¬¡æ¨é€æœ¬åœ°åˆ†æ”¯(+uå°†æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯å…³è”)<br>  <code>$ git push -u origin master</code></li>
<li>ä»¥åæ¨é€æœ¬åœ°åˆ†æ”¯<br>  <code>$ git push origin master</code></li>
<li>æ¨é€å…¶ä»–åˆ†æ”¯ï¼ˆå¦‚devï¼‰<br>  <code>$ git push origin dev</code></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Git/GitRemote.png" alt="GitRemote"></p>
<blockquote>
<p>è‹¥æœ‰æç¤ºğŸ‘‡ï¼Œè¯·å‚ç…§ä¸Šæ–‡é…ç½®SSH Keys</p>
</blockquote>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">ERROR: Permission to boom1999/gitdemo.git denied to deploy key</span><br><span class="line">fatal: Could not read from remote repository.</span><br><span class="line"></span><br><span class="line">Please make sure you have the correct access rights</span><br><span class="line">and the repository exists.</span><br></pre></td></tr></tbody></table></figure>
<h2 id="CloneRepo">ä¸‰ã€ä»è¿œç¨‹clone Repositoriesåˆ°æœ¬åœ°</h2>

<ul>
<li>è¿™æ˜¯ç¬¬äºŒç§æ–¹å¼ï¼Œå³ç°åœ¨GitHubä¸Šåˆ›å»ºé¡¹ç›®ï¼Œæˆ–ä»å·²æœ‰çš„é¡¹ç›®cloneåˆ°å¦ä¸€å°æœºå™¨ã€‚</li>
<li>åœ¨Githubä¸Šæ–°å»ºé¡¹ç›®ï¼Œå¤åˆ¶ç”Ÿæˆé¡¹ç›®å¯¹åº”çš„SSHåœ°å€<br><code>$ git clone git@github.com:boom1999/gitdemo.git</code><br><code>$ cd gitdemo</code><br><code>$ ls -la</code></li>
</ul>
<h2 id="GitBasic">å››ã€GitåŸºæœ¬æŒ‡ä»¤æ±‡æ€»</h2>

<ul>
<li>é…ç½®å…¨å±€ä¸ªäººä¿¡æ¯</li>
</ul>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">git config --global user.name "your user name"    </span><br><span class="line">git config --global user.email "your email address"</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><span class="github-emoji"><span>ğŸ¯</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f3af.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>More</li>
</ul>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line">git config --list       //æ˜¾ç¤ºæ‰€æœ‰é…ç½®åˆ—è¡¨</span><br><span class="line">ls                      //æ˜¾ç¤ºç›®å½•ä¸‹å¯è§æ–‡ä»¶ </span><br><span class="line">ls -la                  //æ˜¾ç¤ºå½“å‰ç›®å½•æ‰€æœ‰æ–‡ä»¶åŒ…æ‹¬éšè—æ–‡ä»¶</span><br><span class="line">ls | grep *.js          //é€šè¿‡ç®¡é“ç­›é€‰æ‰€æœ‰jsæ–‡ä»¶</span><br><span class="line">git init                //åˆå§‹åŒ–gitä»“åº“ </span><br><span class="line">git add                 //æ·»åŠ è¯¥æ–‡ä»¶åˆ°æš‚å­˜åŒº </span><br><span class="line">git status              //æŸ¥çœ‹å½“å‰çŠ¶æ€</span><br><span class="line">git rm --cached         //ä»æš‚å­˜åŒºç§»é™¤åˆ°å·¥ä½œåŒº </span><br><span class="line">git add .               //æ·»åŠ æ‰€æœ‰çš„æ–‡ä»¶åˆ°æš‚å­˜åŒº </span><br><span class="line">git commit . -m ""      //å°†ç¼“å­˜åŒºçš„å†…å®¹æäº¤åˆ°å†å²åŒº("-m"è¡¨ç¤ºä¸è·³åˆ°å¦ä¸€ä¸ªé¡µé¢)  </span><br><span class="line">git commit .            //æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°å†å²åŒº </span><br><span class="line">git checkout            //å°†å·¥ä½œåŒºçš„ä¿®æ”¹æ’¤é”€ï¼›å–å›æš‚å­˜åŒºçš„æ–‡ä»¶ </span><br><span class="line">git status -s           //æŸ¥çœ‹å“ªäº›æ–‡ä»¶è¢«æ›´æ”¹è¿‡ </span><br><span class="line">git log                 //æŸ¥çœ‹æäº¤å†å² </span><br><span class="line">git diff                //æŸ¥çœ‹å·¥ä½œåŒºå’Œæš‚å­˜åŒºæ–‡ä»¶çš„åŒºåˆ« </span><br><span class="line">git diff --cached       //æŸ¥çœ‹æš‚å­˜åŒºå’Œå†å²åŒºçš„åŒºåˆ« </span><br><span class="line">git diff HEAD           //æŸ¥çœ‹å·¥ä½œåŒºä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„ä¸åŒï¼ˆæ›´æ”¹æ–‡ä»¶åä¸æäº¤åˆ°å†å²åŒºå¯ç”¨è¯¥å‘½ä»¤æŸ¥çœ‹ï¼‰  </span><br><span class="line">git log --oneline       //æäº¤æ˜¾ç¤ºåˆ°ä¸€è¡Œ </span><br><span class="line">git log --graph         //å›¾å½¢åŒ–æ˜¾ç¤ºæäº¤çš„ </span><br><span class="line">git reset --hard HEAD^  //æ‰€æœ‰æ–‡ä»¶å›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ </span><br><span class="line">git reflog              //æŸ¥çœ‹æ‰€æœ‰çš„æäº¤ </span><br><span class="line">git reset --hard xxxxxx //å›åˆ°æŒ‡å®šç‰ˆæœ¬(å‰5/6ä½ç‰ˆæœ¬å·å³å¯) </span><br><span class="line">git log --oneline --grep="project"      </span><br><span class="line">                        //æŸ¥æ‰¾æ–‡ä»¶ä¸­å¸¦æœ‰projectçš„æ–‡ä»¶å¹¶æ˜¾ç¤ºåˆ°ä¸€è¡Œ </span><br><span class="line">git reset --mixed HEAD^ //æš‚å­˜åŒºå’Œå†å²åŒºå›åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼Œå·¥ä½œåŒºä¸å˜ </span><br></pre></td></tr></tbody></table></figure>
<!-- markdownlint-disable-file MD025 MD028 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Git</tag>
        <tag>Github</tag>
      </tags>
  </entry>
  <entry>
    <title>Fake news detection(Literature review)</title>
    <url>/2022/07/06/Fake%20news%20detection(Literature%20review)/</url>
    <content><![CDATA[<p><strong>æ‘˜è¦</strong>ï¼šéšç€ç§»åŠ¨äº’è”ç½‘çš„å¿«é€Ÿå‘å±•ï¼Œäººä»¬çš„ç¤¾äº¤æ–¹å¼å‘ç”ŸæŒç»­å˜é©ï¼Œå¾®åšå’ŒTwitterç­‰é€æ¸æˆä¸ºäººä»¬è·å–ä¿¡æ¯å’Œå‘è¡¨æ„è§çš„ä¾¿æ·åœ¨çº¿å¹³å°ã€‚ç„¶è€Œï¼Œä¾¿æ·åœ¨çº¿å¹³å°åŒæ ·å¯¼è‡´äº†è™šå‡æ¶ˆæ¯çš„å¤§é‡äº§ç”Ÿå’Œä¼ æ’­ï¼Œå°†ä¼šç»™èˆ†è®ºå’Œç¤¾ä¼šç¨³å®šå¸¦æ¥ä¸åˆ©å½±å“ã€‚æœ¬æ–‡è°ƒç ”äº†è™šå‡æ¶ˆæ¯æ£€æµ‹é¢†åŸŸçš„ç ”ç©¶ç°çŠ¶ï¼Œä¸»è¦ä»‹ç»äº†åŸºäºæœ‰å¤§é‡æ•°æ®æ ‡æ³¨çš„ç›‘ç£å­¦ä¹ æ–¹æ³•ï¼Œå¼ºè°ƒäº†åŸºäºä¼ æ’­æ¨¡å¼çš„ç ”ç©¶å‰æ™¯ã€‚ä¹‹åç®€å•ä»‹ç»äº†ä¸€äº›è¯„ä¼°æ–¹æ³•å’Œå¸¸ç”¨çš„è™šå‡æ¶ˆæ¯æ£€æµ‹é¢†åŸŸçš„æ•°æ®é›†ã€‚æœ€åè¿›è¡Œæ€»ç»“ï¼Œä¸ºåŸºäºä¼ æ’­å·®å¼‚çš„è™šå‡æ¶ˆæ¯æ£€æµ‹æ–¹æ³•è®¾è®¡ä¸å®ç°åšå¥½åŸºç¡€ã€‚</p>
<p><strong>å…³é”®è¯</strong>ï¼šä¿¡æ¯ä¼ æ’­ã€æ·±åº¦å­¦ä¹ ã€è™šå‡æ¶ˆæ¯ã€ä¼ æ’­å·®å¼‚</p>
<span id="more"></span>
<style>
.center {
  width: auto;
  display: table;
  margin-left: auto;
  margin-right: auto;
}
</style>

<h2 id="1-å¼•è¨€"><a href="#1-å¼•è¨€" class="headerlink" title="1  å¼•è¨€"></a>1  å¼•è¨€</h2><p>â€ƒâ€ƒè¿‘å¹´æ¥ï¼Œå¾—ç›Šäºç§»åŠ¨äº’è”ç½‘çš„å‘å±•ï¼Œå¾®åšå’ŒTwitterç­‰ä¸»æµç¤¾äº¤åª’ä½“å·²ç»æˆä¸ºäººä»¬è·å–ä¿¡æ¯å’Œå‘å¸ƒä¿¡æ¯çš„é‡è¦å¹³å°<sup><a href="http://cjc.ict.ac.cn/online/onlinepaper/xbl-2016327154823.pdf">1</a></sup>ï¼Œä¿¡æ¯çš„è‡ªç”±è·å–å’Œä¼ æ’­è¾¾åˆ°äº†ç©ºå‰çš„ä¾¿åˆ©ï¼Œç»™è™šå‡æ¶ˆæ¯åˆ›é€ äº†æœ‰åˆ©çš„ç”Ÿå­˜ç¯å¢ƒã€‚è™šå‡æ¶ˆæ¯æœ‰å‡ ä¸ªç›¸è¿‘çš„å®šä¹‰ï¼Œå¦‚è°£è¨€ã€è™šå‡æ–°é—»ç­‰ï¼Œéƒ½æ˜¯é€šè¿‡å¯¹å›¾åƒã€æ–‡æœ¬ã€éŸ³é¢‘è§†é¢‘è¿›è¡Œå¤„ç†ä»¥æ­ªæ›²æˆ–æé€ äº‹å®ï¼Œä¼å›¾è¯¯å¯¼æˆ–å¼•è¯±å¤§ä¼—ä»è€Œè¾¾åˆ°ç»æµæˆ–æ”¿æ²»ç›®çš„ã€‚<br>â€ƒâ€ƒè™šå‡æ¶ˆæ¯ä¸»è¦åœ¨äº’è”ç½‘å‘å¸ƒå’Œå¹¿æ³›ä¼ æ’­ã€‚ç”¨æˆ·å¯¹æ¶ˆæ¯å’Œæ–‡ç« çš„è¯„è®ºã€ç‚¹èµä¸è½¬å‘æ„æˆäº†æœ€åŸºæœ¬çš„åœ¨çº¿ç¤¾äº¤æ´»åŠ¨<sup><a href="http://edit.jeit.ac.cn/EN/article/downloadArticleFile.do?attachType=PDF&amp;id=18265">2</a></sup>ï¼Œåœ¨çº¿ç¤¾äº¤ç½‘ç»œä¸­çš„ç”¨æˆ·é€šè¿‡è¯„è®ºã€ç‚¹èµç­‰åŸºæœ¬æ“ä½œå°†æ¶ˆæ¯ä¼ æ’­å‡ºå»ï¼Œäººçš„æƒ…ç»ªã€è§‚ç‚¹å’Œè¡Œä¸ºå®¹æ˜“å—åˆ°ä»–äººçš„å½±å“ï¼Œè™šå‡æ¶ˆæ¯åˆ©ç”¨è¿™ä¸€ç‰¹ç‚¹å¸å¼•æ³¨æ„åŠ›ï¼Œé€šè¿‡ç”¨æˆ·é—´çš„ç¤¾äº¤æ´»åŠ¨è¿›è¡Œæœ‰æ•ˆä¼ æ’­<sup><a href="http://www.bulletin.cas.cn/zgkxyyk/ch/reader/view_abstract.aspx?file_no=20150208&amp;flag=1">3</a></sup>ã€‚ä¼ ç»Ÿçº¸åª’å‘ç‰ˆçš„å†…å®¹éœ€è¦ç»ç¼–è¾‘ä¸¥æ ¼å®¡æ ¸ï¼Œå¯ä¿¡åº¦å¾—åˆ°å¤§ä¼—çš„è®¤å¯ï¼Œç„¶è€Œç”¨æˆ·åœ¨çº¿ä¸Šå¹³å°å‘å¸ƒçš„æ–‡æœ¬ã€å›¾ç‰‡å’Œè§†é¢‘å¾ˆå°‘ç»è¿‡å†…å®¹çœŸå®æ€§éªŒè¯ï¼Œç»è¯„è®ºä¸è½¬å‘ä½¿å¾—è™šå‡æ¶ˆæ¯å¾—åˆ°è¿›ä¸€æ­¥ä¼ æ’­ã€‚ä¼ ç»Ÿçš„è§£å†³æ–¹æ¡ˆæ˜¯é€šè¿‡äººå·¥è¯†åˆ«çš„æ–¹å¼å¯¹å‘å¸ƒåœ¨ç¤¾äº¤ç½‘ç»œçš„æ¶ˆæ¯è¿›è¡Œç”„åˆ«ï¼Œä½†å­˜åœ¨æ•ˆç‡ä½ä¸‹å’Œå…·æœ‰æ—¶æ»æ€§ç­‰é—®é¢˜<sup><a href="http://www.joca.cn/CN/abstract/abstract23957.shtml">4</a></sup>ï¼Œéš¾ä»¥åœ¨ç¬¬ä¸€æ—¶é—´å¯¹æµ·é‡æ•°æ®è¿›è¡Œç”„åˆ«ï¼Œæ— æ³•åœ¨ä¼ æ’­åˆæœŸé˜»æ–­è™šå‡æ¶ˆæ¯çš„æ•£å¸ƒã€‚éšç€åœ¨çº¿ç¤¾äº¤çš„æ™®åŠï¼Œè¿™ç§ç°è±¡å˜å¾—æ›´ä¸ºæ™®éï¼Œä¾é ä¼ ç»Ÿçš„äººå·¥è¯†åˆ«å·²ä¸å†é€‚ç”¨ï¼Œå› æ­¤è¿«åˆ‡éœ€è¦ä¸€ç§é«˜æ•ˆçš„æ–¹æ³•è‡ªåŠ¨è¯†åˆ«ã€æ£€æµ‹å‡ºè™šå‡æ¶ˆæ¯è¿›è€Œé˜»æ–­å½±å“èŒƒå›´çš„æŒç»­æ‰©å¤§ã€‚<br>â€ƒâ€ƒå·²æœ‰çš„æ£€æµ‹æ–¹æ³•ä¸»è¦é€šè¿‡æå–æ¶ˆæ¯å†…å®¹ã€ç”¨æˆ·å¯ä¿¡åº¦å’Œä¼ æ’­æ¨¡å¼ç­‰å…³é”®ç‰¹å¾è¿›è¡Œè®­ç»ƒå¾—åˆ°çœŸå‡æ¶ˆæ¯äºŒåˆ†ç±»å™¨ä»¥å®ç°è™šå‡æ¶ˆæ¯çš„è‡ªåŠ¨æ£€æµ‹ï¼Œä¹Ÿæœ‰ç ”ç©¶é‡‡ç”¨å¤šç‰¹å¾èåˆçš„æ–¹å¼è¿›è¡Œæ£€æµ‹ä»¥æé«˜æ€§èƒ½ã€‚å…¶ä¸­å¸¸ç”¨çš„åˆ†ç±»å™¨åŒ…æ‹¬ï¼šæ”¯æŒå‘é‡æœºï¼ˆSupport Vector Machineï¼ŒSVMï¼‰<sup><a href="https://link.springer.com/article/10.1007/BF00994018">5</a></sup>ã€éšæœºæ£®æ—ï¼ˆRandom Forestï¼ŒRFï¼‰<sup><a href="http://library.ioz.ac.cn/bitstream/000000/10883/1/%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97%E6%A8%A1%E5%9E%8B%E5%9C%A8%E5%88%86%E7%B1%BB%E4%B8%8E%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8.pdf">6</a></sup>å’Œå†³ç­–æ ‘ï¼ˆDecision Treeï¼ŒDTï¼‰<sup><a href="http://www.cqvip.com/">7</a></sup>ç­‰ã€‚ç„¶è€Œè¿™äº›ä¾èµ–äºç‰¹å¾å·¥ç¨‹çš„æ–¹æ³•éå¸¸è€—æ—¶è´¹åŠ›ï¼Œå¹¶ä¸”éœ€è¦åˆ¶ä½œç‰¹å®šçš„æ•°æ®ï¼Œç¼ºä¹é«˜å±‚çš„ç‰¹å¾è¡¨å¾ï¼Œå› æ­¤å¾€å¾€é’ˆå¯¹æ€§è¾ƒå¼ºï¼Œç¼ºä¹æ³›åŒ–æ€§èƒ½ã€‚å¦å¤–ä¹Ÿæœ‰ä¸€ç³»åˆ—ç ”ç©¶åŸºäºæ·±åº¦å­¦ä¹ æŠ€æœ¯å¯¹çœŸå®æ¶ˆæ¯ä¸è™šå‡æ¶ˆæ¯åœ¨ä¼ æ’­æ¨¡å¼ä¸Šçš„ç»“æ„ç‰¹å¾è¿›è¡ŒæŒ–æ˜ï¼Œåˆ©ç”¨å›¾å·ç§¯ç½‘ç»œæå–æ¶ˆæ¯ä¼ æ’­è¿‡ç¨‹ä¸­çš„æ‹“æ‰‘ç»“æ„ç‰¹å¾ï¼Œå¯¹å±€éƒ¨çš„ç»“æ„ä¿¡æ¯è¿›è¡Œèåˆä»¥å¾—åˆ°æ›´ä¸°å¯Œçš„ç‰¹å¾è¡¨ç¤ºã€‚<br>â€ƒâ€ƒæœ¬æ–‡ä¸»è¦å¼€å±•è™šå‡æ¶ˆæ¯æ£€æµ‹åŸºäºæœ‰å®Œå…¨æ•°æ®æ ‡æ³¨çš„ç›‘ç£å­¦ä¹ é¢†åŸŸç ”ç©¶ï¼Œé’ˆå¯¹åŸºäºæ¶ˆæ¯å†…å®¹å’Œæ¶ˆæ¯ä¼ æ’­ç»“æ„ç­‰æ£€æµ‹æ–¹æ³•è¿›è¡Œç»¼è¿°ï¼Œä»ç ”ç©¶ç°çŠ¶ã€åº”ç”¨ã€ä¼˜ç¼ºç‚¹ç­‰æ–¹é¢è¿›è¡Œåˆ†æï¼Œä¸ºè¿›ä¸€æ­¥ç ”ç©¶åŸºäºä¼ æ’­å·®å¼‚çš„è™šå‡æ¶ˆæ¯æ£€æµ‹æ–¹æ³•è®¾è®¡ä¸å®ç°æ‰“ä¸‹åŸºç¡€ã€‚</p>
<h2 id="2-è™šå‡æ¶ˆæ¯æ£€æµ‹ç ”ç©¶ç°çŠ¶"><a href="#2-è™šå‡æ¶ˆæ¯æ£€æµ‹ç ”ç©¶ç°çŠ¶" class="headerlink" title="2  è™šå‡æ¶ˆæ¯æ£€æµ‹ç ”ç©¶ç°çŠ¶"></a>2  è™šå‡æ¶ˆæ¯æ£€æµ‹ç ”ç©¶ç°çŠ¶</h2><p>â€ƒâ€ƒè™šå‡æ¶ˆæ¯å…·æœ‰ä¼ æ’­å¿«ã€å½±å“å¹¿ã€å±å®³å¤§çš„ç‰¹ç‚¹ï¼Œå¾®åšå’ŒTwitterä¸Šæ¯å¤©ä»¥æ•°äº¿è®¡å¢é•¿çš„æ¶ˆæ¯ä¸­æœ‰å¤§é‡æ˜¯è™šå‡çš„ï¼Œè€Œè™šå‡æ¶ˆæ¯çš„æ³›æ»¥å¯¹ç¾¤ä¼—çš„å½±å“éå¸¸å¤§ï¼Œé€ æˆçš„èˆ†è®ºå½±å“ä¼šå½±å“ç¤¾ä¼šæ²»å®‰å¹¶ä½¿ç½‘ç»œæš´åŠ›æ›´ä¸ºé¢‘ç¹<sup>[8],<a href="http://www.cqvip.com/qk/94832x/201802/674500313.html">9</a></sup>ã€‚å›½å†…å¤–å‡å±•å¼€äº†ä¸€ç³»åˆ—é’ˆå¯¹è™šå‡æ¶ˆæ¯è‡ªåŠ¨æ£€æµ‹çš„ç ”ç©¶ï¼Œä»¥ä¸‹ä¸»è¦ä»åŸºäºæ¶ˆæ¯å†…å®¹çš„æ–¹æ³•ã€åŸºäºç¤¾äº¤èƒŒæ™¯çš„æ–¹æ³•å’ŒåŸºäºä¼ æ’­ç»“æ„çš„æ–¹æ³•è¿›è¡Œç»¼è¿°ã€‚å…¶ä¸­ï¼Œæ¶ˆæ¯å†…å®¹çš„æ–¹æ³•å¯ä»¥åˆ†ä¸ºæ–‡æœ¬å’Œå›¾åƒå•æ¨¡æ€åŠå¤šæ¨¡æ€èåˆçš„æ–¹æ³•ï¼Œç¤¾äº¤èƒŒæ™¯çš„æ–¹æ³•å¯ä»¥åˆ†ä¸ºèåˆç”¨æˆ·èƒŒæ™¯çš„æ–¹æ³•å’Œèåˆå¤–éƒ¨çŸ¥è¯†çš„æ–¹æ³•ï¼Œä¼ æ’­ç»“æ„çš„æ–¹æ³•å¯ä»¥åˆ†ä¸ºåŸºäºå›¾ç»“æ„å’ŒåŸºäºæ ‘ç»“æ„ä»¥åŠåŸºäºæ—¶é—´åºåˆ—çš„æ–¹æ³•ã€‚</p>
<h3 id="2-1-åŸºäºæ¶ˆæ¯å†…å®¹çš„æ–¹æ³•"><a href="#2-1-åŸºäºæ¶ˆæ¯å†…å®¹çš„æ–¹æ³•" class="headerlink" title="2.1  åŸºäºæ¶ˆæ¯å†…å®¹çš„æ–¹æ³•"></a>2.1  åŸºäºæ¶ˆæ¯å†…å®¹çš„æ–¹æ³•</h3><p>â€ƒâ€ƒé¦–å…ˆï¼Œç”±äºæ–‡æœ¬æ˜¯æ¶ˆæ¯å†…å®¹æœ€åŸºæœ¬çš„ç»„æˆéƒ¨åˆ†ï¼Œæ—©æœŸçš„è™šå‡æ¶ˆæ¯æ£€æµ‹ç ”ç©¶é‡‡ç”¨æœ€ç›´æ¥çš„æ–¹æ³•ï¼Œä»æ¶ˆæ¯å†…å®¹æœ¬èº«å…¥æ‰‹ï¼Œå¯¹æ¶ˆæ¯çš„æ–‡æœ¬å†…å®¹ç‰¹å¾è¿›è¡Œæå–å’Œå»ºæ¨¡ä»¥é‰´å®šæ¶ˆæ¯å†…å®¹çš„çœŸå‡ã€‚Maç­‰äºº<sup><a href="https://ink.library.smu.edu.sg/sis_research/4630/">10</a></sup>é€šè¿‡å»ºç«‹åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRurrent Neural Networkï¼ŒRNNï¼‰åŠå…¶å˜ä½“å³é•¿çŸ­æœŸè®°å¿†ï¼ˆLong Short Term Memoryï¼ŒLSTMï¼‰å’Œé—¨æ§å¾ªç¯å•å…ƒï¼ˆGated Recurrent Unitï¼ŒGRUï¼‰å…±ä¸‰ç§ä¸åŒç»“æ„æ¨¡å‹å¦‚å›¾1æ‰€ç¤ºï¼Œåˆ©ç”¨æ·±åº¦å­¦ä¹ çš„æ–¹å¼æå–æ¶ˆæ¯çš„æ–‡æœ¬ç‰¹å¾å¹¶ä½¿ç”¨å¤šä¸ªéšè—å±‚ï¼Œç›¸æ¯”äºä¾èµ–ç‰¹å¾å·¥ç¨‹çš„æ–¹æ³•æœ‰äº†æ›´å¼ºçš„æ³›åŒ–èƒ½åŠ›ã€‚ç„¶è€Œç»è¿‡è®­ç»ƒçš„RNNæ¨¡å‹åœ¨ä¸¤ä¸ªè¿ç»­çš„æ–‡æœ¬è¾“å…¥é—´äº§ç”Ÿçš„å¾ªç¯è½¬ç§»çŸ©é˜µæ˜¯å›ºå®šä¸å˜çš„ï¼Œåœ¨åŠ¨æ€å’Œå¤æ‚çš„åœºæ™¯ä¸‹å¹¶ä¸é€‚ç”¨ï¼ŒFengç­‰äºº<sup><a href="https://www.ijcai.org/proceedings/2017/0545.pdf">11</a></sup>åˆ©ç”¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Network, CNNï¼‰çš„å·ç§¯ç»“æ„å’Œæ± åŒ–æ“ä½œçµæ´»æå–åˆ†æ•£åœ¨æ–‡æœ¬åºåˆ—ä¸­çš„å…³é”®ç‰¹å¾ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/fakenews/å›¾ç‰‡1.jpg" alt="å›¾1 é‡‡ç”¨ä¸‰ç§ä¸åŒç»“æ„RNNæ¨¡å‹çš„æ£€æµ‹æ¡†æ¶"></p>
<center><font size="2">å›¾1 é‡‡ç”¨ä¸‰ç§ä¸åŒç»“æ„RNNæ¨¡å‹çš„æ£€æµ‹æ¡†æ¶</font></center>

<p>â€ƒâ€ƒå…¶æ¬¡ï¼Œæ¶ˆæ¯å†…å®¹é™¤äº†æ–‡æœ¬ï¼Œè¿˜åŒ…æ‹¬å›¾ç‰‡ç­‰è§†è§‰ä¿¡æ¯ã€‚æ­£å¦‚æˆ‘ä»¬å¹³æ—¶æ‰€è§åˆ°çš„ï¼Œå¤§éƒ¨åˆ†è™šå‡æ¶ˆæ¯ä¼šé™„æœ‰ç»è¿‡ä¼ªé€ å¤„ç†çš„å›¾ç‰‡ã€‚CNNé€šå¸¸åªèƒ½æå–å›¾ç‰‡çš„åƒç´ çº§ç‰¹å¾ï¼Œç„¶è€Œç°æœ‰çš„é€ å‡æŠ€æœ¯å·²ç»å¯ä»¥æ›´æ”¹å›¾åƒçš„è¯­ä¹‰ä¿¡æ¯ï¼Œä»è€Œæ— æ³•è¿›è¡Œå›¾åƒçœŸå‡çš„åˆ¤æ–­ã€‚ç»è¿‡ä¿®å›¾å¤„ç†çš„å›¾åƒç»è¿‡é¢‘åŸŸåˆ†æåå¯ä»¥å‘ç°ä¸åŸå§‹å›¾åƒæœ‰æ˜¾è‘—å·®åˆ«<sup><a href="https://ieeexplore.ieee.org/abstract/document/8970940/">12</a></sup>ï¼Œå…·æœ‰è¯¯å¯¼æ€§çš„å›¾åƒé€šå¸¸æ¯”çœŸå®çš„å›¾åƒå…·æœ‰æ›´é‡çš„å‹ç¼©ä¼ªå½±ã€‚</p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/fakenews/å›¾ç‰‡2.png" alt="å›¾2 å¤šæ¨¡æ€è™šå‡æ¶ˆæ¯æ£€æµ‹æ–¹æ³•æ€»ä½“æ¡†æ¶"></p>
<center><font size="2">å›¾2 å¤šæ¨¡æ€è™šå‡æ¶ˆæ¯æ£€æµ‹æ–¹æ³•æ€»ä½“æ¡†æ¶</font></center>

<p>â€ƒâ€ƒå¦ä¸€æ–¹é¢ï¼Œä¾é å•ä¸€çš„æ–‡æœ¬æˆ–å›¾åƒè¿›è¡Œæ£€æµ‹å¹¶ä¸å®Œå–„ï¼Œå› ä¸ºå¤§é‡çš„æ¶ˆæ¯ä»¥æ–‡å’Œã€å›¾ç‰‡æ··åˆçš„å½¢å¼å­˜åœ¨ï¼Œå°†æ–‡æœ¬ç‰¹å¾å’Œè§†è§‰ç‰¹å¾æ··åˆå»ºæ¨¡çš„æ–¹æ³•èƒ½å¤Ÿè¿›ä¸€æ­¥æé«˜åˆ†ç±»å™¨çš„æ€§èƒ½ã€‚åŸºäºå°†æ–‡æœ¬ä¿¡æ¯å’Œè§†è§‰ä¿¡æ¯æ‹¼æ¥çš„æ–¹æ³•ï¼ŒSinghalç­‰äºº<sup><a href="https://ieeexplore.ieee.org/abstract/document/8919302/">13</a>,<a href="https://ojs.aaai.org/index.php/AAAI/article/view/7230">14</a></sup>æå‡ºåˆ†åˆ«åˆ©ç”¨é¢„è®­ç»ƒçš„æ¨¡å‹å¯¹æ–‡æœ¬ä¿¡æ¯å’Œè§†è§‰ä¿¡æ¯è¿›è¡Œç‰¹å¾æå–ï¼Œç„¶åæ‹¼æ¥èåˆå¾—åˆ°æ¶ˆæ¯çš„å‘é‡è¡¨ç¤ºã€‚æ˜¾å¼æå–æ¶ˆæ¯å›¾ç‰‡ä¸­çš„è§†è§‰å®ä½“å’ŒåµŒå…¥æ–‡å­—<sup><a href="https://www.cnki.com.cn/Article/CJFDTotal-JFYZ202107011.htm">15</a></sup>ï¼Œå¯ä»¥å¾—åˆ°ä¸åŒè¯­ä¹‰å±‚æ¬¡çš„è§†è§‰ç‰¹å¾ï¼Œèƒ½å¤Ÿæœ‰æ•ˆå¢å¼ºå¤šæ¨¡æ€èåˆçš„è™šå‡æ¶ˆæ¯æ£€æµ‹æ€§èƒ½ã€‚åˆ˜é‡‘ç¡•ç­‰äºº<sup><a href="https://www.cnki.com.cn/Article/CJFDTotal-JFYZ202011007.htm">16</a></sup>è®¾è®¡äº†å¦‚å›¾2æ‰€ç¤ºçš„å¤šæ¨¡æ€è™šå‡æ¶ˆæ¯æ£€æµ‹æ–¹æ³•ï¼Œåœ¨ç®€å•èåˆæ–‡æœ¬å’Œå›¾åƒç‰¹å¾çš„åŸºç¡€ä¸Šè¿˜æå–äº†å›¾åƒå†…åµŒçš„æ–‡æœ¬ç‰¹å¾ï¼Œè¿›è¡Œä¸²æ¥åè¾“å…¥å…¨è¿æ¥å±‚è¿›è¡Œå¤šæ¨¡æ€çš„æ£€æµ‹ã€‚å›¾åƒå’Œæ–‡æœ¬çš„åŒ¹é…ç¨‹åº¦èƒ½å¤Ÿåæ˜ æ¶ˆæ¯æ˜¯å¦ç»è¿‡ç¯¡æ”¹ï¼Œå¯ä»¥å°†æ–‡æœ¬ä¿¡æ¯å’Œè§†è§‰ä¿¡æ¯åŒé€šè¿‡å…¨è¿æ¥å±‚æ˜ å°„åˆ°åŒä¸€å‘é‡ç©ºé—´<sup><a href="https://www.sciencedirect.com/science/article/pii/S0306457321001060">17</a></sup>ï¼Œä½¿ç”¨ä½™å¼¦ç›¸ä¼¼åº¦ç®—æ³•åº¦é‡æ–‡æœ¬å’Œå›¾åƒä¹‹é—´çš„ç›¸ä¼¼æ€§ã€‚</p>
<h3 id="2-2-åŸºäºç¤¾äº¤èƒŒæ™¯çš„æ–¹æ³•"><a href="#2-2-åŸºäºç¤¾äº¤èƒŒæ™¯çš„æ–¹æ³•" class="headerlink" title="2.2  åŸºäºç¤¾äº¤èƒŒæ™¯çš„æ–¹æ³•"></a>2.2  åŸºäºç¤¾äº¤èƒŒæ™¯çš„æ–¹æ³•</h3><p>â€ƒâ€ƒè™šå‡æ¶ˆæ¯çš„ä½œè€…ä»¿ç…§çœŸå®æ¶ˆæ¯è¿›è¡Œç¼–å†™ï¼ŒåŸºäºæ¶ˆæ¯å†…å®¹çš„æ£€æµ‹æ–¹æ³•ä¼šå—åˆ°åˆ¶çº¦ï¼Œåˆ†æç”¨æˆ·çš„å¯ä¿¡åº¦ã€å‘æ–‡å†å²ã€åå¥½ç­‰ç”¨æˆ·èµ„æ–™ä¿¡æ¯å¯ä»¥ä½œä¸ºè™šå‡æ¶ˆæ¯æ£€æµ‹çš„è¾…åŠ©è¯„ä»·æŒ‡æ ‡ï¼Œå¯ä¿¡åº¦é«˜çš„ç”¨æˆ·æ›´æœ‰å¯èƒ½å‘è¡¨çœŸå®çš„æ¶ˆæ¯<sup><a href="https://dl.acm.org/doi/abs/10.1145/3404835.3462990">18</a></sup>ã€‚æ­¤å¤–ï¼Œä¸°å¯Œçš„å¤–éƒ¨çŸ¥è¯†å’Œå®¢è§‚äº‹å®å¯ä»¥å¸®åŠ©æ¨¡å‹æ›´å‡†ç¡®åœ°è¯†åˆ«è™šå‡æ¶ˆæ¯ã€‚</p>
<h4 id="2-2-1-èåˆç”¨æˆ·èƒŒæ™¯"><a href="#2-2-1-èåˆç”¨æˆ·èƒŒæ™¯" class="headerlink" title="2.2.1  èåˆç”¨æˆ·èƒŒæ™¯"></a>2.2.1  èåˆç”¨æˆ·èƒŒæ™¯</h4><p>â€ƒâ€ƒç¤¾ä¼šå­¦ç ”ç©¶è¡¨æ˜å¯ä¿¡åº¦é«˜çš„ç”¨æˆ·å‘å‡ºçš„æ¶ˆæ¯æ›´å¯èƒ½æ˜¯çœŸå®çš„<sup><a href="https://www.cnki.com.cn/Article/CJFDTotal-JFYZ201909015.htm">19</a></sup>ï¼ŒåŸºäºç”¨æˆ·å¯ä¿¡åº¦çš„ç ”ç©¶å¯¹ç”¨æˆ·çš„åŸºæœ¬èµ„æ–™ã€å†å²å‘æ–‡ç­‰ä¿¡æ¯è¿›è¡Œå»ºæ¨¡ä½œä¸ºè¾…åŠ©è¯„ä»·æ ‡å‡†ã€‚å‘å¸ƒè™šå‡æ¶ˆæ¯çš„å¯ç–‘ç”¨æˆ·å…·æœ‰æœªå®åè®¤è¯ï¼Œåˆ›å»ºæ—¶é—´çŸ­ï¼Œç”¨æˆ·ä»‹ç»ç¼ºå¤±ç­‰æ˜¾è‘—ç‰¹å¾<sup><a href="https://aclanthology.org/2020.acl-main.48.pdf">20</a></sup>ã€‚å½“ä¸€æ¡å‡æ¶ˆæ¯è¯å®äº†ç”¨æˆ·ç°æœ‰çš„è§‚å¿µå’Œåå¥½æ—¶ï¼Œç”¨æˆ·æ›´æœ‰å¯èƒ½ä¼ æ’­è¿™æ¡å‡æ¶ˆæ¯<sup><a href="https://dl.acm.org/doi/abs/10.1145/3404835.3463001">21</a></sup>ï¼Œåœ¨åŸºäºæ¶ˆæ¯å†…å®¹çš„åŸºç¡€ä¸Šï¼Œæ·»åŠ ç”¨æˆ·çš„åå¥½è¡¨ç¤ºï¼ŒåŒæ—¶æ ¹æ®æ¶ˆæ¯çš„ä¼ æ’­æƒ…å†µå…±åŒè¿›è¡Œè™šå‡æ¶ˆæ¯æ£€æµ‹èƒ½å¤Ÿæœ‰æ•ˆæé«˜è™šå‡æ¶ˆæ¯æ£€æµ‹æ€§èƒ½ã€‚</p>
<h4 id="2-2-2-èåˆå¤–éƒ¨çŸ¥è¯†"><a href="#2-2-2-èåˆå¤–éƒ¨çŸ¥è¯†" class="headerlink" title="2.2.2  èåˆå¤–éƒ¨çŸ¥è¯†"></a>2.2.2  èåˆå¤–éƒ¨çŸ¥è¯†</h4><p>â€ƒâ€ƒå®¢è§‚äº‹å®ä½œä¸ºè™šå‡æ¶ˆæ¯æ£€æµ‹çš„é‡è¦çº¿ç´¢åœ¨åŸºäºæ¶ˆæ¯å†…å®¹çš„æ£€æµ‹æ–¹æ³•ä¸­ç»å¸¸è¢«è¢«å¿½ç•¥ï¼Œè€Œå¤§é‡å¤–éƒ¨çŸ¥è¯†åŒ…å«ä¸°å¯Œçš„è¯­ä¹‰ä¿¡æ¯ï¼Œå°†æ³¨æ„åŠ›å’Œå›¾ç¥ç»ç½‘ç»œè¿ç”¨åˆ°è™šå‡æ¶ˆæ¯æ£€æµ‹é¢†åŸŸä»¥èåˆå¤–éƒ¨çŸ¥è¯†å¯ä»¥æœ‰æ•ˆæé«˜æ¨¡å‹å­¦ä¹ æ¶ˆæ¯å†…å®¹çš„èƒ½åŠ›ã€‚äººè„‘ä¸­å·²å­˜åœ¨çš„çŸ¥è¯†å«æœ‰å¤§é‡è¯­ä¹‰ä¿¡æ¯ï¼Œèƒ½å¸®åŠ©äººä»¬åœ¨æŸ¥çœ‹æ¶ˆæ¯æ—¶æ›´å¥½çš„ç†è§£æ¶ˆæ¯å†…å®¹ï¼Œèåˆå¤–éƒ¨çŸ¥è¯†è¾“å…¥æ¨¡å‹åŒæ ·ä¹Ÿèƒ½æ›´å¥½çš„ç†è§£æ¶ˆæ¯å†…å®¹ä»è€Œæé«˜è™šå‡æ¶ˆæ¯æ£€æµ‹æ¨¡å‹çš„æ€§èƒ½ã€‚Li<sup><a href="https://aclanthology.org/2021.findings-acl.63.pdf">22</a></sup>ç­‰äººå°†è™šå‡æ¶ˆæ¯æ£€æµ‹ä»»åŠ¡åˆ†æˆå–è¯å’Œæ£€æµ‹ä¸¤éƒ¨åˆ†ï¼Œåˆ©ç”¨ç»´åŸºç™¾ç§‘çš„å›ºæœ‰çŸ¥è¯†é¢„è®­ç»ƒæ¨¡å‹ä½œä¸ºäº‹å®è¯æ®ï¼Œèåˆæ¶ˆæ¯å†…å®¹å’Œäº‹å®ä¾æ®è¿›è¡Œå–è¯ï¼Œæ‰¾å‡ºå¯¹åº”çš„äº‹å®ä¾æ®ï¼Œç„¶ååˆ©ç”¨äº‹å®ä¾æ®å¯¹æ¶ˆæ¯å†…å®¹çš„çœŸå®æ€§è¿›è¡Œåˆ¤æ–­ã€‚</p>
<h3 id="2-3-åŸºäºæ¶ˆæ¯ä¼ æ’­ç»“æ„çš„æ–¹æ³•"><a href="#2-3-åŸºäºæ¶ˆæ¯ä¼ æ’­ç»“æ„çš„æ–¹æ³•" class="headerlink" title="2.3  åŸºäºæ¶ˆæ¯ä¼ æ’­ç»“æ„çš„æ–¹æ³•"></a>2.3  åŸºäºæ¶ˆæ¯ä¼ æ’­ç»“æ„çš„æ–¹æ³•</h3><p>â€ƒâ€ƒæ¶ˆæ¯ä¼ æ’­ä¸»è¦é€šè¿‡ç”¨æˆ·çš„è½¬å‘æ¥å®ç°ï¼Œç”¨æˆ·å¯¹æ”¶åˆ°çš„æ¶ˆæ¯è¿›è¡Œå±‚çº§è½¬å‘æ„æˆäº†æ¶ˆæ¯ä¼ æ’­çš„å¤æ‚ç»“æ„ï¼Œæ ¹æ®æ¶ˆæ¯åœ¨å±‚çº§è½¬å‘è¿‡ç¨‹ä¸­çš„ç›¸äº’å…³ç³»æ¥åˆ¤æ–­æ¶ˆæ¯çš„çœŸå®æ€§ã€‚åŸºäºæ¶ˆæ¯å†…å®¹çš„æ£€æµ‹æ–¹æ³•å¿½ç•¥äº†æ¶ˆæ¯åœ¨å±‚çº§ä¼ æ’­è¿‡ç¨‹ä¸­çš„æ ‘å½¢ç»“æ„è¿™ä¸€é‡è¦ç‰¹å¾ã€‚ç„¶è€Œæ ‘ç»“æ„æ— æ³•è¡¨ç¤ºç›¸åŒå±‚çº§è½¬å‘çš„æ¶ˆæ¯ä¹‹é—´çš„è”ç³»ï¼Œå›¾ç»“æ„ä½¿ç”¨é¡¶ç‚¹å’Œè¾¹çš„è¡¨ç¤ºæ›´å¥½çš„å»ºæ¨¡äº†æ¶ˆæ¯åœ¨å¹¿åº¦å’Œæ·±åº¦ä¸Šçš„ä¼ æ’­ï¼Œå›¾ç»“æ„æ¯”æ ‘ç»“æ„æ‹¥æœ‰æ›´å¤æ‚çš„æ‹“æ‰‘ç»“æ„ã€‚ä¸‹é¢ä»‹ç»åˆ†åˆ«ä»åŸºäºæ ‘ç»“æ„å’Œå›¾ç»“æ„çš„è™šå‡æ¶ˆæ¯æ£€æµ‹æ–¹æ³•ã€‚</p>
<h4 id="2-3-1-æ ‘ç»“æ„"><a href="#2-3-1-æ ‘ç»“æ„" class="headerlink" title="2.3.1  æ ‘ç»“æ„"></a>2.3.1  æ ‘ç»“æ„</h4><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/fakenews/å›¾ç‰‡3.png" alt="å›¾3 è‡ªåº•å‘ä¸Šå’Œè‡ªé¡¶å‘ä¸‹ä¸¤ç§æ ‘å½¢ç»“æ„æ¨¡å‹"></p>
<center><font size="2">å›¾3 è‡ªåº•å‘ä¸Šå’Œè‡ªé¡¶å‘ä¸‹ä¸¤ç§æ ‘å½¢ç»“æ„æ¨¡å‹</font></center>

<p>â€ƒâ€ƒåŸºäºé€’å½’ç¥ç»ç½‘ç»œï¼ˆRecursive Neural networksï¼ŒRvNNï¼‰ï¼ŒMaç­‰äºº<sup><a href="https://aclanthology.org/P18-1184/">23</a></sup>ä½¿ç”¨å¦‚å›¾2æ‰€ç¤ºçš„è‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šä¸¤ç§å˜ä½“å¯¹æ¶ˆæ¯çš„æ ‘å½¢ä¼ æ’­æ¨¡å¼è¿›è¡Œå»ºæ¨¡ï¼Œå°†æºæ¶ˆæ¯ä½œä¸ºæ ¹èŠ‚ç‚¹ï¼Œå¯¹çˆ¶èŠ‚ç‚¹æ¶ˆæ¯çš„åŒ…å«æ”¯æŒæˆ–åå¯¹å€¾å‘çš„è½¬å‘ä¸è¯„è®ºä½œä¸ºå­èŠ‚ç‚¹ã€‚å¯¹çœŸå®æ¶ˆæ¯çš„åå¯¹è¯„è®ºä¼šå¼•èµ·å…¶ä»–äººçš„åå¯¹ï¼Œè€Œå¯¹è™šå‡æ¶ˆæ¯çš„åå¯¹è¯„è®ºåˆ™ä¼šå¼•èµ·å…¶ä»–äººçš„æ”¯æŒã€‚ä»è¿™ä¸¤ç§ä¸åŒå˜ä½“çš„ä¸åŒè§’åº¦è¡¨ç¤ºæ¶ˆæ¯ä¼ æ’­çš„æ ‘å½¢ç»“æ„ï¼Œè‡ªé¡¶å‘ä¸‹çš„æ¨¡å‹åœ¨æ± åŒ–å±‚ä¸­å¯ä»¥æœ‰æ•ˆåœ°é€‰æ‹©åµŒå…¥å¶å­èŠ‚ç‚¹çš„é‡è¦ç‰¹å¾ï¼Œä¿¡æ¯æŸå¤±æ›´å°ï¼Œä»è€Œæ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½ã€‚<br>â€ƒâ€ƒå°†ä¸€æ£µæ ‘çš„æ‰€æœ‰èŠ‚ç‚¹æ¶ˆæ¯å…¨è¿æ¥è¿‡åº¦ç®€åŒ–äº†ç”¨æˆ·ä¹‹é—´çš„äº¤äº’ä»è€Œå¸¦æ¥ä¸€å®šçš„è¯¯å·®ï¼Œéƒ¨åˆ†èŠ‚ç‚¹ä¹‹é—´å¹¶æ²¡æœ‰ç›´æ¥çš„ä¸Šä¸‹æ–‡å…³è”ï¼Œåº”å½“æ ¹æ®è¯­å¢ƒæ¥å¢å¼ºè¡¨å¾èƒ½åŠ›<sup><a href="https://aclanthology.org/2020.coling-main.476/">24</a></sup>ã€‚åœ¨è™šå‡æ¶ˆæ¯çš„ä¼ æ’­ç»“æ„ä¸­ï¼Œå›å¤æ¶ˆæ¯èƒ½å¤Ÿè¿›ä¸€æ­¥å¢å¼ºè¢«å›å¤æ¶ˆæ¯çš„ç«‹åœºï¼Œé€šè¿‡å¯¹æ¯”ç›¸å…³æ¶ˆæ¯å¯ä»¥æ£€æµ‹å‡ºä¸€äº›ä¸å‡†ç¡®ä¿¡æ¯ã€‚é€‰æ‹©æ€§åœ°å…³æ³¨ç›¸åº”æ¶ˆæ¯å¢å¼ºæŒ‡ç¤ºæ€§ç‰¹å¾çš„è¡¨å¾å­¦ä¹ ï¼Œä»è€Œè¾¾åˆ°æ·±å…¥æŒ–æ˜ç”¨æˆ·çš„è§‚ç‚¹çš„æ•ˆæœã€‚</p>
<h4 id="2-3-2-å›¾ç»“æ„"><a href="#2-3-2-å›¾ç»“æ„" class="headerlink" title="2.3.2  å›¾ç»“æ„"></a>2.3.2  å›¾ç»“æ„</h4><p>â€ƒâ€ƒæ¶ˆæ¯çš„ä¼ æ’­é€šå¸¸æ˜¯ä»æŸä¸€ç”¨æˆ·å‘æ–‡ä½œä¸ºèµ·ç‚¹ï¼Œåœ¨ç‚¹å¯¹ç‚¹çš„ä¼ æ’­ä¸­è¾ƒä¸ºç®€å•ï¼Œä½†åœ¨ç°å®æƒ…å†µä¸‹å­˜åœ¨æ¶ˆæ¯ç»è¿‡å±‚å±‚è½¬å‘ï¼Œéƒ¨åˆ†è¿˜ä¼šä¿®æ”¹è¯­ä¹‰ä¿¡æ¯ï¼Œæ ‘çš„ç»“æ„æ— æ³•å®Œå…¨è¡¨ç¤ºå½¼æ­¤ä¹‹é—´çš„è”ç³»ï¼Œå›¾ç»“æ„èƒ½æ›´å¥½çš„åæ˜ æ¶ˆæ¯åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­å½¼æ­¤çš„è”ç³»ã€‚<br>â€ƒâ€ƒä¼ æ’­å’Œæ•£å¸ƒæ˜¯è™šå‡æ¶ˆæ¯çš„ä¸¤ä¸ªå…³é”®ç‰¹å¾ï¼ŒåŸæœ‰çš„ä¾‹å¦‚RvNNåªè€ƒè™‘äº†æ¶ˆæ¯ä¼ æ’­é€Ÿåº¦è€Œå¿½è§†äº†æ¶ˆæ¯çš„æ•£å¸ƒç»“æ„ï¼Œå…·æœ‰ä¸€å®šçš„å±€é™æ€§<sup><a href="https://ojs.aaai.org/index.php/AAAI/article/view/5393">25</a></sup>ã€‚åŒå‘å›¾å·ç§¯ç¥ç»ç½‘ç»œï¼ˆBi-Directional Graph Convolutional Networksï¼ŒBi-GCNï¼‰èƒ½å¤Ÿä»è‡ªé¡¶å‘ä¸‹å’Œè‡ªåº•å‘ä¸Šä¸¤ä¸ªæ–¹å‘å‘æ˜è™šå‡æ¶ˆæ¯çš„ä¼ æ’­å’Œæ•£å¸ƒç‰¹å¾ï¼Œå³ä»è™šå‡æ¶ˆæ¯ä¼ æ’­æ ‘ä¸­çš„çˆ¶èŠ‚ç‚¹åˆ°å­èŠ‚ç‚¹å­¦ä¹ æ¶ˆæ¯çš„ä¼ æ’­æ¨¡å¼ï¼Œä»å­èŠ‚ç‚¹åå‘åˆ°çˆ¶èŠ‚ç‚¹å­¦ä¹ æ¶ˆæ¯çš„å¼¥æ•£æ¨¡å¼ã€‚åŸºäºå›¾å·ç§¯ç¥ç»ç½‘ç»œï¼ˆGraph Convolutional Networksï¼ŒGCNï¼‰æå–å­èŠ‚ç‚¹ç‰¹å¾ï¼Œå­èŠ‚ç‚¹ä¸çˆ¶èŠ‚ç‚¹ä¹‹é—´çš„èåˆä¸å¯¹æ¯”ä¹Ÿèƒ½å¤Ÿå¢å¼ºè¯­ä¹‰ä¿¡æ¯<sup><a href="https://dl.acm.org/doi/abs/10.1145/3404835.3463001">21</a></sup>ã€‚å°†åŸå§‹æ¶ˆæ¯èåˆè¿›ä¼ æ’­è¿‡ç¨‹ä¸­çš„å…¶ä»–æ¶ˆæ¯ï¼Œå¯¹è‡ªé¡¶å‘ä¸‹å›¾å’Œè‡ªåº•å‘ä¸Šå›¾è¿›è¡Œæ± åŒ–å¾—åˆ°ä¸¤ä¸ªå›¾çš„ä¿¡æ¯ã€‚<br>â€ƒâ€ƒå¾®åšã€æ¨æ–‡å’Œæ–°é—»æ–‡ç« åœ¨ç¤¾äº¤ä¸Šä¸‹æ–‡ä¸­å­˜åœ¨å¤šç§èŠ‚ç‚¹ç±»å‹å’Œå…³ç³»ç±»å‹ï¼Œä¾‹å¦‚ç”¨æˆ·å‘å‘å¸ƒå¾®åšï¼Œç”¨æˆ·ä¹‹é—´ç›¸äº’ç‚¹èµå…³æ³¨ç­‰ï¼Œä½¿ç”¨åŒè´¨å›¾ç¥ç»ç½‘ç»œå¿½è§†äº†ä¸€éƒ¨åˆ†å…³é”®çš„ç”¨æˆ·å…³ç³»ï¼Œä¸åŒæ–‡ç« é¢†åŸŸã€è½¬å‘å…³ç³»ç­‰ä¹Ÿå½¢æˆå¼‚è´¨çš„ä¿¡æ¯ç½‘ç»œã€‚Shuç­‰äºº<sup><a href="https://dl.acm.org/doi/abs/10.1145/3289600.3290994">26</a></sup>å°†å‘å¸ƒã€ä¼ æ’­å’Œå…³æ³¨ç­‰ç¤¾äº¤å…³ç³»æ„å»ºæˆå¼‚è´¨ä¿¡æ¯ç½‘ç»œï¼Œä½¿ç”¨çŸ©é˜µåˆ†è§£çš„æ–¹å¼è·å¾—å„ä¸ªæ¶ˆæ¯èŠ‚ç‚¹çš„åµŒå…¥è¡¨ç¤ºï¼Œè¿›è¡Œè™šå‡æ¶ˆæ¯æ£€æµ‹ã€‚</p>
<h2 id="3-å¸¸ç”¨æ•°æ®é›†"><a href="#3-å¸¸ç”¨æ•°æ®é›†" class="headerlink" title="3  å¸¸ç”¨æ•°æ®é›†"></a>3  å¸¸ç”¨æ•°æ®é›†</h2><p>â€ƒâ€ƒè™šå‡æ¶ˆæ¯æ£€æµ‹é¢†åŸŸå…³æ³¨æ¶ˆæ¯æœ¬èº«ï¼Œç”¨æˆ·ç”»åƒã€å…³æ³¨åˆ—è¡¨ç­‰ç¤¾äº¤ä¸Šä¸‹æ–‡å†…å®¹ä»¥åŠæ¶ˆæ¯åœ¨ä¼ æ’­è¿‡ç¨‹ä¸­çš„ç»“æ„å³å…³è”ä¿¡æ¯ï¼Œé‡‡ç”¨æ”¶é›†è‡ªä¸åŒé¢†åŸŸä¸åŒå¹³å°å…·æœ‰æ˜¾è‘—å·®å¼‚æ€§çš„æ•°æ®é›†èƒ½å¤Ÿæ›´å¥½åœ°æ„å»ºæ¨¡å‹ã€‚å¸¸ç”¨çš„æ•°æ®é›†ä¿¡æ¯å¦‚è¡¨1æ‰€ç¤ºï¼Œæœé›†æ•´ç†è‡ªTwitterå’Œå¾®åšå¹³å°<sup><a href="http://www.cqvip.com/qk/94832x/201802/674500313.html">9</a>,<a href="https://aclanthology.org/P17-1066/?ref=https://githubhelp.com">27</a></sup>ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒFakeNewsNetæä¾›äº†Buzzfeedå’ŒPolitFactçš„ä¸¤ä¸ªæ•°æ®é›†<sup><a href="https://www.liebertpub.com/doi/abs/10.1089/big.2020.0062">28</a>ï¼ŒåŒ…å«äº†æ¶ˆæ¯çš„æ¥æºä»¥åŠæ ‡é¢˜ç­‰å†…å®¹å±æ€§å’Œå…³æ³¨åˆ—è¡¨ã€ç²‰ä¸åˆ—è¡¨ç­‰ç¤¾ä¼šèƒŒæ™¯å±æ€§ã€‚</sup></p>
<center><font size="2">è¡¨1  å¸¸ç”¨æ•°æ®é›†ä¿¡æ¯ç»Ÿè®¡</font></center>

<div class="table-container">
<table>
<thead>
<tr>
<th>æ•°æ®ç»Ÿè®¡</th>
<th>Weibo</th>
<th>Twitter15</th>
<th>Twitter16</th>
</tr>
</thead>
<tbody>
<tr>
<td>åŸå§‹æ¨æ–‡æ•°é‡</td>
<td>4664</td>
<td>1,490</td>
<td>818</td>
</tr>
<tr>
<td>ç”¨æˆ·æ•°é‡</td>
<td>2,746,818</td>
<td>276,663</td>
<td>173,487</td>
</tr>
<tr>
<td>è½¬å‘æ•°é‡</td>
<td>3,805,656</td>
<td>331,612</td>
<td>204,820</td>
</tr>
<tr>
<td>çœŸå®æ¶ˆæ¯æ•°é‡</td>
<td>2351</td>
<td>372</td>
<td>207</td>
</tr>
<tr>
<td>è™šå‡æ¶ˆæ¯æ•°é‡</td>
<td>2313</td>
<td>370</td>
<td>205</td>
</tr>
<tr>
<td>å•ç¯‡æ¨æ–‡å¹³å‡ä¼ æ’­æ—¶é•¿</td>
<td>2,460å°æ—¶</td>
<td>1,337å°æ—¶</td>
<td>848å°æ—¶</td>
</tr>
<tr>
<td>å•ç¯‡æ¨æ–‡å¹³å‡è½¬å‘æ¬¡æ•°</td>
<td>816</td>
<td>223</td>
<td>251</td>
</tr>
<tr>
<td>å•ç¯‡æ¨æ–‡æœ€å¤šè½¬å‘æ¬¡æ•°</td>
<td>59,318</td>
<td>1,768</td>
<td>2,765</td>
</tr>
<tr>
<td>å•ç¯‡æ¨æ–‡æœ€å°‘è½¬å‘æ¬¡æ•°</td>
<td>10</td>
<td>55</td>
<td>81</td>
</tr>
</tbody>
</table>
</div>
<h2 id="4-è¯„ä»·æŒ‡æ ‡"><a href="#4-è¯„ä»·æŒ‡æ ‡" class="headerlink" title="4  è¯„ä»·æŒ‡æ ‡"></a>4  è¯„ä»·æŒ‡æ ‡</h2><p>â€ƒâ€ƒè™šå‡æ¶ˆæ¯æ£€æµ‹ä½œä¸ºäºŒåˆ†ç±»ä»»åŠ¡ï¼Œè™šå‡æ¶ˆæ¯æ£€æµ‹é€šå¸¸ä½¿ç”¨å¤šä¸ªæŒ‡æ ‡åŒæ—¶è¿›è¡Œè¯„ä»·ï¼Œå¸¸ç”¨çš„è¯„ä»·æŒ‡æ ‡æœ‰å‡†ç¡®ç‡ï¼ˆAccuracyï¼‰ã€ç²¾å‡†ç‡ï¼ˆPrecisionï¼‰ã€å¬å›ç‡ï¼ˆRecallï¼‰å’ŒF1-scoreç­‰ã€‚Accuracyè¾ƒä¸ºç›´è§‚ï¼Œè¢«å¹¿æ³›åº”ç”¨åœ¨å„ç§åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œå¯¹åº”åˆ°åœ¨è™šå‡æ¶ˆæ¯æ£€æµ‹é¢†åŸŸå³æ­£ç¡®è¯†åˆ«å‡ºè™šå‡æ¶ˆæ¯æˆ–çœŸå®æ¶ˆæ¯çš„æ€»æ¯”ä¾‹ã€‚ä½†ç”±äºAccuracyçš„æœ¬èº«ç¼ºé™·ï¼Œä¾‹å¦‚æ­£è´Ÿç±»æ•°é‡å·®è·è¿‡å¤§å°†å¯¼è‡´å‡†ç¡®åº¦çš„åˆ¤æ–­ä¸èƒ½æ­£ç¡®åæ˜ äº‹å®ã€‚Precisionåæ˜ äº†æ˜¯å¦æœ‰å¤§é‡å‡æ¶ˆæ¯è¢«åˆ¤æ–­æˆçœŸæ¶ˆæ¯ï¼Œä½“ç°äº†æ¨¡å‹å¯¹è´Ÿæ ·æœ¬çš„åŒºåˆ†èƒ½åŠ›ï¼›Recallåæ˜ äº†æ˜¯å¦æœ‰çœŸæ¶ˆæ¯è¢«è¯¯åˆ¤ä¸ºå‡æ¶ˆæ¯ï¼Œä½“ç°æ¨¡å‹å¯¹æ­£æ ·æœ¬çš„è¯†åˆ«èƒ½åŠ›ã€‚Accuracyè¡¨ç¤ºé¢„æµ‹ä¸ºæ­£çš„ç»“æœå æ€»æ ·æœ¬çš„æ¯”ä¾‹ã€‚</p>
<h2 id="5-æ€»ç»“"><a href="#5-æ€»ç»“" class="headerlink" title="5  æ€»ç»“"></a>5  æ€»ç»“</h2><p>â€ƒâ€ƒæœ¬æ–‡ä¸»è¦å¯¹åŸºäºå¤§é‡æœ‰æ ‡æ³¨æ•°æ®çš„è™šå‡æ¶ˆæ¯æ£€æµ‹è¿›è¡Œäº†å›é¡¾ï¼Œå¯¹ç°æœ‰çš„å·¥ä½œè¿›è¡Œå®¢è§‚åˆ†æï¼Œä»æ¶ˆæ¯å†…å®¹å’Œä¼ æ’­å·®å¼‚ç­‰è§’åº¦å»ºæ¨¡è¿›è¡Œè™šå‡æ¶ˆæ¯æ£€æµ‹å…·æœ‰å„è‡ªçš„ä¼˜ç‚¹å’Œå±€é™æ€§ã€‚ç”¨æˆ·åœ¨ç¤¾äº¤ç½‘ç»œä¸Šå‘å¸ƒæ¶ˆæ¯å…·æœ‰æ•°æ®é‡å¤§ã€ç»“æ„å…³ç³»å¤æ‚ç­‰ç‰¹ç‚¹ï¼Œå¦‚ä½•ä»ä¼ æ’­é€Ÿåº¦ã€ä¼ æ’­ç»“æ„ç­‰æ–¹é¢å¤šå±‚æ¬¡å‰–ææ¶ˆæ¯ä¼ æ’­ç‰¹å¾ï¼Œè¿›ä¸€æ­¥ä¿ƒè¿›è™šå‡æ¶ˆæ¯çš„è‡ªåŠ¨åŒ–æ£€æµ‹è¯†åˆ«å‘å±•æ˜¯ä»Šåçš„ä¸€ä¸ªç ”ç©¶çƒ­ç‚¹ã€‚</p>
<h2 id="bell-å‚è€ƒæ–‡çŒ®"><a href="#bell-å‚è€ƒæ–‡çŒ®" class="headerlink" title=":bell: å‚è€ƒæ–‡çŒ®"></a><span class="github-emoji"><span>ğŸ””</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f514.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å‚è€ƒæ–‡çŒ®</h2><p><a href="http://cjc.ict.ac.cn/online/onlinepaper/xbl-2016327154823.pdf">1</a>    è°¢æŸæ—, è’‹ç››ç›Š, å‘¨å’æ¢…, ç­‰. åŸºäºæŠŠå…³äººè¡Œä¸ºçš„å¾®åšè™šå‡ä¿¡æ¯åŠæ—©æ£€æµ‹æ–¹æ³•[J]. è®¡ç®—æœºå­¦æŠ¥, 2016, 39(04): 730-744.<br><a href="http://edit.jeit.ac.cn/EN/article/downloadArticleFile.do?attachType=PDF&amp;id=18265">2</a>    èƒ¡é•¿å†›, è®¸æ–‡æ–‡, èƒ¡é¢–, ç­‰. åœ¨çº¿ç¤¾äº¤ç½‘ç»œä¿¡æ¯ä¼ æ’­ç ”ç©¶ç»¼è¿°[J]. ç”µå­ä¸ä¿¡æ¯å­¦æŠ¥, 2017, 39(04): 794-804.<br><a href="http://www.bulletin.cas.cn/zgkxyyk/ch/reader/view_abstract.aspx?file_no=20150208&amp;flag=1">3</a>    æ¨å–„æ—, ç‹ä½³ä½³, ä»£å®, ç­‰. åœ¨çº¿ç¤¾äº¤ç½‘ç»œç”¨æˆ·è¡Œä¸ºç ”ç©¶ç°çŠ¶ä¸å±•æœ›[J]. ä¸­å›½ç§‘å­¦é™¢é™¢åˆŠ, 2015, 30(02): 200-215.<br><a href="http://www.joca.cn/CN/abstract/abstract23957.shtml">4</a>    ä½•éŸ©æ£®, å­™å›½æ¢“. åŸºäºç‰¹å¾èšåˆçš„å‡æ–°é—»å†…å®¹æ£€æµ‹æ¨¡å‹[J]. è®¡ç®—æœºåº”ç”¨, 2020, 40(08): 2189-2193.<br><a href="https://link.springer.com/article/10.1007/BF00994018">5</a>    Cortes C, Vapnik V. Support-vector networks [J]. Machine learning, 1995, 20(3): 273-297.<br><a href="http://library.ioz.ac.cn/bitstream/000000/10883/1/%E9%9A%8F%E6%9C%BA%E6%A3%AE%E6%9E%97%E6%A8%A1%E5%9E%8B%E5%9C%A8%E5%88%86%E7%B1%BB%E4%B8%8E%E5%9B%9E%E5%BD%92%E5%88%86%E6%9E%90%E4%B8%AD%E7%9A%84%E5%BA%94%E7%94%A8.pdf">6</a>    ææ¬£æµ·. éšæœºæ£®æ—æ¨¡å‹åœ¨åˆ†ç±»ä¸å›å½’åˆ†æç§çš„åº”ç”¨[J]. åº”ç”¨æ˜†è™«å­¦æŠ¥, 2013, 50(04): 1190-1197.<br><a href="http://www.cqvip.com/">7</a>    æ¨å­¦æ–Œ, å¼ ä¿Š. å†³ç­–æ ‘ç®—æ³•åŠå…¶æ ¸å¿ƒæŠ€æœ¯[J]. è®¡ç®—æœºæŠ€æœ¯ä¸å‘å±•, 2007, 17(01): 43-46ï¼<br>[8]    ç™½æœˆæ˜. æ–°åª’ä½“æ—¶ä»£è™šå‡æ–°é—»çš„æˆå› åŠè§„é¿æ¢æ[J]. æ–°é—»ç ”ç©¶å¯¼åˆŠ, 2021, 12(16): 157-159.<br><a href="http://www.cqvip.com/qk/94832x/201802/674500313.html">9</a>    æ®µå¤§é«˜, ç›–æ–°æ–°, éŸ©å¿ æ˜, ç­‰. åŸºäºæ¢¯åº¦æå‡å†³ç­–æ ‘çš„å¾®åšè™šå‡æ¶ˆæ¯æ£€æµ‹[J]. è®¡ç®—æœºåº”ç”¨, 2018, 38(02): 410-414+420.<br><a href="https://ink.library.smu.edu.sg/sis_research/4630/">10</a>    Ma J, Gao W, Mitra P, et al. Detecting rumors from microblogs with recurrent neural networks [A]. Proceedings of the Twenty-Fifth International Joint Conference on Artificial Intelligence [C]. Palo Alto: AAAI Press, 2016, 3818-3824.<br><a href="https://www.ijcai.org/proceedings/2017/0545.pdf">11</a>    Yu F, Liu Q, Wu S, et al. A convolutional approach for misinformation identification [A]. Proceedings of the Twenty-Sixth International Joint Conference on Artificial Intelligence [C]. Palo Alto: AAAI Press, 2017, 3901-3907.<br><a href="https://ieeexplore.ieee.org/abstract/document/8970940/">12</a>    Qi P, Cao J, Yang T, et al. Exploiting multi-domain visual information for fake news detection [A]. 2019 IEEE International Conference on Data Mining(ICDM 2019) [C]. Piscataway: IEEE, 2019, 518-527.<br><a href="https://ieeexplore.ieee.org/abstract/document/8919302/">13</a>    Singhal S, Shah R R, Chakraborty T, et al. SpotFake: A multi-modal framework for fake news detection shivangi [A]. 2019 IEEE Fifth International Conference on Multimedia Big Data (BigMM) [C]. Piscataway: IEEE, 2019, 39-47.<br><a href="https://ojs.aaai.org/index.php/AAAI/article/view/7230">14</a>    Singhal S, Kabra A, Sharma M, et al. SpotFake+: A multimodal framework for fake news detection via transfer learning [A]. Proceedings of the AAAI Conference on Artificial Intelligence [C]. Palo Alto: AAAI Press, 2020, 13915-13916.<br><a href="https://www.cnki.com.cn/Article/CJFDTotal-JFYZ202107011.htm">15</a>    äº“é¹, æ›¹å¨Ÿ, ç››å¼º. è¯­ä¹‰å¢å¼ºçš„å¤šæ¨¡æ€è™šå‡æ–°é—»æ£€æµ‹[J]. è®¡ç®—æœºç ”ç©¶ä¸å‘å±•, 2021, 58(07): 1456-1465.<br><a href="https://www.cnki.com.cn/Article/CJFDTotal-JFYZ202011007.htm">16</a>    åˆ˜é‡‘ç¡•, å†¯é˜”, Pan J, ç­‰. MSRD: å¤šæ¨¡æ€ç½‘ç»œè°£è¨€æ£€æµ‹æ–¹æ³•[J]. è®¡ç®—æœºç ”ç©¶ä¸å‘å±•, 2020, 57(11): 2328-2336.<br><a href="https://www.sciencedirect.com/science/article/pii/S0306457321001060">17</a>    Xue J, Wang Y, Tian Y, et al. Detecting fake news by exploring the consistency of multimodal data [J]. Information Processing and Management, 2021, 58(5): 102610.<br><a href="https://dl.acm.org/doi/abs/10.1145/3404835.3462990">18</a>    Dou Y, Shu K, Xia C, et al. User preference-aware fake news detection [A]. Proceedings of the 44th International ACM SIGIR Conference on Research and Development in Information Retrieval [C]. New York: Association for Computing Machinery, 2021, 2051-2055.<br><a href="https://www.cnki.com.cn/Article/CJFDTotal-JFYZ201909015.htm">19</a>    åˆ˜æ³¢, ææ´‹, å­Ÿé’, ç­‰. ç¤¾äº¤åª’ä½“å†…å®¹å¯ä¿¡æ€§åˆ†æä¸è¯„ä»·[J]. è®¡ç®—æœºç ”ç©¶ä¸å‘å±•, 2019, 56(09): 1939-1952.<br><a href="https://aclanthology.org/2020.acl-main.48.pdf">20</a>    Lu Y-J, Li C-T. GCAN: Graph-aware co-attention networks for explainable fake news detection on social media [A]. Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics [C]. Stroudsburg: Association for Computational Linguistics, 2020, 505â€“514.<br><a href="https://dl.acm.org/doi/abs/10.1145/3404835.3463001">21</a>    He Z, Li C, Zhou F, et al. Rumor detection on social media with event augmentations [A]. Proceedings of the 44th International ACM SIGIR Conference on Research and Development in Information Retrieval [C]. New York: Association for Computing Machinery, 2021, 2020-2024.<br><a href="https://aclanthology.org/2021.findings-acl.63.pdf">22</a>    Li J, Ni S, Kao H-Y. Meet the truth: Leverage objective facts and subjective views for interpretable rumor detection [A]. Findings of the Association for Computational Linguistics [C]. Stroudsburg: Association for Computational Linguistics, 2021, 705â€“715.<br><a href="https://aclanthology.org/P18-1184/">23</a>    Ma J, Gao W, Wong K-F. Rumor detection on twitter with tree-structured recursive neural networks [A]. Proceedings of the 56th Annual Meeting of the Association for Computational Linguistics [C]. Stroudsburg: Association for Computational Linguistics, 2018, 1980â€“1989.<br><a href="https://aclanthology.org/2020.coling-main.476/">24</a>    Ma J, Gao W. Debunking Rumors on Twitter with Tree Transformer [A]. Proceedings of the 28th International Conference on Computational Linguistics [C]. Barcelona: International Committee on Computational Linguistics, 2020, 5455â€“5466.<br><a href="https://ojs.aaai.org/index.php/AAAI/article/view/5393">25</a>    Bian T, Xiao X, Xu T, et al. Rumor detection on social media with bi-directional graph convolutional networks [A]. Proceedings of the 34th AAAI Conference on Artificial Intelligence [C]. Palo Alto: AAAI Press, 2020, 549-556.<br><a href="https://dl.acm.org/doi/abs/10.1145/3289600.3290994">26</a>    Shu K, Wang S, Liu H. Beyond news contents: The role of social context for fake news detection [A]. Proceedings of the Twelfth ACM International Conference on Web Search and Data Mining [C]. Stroudsburg: Association for Computing Machinery, 2019, 312-320.<br><a href="https://aclanthology.org/P17-1066/?ref=https://githubhelp.com">27</a>    Ma J, Gao W, Wong K-F. Detect rumors in microblog posts using propagation structure via kernel learning [A]. Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics [C]. Stroudsburg: Association for Computational Linguistics, 2017, 708-717.<br><a href="https://www.liebertpub.com/doi/abs/10.1089/big.2020.0062">28</a>    Shu K, Mahudeswaran D, Wang S, et al. Fakenewsnet: A data repository with news content, social context, and spatiotemporal information for studying fake news on social media [J]. Big data, 2020, 8(3): 171-188.</p>
<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<blockquote>
<p>æœ€åä¿®æ”¹äº 2022/07/12<br>æœ¬æ–‡æ˜¯æœ¬ç§‘æ¯•ä¸šè®ºæ–‡çš„ç»¼è¿°ï¼Œå—å­—æ•°ã€ä¸­å¤–æ–‡çŒ®æ¯”ä¾‹ç­‰é™åˆ¶ï¼Œå’Œæœ€åˆçš„å†™çš„æœ‰è¾ƒå¤§å·®å¼‚ï¼Œå’Œæœ€ç»ˆå®éªŒåŠè®ºæ–‡å†…å®¹ä¹Ÿæœ‰è¾ƒå¤§å·®å¼‚ï¼Œæœ‰ç©ºå°±æ”¹æ”¹ï¼Œæ²¡ç©ºå°±ä½œç½¢ï¼Œè®ºæ–‡æœªæŠ•æçŠ¶æ€æš‚ä¸æ”¾å‡ºã€‚</p>
</blockquote>
<!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Literature review</category>
      </categories>
      <tags>
        <tag>Fake news</tag>
        <tag>NLP</tag>
      </tags>
  </entry>
  <entry>
    <title>HDB3 Decode And Endecode System</title>
    <url>/2021/09/30/HDB3%E7%BC%96%E8%A7%A3%E7%A0%81%E7%B3%BB%E7%BB%9F/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<ul>
<li>HDB3ç¼–è§£ç ç³»ç»Ÿï¼Œç”±Verilog HDLå®ç°Quartusâ…¡å’ŒModelsimè”åˆè¿›è¡ŒåŠŸèƒ½ä»¿çœŸï¼Œåœ¨FPGAèŠ¯ç‰‡å®æµ‹ã€‚</li>
<li>æ•´ä½“åŠŸèƒ½æ¨¡å—æ—¶åºé€»è¾‘éƒ½æ¯”è¾ƒç®€å•ï¼Œæ²¡æœ‰è¿›è¡Œæ—¶åºä»¿çœŸï¼Œç›´æ¥ä¸ŠFPGAå®æµ‹ï¼ŒåŸºæœ¬æ²¡æœ‰å¤§é—®é¢˜ã€‚</li>
<li>FPGAä¸»èŠ¯ç‰‡é‡‡ç”¨ALTREA EP2C8T144C8Nï¼Œæ•…éœ€è¦ä½¿ç”¨Quartusâ…¡13.0åŠä»¥ä¸‹ç‰ˆæœ¬ï¼Œå¦åˆ™æ— æ³•ä½¿ç”¨èŠ¯ç‰‡åº“ï¼Œå¯ç”¨é‡‡ç”¨å¤šç‰ˆæœ¬å…±å­˜æ–¹å¼ï¼ŒAlteraå…è®¸å¤šä¸ªç‰ˆæœ¬åŒæ—¶ä½¿ç”¨ï¼Œå¹¶ä¸”æœ‰æ¸…é™¤çš„ç‰ˆæœ¬åŒºåˆ†ã€‚</li>
<li>æ•°æ¨¡è½¬æ¢ D/A ï¼šå®ç°æ•°å­—æ¨¡æ‹Ÿè½¬æ¢åŠŸèƒ½ï¼Œå°†æ•°å­—ä¿¡å·é‡‡é›†å˜æˆæ¨¡æ‹Ÿä¿¡å·è¾“å‡ºï¼Œä½¿ç”¨National Semiconductor DAC 0832</li>
<li>æ¨¡æ•°è½¬æ¢ A/D ï¼šå®ç°æ¨¡æ‹Ÿæ•°å­—è½¬æ¢åŠŸèƒ½ï¼Œå°†æ¨¡æ‹Ÿä¿¡å·é‡‡é›†åå˜æˆæ•°å­—ä¿¡å·è¾“å‡ºï¼Œä½¿ç”¨Maxim Integrated ADC MAX7820</li>
<li>æ•´ä½“åŒ…æ‹¬åˆ†é¢‘å™¨è®¾è®¡ã€M åºåˆ—è®¾è®¡ã€æ˜ å°„è¡¨è®¾è®¡ã€ç¼–ç ç”µè·¯è®¾è®¡ã€D/A è½¬æ¢è®¾è®¡ã€A/D é‡‡æ ·è®¾è®¡ã€ ä½åŒæ­¥è®¾è®¡ã€è§£ç ç”µè·¯è®¾è®¡ã€ç¼–è§£ç ç³»ç»Ÿæ€»ä½“ç”µè·¯è®¾è®¡ã€‚<br><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•¤</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f564.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span id="more"></span>
</li>
</ul>
<h2 id="Principle"><a href="#Principle" class="headerlink" title="Principle"></a>Principle</h2><ul>
<li>HDB3ç ä¸ºä¸‰é˜¶é«˜å¯†åº¦åŒææ€§ç ï¼Œæ˜¯AMIç çš„ä¸€ç§æ”¹è¿›å‹ï¼Œä¿æŒäº†AMIçš„ä¼˜ç‚¹è€Œå…‹æœäº†å…¶çš„ç¼ºç‚¹ï¼Œä½¿è¿â€œ0â€ä¸ªæ•°ä¸è¶…è¿‡ä¸‰ä¸ªï¼›</li>
<li>ç¼–ç è§„åˆ™å¦‚ä¸‹ï¼š<ul>
<li>i.å…ˆæ£€æŸ¥æ¶ˆæ¯ç çš„è¿â€œ0â€ä¸ªæ•°ã€‚å½“è¿â€œ0â€æ•°ç›®å°äºç­‰äº3æ—¶ï¼Œåˆ™äºAMIç çš„ç¼–ç è§„åˆ™ä¸€æ ·ã€‚</li>
<li>ii.å½“è¿â€œ0â€æ•°ç›®è¶…è¿‡3ä¸ªæ—¶ï¼Œåˆ™å°†æ¯4ä¸ªè¿â€œ0â€åŒ–ä½œä¸€å°èŠ‚ï¼Œç”¨â€œ000Vâ€æ›¿ä»£ã€‚ï¼ˆVå–å€¼+1æˆ–-1ï¼‰åº”ä¸å…¶å‰ä¸€ä¸ªç›¸é‚»çš„éâ€œ0â€è„‰å†²çš„ææ€§ç›¸åŒï¼ˆå› ä¸ºè¿™ç ´åäº†ææ€§äº¤æ›¿çš„è§„åˆ™ï¼Œæ‰€ä»¥Vç§°ä¸ºç ´åè„‰å†²ï¼‰ã€‚</li>
<li>iii.ç›¸é‚»çš„Vç ææ€§å¿…é¡»äº¤æ›¿ã€‚å½“Vç å–å€¼èƒ½æ»¡è¶³ä¹‹å‰çš„æ¡ä»¶æ—¶ä½†ä¸èƒ½æ»¡è¶³æ­¤è¦æ±‚æ—¶ï¼Œåˆ™å°†â€œ0000â€ç”¨â€œB00Vâ€æ›¿ä»£ã€‚Bçš„å–å€¼ä¸åé¢çš„Vè„‰å†²ä¸€è‡´ï¼Œç”¨äºè§£å†³æ­¤é—®é¢˜ã€‚å› æ­¤ï¼ŒBç§°ä¸ºè°ƒèŠ‚è„‰å†²ã€‚</li>
<li>iv.Vç åé¢çš„ä¼ å·ç ææ€§ä¹Ÿè¦äº¤æ›¿ã€‚</li>
</ul>
</li>
<li>ç¼–ç æ¯”è¾ƒå¤æ‚ï¼Œä½†è§£ç å´æ¯”è¾ƒç®€å•ï¼Œä»ç¼–ç è§„åˆ™ä¸Šçœ‹ï¼Œæ¯ä¸€ä¸ªç ´åè„‰å†²Væ€»æ˜¯ä¸å‰ä¸€éâ€œ0â€è„‰å†²åŒææ€§ï¼ˆåŒ…æ‹¬Båœ¨å†…ï¼‰ï¼Œä¹Ÿå°±æ˜¯è¯´ä»æ”¶åˆ°çš„ç¬¦å·åºåˆ—ä¸­å¯ä»¥å®¹æ˜“åœ°æ‰¾åˆ°ç ´åç‚¹Vï¼Œäºæ˜¯ä¹Ÿåˆ¤å®šVç¬¦å·ä»¥åŠå‰é¢çš„ä¸‰ä¸ªç¬¦å·å¿…æ˜¯è¿â€œ0â€ç¬¦å·ï¼Œä»è€Œæ¢å¤4ä¸ªè¿â€œ0â€ç ï¼Œå†å°†æ‰€æœ‰-1å˜æˆ+1åä¾¿å¾—åˆ°åŸå§‹æ¶ˆæ¯ç ã€‚</li>
<li>måºåˆ—æ˜¯æœ€é•¿çº¿æ€§åé¦ˆç§»ä½å¯„å­˜å™¨åºåˆ—çš„ç®€ç§°ã€‚å®ƒæ˜¯ç”±çº¿æ€§åé¦ˆçš„ç§»å­˜å™¨äº§ç”Ÿçš„å‘¨æœŸæœ€é•¿çš„åºåˆ—ã€‚åœ¨è¿™ç§åé¦ˆç§»å­˜å™¨ä¸­é¿å…å‡ºç°å…¨â€œ0â€çŠ¶æ€ï¼Œå¦åˆ™ç§»å­˜å™¨çš„çŠ¶æ€å°†ä¸ä¼šæ”¹å˜ï¼Œnçº§ç§»å­˜å™¨å…±æœ‰ ç§å¯èƒ½çš„çŠ¶æ€ï¼Œé™¤å»å…¨â€œ0â€çŠ¶æ€å¤–ï¼Œè¿˜æœ‰ çŠ¶æ€å¯ç”¨ã€‚äº§ç”Ÿmåºåˆ—çš„å……è¦æ¡ä»¶å°±æ˜¯ç§»ä½å¯„å­˜å™¨çš„ç‰¹å¾å¤šé¡¹å¼ä¸ºæœ¬åŸå¤šé¡¹å¼ï¼Œå¯æ ¹æ®né˜¶çš„måºåˆ—æœ¬åŸå¤šé¡¹å¼çš„åå¤ç§»ä½æ¥äº§ç”Ÿæˆ‘ä»¬éœ€è¦çš„måºåˆ—ã€‚</li>
</ul>
<h2 id="Design"><a href="#Design" class="headerlink" title="Design"></a>Design</h2><ul>
<li>ç”±åŸå§‹çš„çš„32.768MHzæ—¶é’Ÿï¼Œç»è¿‡ç¬¬ä¸€æ¬¡256åˆ†é¢‘ç”¨äºåç»­çš„ç å…ƒå®šæ—¶æ¢å¤ï¼Œç»§ç»­ç»è¿‡16åˆ†é¢‘äº§ç”Ÿ8KHzçš„ç å…ƒæ—¶é’Ÿï¼Œç”±Måºåˆ—äº§ç”Ÿæ¨¡å—ç”Ÿæˆéšæœºçš„Måºåˆ—æ¥æ¨¡æ‹Ÿä¼ è¾“è¿‡ç¨‹ä¸­çš„éšæœºä¿¡å·ï¼Œæ ¹æ®AMIç å’ŒHDB3çš„ç¼–ç è§„åˆ™å¯¹Måºåˆ—è¿›è¡Œè°ƒæ•´ï¼Œäº§ç”Ÿå•ææ€§çš„HDB3ç ï¼Œä½†ç”±äºå­˜åœ¨0ã€+1ã€-1ä¸‰ç§æƒ…å†µï¼Œè‡³å°‘éœ€è¦ä¸¤ä½æ•°æ®æ‰èƒ½å­˜å‚¨ï¼Œæ‰€ä»¥è¿›è¡Œä¸€æ¬¡åŒææ€§å˜æ¢ï¼Œå¯¹åº”è½¬åŒ–æˆå…«ä½æ•°æ®ï¼Œè‡³æ­¤å®Œæˆç¼–ç è¿‡ç¨‹ã€‚</li>
</ul>
<h2 id="Frame-Diagram"><a href="#Frame-Diagram" class="headerlink" title="Frame Diagram"></a>Frame Diagram</h2><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/1.FrameDiagram.png" alt="Fig.1 Frame Diagram"></p>
<center><font size="2">Fig.1 Frame Diagram</font></center>

<h2 id="Code"><a href="#Code" class="headerlink" title="Code"></a>Code</h2><h3 id="åˆ†é¢‘è®¾è®¡"><a href="#åˆ†é¢‘è®¾è®¡" class="headerlink" title="åˆ†é¢‘è®¾è®¡"></a>åˆ†é¢‘è®¾è®¡</h3><ul>
<li>even256_divæ¨¡å—<ul>
<li>æ¨¡å—even256_divçš„ä½œç”¨æ˜¯å°†æœ€å¼€å§‹çš„32.768MHzç³»ç»Ÿæ—¶é’Ÿè¿›è¡Œå¶æ•°256åˆ†é¢‘ï¼Œäº§ç”Ÿæ–°çš„æ—¶é’Ÿä¿¡å·ï¼Œä¾›ç»™åç»­16åˆ†é¢‘æ¨¡å—ä½¿ç”¨ï¼ŒåŒæ—¶ç”¨äºè§£ç éƒ¨åˆ†çš„ç å…ƒå®šæ—¶æ¢å¤æ¨¡å—åˆ¤å†³æ—¶é’Ÿä½¿ç”¨ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> even256_div(clk,rst,clk_out);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> clk,rst;</span><br><span class="line"><span class="keyword">output</span> clk_out;</span><br><span class="line"><span class="keyword">reg</span> clk_out;</span><br><span class="line"><span class="keyword">reg</span>[<span class="number">7</span>:<span class="number">0</span>] count;</span><br><span class="line"><span class="comment">// å¶æ•°åˆ†é¢‘</span></span><br><span class="line"><span class="keyword">parameter</span> N=<span class="number">256</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line">    <span class="keyword">if</span>(!rst) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¤ä½åˆå§‹åŒ–</span></span><br><span class="line">        count&lt;=<span class="number">1'b0</span>;</span><br><span class="line">        clk_out&lt;=<span class="number">1'b0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(N%<span class="number">2</span>==<span class="number">0</span>)<span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(count&lt;N/<span class="number">2</span>-<span class="number">1</span>) count &lt;=count+<span class="number">1'b1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="comment">// è®¡æ•°åˆ°ä¸€åŠï¼Œæ—¶é’Ÿç¿»è½¬å®ç°åˆ†é¢‘</span></span><br><span class="line">            count&lt;=<span class="number">1'b0</span>;</span><br><span class="line">            clk_out&lt;=~clk_out;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>even16_divæ¨¡å—<ul>
<li>æ¨¡å—even16_divçš„ä½œç”¨æ˜¯å°†256åˆ†é¢‘è¾“å‡ºçš„æ—¶é’Ÿå†æ¬¡è¿›è¡Œå¶æ•°åˆ†é¢‘ï¼Œå¾—åˆ°çš„æ—¶é’Ÿå°±æ˜¯ç”¨äºmåºåˆ—äº§ç”Ÿçš„ç å…ƒæ—¶é’Ÿã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> even16_div(clk,rst,clk_out);</span><br><span class="line">    </span><br><span class="line"><span class="keyword">input</span> clk,rst;</span><br><span class="line"><span class="keyword">output</span> clk_out;</span><br><span class="line"><span class="keyword">reg</span> clk_out;</span><br><span class="line"><span class="keyword">reg</span>[<span class="number">3</span>:<span class="number">0</span>] count;</span><br><span class="line"><span class="comment">// å¶æ•°åˆ†é¢‘</span></span><br><span class="line"><span class="keyword">parameter</span> N=<span class="number">16</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)</span><br><span class="line">    <span class="keyword">if</span>(!rst) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¤ä½åˆå§‹åŒ–</span></span><br><span class="line">        count&lt;=<span class="number">1'b0</span>;</span><br><span class="line">        clk_out&lt;=<span class="number">1'b0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(N%<span class="number">2</span>==<span class="number">0</span>)<span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(count&lt;N/<span class="number">2</span>-<span class="number">1</span>) count &lt;=count+<span class="number">1'b1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">            <span class="comment">// è®¡æ•°åˆ°ä¸€åŠï¼Œæ—¶é’Ÿç¿»è½¬å®ç°åˆ†é¢‘</span></span><br><span class="line">            count&lt;=<span class="number">1'b0</span>;</span><br><span class="line">            clk_out&lt;=~clk_out;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="Måºåˆ—è®¾è®¡"><a href="#Måºåˆ—è®¾è®¡" class="headerlink" title="Måºåˆ—è®¾è®¡"></a>Måºåˆ—è®¾è®¡</h3><ul>
<li>m_sequenceæ¨¡å—<ul>
<li>æ¨¡å—m_sequenceçš„ä½œç”¨æ˜¯æ ¹æ®7é˜¶måºåˆ—çš„æœ¬åŸå¤šé¡¹å¼ï¼Œå¾ªç¯ä½ç§»ï¼Œä½¿ç”¨16åˆ†é¢‘çš„ç å…ƒæ—¶é’Ÿäº§ç”Ÿä¼ªéšæœºåºåˆ—æ¨¡æ‹ŸåŸºå¸¦ä¼ è¾“ä¿¡å·ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> m_sequence(clk,rst,ena,data_out,load);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> clk;                        <span class="comment">//æ—¶é’Ÿä¿¡å·</span></span><br><span class="line"><span class="keyword">input</span> rst;                        <span class="comment">//å¤ä½ä¿¡å·ï¼Œä½ç”µå¹³æœ‰æ•ˆ</span></span><br><span class="line"><span class="keyword">input</span> ena;                        <span class="comment">//æ§åˆ¶ä¿¡å·ï¼Œé«˜ç”µå¹³æ—¶åºåˆ—å‘ç”Ÿå™¨å¼€å§‹å·¥ä½œ</span></span><br><span class="line"><span class="keyword">output</span> data_out;</span><br><span class="line"><span class="keyword">output</span> load;                      <span class="comment">//æ§åˆ¶ä¿¡å·ï¼Œä¸ºé«˜ç”µå¹³æ—¶è¡¨ç¤ºä¼ªéšæœºåºåˆ—å¼€å§‹</span></span><br><span class="line"><span class="keyword">reg</span> data_out,load;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">6</span>:<span class="number">0</span>]temp;                    <span class="comment">//7çº§ç§»ä½å¯„å­˜å™¨äº§ç”Ÿå‘¨æœŸä¸º127çš„måºåˆ—</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst) <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!rst) <span class="keyword">begin</span></span><br><span class="line">            data_out &lt;= <span class="number">0</span>;</span><br><span class="line">            load &lt;= <span class="number">1'b0</span>;            <span class="comment">//æ§åˆ¶ä¿¡å·è®¾ä¸ºæ— æ•ˆ</span></span><br><span class="line">            temp &lt;= <span class="number">7'b1111_111</span>;     <span class="comment">//ç§»ä½å¯„å­˜å™¨åˆå§‹çŠ¶æ€è®¾ä¸ºå…¨1</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">begin</span>                       <span class="comment">//å¼€å§‹äº§ç”Ÿåºåˆ—ä¿¡å·</span></span><br><span class="line">        <span class="keyword">if</span>(ena) <span class="keyword">begin</span>                <span class="comment">//åˆ¤æ–­åºåˆ—å‘ç”Ÿå™¨çš„æ§åˆ¶ä¿¡å·æ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">                <span class="comment">//è‹¥æ§åˆ¶ä¿¡å·æœ‰æ•ˆ</span></span><br><span class="line">                load &lt;= <span class="number">1'b1</span>;        <span class="comment">//å°†æ§åˆ¶ä¼ªéšæœºåºåˆ—äº§ç”Ÿçš„ä¿¡å·è®¾ä¸ºæœ‰æ•ˆ        </span></span><br><span class="line">                temp &lt;= {temp[<span class="number">5</span>:<span class="number">0</span>],temp[<span class="number">2</span>]^temp[<span class="number">6</span>]};        <span class="comment">//å¯¹åº”f(x)=x^7+x^3+1</span></span><br><span class="line">                <span class="comment">//å½“æ§åˆ¶ä¼ªéšæœºæ•°åˆ—äº§ç”Ÿçš„ä¿¡å·ä½¿èƒ½æ—¶å°†ç§»ä½å¯„å­˜å™¨çš„æœ€é«˜ä½åšä¸ºmåºåˆ—è¿›è¡Œè¾“å‡º</span></span><br><span class="line">            <span class="keyword">if</span>(load)    data_out &lt;= temp[<span class="number">6</span>];</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> load &lt;= <span class="number">1'b0</span>;    <span class="comment">//è‹¥æ§åˆ¶ä¿¡å·æ— æ•ˆï¼Œåˆ™ä¸å¼€å§‹äº§ç”Ÿä¼ªéšæœºåºåˆ—</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="ç¼–ç ç”µè·¯è®¾è®¡"><a href="#ç¼–ç ç”µè·¯è®¾è®¡" class="headerlink" title="ç¼–ç ç”µè·¯è®¾è®¡"></a>ç¼–ç ç”µè·¯è®¾è®¡</h3><ul>
<li>æ¨¡å—add_vçš„ä½œç”¨æ˜¯æ‰¾åˆ°måºåˆ—ä¸­4ä¸ªè¿ç»­çš„0ï¼Œå¹¶å°†ç¬¬å››ä¸ªè¿0å˜æˆvã€‚<ul>
<li>è¾“å…¥ä¿¡å·ä¸ºâ€œ0â€ç å’Œâ€œ1â€ç ï¼Œè¾“å‡ºä¿¡å·ç”¨ä¸¤ä½äºŒè¿›åˆ¶æ•°â€œ00â€â€œ01â€ï¼Œâ€œ11â€åˆ†åˆ«è¡¨ç¤ºä¿¡å·ä¸ºâ€œ0â€ã€â€œ1â€ã€â€œVâ€ï¼›</li>
<li>è®¾ç½®äº†ä¸€ä¸ªå¯„å­˜å™¨ç”¨äºå­˜å‚¨å½“å‰ç å…ƒä½ç½®å¤„è¿â€œ0â€ä¸ªçš„ä¸ªæ•°ï¼›</li>
<li>å¯¹è¾“å…¥ä¿¡å·è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¾“å…¥é«˜ç”µå¹³ï¼Œåˆ™è®¡æ•°å™¨å¤ä½ï¼Œè¾“å‡ºä¸ºâ€œ01â€ï¼›è‹¥è¾“å…¥ä½ç”µå¹³ï¼Œåˆ™å°†è®¡æ•°å™¨åŠ ä¸€ï¼Œå¹¶åˆ¤æ–­æ­¤æ—¶è®¡æ•°å™¨çš„å€¼æ˜¯å¦ä¸ºâ€œ4â€ï¼Œè‹¥è®¡æ•°å™¨çš„å€¼ä¸ºâ€œ4â€ï¼Œåˆ™è¡¨ç¤ºå‡ºç°å››ä¸ªè¿â€œ0â€ï¼Œå°†è¯¥â€œ0â€ä¿¡å·å˜ä¸ºâ€œVâ€ä¸”è®¡æ•°å™¨å¤ä½ï¼Œè¾“å‡ºä¸ºâ€œ11â€ï¼Œå¦åˆ™ï¼Œè¾“å‡ºä¸ºâ€œ00â€ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> add_v(rst,data_in,data_out,clk);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> data_in,rst,clk;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">1</span>:<span class="number">0</span>]data_out;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>]data_out;            <span class="comment">//ç”¨00ã€01ã€11åˆ†åˆ«è¡¨ç¤ºè¾“å…¥ä¿¡å·ä¸ºâ€œ0ã€1ã€Vâ€</span></span><br><span class="line"><span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>]counter;               <span class="comment">//è®¾ç½®è¿0è®¡æ•°å™¨</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst) <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!rst) <span class="keyword">begin</span></span><br><span class="line">        counter &lt;= <span class="number">0</span>;</span><br><span class="line">        data_out &lt;= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_in == <span class="number">1'b1</span>) <span class="keyword">begin</span>  <span class="comment">//åˆ¤æ–­è¾“å…¥ä¿¡å·æ˜¯å¦ä¸º1</span></span><br><span class="line">        counter &lt;= <span class="number">0</span>;                <span class="comment">//è‹¥ä¸º1åˆ™è®¡æ•°å™¨å¤ä½ï¼Œè¾“å‡ºâ€œ01â€</span></span><br><span class="line">        data_out &lt;= <span class="number">2'b01</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_in == <span class="number">1'b0</span>) <span class="keyword">begin</span>                        <span class="comment">//è‹¥è¾“å…¥ä¿¡å·ä¸º0ï¼Œè®¡æ•°å™¨+1</span></span><br><span class="line">        counter &lt;= counter + <span class="number">1</span>; </span><br><span class="line">        <span class="keyword">if</span>(counter == <span class="number">2'b11</span>) <span class="keyword">begin</span>    <span class="comment">//åˆ¤æ–­è¿0ä¸ªæ•°æ˜¯å¦è¾¾åˆ°4ä¸ªï¼Œå› ä¸ºéé˜»å¡èµ‹å€¼ï¼Œæ­¤æ—¶è®¡æ•°å™¨å€¼åº”ä¸º3æ—¶ï¼Œè¡¨ç¤ºå‡ºç°4ä¸ªè¿0</span></span><br><span class="line">            data_out &lt;= <span class="number">2'b11</span>;        <span class="comment">//å°†0çš„è¾“å‡ºå˜ä¸ºV</span></span><br><span class="line">            counter &lt;= <span class="number">0</span>;            <span class="comment">//è®¡æ•°å™¨å¤ä½</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> data_out &lt;= <span class="number">2'b00</span>;       <span class="comment">//è‹¥è¿0æ•°ä¸ä¸º4ï¼Œè¾“å‡ºâ€œ00â€</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>æ¨¡å—add_bçš„ä½œç”¨æ˜¯ä¸ºäº†ä¿è¯åœ¨æ·»åŠ â€œVâ€ç åçš„åºåˆ—ä¸­ï¼Œç›¸é‚»çš„â€œVâ€ç ææ€§å¿…é¡»äº¤æ›¿ï¼Œå½“â€œVâ€ç å–å€¼ä¸èƒ½æ»¡è¶³æ­¤è¦æ±‚æ—¶ï¼Œåˆ™å°†â€œ000Vâ€ç”¨â€œB00Vâ€æ›¿ä»£ã€‚<ul>
<li>è¾“å…¥ä¿¡å·ä¸ºadd_væ¨¡å—çš„è¾“å‡ºï¼Œè¾“å‡ºä¿¡å·ç”¨ä¸¤ä½äºŒè¿›åˆ¶æ•°â€œ00â€ã€â€œ01â€ã€â€œ10â€ã€â€œ11â€åˆ†åˆ«è¡¨ç¤ºä¿¡å·ä¸ºâ€œ0â€ã€â€œ1â€ã€â€œBâ€ã€â€œVâ€ï¼›</li>
<li>è®¾ç½®ä¸¤ä¸ªå¯„å­˜å™¨åˆ†åˆ«ç”¨äºå­˜å‚¨â€œ1â€ç å’Œâ€œVâ€ç çš„ä¸ªæ•°ï¼›</li>
<li>è®¾ç½®å››ä½ç§»ä½å¯„å­˜å™¨æ–¹ä¾¿å®ç°ç”¨â€œB00Vâ€æ›¿ä»£â€œ000Vâ€çš„åŠŸèƒ½ï¼›</li>
<li>å¯¹è¾“å…¥ä¿¡å·è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¾“å…¥ä¸ºâ€œ00â€ï¼Œå°†â€œ1â€ç è®¡æ•°å™¨åŠ ä¸Šâ€œVâ€ç è®¡æ•°å™¨çš„å€¼ï¼Œå¹¶å¤ä½â€œVâ€ç è®¡æ•°å™¨ï¼›è‹¥è¾“å…¥ä¸ºâ€œ01â€ï¼Œå…ˆå°†â€œ1â€ç è®¡æ•°å™¨åŠ ä¸€ï¼Œç„¶ååŠ ä¸Šâ€œVâ€ç è®¡æ•°å™¨çš„å€¼ï¼Œæœ€åå¤ä½â€œVâ€ç è®¡æ•°å™¨ï¼›è‹¥è¾“å…¥ä¸ºâ€œ11â€ï¼Œåˆ™â€œVâ€ç è®¡æ•°å™¨åŠ ä¸€ï¼›</li>
<li>ç”¨â€œ1â€ç è®¡æ•°å™¨å’Œâ€œVâ€ç è®¡æ•°å™¨çš„å€¼åˆ¤æ–­æœ€ç»ˆçš„è¾“å‡ºä¿¡å·ï¼Œè‹¥è¾“å…¥ä¸ä¸ºâ€œ11â€ï¼Œåˆ™è¾“å‡ºä¸å˜ï¼›è‹¥è¾“å…¥ä¸ºâ€œ11â€ï¼Œåˆ¤æ–­æ­¤æ—¶â€œ1â€ç è®¡æ•°å™¨çš„å€¼ï¼Œå½“æ­¤å‰â€œ1â€ç çš„ä¸ªæ•°ä¸ºå¥‡æ•°æ—¶ï¼Œè¾“å‡ºä¸å˜ï¼Œå½“æ­¤å‰â€œ1â€ç çš„ä¸ªæ•°ä¸ºå¶æ•°æ—¶ï¼Œè¾“å‡ºâ€œ10â€ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> add_b(rst,data_in,data_out,clk);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> clk,rst;</span><br><span class="line"><span class="keyword">input</span> [<span class="number">1</span>:<span class="number">0</span>]data_in;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">1</span>:<span class="number">0</span>]data_out;        <span class="comment">//ç”¨00ã€01ã€10ã€11åˆ†åˆ«è¡¨ç¤ºè¾“å…¥ä¿¡å·ä¸ºâ€œ0ã€1ã€Bã€Vâ€</span></span><br><span class="line"><span class="keyword">reg</span> counter1;                    <span class="comment">//è®¾ç½®â€œ01â€çš„è®¡æ•°å™¨</span></span><br><span class="line"><span class="keyword">reg</span> counterv;                    <span class="comment">//è®¾ç½®â€œ11â€çš„è®¡æ•°å™¨</span></span><br><span class="line"><span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>]buffer[<span class="number">3</span>:<span class="number">0</span>];        <span class="comment">//å–ä»£èŠ‚é€‰æ‹©</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst) <span class="keyword">begin</span></span><br><span class="line"><span class="comment">//è®¾ç½®å››ä½ç§»ä½å¯„å­˜å™¨æ–¹ä¾¿æ’â€œBâ€çš„å®ç°</span></span><br><span class="line">    <span class="keyword">if</span>(!rst) <span class="keyword">begin</span></span><br><span class="line">        buffer[<span class="number">3</span>]&lt;=<span class="number">0</span>;</span><br><span class="line">        buffer[<span class="number">2</span>]&lt;=<span class="number">0</span>;</span><br><span class="line">        buffer[<span class="number">1</span>]&lt;=<span class="number">0</span>;</span><br><span class="line">        buffer[<span class="number">0</span>]&lt;=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">        buffer[<span class="number">3</span>]&lt;=buffer[<span class="number">2</span>];</span><br><span class="line">        buffer[<span class="number">2</span>]&lt;=buffer[<span class="number">1</span>];</span><br><span class="line">        buffer[<span class="number">1</span>]&lt;=buffer[<span class="number">0</span>];</span><br><span class="line">        buffer[<span class="number">0</span>]&lt;=data_in;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst) <span class="keyword">begin</span></span><br><span class="line"><span class="comment">//å¯¹è¾“å…¥è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line">    <span class="keyword">if</span>(!rst) <span class="keyword">begin</span></span><br><span class="line">        counter1 = <span class="number">0</span>;</span><br><span class="line">        counterv = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">if</span>(data_in == <span class="number">2'b11</span>) <span class="comment">//å¦‚æœè¾“å…¥ä¸ºâ€œ11â€ï¼Œåˆ™countervåŠ 1</span></span><br><span class="line">        counterv &lt;= counterv + <span class="number">1'b1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_in == <span class="number">2'b01</span>) <span class="keyword">begin</span> <span class="comment">//å¦‚æœè¾“å…¥ä¸ºâ€œ01â€ï¼Œåˆ™counter1åŠ 1</span></span><br><span class="line">        counter1 &lt;= counter1 + <span class="number">1'b1</span> + counterv;</span><br><span class="line">        counterv &lt;= <span class="number">1'b0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">        counter1 &lt;= counter1 + counterv;</span><br><span class="line">        counterv &lt;= <span class="number">1'b0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//è‹¥è¾“å…¥ä¸ºâ€œ11â€,å¦‚æœæ­¤å‰1çš„ä¸ªæ•°ä¸ºå¥‡æ•°ï¼Œåˆ™è¾“å‡ºä¸å˜ï¼Œè‹¥ä¸ºå¶æ•°ï¼Œåˆ™è¾“å‡ºâ€œ10â€</span></span><br><span class="line"><span class="comment">//è‹¥è¾“å…¥ä¸ä¸ºâ€œ11â€,åˆ™è¾“å‡ºä¸å˜</span></span><br><span class="line"><span class="keyword">assign</span> data_out = (counter1%<span class="number">2</span> == <span class="number">0</span>) &amp;&amp; (counterv == <span class="number">1</span>)? <span class="number">2'b10</span> : buffer[<span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>æ¨¡å—polarçš„ä½œç”¨æ˜¯å•ææ€§ä¿¡å·å˜ä¸ºåŒææ€§ä¿¡å·ã€‚<ul>
<li>è¾“å…¥ä¿¡å·ä¸ºadd_bæ¨¡å—çš„è¾“å‡ºï¼Œè¾“å‡ºä¿¡å·ç”¨â€œ00â€è¡¨ç¤ºâ€œ0â€ç ï¼Œç”¨â€œ10â€è¡¨ç¤ºâ€œ+1ã€+Bã€+Vâ€ç ï¼Œç”¨â€œ01â€è¡¨ç¤ºâ€œ-1ã€-Bã€-Vâ€ï¼›</li>
<li>è®¾ç½®ææ€§åˆ¤æ–­æ ‡å¿—ä½ï¼Œå½“å…¶ä¸ºâ€œ1â€æ—¶ï¼Œè¡¨ç¤ºâ€œ+1â€å’Œâ€œ-Vâ€ï¼Œå½“å…¶ä¸ºâ€œ0â€æ—¶ï¼Œè¡¨ç¤ºâ€œ-1â€å’Œâ€œ+Vâ€ï¼›</li>
<li>å¯¹è¾“å…¥ä¿¡å·è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¾“å…¥ä¸ºâ€œ11â€ï¼ˆVç ï¼‰ï¼Œåˆ©ç”¨ææ€§åˆ¤æ–­æ ‡å¿—ä½åˆ¤æ–­è¯¥ç æ­£è´Ÿï¼›è‹¥è¾“å…¥ä¸ºâ€œ01â€ï¼ˆ1ç ï¼‰æˆ–è€…â€œ10â€ï¼ˆBç ï¼‰ï¼Œåˆ©ç”¨ææ€§åˆ¤æ–­æ ‡å¿—ä½åˆ¤æ–­è¯¥ç æ­£è´Ÿï¼ŒåŒæ—¶å°†ææ€§åˆ¤æ–­æ ‡å¿—ä½ç¿»è½¬ï¼›è‹¥è¾“å…¥ä¸ºâ€œ00â€ï¼ˆ0ç ï¼‰ï¼Œåˆ™è¾“å‡ºä¸ºâ€œ00â€ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> polar(rst,data_in,data_outP,data_outN,clk);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> [<span class="number">1</span>:<span class="number">0</span>]data_in;</span><br><span class="line"><span class="keyword">input</span> rst,clk;</span><br><span class="line"><span class="keyword">output</span> data_outP,data_outN;    <span class="comment">//ç”¨Pä¸Nè¡¨ç¤ºæ­£è´Ÿ</span></span><br><span class="line"><span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>] polar_out;                 <span class="comment">//â€œ00â€è¡¨ç¤º0ï¼Œâ€œ10â€è¡¨ç¤º+1ï¼Œâ€œ01â€è¡¨ç¤º-1</span></span><br><span class="line"><span class="keyword">reg</span> data_outN,data_outP;</span><br><span class="line"><span class="keyword">reg</span> even;                             <span class="comment">//è®¾ç½®ææ€§åˆ¤æ–­æ ‡å¿—,1è¡¨ç¤º+1å’Œ-Vï¼Œ0è¡¨ç¤ºâ€”1å’Œ+V</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst) <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!rst) even &lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_in == <span class="number">2'b11</span>) <span class="keyword">begin</span>    <span class="comment">//è‹¥è¾“å…¥ä¸ºâ€œ11ï¼ˆVï¼‰â€</span></span><br><span class="line">        <span class="keyword">if</span>(even ==     <span class="number">1</span>)                          <span class="comment">//åˆ¤æ–­ææ€§æ ‡å¿—ï¼Œè‹¥evenä¸º1</span></span><br><span class="line">            polar_out &lt;= <span class="number">2'b01</span>;             <span class="comment">//è¾“å‡ºä¸ºâ€œ01ï¼ˆ-1ï¼‰â€</span></span><br><span class="line">        <span class="keyword">else</span>                                     <span class="comment">//è‹¥evenä¸º0</span></span><br><span class="line">            polar_out &lt;= <span class="number">2'b10</span>;             <span class="comment">//è¾“å‡ºä¸ºâ€œ10ï¼ˆ+1ï¼‰â€</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="comment">//è‹¥è¾“å…¥ä¸ºâ€œ01ï¼ˆ1ï¼‰â€æˆ–è€…â€œ10ï¼ˆBï¼‰â€</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_in == <span class="number">2'b01</span> || data_in == <span class="number">2'b10</span>) <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(even == <span class="number">1</span>) <span class="keyword">begin</span>              <span class="comment">//åˆ¤æ–­ææ€§æ ‡å¿—ï¼Œè‹¥evenä¸º1</span></span><br><span class="line">            even &lt;= <span class="number">0</span>;                     <span class="comment">//å°†evenç¿»è½¬</span></span><br><span class="line">            polar_out &lt;= <span class="number">2'b10</span>;         <span class="comment">//è¾“å‡ºä¸ºâ€œ10ï¼ˆ+1ï¼‰â€</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">begin</span>                          <span class="comment">//è‹¥evenä¸º0</span></span><br><span class="line">            even &lt;= <span class="number">1</span>;                      <span class="comment">//å°†evenç¿»è½¬</span></span><br><span class="line">            polar_out &lt;= <span class="number">2'b01</span>;         <span class="comment">//è¾“å‡ºä¸ºâ€œ01ï¼ˆ-1ï¼‰â€</span></span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_in == <span class="number">2'b00</span>)        <span class="comment">//è‹¥è¾“å…¥ä¸ºâ€œ00ï¼ˆ0ï¼‰â€</span></span><br><span class="line">        polar_out &lt;= <span class="number">2'b00</span>;            <span class="comment">//è¾“å‡ºä¸ºâ€œ00ï¼ˆ0ï¼‰â€</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(polar_out <span class="keyword">or</span> rst) <span class="keyword">begin</span>    </span><br><span class="line"><span class="comment">//å°†è¾“å‡ºå¯„å­˜å™¨çš„ä¸¤ä½æ•°åˆ†åˆ«èµ‹å€¼ç»™è¾“å‡ºç«¯å£data_outPå’Œdata_outN</span></span><br><span class="line">    <span class="keyword">if</span>(!rst) <span class="keyword">begin</span></span><br><span class="line">        data_outP &lt;= <span class="number">0</span>;</span><br><span class="line">        data_outN &lt;= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(polar_out == <span class="number">2'b01</span>) <span class="keyword">begin</span></span><br><span class="line">        data_outP &lt;= <span class="number">0</span>;                <span class="comment">//PN=01è¡¨ç¤º-1</span></span><br><span class="line">        data_outN &lt;= <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(polar_out == <span class="number">2'b10</span>) <span class="keyword">begin</span></span><br><span class="line">        data_outP &lt;= <span class="number">1</span>;                <span class="comment">//PN=10è¡¨ç¤º+1</span></span><br><span class="line">        data_outN &lt;= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">        data_outP &lt;= <span class="number">0</span>;                <span class="comment">//PN=00è¡¨ç¤º0</span></span><br><span class="line">        data_outN &lt;= <span class="number">0</span>;            </span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>æ¨¡å—changeçš„ä½œç”¨æ˜¯å°†åŒææ€§ä¿¡å·å˜æ›´ä¸º8ä½äºŒè¿›åˆ¶æ•°ã€‚<ul>
<li>è¾“å…¥ä¿¡å·ä¸ºpolaræ¨¡å—çš„è¾“å‡ºï¼Œè¾“å‡ºä¿¡å·åˆ™ä¸º8ä½äºŒè¿›åˆ¶æ•°ï¼›</li>
<li>å¯¹è¾“å…¥ä¿¡å·è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¾“å…¥ä¿¡å·ä¸ºâ€œ00â€ï¼Œåˆ™è¾“å‡ºä¿¡å·ä¸ºâ€œ10000000â€ï¼›è‹¥è¾“å…¥ä¿¡å·ä¸ºâ€œ10â€ï¼Œåˆ™è¾“å‡ºä¿¡å·ä¸ºâ€œ11111111â€ï¼Œè‹¥è¾“å…¥ä¿¡å·ä¸ºâ€œ01â€ï¼Œåˆ™è¾“å‡ºä¿¡å·ä¸ºâ€œ00000000â€ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> change(rst,data_inP,data_inN,data_out,clk);</span><br><span class="line"></span><br><span class="line"><span class="comment">//äºŒè¾“å…¥å…«è¾“å‡ºæ¨¡å—ï¼Œå°†PNä¿¡å·è½¬æ¢ä¸ºå…«ä½è¾“å‡ºä¿¡å·ä½œä¸ºDACçš„è¾“å…¥</span></span><br><span class="line"><span class="keyword">input</span> rst,clk,data_inP,data_inN;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>]data_out;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">7</span>:<span class="number">0</span>]data_out;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst)    <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!rst)</span><br><span class="line">        data_out &lt;= <span class="number">8'b10000000</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_inP == <span class="number">1</span> &amp;&amp; data_inN == <span class="number">0</span>) <span class="keyword">begin</span>        <span class="comment">//PN=10å¯¹åº”è¾“å‡ºHFF</span></span><br><span class="line">        data_out &lt;= <span class="number">8'b11111111</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_inP == <span class="number">0</span> &amp;&amp; data_inN ==<span class="number">1</span>) <span class="keyword">begin</span>        <span class="comment">//PN=01å¯¹åº”è¾“å‡ºH00</span></span><br><span class="line">        data_out &lt;= <span class="number">8'b00000000</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(data_inP == <span class="number">0</span> &amp;&amp; data_inN ==<span class="number">0</span>) <span class="keyword">begin</span>        <span class="comment">//PN=00å¯¹åº”è¾“å‡ºH80</span></span><br><span class="line">        data_out &lt;= <span class="number">8'b10000000</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="D-Aè½¬æ¢è®¾è®¡"><a href="#D-Aè½¬æ¢è®¾è®¡" class="headerlink" title="D/Aè½¬æ¢è®¾è®¡"></a>D/Aè½¬æ¢è®¾è®¡</h3><ul>
<li>æ¨¡æ‹Ÿæ•°æ®ä¼ è¾“è¿‡ç¨‹åœ¨å®éªŒç®±ä¸Šç”¨ä¸€æ¡ä¿¡å·è¿æ¥çº¿æ¥è¡¨ç¤ºï¼Œç”¨DAè½¬æ¢å™¨å°†åŒææ€§çš„æ•°å­—ä¿¡å·è½¬æ¢æˆæ¨¡æ‹Ÿä¿¡å·ï¼Œç»è¿‡ä¿¡å·è¿æ¥çº¿è‡³ADè½¬æ¢å™¨ï¼Œè½¬æ¢æˆåŒææ€§çš„0å’Œ1è¾“å‡ºåˆ°è§£ç æ¨¡å—ã€‚ç”±äºä½¿ç”¨Quartus â…¡æ—¶æ²¡æœ‰ADå’ŒDAè½¬æ¢å™¨ï¼Œæ‰€ä»¥ç›´æ¥è¿æ¥äº†åŒææ€§è¾“å‡ºå’Œè¾“å…¥æ–­ï¼Œè·³è¿‡äº†æ¨¡æ‹Ÿä¼ è¾“è¿‡ç¨‹ï¼Œä½†å®é™…ä¸Šçš„ADè½¬æ¢å™¨è¾“å‡ºå¹¶ä¸æ˜¯å®Œç¾çš„åŒææ€§æ•°æ®ï¼Œéœ€è¦æ ¹æ®å®éªŒç®±çš„è°ƒæ•´è€Œå¯¹ä»£ç è¿›è¡Œå¤šæ¬¡è°ƒè¯•ã€‚</li>
</ul>
<h3 id="A-Dé‡‡æ ·è®¾è®¡"><a href="#A-Dé‡‡æ ·è®¾è®¡" class="headerlink" title="A/Dé‡‡æ ·è®¾è®¡"></a>A/Dé‡‡æ ·è®¾è®¡</h3><ul>
<li>ç”±ADè½¬æ¢å™¨è¾“å‡ºçš„å…«ä½æ•°æ®ï¼Œç”±äºæ¨¡æ‹Ÿä¼ è¾“è¿‡ç¨‹å’Œè½¬åŒ–è¿‡ç¨‹å­˜åœ¨æ—¶å»¶å·®ï¼Œéœ€è¦è®¾è®¡ä¸€ä¸ªç å…ƒå®šæ—¶æ¢å¤æ¨¡å—ï¼Œç”¨æœ€åˆ256åˆ†é¢‘äº§ç”Ÿçš„æ—¶é’Ÿä¿¡å·ä¸æ–­æ£€æµ‹äºŒç»´æ•°æ®ï¼Œæ ¹æ®å®é™…çš„æ•°æ®ç‰¹å¾æ¥äº§ç”Ÿä¸16åˆ†é¢‘ä¿¡å·ç›¸åŒçš„8KHzä¿¡å·ï¼Œå¹¶ä¸”åˆ¤æ–­ç å…ƒçš„èµ·å§‹æ—¶åˆ»ï¼Œæ­¤å¤„ç å…ƒå®šæ—¶æ¢å¤æ¨¡å—è¾“å‡ºçš„ç å…ƒæ—¶é’Ÿå°†ç”¨äºæ•´ä¸ªè§£ç æ¨¡å—ã€‚è§£ç æ¨¡å—æ ¹æ®HDB3ç çš„ç‰¹å¾ï¼Œæ‰¾åˆ°ç›¸åº”çš„+1ç å’Œ-1ç ï¼Œå¹¶ä¸”åˆ¤æ–­Vç å’ŒBç å¹¶æ¸…é›¶ï¼Œå®ç°è§£ç ã€‚</li>
</ul>
<h3 id="ä½åŒæ­¥è®¾è®¡"><a href="#ä½åŒæ­¥è®¾è®¡" class="headerlink" title="ä½åŒæ­¥è®¾è®¡"></a>ä½åŒæ­¥è®¾è®¡</h3><ul>
<li>æ¨¡å—recoverçš„ä½œç”¨æ˜¯å°†å…«ä½äºŒè¿›åˆ¶ä¿¡å·å˜æ›´ä¸ºä¸€ä½çš„å•ææ€§ä¿¡å·ï¼Œå³ç å…ƒå®šæ—¶æ¢å¤ã€‚<ul>
<li>å¯¹è¾“å…¥ä¿¡å·è¿›è¡Œåˆ¤æ–­ï¼Œå…«ä½è¾“å‡ºä¿¡å·æœ‰ä¸‰ç§æƒ…å†µï¼Œ8â€™h00ã€8â€™h80ã€8â€™hFFï¼Œåˆ†åˆ«ä»£è¡¨-1ï¼Œ0å’Œ+1è¿™ä¸‰ç§æƒ…å†µï¼Œä»¿çœŸæ—¶å¯ä»¥ç”¨ä¸‰ç§æƒ…å†µçš„æ•°å­—ç‰¹å¾æ¥è¿›è¡Œè¾¹ç¼˜æ£€æµ‹å’Œæ—¶é’Ÿå®šæ—¶æ¢å¤ï¼›</li>
<li>åœ¨å®é™…è°ƒè¯•è¿‡ç¨‹ä¸­ï¼ŒADè½¬æ¢è¾“å‡ºçš„ä¸‰ç§ä¿¡å·å¹¶ä¸æ˜¯ç¡®å®šçš„å€¼ï¼Œä¼šå­˜åœ¨æ¯›åˆºç°è±¡ï¼Œæ‰€ä»¥éœ€è¦æ ¹æ®å®é™…æƒ…å†µè°ƒæ•´ï¼Œæˆ‘ä»¬é‡‡é›†åˆ°çš„æ•°æ®æ˜¯å¤§äº8â€™h58ä¸º+1ï¼Œ8â€™h30~8â€™h3fä¸º0ï¼Œå°äº8â€™h0fä¸º-1ï¼Œæ•…æ ¹æ®ä¸‰ä¸ªåŒºé—´ï¼Œç”¨256åˆ†é¢‘çš„æ—¶é’Ÿå»é‡‡æ ·ï¼Œåˆå§‹ç½®flagä¸º0ï¼Œå¦‚æœæ£€æµ‹åˆ°åŒºé—´å‘ç”Ÿè·ƒå˜ï¼Œåˆ™ç½®1ï¼ŒåŒæ—¶è¿›è¡Œå®šæ—¶æ¢å¤ï¼Œè¿ç»­å…«ä¸ªæ—¶é’Ÿç¿»è½¬ä¸€æ¬¡ï¼Œå¾—åˆ°ç å…ƒå®šæ—¶æ¢å¤çš„æ—¶é’Ÿæä¾›åç»­æ¨¡å—ä½¿ç”¨ã€‚</li>
</ul>
</li>
</ul>
<h3 id="è§£ç ç”µè·¯è®¾è®¡"><a href="#è§£ç ç”µè·¯è®¾è®¡" class="headerlink" title="è§£ç ç”µè·¯è®¾è®¡"></a>è§£ç ç”µè·¯è®¾è®¡</h3><ul>
<li>æ¨¡å—trans8to1çš„ä½œç”¨æ˜¯å°†å…«ä½äºŒè¿›åˆ¶æ•°æ®è½¬æ¢ä¸ºPå’ŒNåŒææ€§ä¿¡å·ã€‚<ul>
<li>è¾“å…¥ä¿¡å·ä¸ºADè½¬æ¢çš„8ä½è¾“å‡ºï¼Œè¾“å‡ºä¿¡å·åˆ™ä¸ºPå’ŒNå„ä¸€ä½çš„äºŒè¿›åˆ¶æ•°ä»£è¡¨åŒææ€§ï¼›</li>
<li>å¯¹è¾“å…¥ä¿¡å·è¿›è¡Œåˆ¤æ–­ï¼Œè‹¥è¾“å…¥ä¿¡å·ä¸ºâ€œ3â€™h00â€ï¼Œåˆ™è¾“å‡ºä¿¡å·ä¸ºâ€œP=0,N=1â€ï¼›è‹¥è¾“å…¥ä¿¡å·ä¸ºâ€œ3â€™h80â€ï¼Œåˆ™è¾“å‡ºä¿¡å·ä¸ºâ€œP=0,N=0â€ï¼Œè‹¥è¾“å…¥ä¿¡å·ä¸ºâ€œ3â€™hFFâ€ï¼Œåˆ™è¾“å‡ºä¿¡å·ä¸ºâ€œP=1,N=0â€ï¼›</li>
<li>ä½†å®é™…æƒ…å†µæ˜¯ï¼ŒçœŸå®çš„ADè½¬æ¢è¾“å‡ºä¸ä¼šæ˜¯åˆšå¥½çš„3â€™h00ã€3â€™h80å’Œ3â€™hFFï¼Œç»è¿‡å®é™…æ£€æµ‹ï¼Œè¾“å‡ºçš„èŒƒå›´åˆ†åˆ«æ˜¯3â€™h00~8â€™h0fã€8â€™h30~8â€™h3fã€å¤§äº8â€™h58ï¼Œå’Œç†æƒ³çš„æƒ…å†µç›¸å·®è¾ƒå¤§ï¼Œå¦‚æœå®é™…æ“ä½œæ—¶ç”¨ç†æƒ³çš„ä¸‰ç§æƒ…å†µæ£€æµ‹ï¼Œå°†ä¸èƒ½æ¢å¤å‡ºåŒææ€§ä¿¡å·ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> trans8to1(rst_n, indata_8, outdata_P, outdata_N,clk);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> rst_n,clk;</span><br><span class="line"><span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>] indata_8;</span><br><span class="line"><span class="keyword">output</span> outdata_P, outdata_N;</span><br><span class="line"><span class="keyword">reg</span> outdata_P, outdata_N;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n) <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!rst_n) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¤ä½åˆå§‹åŒ–</span></span><br><span class="line">        outdata_P &lt;= <span class="number">0</span>;</span><br><span class="line">        outdata_N &lt;= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">    <span class="comment">// ä¸‰ä¸ªåŒºé—´åˆ†åˆ«å¯¹åº”ä¸‰ç§åŒææ€§På’ŒNçš„å€¼æ¥è¡¨ç¤º+1ã€0å’Œ-1</span></span><br><span class="line">    <span class="keyword">if</span>(indata_8 &gt;= <span class="number">8'h58</span>) <span class="keyword">begin</span></span><br><span class="line">            outdata_P&lt;=<span class="number">1</span>;</span><br><span class="line">            outdata_N&lt;=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(indata_8 &lt;= <span class="number">8'h3f</span> &amp;&amp; indata_8 &gt;= <span class="number">8'h30</span>) <span class="keyword">begin</span></span><br><span class="line">            outdata_P&lt;=<span class="number">0</span>;</span><br><span class="line">            outdata_N&lt;=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(indata_8 &lt;= <span class="number">8'h0f</span>) <span class="keyword">begin</span></span><br><span class="line">            outdata_P&lt;=<span class="number">0</span>;</span><br><span class="line">            outdata_N&lt;=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>æ¨¡å—findvçš„ä½œç”¨æ˜¯æ ¹æ®På’ŒNä¸¤ä½æ•°æ®è¿›è¡Œé€»è¾‘åˆ¤å®šï¼Œæ‰¾åˆ°Vç ï¼Œè¾“å‡ºåªåŒ…å«0å’Œ1çš„åºåˆ—ã€‚<ul>
<li>è®¾ç½®ä¸¤ä¸ªflagæ¥è¡¨ç¤º+1å’Œ-1çš„ä¸ªæ•°çŠ¶æ€ï¼Œæ ¹æ®HDB3ç ä¸­çš„è¿ç»­åŒå·çš„1æ¥æ‰¾åˆ°Vç ï¼›</li>
<li>å¦‚æœPNæ˜¯10ï¼Œåˆ™flag2ç½®0ï¼Œflag1è‡ªåŠ 1ï¼Œå¦‚æœflag1è‡ªåŠ +åä¸º2åˆ™è¡¨ç¤ºæœ‰ä¸¤ä¸ªè¿ç»­çš„+1ï¼›</li>
<li>å¦‚æœPNæ˜¯01ï¼Œåˆ™flag1ç½®0ï¼Œflag2è‡ªåŠ 1ï¼Œå¦‚æœflag2è‡ªåŠ +åä¸º2åˆ™è¡¨ç¤ºæœ‰ä¸¤ä¸ªè¿ç»­çš„-1ï¼›</li>
<li>æ— è®ºæ˜¯æ‰¾åˆ°è¿ç»­çš„+1è¿˜æ˜¯-1éƒ½å…¨éƒ¨ç½®11è¡¨ç¤ºè¿ç»­çš„1ï¼Œæ­£å¸¸ä¸è¿ç»­çš„+1å’Œ-1ç”¨01è¡¨ç¤ºï¼Œå…¶ä»–çŠ¶å†µéƒ½æ¸…00è¡¨ç¤º0åŸºæœ¬è¿˜åŸåŸå§‹åºåˆ—ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> findv(rst_n, indata_P, indata_N, outdata,clk);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> rst_n,clk;</span><br><span class="line"><span class="keyword">input</span> indata_P, indata_N;</span><br><span class="line"><span class="keyword">output</span> <span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>] outdata;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>]flag1;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">1</span>:<span class="number">0</span>]flag2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">initial</span> <span class="keyword">begin</span></span><br><span class="line">    flag1=<span class="number">2'b00</span>;</span><br><span class="line">    flag2=<span class="number">2'b00</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n) <span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">if</span>(!rst_n) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¤ä½åˆå§‹åŒ–</span></span><br><span class="line">        flag1=<span class="number">2'b00</span>;</span><br><span class="line">        flag2=<span class="number">2'b00</span>;</span><br><span class="line">        outdata &lt;= <span class="number">2'b00</span>;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(indata_P==<span class="number">1'b1</span> &amp;&amp; indata_N==<span class="number">1'b0</span>) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¦‚æœPNæ˜¯10ï¼Œåˆ™flag2ç½®0ï¼Œflag1è‡ªåŠ 1ï¼Œå¦‚æœflag1è‡ªåŠ +åä¸º2åˆ™è¡¨ç¤ºæœ‰ä¸¤ä¸ªè¿ç»­çš„+1</span></span><br><span class="line">            flag2&lt;=<span class="number">2'b00</span>;</span><br><span class="line">            flag1=flag1+<span class="number">2'b01</span>;</span><br><span class="line">            <span class="keyword">if</span>(flag1==<span class="number">2'b10</span>) <span class="keyword">begin</span></span><br><span class="line">                outdata&lt;=<span class="number">2'b11</span>;</span><br><span class="line">                flag1&lt;=<span class="number">2'b00</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">else</span> outdata&lt;=<span class="number">2'b01</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(indata_P==<span class="number">1'b0</span> &amp;&amp; indata_N==<span class="number">1'b1</span>) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¦‚æœPNæ˜¯01ï¼Œåˆ™flag1ç½®0ï¼Œflag2è‡ªåŠ 1ï¼Œå¦‚æœflag2è‡ªåŠ +åä¸º2åˆ™è¡¨ç¤ºæœ‰ä¸¤ä¸ªè¿ç»­çš„-1</span></span><br><span class="line">            flag1&lt;=<span class="number">2'b00</span>;</span><br><span class="line">            flag2=flag2+<span class="number">2'b01</span>;</span><br><span class="line">            <span class="keyword">if</span>(flag2==<span class="number">2'b10</span>) <span class="keyword">begin</span></span><br><span class="line">                outdata&lt;=<span class="number">2'b11</span>;</span><br><span class="line">                flag2&lt;=<span class="number">2'b00</span>;</span><br><span class="line">            <span class="keyword">end</span></span><br><span class="line">            <span class="keyword">else</span> outdata&lt;=<span class="number">2'b01</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="comment">// å…¶ä»–æƒ…å†µä¸º00åˆ™æ­£å¸¸ç½®00</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(indata_P==<span class="number">1'b0</span> &amp;&amp; indata_N==<span class="number">1'b0</span>) outdata&lt;=<span class="number">2'b00</span>;</span><br><span class="line">        <span class="comment">//else outdata&lt;=2'b01;</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>æ¨¡å—delvbçš„ä½œç”¨æ˜¯å°†åºåˆ—è¿›è¡Œæœ€åçš„å¤„ç†ï¼Œæ ¹æ®HDB3çš„è¿0è§„åˆ™å°†å¤šä½™çš„1æ¸…é›¶ï¼Œæ¢å¤å‡ºåŸå§‹çš„måºåˆ—å®Œæˆæœ€ç»ˆçš„è§£ç ã€‚<ul>
<li>è®¾ç½®ä¸€ä¸ªbufferæ¥æš‚å­˜å‰å››ä½æ•°æ®ï¼ŒHDB3çš„ç¼–è§£ç è§„åˆ™æ˜¯å¯¹è¿ç»­çš„å››ä¸ª0è¿›è¡Œå¤„ç†ï¼Œä¹‹å‰çš„æ¨¡å—å·²ç»æ‰¾åˆ°äº†Vç ï¼Œè¿™é‡Œéœ€è¦å¯¹Vç ä»¥åŠBç æ¸…é›¶ï¼›</li>
<li>ä½†å®é™…ä¸Šåªè¦æ‰¾åˆ°äº†Vç ï¼Œå°†Vç æœ¬èº«å’Œä¹‹å‰çš„ä¸‰ä½ä¸€å…±å››ä½å…¨éƒ¨æ¸…é›¶ï¼Œå°±å¯ä»¥ä¸ç”¨è€ƒè™‘Bç çš„å½±å“ï¼›</li>
<li>æ£€æµ‹indataçš„è¾“å…¥è‹¥ä¸º11åˆ™è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªVç ï¼Œåˆ™ä½¿ç”¨bufferå°†å››ä½æ•°æ®æ¸…é›¶ï¼Œè¾“å‡ºæ¥åˆ°bufferçš„å‰ä¸‰ä½ï¼Œç”¨countervçš„0å’Œ1çŠ¶å†µæ¥åˆ¤å®šæ¸…é›¶è¿˜æ˜¯ç›´æ¥bufferè¾“å‡ºï¼Œå®Œæˆæœ€ç»ˆçš„è§£ç ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> delvb(rst_n, indata, outdata,clk);</span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span> rst_n,clk;</span><br><span class="line"><span class="keyword">input</span> [<span class="number">1</span>:<span class="number">0</span>]indata;</span><br><span class="line"><span class="keyword">output</span> outdata;</span><br><span class="line"><span class="keyword">reg</span> [<span class="number">3</span>:<span class="number">0</span>]buffer;</span><br><span class="line"><span class="keyword">reg</span> bufferdata;</span><br><span class="line"><span class="keyword">reg</span> counterv;</span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span>@(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n)</span><br><span class="line"><span class="keyword">begin</span><span class="comment">// è®¾ç½®å››ä½bufferæš‚å­˜å‰å››ä½æ•°æ®</span></span><br><span class="line"><span class="keyword">if</span> (!rst_n) <span class="keyword">begin</span></span><br><span class="line">    buffer[<span class="number">3</span>]&lt;=<span class="number">0</span>;</span><br><span class="line">    buffer[<span class="number">2</span>]&lt;=<span class="number">0</span>;</span><br><span class="line">    buffer[<span class="number">1</span>]&lt;=<span class="number">0</span>;</span><br><span class="line">    buffer[<span class="number">0</span>]&lt;=<span class="number">0</span>;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">    buffer[<span class="number">3</span>]&lt;=buffer[<span class="number">2</span>];</span><br><span class="line">    buffer[<span class="number">2</span>]&lt;=buffer[<span class="number">1</span>];</span><br><span class="line">    buffer[<span class="number">1</span>]&lt;=buffer[<span class="number">0</span>];</span><br><span class="line">    buffer[<span class="number">0</span>]&lt;=bufferdata;</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">always</span> @(<span class="keyword">posedge</span> clk <span class="keyword">or</span> <span class="keyword">negedge</span> rst_n) <span class="keyword">begin</span></span><br><span class="line">    <span class="comment">// å¤ä½åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">if</span>(!rst_n) bufferdata &lt;= <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">begin</span></span><br><span class="line">        <span class="keyword">if</span>(indata==<span class="number">2'b01</span>) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯æ­£å¸¸çš„01ï¼Œåˆ™æ•°æ®è¿˜æ˜¯1</span></span><br><span class="line">            counterv &lt;= <span class="number">0</span>;</span><br><span class="line">            bufferdata&lt;=<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(indata==<span class="number">2'b00</span>) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯æ­£å¸¸çš„00ï¼Œåˆ™æ•°æ®è¿˜æ˜¯0</span></span><br><span class="line">            counterv &lt;= <span class="number">0</span>;</span><br><span class="line">            bufferdata&lt;=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(indata==<span class="number">2'b11</span>) <span class="keyword">begin</span></span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯çš„11ï¼Œåˆ™è¡¨ç¤ºè¯¥ä½ä¸ºVç ï¼Œå°†countervæ ‡è®°1</span></span><br><span class="line">            counterv &lt;= <span class="number">1</span>;</span><br><span class="line">            bufferdata&lt;=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">end</span></span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span> outdata = (counterv == <span class="number">1</span>)  ? <span class="number">0</span> : buffer[<span class="number">2</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="ç¼–è§£ç ç³»ç»Ÿæ€»ä½“ç”µè·¯è®¾è®¡"><a href="#ç¼–è§£ç ç³»ç»Ÿæ€»ä½“ç”µè·¯è®¾è®¡" class="headerlink" title="ç¼–è§£ç ç³»ç»Ÿæ€»ä½“ç”µè·¯è®¾è®¡"></a>ç¼–è§£ç ç³»ç»Ÿæ€»ä½“ç”µè·¯è®¾è®¡</h3><ul>
<li>é¡¶å±‚æ¨¡å—çš„ä½œç”¨æ˜¯å°†æ‰€æœ‰çš„åŠŸèƒ½æ¨¡å—è¿›è¡Œè¿æ¥ï¼Œå¹¶å°†éƒ¨åˆ†åŠŸèƒ½æ¨¡å—çš„è¾“å‡ºç«¯å£æ‹‰å‡ºï¼Œä»¥æ–¹ä¾¿æœ€ç»ˆçš„ä»¿çœŸåŠFPGAå¼•è„šçš„ç»‘å®šã€‚<ul>
<li>åˆ†é¢‘åŠŸèƒ½çš„è¿æ¥ï¼šå°†ç³»ç»Ÿæ—¶é’Ÿä½œä¸ºeven256_divæ¨¡å—çš„è¾“å…¥ï¼Œå…¶è¾“å‡ºä¸ºç³»ç»Ÿæ—¶é’Ÿçš„256åˆ†é¢‘æ—¶é’Ÿï¼Œå°†å…¶ä½œä¸ºeven_div16æ¨¡å—çš„è¾“å…¥ï¼Œå…¶è¾“å‡ºä¸º256åˆ†é¢‘æ—¶é’Ÿçš„16åˆ†é¢‘æ—¶é’Ÿï¼›</li>
<li>Måºåˆ—ç”ŸæˆåŠŸèƒ½çš„è¿æ¥ï¼šç”¨16åˆ†é¢‘æ—¶é’Ÿä½œä¸ºm_sequenceæ¨¡å—çš„é©±åŠ¨æ—¶é’Ÿï¼Œè¾“å…¥ä½¿èƒ½ä¿¡å·ï¼Œè¾“å‡ºä¸ºmåºåˆ—ï¼›</li>
<li>HDB3ç¼–ç åŠŸèƒ½çš„è¿æ¥ï¼šè¯¥åŠŸèƒ½ä¸‹æ¨¡å—çš„é©±åŠ¨æ—¶é’Ÿéƒ½ä¸º16åˆ†é¢‘æ—¶é’Ÿï¼Œå°†m_sequenceæ¨¡å—çš„è¾“å‡ºä½œä¸ºadd_væ¨¡å—çš„è¾“å…¥ï¼Œå°†add_væ¨¡å—çš„è¾“å‡ºä½œä¸ºadd_bæ¨¡å—çš„è¾“å…¥ï¼Œå°†add_bæ¨¡å—çš„è¾“å‡ºä½œä¸ºpolaræ¨¡å—çš„è¾“å…¥ï¼Œå°†polaræ¨¡å—çš„è¾“å‡ºä½œä¸ºchangeæ¨¡å—çš„è¾“å…¥ï¼Œè¾“å‡º8ä½äºŒè¿›åˆ¶æ•°ï¼›</li>
<li>ç å…ƒå®šæ—¶æ¢å¤åŠŸèƒ½çš„è¿æ¥ï¼šç”¨256åˆ†é¢‘æ—¶é’Ÿä½œä¸ºrecoveræ¨¡å—çš„é©±åŠ¨æ—¶é’Ÿï¼Œadè½¬æ¢å™¨çš„è¾“å‡ºä½œä¸ºrecoveræ¨¡å—çš„è¾“å…¥ï¼Œè¾“å‡ºä¸ºç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿï¼›</li>
<li>HDB3è¯‘ç åŠŸèƒ½çš„è¿æ¥:è¯¥åŠŸèƒ½ä¸‹æ¨¡å—çš„é©±åŠ¨æ—¶é’Ÿéƒ½ä¸ºç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿï¼Œadè½¬æ¢å™¨çš„è¾“å‡ºä½œä¸ºtrans8to1æ¨¡å—çš„è¾“å…¥ï¼Œå°†trans8to1æ¨¡å—çš„è¾“å‡ºä½œä¸ºfindvæ¨¡å—çš„è¾“å…¥ï¼Œå°†findvæ¨¡å—çš„è¾“å‡ºä½œä¸ºdelvbæ¨¡å—çš„è¾“å…¥ï¼Œdelvbæ¨¡å—çš„è¾“å‡ºå³ä¸ºè¯‘ç æ¢å¤çš„måºåˆ—ã€‚</li>
</ul>
</li>
</ul>
<figure class="highlight verilog"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">module</span> HDB3(rst,</span><br><span class="line">                clk,clk_256,clk_16,clk_recover,clk_256_ad,clk_256_da,</span><br><span class="line">                ena,</span><br><span class="line">                data_out,data_out_ad,outm,outv,outb,outP,outN,data_out_check,</span><br><span class="line">                finallyout,outdata_P,outdata_N,outdata_v</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">input</span>  rst,clk,ena;</span><br><span class="line"><span class="keyword">input</span> [<span class="number">7</span>:<span class="number">0</span>]data_out_ad;</span><br><span class="line"><span class="keyword">output</span> clk_256,clk_16,clk_recover,clk_256_ad,clk_256_da;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>]data_out_check;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">7</span>:<span class="number">0</span>]data_out;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">1</span>:<span class="number">0</span>]outv;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">1</span>:<span class="number">0</span>]outb;</span><br><span class="line"><span class="keyword">output</span> outm,outP,outN;</span><br><span class="line"><span class="keyword">output</span> outdata_P,outdata_N;</span><br><span class="line"><span class="keyword">output</span> [<span class="number">1</span>:<span class="number">0</span>]outdata_v;</span><br><span class="line"><span class="keyword">output</span> finallyout;</span><br><span class="line"><span class="comment">//åˆ†é¢‘</span></span><br><span class="line">even256_div div256(clk,rst,clk_256);</span><br><span class="line">even16_div div16(clk_256,rst,clk_16);</span><br><span class="line"><span class="comment">//måºåˆ—</span></span><br><span class="line">m_sequence m(clk_16,rst,ena,outm,load);</span><br><span class="line"><span class="comment">//ç¼–ç </span></span><br><span class="line">add_v u1(rst,outm,outv,clk_16);</span><br><span class="line">add_b u2(rst,outv,outb,clk_16);</span><br><span class="line">polar u3(rst,outb,outP,outN,clk_16);</span><br><span class="line">change u4(rst,outP,outN,data_out,clk_16);</span><br><span class="line"><span class="comment">//ç å…ƒå®šæ—¶æ¢å¤</span></span><br><span class="line">recover u8(clk_256, rst, data_out_ad, clk_recover);</span><br><span class="line"><span class="comment">//è¯‘ç </span></span><br><span class="line">trans8to1 u5(rst, data_out_ad, outdata_P, outdata_N,clk_recover);</span><br><span class="line">findv u6(rst, outdata_P, outdata_N, outdata_v,clk_recover);</span><br><span class="line">delvb u7(rst, outdata_v, finallyout,clk_recover);</span><br><span class="line"></span><br><span class="line"><span class="keyword">assign</span> clk_256_ad = clk_256;</span><br><span class="line"><span class="keyword">assign</span> clk_256_da = clk_256;</span><br><span class="line"><span class="keyword">assign</span> data_out_check = data_out_ad;</span><br><span class="line"></span><br><span class="line"><span class="keyword">endmodule</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="è°ƒè¯•ä¸éªŒè¯"><a href="#è°ƒè¯•ä¸éªŒè¯" class="headerlink" title="è°ƒè¯•ä¸éªŒè¯"></a>è°ƒè¯•ä¸éªŒè¯</h2><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/2.FPGA.png" alt="Fig.2 FPGA"></p>
<center><font size="2">Fig.2 FPGA</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/3.å¼•è„šåˆ†é….jpg" alt="Fig.3 å¼•è„šåˆ†é…"></p>
<center><font size="2">Fig.3 å¼•è„šåˆ†é…</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/4.jpg" alt="Fig.4 FPGAè¿æ¥"></p>
<center><font size="2">Fig.4 FPGAè¿æ¥</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/5.256åˆ†é¢‘å’Œ16åˆ†é¢‘.jpg" alt="Fig.5 256åˆ†é¢‘å’Œ16åˆ†é¢‘"></p>
<center><font size="2">Fig.5 256åˆ†é¢‘å’Œ16åˆ†é¢‘</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/6.16åˆ†é¢‘å’Œmåºåˆ—.jpg" alt="Fig.6 16åˆ†é¢‘å’Œmåºåˆ—"></p>
<center><font size="2">Fig.6 16åˆ†é¢‘å’Œmåºåˆ—</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/7.16åˆ†é¢‘å’Œç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿ.jpg" alt="Fig.7 16åˆ†é¢‘å’Œç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿ"></p>
<center><font size="2">Fig.7 16åˆ†é¢‘å’Œç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿ</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/8.måºåˆ—å’Œæ¨¡æ‹Ÿä¼ è¾“ä¿¡å·.jpg" alt="Fig.8 måºåˆ—å’Œæ¨¡æ‹Ÿä¼ è¾“ä¿¡å·"></p>
<center><font size="2">Fig.8 måºåˆ—å’Œæ¨¡æ‹Ÿä¼ è¾“ä¿¡å·</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/9.æ¢å¤çš„måºåˆ—å’Œç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿ.jpg" alt="Fig.9 æ¢å¤çš„måºåˆ—å’Œç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿ"></p>
<center><font size="2">Fig.9 æ¢å¤çš„måºåˆ—å’Œç å…ƒå®šæ—¶æ¢å¤æ—¶é’Ÿ</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/10.måºåˆ—å‰å.jpg" alt="Fig.10 måºåˆ—å‰å"></p>
<center><font size="2">Fig.10 måºåˆ—å‰å</font></center>

<h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><blockquote>
<p>é—®é¢˜1ï¼šåœ¨FPGAä»¿çœŸæ—¶ï¼Œadè½¬æ¢å™¨è¾“å…¥çš„å…«ä½äºŒè¿›åˆ¶æ•°åœ¨ä¸€å¼€å§‹æ— æ³•åœ¨ç¤ºæ³¢å™¨ä¸Šæ£€æµ‹åˆ°ã€‚</p>
</blockquote>
<ul>
<li>è§£å†³æ–¹æ³•ï¼šä¸€å¼€å§‹æˆ‘ä»¬è®¤ä¸ºæ˜¯å› ä¸ºadè½¬æ¢å™¨è‡ªèº«çš„é—®é¢˜ï¼Œå¯¼è‡´è¾“å‡ºçš„8ä½äºŒè¿›åˆ¶æ•°åªåœ¨è¾ƒä½ä½å‘ç”Ÿå˜åŒ–ï¼Œä½†ç»è¿‡å¤šæ¬¡æ£€æµ‹åï¼Œæˆ‘ä»¬è®¤ä¸ºå®é™…8ä½äºŒè¿›åˆ¶æ•°å¹¶æ²¡æœ‰è¾“å…¥è¿›æˆ‘ä»¬çš„é¡¶å±‚æ¨¡å—ï¼Œäºæ˜¯æˆ‘ä»¬é€šè¿‡å¯¹é¡¶å±‚æ¨¡å—ä»£ç è¿›è¡Œæ£€æŸ¥ï¼Œå‘ç°äº§ç”Ÿè¯¥é—®é¢˜çš„åŸå› æ˜¯è¾“å…¥8ä½äºŒè¿›åˆ¶æ•°çš„ç«¯å£æœ¬åº”è®¾ç½®ä¸ºè¾“å…¥ç«¯å£å—ï¼Œä½†æˆ‘ä»¬è®¾ç½®ä¸ºäº†è¾“å‡ºç«¯å£ï¼Œæ‰€ä»¥å¯¼è‡´ä¿¡å·å¹¶æ²¡æœ‰ä¼ è¾“è¿›æ¥ï¼Œæ‰€ä»¥æ— æ³•æ£€æµ‹åˆ°ã€‚</li>
</ul>
<blockquote>
<p>é—®é¢˜2ï¼šç å…ƒå®šæ—¶æ¢å¤ä¸ç†è§£æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå¯¼è‡´å¹¶ä¸èƒ½å‡†ç¡®çš„æ¢å¤å‡ºæ—¶é’Ÿã€‚</p>
</blockquote>
<ul>
<li>è§£å†³åŠæ³•ï¼šè¯·æ•™è€å¸ˆåå‘ç°åŸæ¥æ˜¯ç”¨256åˆ†é¢‘æ‰€å¾—çš„æ—¶é’Ÿæ¥å¯¹å…«ä½ä¿¡å·è¿›è¡Œé‡‡æ ·ï¼Œæ ¹æ®é‡‡é›†åˆ°çš„ä¿¡å·å˜åŒ–ç¡®å®šç å…ƒçš„èµ·å§‹ä½ç½®ï¼Œå†æ ¹æ®æ•°å­—ç‰¹å¾å®šæ—¶ç¿»è½¬ï¼Œèµ·åˆ°æ¢å¤å‡º16åˆ†é¢‘æ—¶é’Ÿçš„ä½œç”¨ã€‚</li>
</ul>
<blockquote>
<p>é—®é¢˜3ï¼šå®é™…çš„ADè½¬æ¢å™¨å’Œç†æƒ³çŠ¶æ€ä¸åŒï¼Œç”¨ç†æƒ³çš„æ¡ä»¶å»æ£€æµ‹æ— æ³•æ­£å¸¸å°†8ä½ADè¾“å‡ºè½¬æˆåŒææ€§æ•°æ®ã€‚</p>
</blockquote>
<ul>
<li>è§£å†³åŠæ³•ï¼šè¿™ä¸ªé—®é¢˜å›°æ‰°çš„æ—¶é—´æœ€ä¹…ï¼Œç”±äºADè½¬æ¢è¾“å‡ºçš„8ä½æ•°å­—ä¿¡å·å¹¶ä¸æ˜¯éå¸¸å®Œç¾çš„ï¼Œå­˜åœ¨è·³å˜ä»¥åŠæ ¹æ®å®éªŒç®±çš„å®é™…æƒ…å†µå¹¶ä¸ä¼šæ ¹æ®0~5Vè¾“å‡º00~FFï¼Œäºæ˜¯å°†ADè¾“å‡ºçš„å…«ä½ä¿¡å·åˆ†åˆ«ç»‘å®šåˆ°FPGAçš„å…¶ä»–ç©ºä½™å¼•è„šï¼Œå¯¹æ¯ä¸ªå¼•è„šä¸Šçš„æ•°æ®è¿›è¡Œåˆ†æï¼Œåˆ¤å®š-1ï¼Œ0å’Œ+1åˆ†åˆ«å¯¹åº”è¯¥ä½çš„0çŠ¶æ€è¿˜æ˜¯1çŠ¶æ€ï¼Œæœ€ç»ˆå¾—åˆ°æˆ‘ä»¬éœ€è¦çš„ä¸‰ç§çŠ¶æ€åŒºé—´ï¼Œé«˜å››ä½å¯ä»¥æ¯”è¾ƒå‡†ç¡®çš„åˆ¤å®šï¼Œè€Œç¬¬å››ä½çš„0å’Œ1çŠ¶æ€åå¤è·³å˜ï¼Œæœ€ç»ˆç¡®å®šçš„åŒºé—´ä¸ºï¼š3â€™h00â€”â€”8â€™h0fä»£è¡¨-1ï¼Œ8â€™h30â€”â€”8â€™h3fä»£è¡¨0ï¼Œå¤§äº8â€™h58ä»£è¡¨+1</li>
</ul>
<h2 id="Download-Source-File"><a href="#Download-Source-File" class="headerlink" title="Download Source File"></a>Download Source File</h2><h3 id="Project-File"><a href="#Project-File" class="headerlink" title="Project File"></a><a href="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/HDB3_quartus+modelism.zip">Project File</a></h3><h3 id="Wave-File"><a href="#Wave-File" class="headerlink" title="Wave File"></a><a href="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/HDB3/HDB3wavefile.zip">Wave File</a></h3><!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Communication</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>Quartus â…¡</tag>
        <tag>Modelsim</tag>
        <tag>Verilog HDL</tag>
      </tags>
  </entry>
  <entry>
    <title>åšå®¢å¢åŠ Graphvizæ”¯æŒ</title>
    <url>/2024/04/20/Graphviz%20on%20Hexo/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> åšå®¢ç³»ç»Ÿçš„Graphvizæ”¯æŒ</p>
<ul>
<li><a href="https://graphviz.org">Graphvizï¼ˆGraph Visualization Softwareï¼‰</a>æ˜¯ä¸€ä¸ªå¼€æºçš„å›¾å½¢å¯è§†åŒ–è½¯ä»¶ï¼Œç”¨DOTæè¿°è¯­è¨€æ¥å®šä¹‰å›¾å½¢ï¼Œè®©ç”¨æˆ·ä¸“æ³¨äºå†…å®¹è€Œå¿½ç•¥å¸ƒå±€çš„è®¾è®¡</li>
<li>åœ¨å…ˆå‰çš„åšå®¢ä¸­ï¼Œå›¾ç‰‡å¯ä»¥ç”¨å¯¹è±¡å­˜å‚¨åœ¨äº‘ç«¯ï¼Œè€Œç®€å•çš„ç»“æ„å›¾ä¹Ÿå¦‚æ­¤æœªå¿…å¤ªè¿‡å¤æ‚ï¼Œå› æ­¤æƒ³åˆ°ç”¨Graphvizæ¥ç»˜åˆ¶ç®€å•çš„å›¾ç»“æ„ã€‚åœ¨æœ¬åœ°çš„Vscodeæˆ–è€…Typoraä¸­å·²ç»å†…åµŒäº†Graphvizçš„æ¸²æŸ“ï¼Œæ ‡è®°ä»£ç å—ä¸º<code>graphviz</code>å³å¯ï¼Œä½†åœ¨åšå®¢ä¸­æ²¡æœ‰ï¼Œä¸¤ç«¯å­˜åœ¨å·®å¼‚åŒ–ï¼Œè¿™ç¯‡ç”¨äºè§£å†³è¿™ä¸ªé—®é¢˜ã€‚<br><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f55a.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
</ul>
<span id="more"></span>
<h2 id="æ·»åŠ æ”¯æŒ"><a href="#æ·»åŠ æ”¯æŒ" class="headerlink" title="æ·»åŠ æ”¯æŒ"></a>æ·»åŠ æ”¯æŒ</h2><h3 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h3><ul>
<li>Win/Mac/Linux<ul>
<li><a href="https://graphviz.org/download/">Graphviz Download</a>ï¼Œä¸»æµç³»ç»Ÿå†…çš„ä½¿ç”¨ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥å®‰è£…ï¼Œä¸å†èµ˜è¿°</li>
</ul>
</li>
<li><p>Blog System</p>
<ul>
<li><p>å®‰è£…æ’ä»¶<code>hexo-graphviz</code></p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">yarn add hexo-graphviz   <span class="comment"># é€šè¿‡yarnå®‰è£…</span></span><br><span class="line">npm install hexo-graphviz --save <span class="comment"># é€šè¿‡npmå®‰è£…</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>æ¨¡æ¿å¢åŠ ç›¸åº”çš„jsä»£ç ï¼Œç›®å½•ä¸º<code>{blogRoot}/themes/{themeName}/layout/_partial/after-fotter.ejs</code></p>
<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line">&lt;% <span class="keyword">if</span> (theme.<span class="property">graphviz</span>.<span class="property">enable</span>) { %&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">'https://cdnjs.cloudflare.com/ajax/libs/viz.js/1.7.1/viz.js'</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="title class_">String</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">replaceAll</span> = <span class="keyword">function</span>(<span class="params">search, replacement</span>) {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">var</span> target = <span class="variable language_">this</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">return</span> target.<span class="title function_">split</span>(search).<span class="title function_">join</span>(replacement);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        };</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">let</span> vizObjects = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'.graphviz'</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> vizObjects) {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">let</span> svg = <span class="literal">undefined</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            <span class="keyword">try</span> {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                svg = <span class="title class_">Viz</span>(item.<span class="property">textContent</span>.<span class="title function_">replaceAll</span>(<span class="string">'â€“'</span>, <span class="string">'--'</span>), <span class="string">'svg'</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            } <span class="keyword">catch</span>(e) {</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                svg = <span class="string">`&lt;pre class="error"&gt;<span class="subst">${e}</span>&lt;/pre&gt;`</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            }</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        item.<span class="property">outerHTML</span> = svg</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        }</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line">&lt;% } %&gt;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>æ·»åŠ å¯åŠ¨é€‰é¡¹ï¼ˆThemeé…ç½®ä¸‹çš„<code>_config.yml</code>ï¼‰</p>
<figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># hexo-graphviz</span></span><br><span class="line"><span class="attr">graphviz:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>æ³¨æ„ï¼šå¯èƒ½åœ¨å®‰è£…è¿‡ç¨‹ä¸­npmè‡ªåŠ¨å‡çº§äº†ï¼Œå¯¼è‡´ä¹‹å‰é…ç½®çš„Nunjucksæ¨¡æ¿æ ‡ç­¾åˆå’ŒMarkdownçš„éƒ¨åˆ†æ ‡ç­¾å†²çªäº†ï¼Œéœ€è¦é‡æ–°è§£å†³ï¼Œè¯¦ç»†è§ä¹‹å‰å†™çš„<a href="https://www.lingzhicheng.cn/2021/08/26/NunjucksErrors/">Nunjucks Errors</a>çš„è§£å†³æ–¹æ¡ˆ3ã€‚</p>
</li>
</ul>
</li>
</ul>
<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><ul>
<li><p>è¯¦ç»†çš„å¯ä»¥æŸ¥çœ‹<a href="https://graphviz.org">Graphvizçš„æ–‡æ¡£</a></p>
</li>
<li><p>ç®€å•çš„æœ‰å‘å›¾</p>
  <div><div class="graphviz">    digraph G {
      A -&gt; B;
      B -&gt; C;
      C -&gt; D;
      D -&gt; A;
  }</div></div>
</li>
<li><p>å¸¦èŠ‚ç‚¹æ ‡ç­¾å’Œè¾¹æ ‡ç­¾çš„æœ‰å‘å›¾</p>
  <div><div class="graphviz">    digraph G {
      A [label="Start"];
      B [label="Middle"];
      C [label="End"];

      A -&gt; B [label="Step 1"];
      B -&gt; C [label="Step 2"];
  }</div></div>
</li>
<li><p>å¸¦é¢œè‰²å’Œå½¢çŠ¶çš„æ— å‘å›¾</p>
  <div><div class="graphviz">    graph G {
      A [shape=circle, color=red, fillcolor=lightblue, style=filled];
      B [shape=square, color=blue];
      C [shape=diamond, color=green];

      A -- B;
      B -- C;
      C -- A;
      A -- D -- E;
  }</div></div>
</li>
<li><p>äºŒå‰æ ‘</p>
  <div><div class="graphviz">    digraph G {
      bgcolor="beige"
      node [shape="record", height=.1]
      node0[label="<f0> | <f1> A | <f2>"]
      node1[label="<f0> | <f1> B | <f2>"]
      node2[label="<f0> | <f1> C | <f2>"]
      node0:f0 -&gt; node1:f1
      node0:f2 -&gt; node2:f1
  }</f2></f1></f0></f2></f1></f0></f2></f1></f0></div></div>
</li>
<li><p>å¤§æ‹¬å·å­å›¾</p>
  <div><div class="graphviz">    graph G {
      "æ•°æ®ç»“æ„ä¸‰è¦ç´ " -- {"æ•°æ®çš„é€»è¾‘ç»“æ„", "æ•°æ®çš„å­˜å‚¨ç»“æ„", "æ•°æ®çš„è¿ç®—"}
  }</div></div>
</li>
<li><p>æ€»ç¤ºä¾‹</p>
  <div><div class="graphviz">    digraph G {
      label=&lt;<b>GraphvizåŸºæœ¬ç»„æˆç»“æ„</b>&gt;;
      labelloc=top;   // æ ‡é¢˜ä½ç½®
      bgcolor=transparent; // èƒŒæ™¯é€æ˜

      node[shape=box];  // ç»“ç‚¹å½¢çŠ¶ä¸ºæ–¹å½¢
      //edge[style=bold];

      // ç‹¬ç«‹å‡ºç°çš„ä¸ºç»“ç‚¹æˆ–å±æ€§å£°æ˜, ä¸­æ‹¬å·å‰ä¸ºç»“ç‚¹åç§°
      graphviz[label="Graphviz"];

      subgraph{
          layout[label="Layouts"];
          script[label="Script Files"];
          api[label="APIs"];
          rank=same;
      }

      graphviz -&gt; layout;
      graphviz -&gt; script;
      graphviz -&gt; api;

      // è®¾ç½®å­å›¾
      api -&gt; 
      subgraph{
          layout_etc[label="......"];
      }

      script -&gt;
      subgraph{
          element[label="Elements"];
          attribute[label="Attributes"];
          rank=same;
      }

      layout -&gt;
      subgraph{
          layout_dot[label="dot"];
          layout_neato[label="neato"];
      }

      element -&gt;
      subgraph{
          ele_graph[label="Graph"];
          ele_node[label="Node"];
          ele_edge[label="Edge"];
      }
  }</div></div>

</li>
</ul>
<!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Graphviz</tag>
      </tags>
  </entry>
  <entry>
    <title>Learning GFS - Google File System</title>
    <url>/2024/05/05/Google%20File%20System/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> åšå®¢ç³»ç»Ÿçš„Graphvizæ”¯æŒ</p>
<ul>
<li>GFSæ˜¯Googleåœ¨2003å¹´å‰ååˆ›å»ºçš„å¯æ‰©å±•åˆ†å¸ƒå¼æ–‡ä»¶ç³»ç»Ÿ ï¼Œç”¨æ¥æ»¡è¶³ Google ä¸æ–­æ‰©å±•çš„æ•°æ®å¤„ç†éœ€æ±‚ã€‚GFS ä¸ºå¤§å‹ç½‘ç»œå’Œè¿æ¥çš„èŠ‚ç‚¹æä¾›å®¹é”™ã€å¯é æ€§ã€å¯æ‰©å±•æ€§ã€å¯ç”¨æ€§å’Œæ€§èƒ½ã€‚<br><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f55a.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
</ul>
<span id="more"></span>
<p><img src="https://www.lingzhicheng.cn/usr/file/picture/MIT/GFS01.jpg" alt="GFS structure"></p>
<ol>
<li><code>Client</code>å°†file nameå’Œbyte offsetè½¬æ¢ä¸ºchunk indexï¼Œå‘<code>Master</code>å‘é€åŒ…å«file nameå’Œchunk indexçš„è¯·æ±‚ï¼Œ<code>Master</code>è¿”å›ç›¸åº”çš„chunk handleå’Œchunk locationsã€‚ï¼ˆ<code>Client</code>ä½¿ç”¨file nameå’Œchunk indexä½œä¸ºkeyç¼“å­˜è¿™äº›ä¿¡æ¯ï¼‰</li>
<li><code>Client</code>å‘å…¶ä¸­ä¸€ä¸ªreplicaï¼ˆæœ€è¿‘çš„ä¸€ä¸ªï¼‰å‘é€è¯·æ±‚ï¼Œè¯·æ±‚å†…å®¹æœ‰chunk handleå’Œbyte rangeï¼ˆåœ¨<code>Client</code>çš„ç¼“å­˜è¿‡æœŸä¹‹å‰ï¼Œä¸ç”¨å†å’Œ<code>Master</code>è¿›è¡Œäº¤äº’ï¼‰</li>
<li>ç‰¹åˆ«çš„ï¼Œ<code>Client</code>é€šå¸¸ä¼šåœ¨åŒä¸€ä¸ªè¯·æ±‚ä¸­è¯·æ±‚å¤šä¸ªå—æ•°æ®</li>
</ol>
<h2 id="In-paper"><a href="#In-paper" class="headerlink" title="In paper"></a>In paper</h2><h3 id="Metadata"><a href="#Metadata" class="headerlink" title="Metadata"></a>Metadata</h3><ul>
<li><p>Original Paper Links: <a href="https://pdos.csail.mit.edu/6.824/papers/gfs.pdf">The Google File System</a></p>
</li>
<li><p>The file and chunk namespaces</p>
</li>
<li>The mapping from files to chunks</li>
<li>The locations of each chunkâ€™s replicas<br>éƒ½å­˜åœ¨ä¸»å†…å­˜é‡Œï¼ˆå¯ä»¥å¿«é€Ÿå®ç°å‘¨æœŸæ€§æ‰«æï¼Œä»¥å®ç°GCã€æ•…éšœå¤‡ä»½è¿ç§»ã€è´Ÿè½½å‡è¡¡ç­‰åŠŸèƒ½ï¼‰ï¼›<br>å‘½åç©ºé—´å’Œæ˜ å°„ä¹Ÿå­˜å‚¨åœ¨<code>Master</code>çš„æœ¬åœ°ç£ç›˜å’Œremoteå¤‡ä»½çš„æ“ä½œæ—¥å¿—ä¸­ï¼Œä»¥å®ç°æŒä¹…åŒ–ï¼›<br><code>Master</code>ä¸ä¼šæŒä¹…åŒ–locationsï¼Œè€Œæ˜¯åœ¨å¯åŠ¨çš„æ—¶å€™è¯¢é—®æ¯ä¸ªchunkserverï¼Œç„¶åä¿æŒæœ€æ–°çŠ¶æ€ï¼ˆæ¯”æŒä¹…åŒ–åœ¨<code>Master</code>ä¸­è¦æ–¹ä¾¿ï¼Œå› ä¸ºå¤§é‡chunkserverçš„joinã€leaveã€crushç­‰é—®é¢˜å°†å½±å“chunkserverå’Œ<code>Master</code>çŠ¶æ€çš„åŒæ­¥ï¼‰ï¼ˆæˆ–è€…è¯´chunkserverå¯¹ä»–è‡ªå·±ç£ç›˜ä¸Šçš„å­˜å‚¨å†…å®¹æ‹¥æœ‰å†³å®šæƒï¼Œè€Œä¸åº”è¯¥åœ¨<code>Master</code>ä¸Šç»´æŠ¤ï¼‰ã€‚</li>
</ul>
<h3 id="Big-storage-Why-hard"><a href="#Big-storage-Why-hard" class="headerlink" title="Big storage (Why hard?)"></a>Big storage (Why hard?)</h3><ol>
<li>æœ€åˆçš„è¿°æ±‚ï¼šPerformanceæ€§èƒ½</li>
<li>Shardingåˆ†ç‰‡ï¼šå°†æ•°æ®åˆ†å‰²æ”¾åˆ°å¤§é‡çš„æœåŠ¡å™¨ä¸Šï¼Œè¿™æ ·å°±å¯ä»¥å¹¶è¡Œçš„ä»å¤šå°æœåŠ¡å™¨è¯»å–æ•°æ®</li>
<li>å‘ç”Ÿæ•…éšœéœ€è¦å®¹é”™ï¼Œfault toleranceè‡ªåŠ¨åŒ–ä¿®å¤</li>
<li>å¤åˆ¶å‰¯æœ¬replication</li>
<li>å‰¯æœ¬çš„ä¸€è‡´æ€§é—®é¢˜inconsistencyï¼Œé¢å¤–çš„æ“ä½œï¼Œå¯¼è‡´æ€§èƒ½é™ä½</li>
</ol>
<h3 id="Bad-design-for-strong-consistency"><a href="#Bad-design-for-strong-consistency" class="headerlink" title="Bad design for strong consistency"></a>Bad design for strong consistency</h3><p>ä¸¤ä¸ªreplicationä¹‹é—´çš„writeå¯èƒ½ä¸åŒ<br><img src="https://www.lingzhicheng.cn/usr/file/picture/MIT/GFS02.png" alt="Bad design"></p>
<p>3.4 GFS goal</p>
<ul>
<li>Big, Fast<ul>
<li>å¤§å®¹é‡å’Œå¿«é€Ÿ</li>
</ul>
</li>
<li>Global<ul>
<li>å¯ä»¥é€šè¿‡ç”³è¯·æƒé™æ¥æŸ¥çœ‹å·²æœ‰çš„æ•°æ®</li>
</ul>
</li>
<li>Sharding<ul>
<li>åˆ†ç‰‡å­˜å‚¨</li>
</ul>
</li>
<li>Automatic recovery<ul>
<li>æ•…éšœçš„è‡ªåŠ¨å›å¤</li>
</ul>
</li>
<li>Single data center<ul>
<li>å¹¶ä¸æ˜¯ä¸€ä¸ªç›®æ ‡ï¼Œæ˜¯è®¾è®¡æˆäº†å•ä¸ªæ•°æ®ä¸­å¿ƒ</li>
</ul>
</li>
<li>Internal use<ul>
<li>googleå†…éƒ¨ä½¿ç”¨ï¼Œå¹¶æœªå®Œå…¨å¼€æ”¾ï¼ˆéƒ¨åˆ†æœåŠ¡å¯¹å¤–ï¼‰</li>
</ul>
</li>
<li>Big sequential access<ul>
<li>é’ˆå¯¹çš„æ˜¯å¤§å‹æ–‡ä»¶çš„å­˜å‚¨ï¼Œæ‰€ä»¥æ˜¯é¡ºåºçš„ï¼Œå¹¶ä¸åƒå°å‹çš„éšæœºè®¿é—®å­˜å‚¨</li>
</ul>
</li>
</ul>
<h3 id="Master-Node"><a href="#Master-Node" class="headerlink" title="Master Node"></a><code>Master</code> Node</h3><ul>
<li><code>Master</code> serverå­˜å‚¨æ–‡ä»¶å’Œchunk serverçš„ä¿¡æ¯ï¼Œchunk serverçœŸæ­£å­˜å‚¨æ•°æ®</li>
<li>å­˜å‚¨ä¸¤ä¸ªè¡¨å•ï¼ˆå†…å­˜é‡Œï¼‰ï¼š<ul>
<li>ç¬¬ä¸€ä¸ªæ˜¯æ–‡ä»¶ååˆ°Chunk IDæˆ–è€…Chunk Handleæ•°ç»„çš„å¯¹åº”ã€‚NVï¼ˆnon-volatile, éæ˜“å¤±ï¼‰ï¼Œè¿™ä¸ªæ ‡è®°è¡¨ç¤ºå¯¹åº”çš„æ•°æ®ä¼šå†™å…¥åˆ°ç£ç›˜ä¸Šã€‚</li>
<li>ç¬¬äºŒä¸ªè¡¨å•è®°å½•äº†Chunk IDåˆ°Chunkæ•°æ®çš„å¯¹åº”å…³ç³»ã€‚è¿™é‡Œçš„æ•°æ®åˆåŒ…æ‹¬äº†ï¼š<ul>
<li>æ¯ä¸ªChunkå­˜å‚¨åœ¨å“ªäº›æœåŠ¡å™¨ä¸Šï¼Œæ‰€ä»¥è¿™éƒ¨åˆ†æ˜¯ChunkæœåŠ¡å™¨çš„åˆ—è¡¨ï¼ˆVï¼‰</li>
<li>æ¯ä¸ªChunkå½“å‰çš„ç‰ˆæœ¬å·ï¼Œæ‰€ä»¥<code>Master</code>èŠ‚ç‚¹å¿…é¡»è®°ä½æ¯ä¸ªChunkå¯¹åº”çš„ç‰ˆæœ¬å·ã€‚ï¼ˆNVï¼‰</li>
<li>æ‰€æœ‰å¯¹äºChunkçš„å†™æ“ä½œéƒ½å¿…é¡»åœ¨ä¸»Chunkï¼ˆPrimary Chunkï¼‰ä¸Šé¡ºåºå¤„ç†ï¼Œä¸»Chunkæ˜¯Chunkçš„å¤šä¸ªå‰¯æœ¬ä¹‹ä¸€ã€‚æ‰€ä»¥ï¼Œ<code>Master</code>èŠ‚ç‚¹å¿…é¡»è®°ä½å“ªä¸ªChunkæœåŠ¡å™¨æŒæœ‰ä¸»Chunkã€‚ï¼ˆVï¼‰</li>
<li>å¹¶ä¸”ï¼Œä¸»Chunkåªèƒ½åœ¨ç‰¹å®šçš„ç§Ÿçº¦æ—¶é—´å†…æ‹…ä»»ä¸»Chunkï¼Œæ‰€ä»¥ï¼Œ<code>Master</code>èŠ‚ç‚¹è¦è®°ä½ä¸»Chunkçš„ç§Ÿçº¦è¿‡æœŸæ—¶é—´ã€‚ï¼ˆVï¼‰</li>
</ul>
</li>
</ul>
</li>
<li>åœ¨ç£ç›˜ä¸Šå­˜Logã€Check Pointï¼›å†™åŒæ—¶å†™å†…å­˜å’Œç£ç›˜ï¼Œè¯»åªä»å†…å­˜é‡Œ</li>
<li>ä¸ºä»€ä¹ˆç”¨Logè€Œä¸æ˜¯databaseï¼Ÿ<ul>
<li>åœ¨ç£ç›˜ä¸­ç»´æŠ¤logè€Œä¸æ˜¯æ•°æ®åº“çš„åŸå› æ˜¯ï¼šæ•°æ®åº“æœ¬è´¨ä¸Šæ¥è¯´æ˜¯æŸç§Bæ ‘ï¼ˆb-treeï¼‰æˆ–è€…hash tableï¼Œç›¸æ¯”ä¹‹ä¸‹ï¼Œè¿½åŠ logä¼šéå¸¸çš„é«˜æ•ˆï¼Œå› ä¸ºä½ å¯ä»¥å°†æœ€è¿‘çš„å¤šä¸ªlogè®°å½•ä¸€æ¬¡æ€§çš„å†™å…¥ç£ç›˜ã€‚å› ä¸ºè¿™äº›æ•°æ®éƒ½æ˜¯å‘åŒä¸€ä¸ªåœ°å€è¿½åŠ ï¼Œè¿™æ ·åªéœ€è¦ç­‰å¾…ç£ç›˜çš„ç£ç¢Ÿæ—‹è½¬ä¸€æ¬¡ã€‚è€Œå¯¹äºBæ ‘æ¥è¯´ï¼Œæ¯ä¸€ä»½æ•°æ®éƒ½éœ€è¦åœ¨ç£ç›˜ä¸­éšæœºæ‰¾ä¸ªä½ç½®å†™å…¥ã€‚æ‰€ä»¥ä½¿ç”¨Logå¯ä»¥ä½¿å¾—ç£ç›˜å†™å…¥æ›´å¿«ä¸€äº›ã€‚</li>
</ul>
</li>
<li>å½“<code>Master</code>èŠ‚ç‚¹æ•…éšœé‡å¯ï¼Œå¹¶é‡å»ºå®ƒçš„çŠ¶æ€ï¼Œä½ ä¸ä¼šæƒ³è¦ä»logçš„æœ€å¼€å§‹é‡å»ºçŠ¶æ€ï¼Œå› ä¸ºlogçš„æœ€å¼€å§‹å¯èƒ½æ˜¯å‡ å¹´ä¹‹å‰ï¼Œæ‰€ä»¥<code>Master</code>èŠ‚ç‚¹ä¼šåœ¨ç£ç›˜ä¸­åˆ›å»ºä¸€äº›checkpointç‚¹ï¼Œè¿™å¯èƒ½è¦èŠ±è´¹å‡ ç§’ç”šè‡³ä¸€åˆ†é’Ÿã€‚è¿™æ ·<code>Master</code>èŠ‚ç‚¹é‡å¯æ—¶ï¼Œä¼šä»logä¸­çš„æœ€è¿‘ä¸€ä¸ªcheckpointå¼€å§‹æ¢å¤ï¼Œå†é€æ¡æ‰§è¡Œä»Checkpointå¼€å§‹çš„logï¼Œæœ€åæ¢å¤è‡ªå·±çš„çŠ¶æ€ã€‚</li>
</ul>
<h3 id="Read-File"><a href="#Read-File" class="headerlink" title="Read File"></a>Read File</h3><ol>
<li><code>Client</code>å°†offsetï¼ˆç›¸è¾ƒäºæ–‡ä»¶å¤´éƒ¨çš„åç§»ä½ç½®ï¼Œè¯»å–éƒ¨åˆ†æ–‡ä»¶ï¼‰å’Œfile nameå‘ç»™<code>Master</code></li>
<li><code>Master</code>ä»fileè¡¨å•ä¸­æŸ¥æ‰¾æ–‡ä»¶åï¼Œå¾—åˆ°chunk IDçš„æ•°ç»„ï¼Œå†é™¤ä»¥64MBå¾—åˆ°å¯¹åº”çš„chunk IDï¼Œå†ä»Chunkè¡¨å•ä¸­æ‰¾æœåŠ¡å™¨åˆ—è¡¨ï¼Œå“åº”ç»™<code>Client</code></li>
<li><code>Client</code>ä»è¿™äº›Chunkï¼ˆGoogleçš„æ•°æ®ä¸­å¿ƒä¸­ï¼ŒIPåœ°å€æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥å¯ä»¥ä»IPåœ°å€çš„å·®å¼‚åˆ¤æ–­ç½‘ç»œä½ç½®çš„è¿œè¿‘ï¼‰æœåŠ¡å™¨ä¸­æŒ‘é€‰ä¸€ä¸ªæœ€è¿‘çš„æ¥è¯»å–æ•°æ®ï¼Œå¹¶å°†è¯»è¯·æ±‚å‘é€åˆ°é‚£ä¸ªæœåŠ¡å™¨ã€‚å› ä¸ºå®¢æˆ·ç«¯æ¯æ¬¡å¯èƒ½åªè¯»å–1MBæˆ–è€…64KBæ•°æ®ï¼Œæ‰€ä»¥<code>Client</code>å¯èƒ½ä¼šè¿ç»­å¤šæ¬¡è¯»å–åŒä¸€ä¸ªChunkçš„ä¸åŒä½ç½®ã€‚æ‰€ä»¥<code>Client</code>ä¼šç¼“å­˜Chunkå’ŒæœåŠ¡å™¨çš„å¯¹åº”å…³ç³»ï¼Œè¿™æ ·ï¼Œå½“å†æ¬¡è¯»å–ç›¸åŒChunkæ•°æ®æ—¶ï¼Œå°±ä¸ç”¨ä¸€æ¬¡æ¬¡çš„å»å‘<code>Master</code>è¯·æ±‚ç›¸åŒçš„ä¿¡æ¯ã€‚</li>
<li><code>Client</code>ä¸é€‰å‡ºçš„æœåŠ¡å™¨é€šä¿¡ï¼Œå°†Chunk Handleå’Œåç§»é‡å‘é€ç»™é‚£ä¸ªæœåŠ¡å™¨ã€‚ChunkæœåŠ¡å™¨ä¼šåœ¨æœ¬åœ°çš„ç¡¬ç›˜ä¸Šï¼Œå°†æ¯ä¸ªChunkå­˜å‚¨æˆç‹¬ç«‹çš„Linuxæ–‡ä»¶ï¼Œå¹¶é€šè¿‡æ™®é€šçš„Linuxæ–‡ä»¶ç³»ç»Ÿç®¡ç†ã€‚å¹¶ä¸”å¯ä»¥æ¨æµ‹ï¼ŒChunkæ–‡ä»¶ä¼šæŒ‰ç…§Handleï¼ˆä¹Ÿå°±æ˜¯IDï¼‰å‘½åã€‚æ‰€ä»¥ï¼ŒChunkæœåŠ¡å™¨éœ€è¦åšçš„å°±æ˜¯æ ¹æ®æ–‡ä»¶åæ‰¾åˆ°å¯¹åº”çš„Chunkæ–‡ä»¶ï¼Œä¹‹åä»æ–‡ä»¶ä¸­è¯»å–å¯¹åº”çš„æ•°æ®æ®µï¼Œå¹¶å°†æ•°æ®è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</li>
</ol>
<h3 id="Write-File"><a href="#Write-File" class="headerlink" title="Write File"></a>Write File</h3><p>Readæ˜¯ä»éšæœºçš„æœ€æ–°å‰¯æœ¬è¯»å–ï¼Œè€ŒWriteæ˜¯å¿…é¡»å†™åˆ°Primary chunkï¼Œä½†æ˜¯æœ‰å¯èƒ½ä¸»å‰¯æœ¬ä¸å­˜åœ¨ï¼Œè¿™æ—¶<code>Master</code>ä¼šæ‰¾å‡ºæ‰€æœ‰å­˜æœ‰Chunkæœ€æ–°å‰¯æœ¬çš„ChunkæœåŠ¡å™¨ï¼ŒæŒ‘å‡ºä¸€ä¸ªä½œä¸ºPrimaryï¼Œå…¶ä»–çš„ä½œä¸ºSecondaryï¼Œç„¶åå¢åŠ ç‰ˆæœ¬å·ï¼ŒåŒæ—¶ä¹Ÿå†™å…¥ç£ç›˜ã€‚ï¼ˆæœ€æ–°ç‰ˆæœ¬å·æ˜¯NVçš„ï¼Œæ‰€ä»¥æœåŠ¡å™¨å®•æœºåå¯ä»¥ä»ç£ç›˜ä¸­æ¢å¤è¿‡æ¥ï¼‰ã€‚ç„¶å<code>Master</code>ä¼šå°†è¿™äº›ä¿¡æ¯ç»™å¯¹åº”çš„æœåŠ¡å™¨ï¼ŒåŒ…æ‹¬æ–°çš„ç‰ˆæœ¬å·ï¼ŒæœåŠ¡å™¨ä¹Ÿä¼šæŠŠç‰ˆæœ¬å·å­˜åœ¨ç£ç›˜é‡Œã€‚</p>
<ul>
<li>ä¸ºä»€ä¹ˆä¸ç”¨æœ€å¤§çš„ç‰ˆæœ¬å·å½“ä½œæœ€æ–°çš„ï¼Ÿ<ul>
<li>å½“<code>Master</code>é‡å¯æ—¶ï¼Œæ— è®ºå¦‚ä½•éƒ½éœ€è¦ä¸æ‰€æœ‰çš„ChunkæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œå› ä¸º<code>Master</code>éœ€è¦ç¡®å®šå“ªä¸ªChunkæœåŠ¡å™¨å­˜äº†å“ªä¸ªChunkã€‚ä½ å¯èƒ½ä¼šæƒ³åˆ°ï¼Œ<code>Master</code>å¯ä»¥å°†æ‰€æœ‰ChunkæœåŠ¡å™¨ä¸Šçš„Chunkç‰ˆæœ¬å·æ±‡æ€»ï¼Œæ‰¾å‡ºé‡Œé¢çš„æœ€å¤§å€¼ä½œä¸ºæœ€æ–°çš„ç‰ˆæœ¬å·ã€‚å¦‚æœæ‰€æœ‰æŒæœ‰Chunkçš„æœåŠ¡å™¨éƒ½å“åº”äº†ï¼Œé‚£ä¹ˆè¿™ç§æ–¹æ³•æ˜¯æ²¡æœ‰é—®é¢˜çš„ã€‚ä½†æ˜¯å­˜åœ¨ä¸€ç§é£é™©ï¼Œå½“<code>Master</code>èŠ‚ç‚¹é‡å¯æ—¶ï¼Œå¯èƒ½éƒ¨åˆ†ChunkæœåŠ¡å™¨ç¦»çº¿æˆ–è€…å¤±è”æˆ–è€…è‡ªå·±ä¹Ÿåœ¨é‡å¯ï¼Œä»è€Œä¸èƒ½å“åº”<code>Master</code>èŠ‚ç‚¹çš„è¯·æ±‚ã€‚æ‰€ä»¥ï¼Œ<code>Master</code>èŠ‚ç‚¹å¯èƒ½åªèƒ½è·å–åˆ°æŒæœ‰æ—§å‰¯æœ¬çš„ChunkæœåŠ¡å™¨çš„å“åº”ï¼Œè€ŒæŒæœ‰æœ€æ–°å‰¯æœ¬çš„ChunkæœåŠ¡å™¨è¿˜æ²¡æœ‰å®Œæˆé‡å¯ï¼Œæˆ–è€…è¿˜æ˜¯ç¦»çº¿çŠ¶æ€ï¼ˆè¿™ä¸ªæ—¶å€™<code>Master</code>èƒ½æ‰¾åˆ°çš„Chunkæœ€å¤§ç‰ˆæœ¬æ˜æ˜¾ä¸å¯¹ï¼‰ã€‚</li>
</ul>
</li>
<li>å¦‚æœæ‰¾ä¸åˆ°æœ€æ–°ç‰ˆæœ¬å·çš„chunkä¼šæ€ä¹ˆæ ·ï¼Ÿ<br><code>Master</code>èŠ‚ç‚¹ä¼šå®šæœŸä¸ChunkæœåŠ¡å™¨äº¤äº’æ¥æŸ¥è¯¢å®ƒä»¬æŒæœ‰ä»€ä¹ˆæ ·ç‰ˆæœ¬çš„Chunkã€‚æœ‰ä¸¤ç§å¯èƒ½ï¼šè¦ä¹ˆ<code>Master</code>ä¼šç­‰å¾…ï¼Œå¹¶ä¸å“åº”å®¢æˆ·ç«¯çš„è¯·æ±‚ï¼›è¦ä¹ˆä¼šè¿”å›ç»™å®¢æˆ·ç«¯è¯´ï¼Œæˆ‘ç°åœ¨è¿˜ä¸çŸ¥é“Chunkåœ¨å“ªï¼Œè¿‡ä¼šå†é‡è¯•å§ã€‚æ¯”å¦‚è¯´æœºæˆ¿ç”µæºæ•…éšœäº†ï¼Œæ‰€æœ‰çš„æœåŠ¡å™¨éƒ½å´©æºƒäº†ï¼Œæˆ‘ä»¬æ­£åœ¨ç¼“æ…¢çš„é‡å¯ã€‚<code>Master</code>èŠ‚ç‚¹å’Œä¸€äº›ChunkæœåŠ¡å™¨å¯èƒ½å¯ä»¥å…ˆå¯åŠ¨èµ·æ¥ï¼Œä¸€äº›ChunkæœåŠ¡å™¨å¯èƒ½è¦5åˆ†é’Ÿä»¥åæ‰èƒ½é‡å¯ï¼Œè¿™ç§åœºæ™¯ä¸‹ï¼Œæˆ‘ä»¬éœ€è¦ç­‰å¾…ï¼Œç”šè‡³å¯èƒ½æ˜¯æ°¸è¿œç­‰å¾…ï¼Œå› ä¸ºä½ ä¸ä¼šæƒ³ä½¿ç”¨Chunkçš„æ—§æ•°æ®ã€‚æ‰€ä»¥ï¼Œæ€»çš„æ¥è¯´ï¼Œåœ¨é‡å¯æ—¶ï¼Œå› ä¸º<code>Master</code>ä»ç£ç›˜å­˜å‚¨çš„æ•°æ®çŸ¥é“Chunkå¯¹åº”çš„æœ€æ–°ç‰ˆæœ¬ï¼Œ<code>Master</code>èŠ‚ç‚¹ä¼šæ•´åˆå…·æœ‰æœ€æ–°ç‰ˆæœ¬Chunkçš„æœåŠ¡å™¨ã€‚æ¯ä¸ªChunkæœåŠ¡å™¨ä¼šè®°ä½æœ¬åœ°å­˜å‚¨Chunkå¯¹åº”çš„ç‰ˆæœ¬å·ï¼Œå½“ChunkæœåŠ¡å™¨å‘<code>Master</code>æ±‡æŠ¥æ—¶ï¼Œå°±å¯ä»¥è¯´ï¼Œæˆ‘æœ‰è¿™ä¸ªChunkçš„è¿™ä¸ªç‰ˆæœ¬ã€‚è€Œ<code>Master</code>èŠ‚ç‚¹å°±å¯ä»¥å¿½ç•¥å“ªäº›ç‰ˆæœ¬å·ä¸å·²çŸ¥ç‰ˆæœ¬ä¸åŒ¹é…çš„ChunkæœåŠ¡å™¨ã€‚</li>
<li>å¦‚æœchunkçš„ç‰ˆæœ¬å·å¤§äº<code>Master</code>çš„ç‰ˆæœ¬å·æ€ä¹ˆåŠï¼Ÿ<ul>
<li><code>Master</code>åœ¨å‘ç£ç›˜å†™å…¥ç‰ˆæœ¬å·å‰å´©æºƒäº†ï¼Œä½†åˆ†é…äº†æ–°çš„Primaryï¼Œä¼šç”¨è¿™ä¸ªæ›´é«˜çš„ç‰ˆæœ¬å·ä½œä¸ºæœ€æ–°ç‰ˆæœ¬å·ã€‚å¯èƒ½æ˜¯å› ä¸ºå‘é€æ¶ˆæ¯åå´©æºƒäº†ï¼Œæ‰€ä»¥æœ€å¥½è®©priå’Œsecè¿”å›ç¡®è®¤æ¶ˆæ¯ä¹‹åå†å†™å…¥ç£ç›˜ã€‚</li>
</ul>
</li>
<li>Primaryå¦‚æœåŒæ—¶æ”¶åˆ°å¤§é‡<code>Client</code>çš„å¹¶å‘è¯·æ±‚ï¼Œä¼šæ’åºè¯·æ±‚ã€‚ç¡®å®šPrimaryå’ŒSecondary chunkåï¼Œ<code>Client</code>å°†æ•°æ®å‘é€ç»™è¿™äº›æœåŠ¡å™¨ï¼Œæ”¶åˆ°åå†™å…¥ä¸´æ—¶ä½ç½®ï¼Œæ‰€æœ‰æœåŠ¡å™¨éƒ½è¿”å›ç¡®è®¤åï¼Œ<code>Client</code>å†å‘Primaryå‘é€ç¡®è®¤è¿½åŠ è¯·æ±‚ï¼Œç„¶ååˆ†å‘è¯·æ±‚ã€‚</li>
<li>å¯¹äºSecondary chunkæ¥è¯´ï¼Œä¸ä¸€å®šä¼šæ‰§è¡ŒæˆåŠŸï¼Œå¯èƒ½å› ä¸ºç£ç›˜ä¸è¶³æˆ–è€…æ•…éšœæˆ–è€…ä¸¢åŒ…ï¼›åªæœ‰æ‰€æœ‰chunkéƒ½å†™å…¥æˆåŠŸæ‰ä¼šè¿”å›yesç»™<code>Client</code>ï¼›å¦åˆ™å°†è¿”å›noç„¶åé‡æ–°å‘èµ·æ•´ä¸ªæµç¨‹ã€‚</li>
<li>ä»€ä¹ˆæ—¶å€™ç‰ˆæœ¬å·ä¼šæ”¹å˜ï¼Ÿ<ul>
<li>åªåœ¨<code>Master</code>è®¤ä¸ºChunkæ²¡æœ‰Primaryæ—¶æ‰ä¼šå¢åŠ ã€‚</li>
</ul>
</li>
<li><code>Master</code>å‘ç°PrimaryæŒ‚äº†æ€ä¹ˆåŠï¼Ÿ<ul>
<li><code>Master</code>ä¼šå®šæœŸPing Primaryï¼Œæ²¡æœ‰å“åº”è®¤ä¸ºå°†è¦é‡æ–°æŒ‡å®šä¸€ä¸ªPrimaryï¼ˆä½†è¿™ä¸ä¸€å®šå¯¹ï¼Œå¯èƒ½åªæ˜¯å› ä¸ºæ²¡æœ‰Pingé€šè€Œä¸æ˜¯æŒ‚äº†ï¼‰ï¼Œè¿™å°†å¯¼è‡´Primaryè¿˜å¯ä»¥å’Œ<code>Client</code>é€šä¿¡ï¼Œæ­¤æ—¶æŒ‡å®šæ–°çš„Primaryå°†åŒæ—¶å­˜åœ¨ä¸¤ä¸ªï¼Œå¯¼è‡´è„‘è£‚ï¼ˆsplit-brainï¼‰</li>
<li>è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨ç§Ÿçº¦ï¼Œç§Ÿçº¦åˆ°æœŸåæ›´æ–°Primaryï¼Œè‹¥Pingä¸é€šï¼Œå°†ä¸ä¼šé‡æ–°æŒ‡å®šPrimaryï¼Œè€Œæ˜¯ç­‰å¾…ä¸Šä¸€ä¸ªç§Ÿçº¦åˆ°æœŸ</li>
</ul>
</li>
</ul>
<h3 id="Consistency"><a href="#Consistency" class="headerlink" title="Consistency"></a>Consistency</h3><ol>
<li>ç¬¬ä¸€ä¸ª<code>Client</code>å¯¹ä¸‰ä¸ªå‰¯æœ¬è¿½åŠ æ•°æ®A</li>
<li>ç¬¬äºŒä¸ª<code>Client</code>è¿½åŠ æ•°æ®Bï¼ŒPå’ŒS1æˆåŠŸäº†ï¼ŒS2å¤±è´¥</li>
<li>ç¬¬ä¸‰ä¸ª<code>Client</code>è¿½åŠ æ•°æ®C</li>
<li>ç¬¬äºŒä¸ª<code>Client</code>é‡è¯•è¿½åŠ Bï¼ŒæˆåŠŸäº†</li>
<li>ç¬¬å››ä¸ª<code>Client</code>è¿½åŠ Dï¼Œä½†æ˜¯S1å¤±è´¥äº†ï¼Œå¹¶ä¸”<code>Client</code>å†é‡è¯•æˆåŠŸå‰å‘é€æ•…éšœï¼Œå¯¼è‡´S1ä¸­å°†ä¸å­˜åœ¨D<br><img src="https://www.lingzhicheng.cn/usr/file/picture/MIT/GFS03.png" alt="GFS Consistency"></li>
</ol>
<ul>
<li>åœ¨è¿™é‡Œçš„GFSæ˜¯å¼±ä¸€è‡´æ€§çš„ï¼Œå‰¯æœ¬æ˜¯ä¸ä¸€è‡´çš„ï¼Œæ²¡æœ‰åšåˆ°ç²¾ç¡®åŒæ­¥ï¼›å¹¶ä¸”æ ¹æ®åç§»é‡ç„¶åæ‰§è¡Œè¿½åŠ æ•°æ®çš„è¯·æ±‚ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å¹¶è¡Œï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥æ’¤é”€æ‰€æœ‰éƒ¨åˆ†æˆåŠŸçš„æ“ä½œï¼Œè¿™å¯¼è‡´æ›´å¤æ‚ä¸”æ›´æ…¢ï¼Œéœ€è¦å¹³è¡¡æ€§èƒ½ï¼‰</li>
<li>ç¼ºé™·ï¼š<ul>
<li>ç”¨å†…å­˜æ¥ç»´æŠ¤Chunkè¡¨å•ï¼Œéšç€åº”ç”¨è¶Šæ¥è¶Šå¤šï¼Œå°½ç®¡å¯ä»¥å¢åŠ å†…å­˜ï¼Œä½†è¿Ÿæ—©æ¶ˆè€—å®Œ</li>
<li>å•<code>Master</code>èŠ‚ç‚¹å¯èƒ½æ¥ä¸åŠå¤„ç†éå¸¸é«˜çš„å¹¶å‘è¯·æ±‚ï¼Œå¹¶ä¸”å…¶è¿˜è¦æ‰¿æ‹…ä¸€äº›å†™å…¥ç£ç›˜çš„ä»»åŠ¡</li>
<li><code>Master</code>èŠ‚ç‚¹çš„æ•…éšœå¤„ç†æ˜¯äººå·¥å¹²é¢„çš„ï¼Œéœ€è¦è‡ªä¿®å¤æ‰æ¯”è¾ƒå¥½</li>
</ul>
</li>
</ul>
<!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Distributed Systems</tag>
        <tag>GFS</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¸²æŸ“é—®é¢˜æ±‡æ€»</title>
    <url>/2022/12/03/Hexo%E6%B8%B2%E6%9F%93%E5%BC%95%E6%93%8E%E9%97%AE%E9%A2%98%E6%B1%87%E6%80%BB/</url>
    <content><![CDATA[<ul>
<li>Hexoå°†Markdownæ–‡ä»¶æ¸²æŸ“æˆé™æ€é¡µé¢ï¼Œä½†æ˜¯æ¯æ¬¡éƒ½ä¼šå‡ºç°ä¸å°‘é—®é¢˜ï¼Œæœ¬åœ°çš„æ¸²æŸ“å¼•æ“å’Œhexoçš„æœ‰æ‰€åŒºåˆ«ï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸€äº›é—®é¢˜<span id="more"></span>
</li>
</ul>
<h3 id="1-è‹±æ–‡å¼•å·å’Œä¸­æ–‡å¼•å·é—®é¢˜"><a href="#1-è‹±æ–‡å¼•å·å’Œä¸­æ–‡å¼•å·é—®é¢˜" class="headerlink" title="1.è‹±æ–‡å¼•å·å’Œä¸­æ–‡å¼•å·é—®é¢˜"></a>1.è‹±æ–‡å¼•å·å’Œä¸­æ–‡å¼•å·é—®é¢˜</h3><ul>
<li>æ¯”è¾ƒè«åå…¶å¦™ï¼ŒHexoçš„é»˜è®¤æ¸²æŸ“é‚€è¯·è‡ªåŠ¨å°†è‹±æ–‡å¼•å·è½¬åŒ–ä¸ºä¸­æ–‡å¼•å·ï¼Œç‰¹åˆ«æ˜¯åœ¨ä¸€äº›æ•°å­¦å…¬å¼ä¸­ï¼Œæ˜¾ç¤ºä¼šå‡ºç°é—®é¢˜</li>
<li><code>hexo-renderer-markdown</code>é»˜è®¤é…ç½®<code>quotes</code>é…ç½®ä¸º<code>quotes: 'â€œâ€â€˜â€™'</code>ï¼Œç„¶åè‹±æ–‡åŒå¼•å·å°±ä¼šè¢«è§£æä¸ºè‹±æ–‡åŒå¼•å·è€Œéå‘çˆ¹çš„ä¸­æ–‡åŒå¼•å·ã€‚ä½†æ˜¯è®²é“ç†æ›´æ”¹é…ç½®<code>quotes: '""'''</code>å¯ä»¥å–æ¶ˆè¿™ç§å¥‡æ€ªçš„é€»è¾‘ï¼Œä½†æ˜¯æ— æœã€‚</li>
</ul>
<h4 id="åœ¨ä¸€ä¸ªIssueä¸­æ‰¾åˆ°è§£å†³åŠæ³•"><a href="#åœ¨ä¸€ä¸ªIssueä¸­æ‰¾åˆ°è§£å†³åŠæ³•" class="headerlink" title="åœ¨ä¸€ä¸ªIssueä¸­æ‰¾åˆ°è§£å†³åŠæ³•"></a>åœ¨ä¸€ä¸ªIssueä¸­æ‰¾åˆ°è§£å†³åŠæ³•</h4><h5 id="é€‚ç”¨hexo-renderer-markdown-itå’Œhexo-renderer-markdown-it-plus"><a href="#é€‚ç”¨hexo-renderer-markdown-itå’Œhexo-renderer-markdown-it-plus" class="headerlink" title="é€‚ç”¨hexo-renderer-markdown-itå’Œhexo-renderer-markdown-it-plus"></a><code>é€‚ç”¨hexo-renderer-markdown-it</code>å’Œ<code>hexo-renderer-markdown-it-plus</code></h5><figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">markdown:</span></span><br><span class="line">  <span class="attr">render:</span></span><br><span class="line"><span class="bullet">-</span>    <span class="attr">typographer:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">+</span>    <span class="attr">typographer:</span> <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure>
<h5 id="é€‚ç”¨é»˜è®¤çš„hexo-renderer-marked"><a href="#é€‚ç”¨é»˜è®¤çš„hexo-renderer-marked" class="headerlink" title="é€‚ç”¨é»˜è®¤çš„hexo-renderer-marked"></a>é€‚ç”¨é»˜è®¤çš„<code>hexo-renderer-marked</code></h5><figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">marked:</span></span><br><span class="line"><span class="bullet">-</span>  <span class="attr">smartypants:</span> <span class="literal">true</span></span><br><span class="line"><span class="string">+</span>  <span class="attr">smartypants:</span> <span class="literal">false</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="2-å…¬å¼æ¸²æŸ“é—®é¢˜"><a href="#2-å…¬å¼æ¸²æŸ“é—®é¢˜" class="headerlink" title="2.å…¬å¼æ¸²æŸ“é—®é¢˜"></a>2.å…¬å¼æ¸²æŸ“é—®é¢˜</h3><p>è¿™æ¬¡æ˜¯ä¸€ä¸ªç®—æ³•çš„ç»¼è¿°ï¼Œé‡Œé¢æœ‰ä¸€äº›å¤šè¡Œå…¬å¼è¿˜æœ‰çŸ©é˜µï¼Œä¹‹å‰åŸ‹ä¸‹çš„å‘æ‰“ç®—è¿™æ¬¡ä¸€èµ·è§£å†³äº†ã€‚</p>
<ul>
<li><code>hexo-renderer-markdown-it</code>æ²¡æ³•æ¸²æŸ“<code>Latex</code>çš„çŸ©é˜µä»¥åŠå¤šè¡Œå…¬å¼ï¼Œåœ¨<code>Vscode</code>æˆ–è€…<code>Typora</code>ä¸­å¯ä»¥æ¸²æŸ“å‡ºæ¥ï¼Œä½†æ˜¯<code>hexo</code>ä¸å¤ªè¡Œï¼Œæ‰€ä»¥æ¢äº†<code>hexo-renderer-kramed</code>ï¼Œç‰ˆæœ¬æ˜¯<code>^0.1.4</code></li>
<li>ä½†æ˜¯å‡ºç°æ–°çš„é—®é¢˜ï¼Œ<code>kramed</code>ä¼šæŠŠ<code>*</code>å’Œ<code>_</code>æ¸²æŸ“æˆæ–œä½“ï¼Œæ‰€ä»¥åè€Œå‡ºç°äº†å¾ˆå¤šé—®é¢˜</li>
</ul>
<h4 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h4><ul>
<li>é¦–å…ˆæ˜¯ç”¨<code>\ast</code>æ›¿ä»£å…¬å¼ä¸­å¯èƒ½å‡ºç°çš„<code>*</code>è¿™é‡Œä¸»è¦æ˜¯ä¼šå‡ºç°<code>A*</code>ç®—æ³•</li>
<li>ç„¶åå–æ¶ˆ<code>_</code>çš„æ–œä½“è½¬ä¹‰ï¼Œ<code>/node_modules/kramed/lib/rules/inline.js</code>çš„ç¬¬20è¡Œçš„<code>/^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</code>ä¿®æ”¹å¦‚ä¸‹ï¼š<code>em: /^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,</code>ï¼Œå³å»é™¤<code>_</code>çš„è½¬ä¹‰ï¼Œä»¥åæ–œä½“ä½¿ç”¨<code>*</code>å³å¯ï¼Œä¸ä½¿ç”¨<code>_</code>ï¼›ç¬¬11è¡Œä¹Ÿåšå¦‚ä¸‹ä¿®æ”¹ï¼š<code>escape: /^\\([\\`*\[\]()#$+\-.!_&gt;])/,</code>æ”¹ä¸º<code>escape: /^\\([`*\[\]()#$+\-.!_&gt;])/,</code>ï¼Œè¿™é‡Œè¦æ³¨æ„ï¼Œå…¶å®è¡Œå†…ä»£ç æœ€å¥½ç”¨å››ä¸ªå¼•å·````</li>
<li>è¿˜æœ‰ä¸€ç‚¹è¦æ³¨æ„å°±æ˜¯ï¼Œæ”¹äº†æºç ä¹‹åè¦é‡å¯<code>hexo</code>æœåŠ¡ï¼Œä¿®æ”¹æ¨¡å—åä¸ä¼šè‡ªåŠ¨åˆ·æ–°</li>
</ul>
<h3 id="3-å¾…åŠäº‹é¡¹æ¸²æŸ“é—®é¢˜"><a href="#3-å¾…åŠäº‹é¡¹æ¸²æŸ“é—®é¢˜" class="headerlink" title="3.å¾…åŠäº‹é¡¹æ¸²æŸ“é—®é¢˜"></a>3.å¾…åŠäº‹é¡¹æ¸²æŸ“é—®é¢˜</h3><ul>
<li><p>ä½¿ç”¨<code>kramed</code>æ¸²æŸ“ä¸äº†å¾…åŠäº‹é¡¹ï¼Œä½†åœ¨<code>hexo-renderer-marked</code>çš„<code>PR</code>é‡Œæ‰¾åˆ°äº†ç›¸å…³æ›´æ–°ï¼š</p>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// Support To-Do List</span></span><br><span class="line"><span class="title class_">Renderer</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">listitem</span> = <span class="keyword">function</span>(<span class="params">text</span>) {</span><br><span class="line">  <span class="keyword">if</span> (<span class="regexp">/^\s*\[[x ]\]\s*/</span>.<span class="title function_">test</span>(text)) {</span><br><span class="line">    text = text.<span class="title function_">replace</span>(<span class="regexp">/^\s*\[ \]\s*/</span>, <span class="string">'&lt;input type="checkbox"&gt;&lt;/input&gt; '</span>).<span class="title function_">replace</span>(<span class="regexp">/^\s*\[x\]\s*/</span>, <span class="string">'&lt;input type="checkbox" checked&gt;&lt;/input&gt; '</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;li style="list-style: none"&gt;'</span> + text + <span class="string">'&lt;/li&gt;\n'</span>;</span><br><span class="line">  } <span class="keyword">else</span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'&lt;li&gt;'</span> + text + <span class="string">'&lt;/li&gt;\n'</span>;</span><br><span class="line">  }</span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>æŠŠæ¸²æŸ“å‡½æ•°åŠ å…¥åˆ°æœ¬åœ°çš„<code>hexo</code>æ–‡ä»¶å¤¹çš„<code>/node_modules/hexo-renderer-kramed/lib/renderer.js</code>ï¼Œä½†æ³¨æ„å’Œ<code>-</code>æ ‡è®°è¦é—´éš”è‡³å°‘ä¸¤è¡Œï¼Œå¦åˆ™ç¬¬ä¸€ä¸ªå¾…åŠä¼šå‡ºé”™</p>
</li>
</ul>
<ul>
<li>[x] å¾…åŠäº‹é¡¹1</li>
<li>[ ] å¾…åŠäº‹é¡¹2</li>
<li>[x] å¾…åŠäº‹é¡¹3</li>
<li>[ ] å¾…åŠäº‹é¡¹4</li>
</ul>
<h3 id="4-è¡¨æ ¼æ¸²æŸ“é—®é¢˜"><a href="#4-è¡¨æ ¼æ¸²æŸ“é—®é¢˜" class="headerlink" title="4.è¡¨æ ¼æ¸²æŸ“é—®é¢˜"></a>4.è¡¨æ ¼æ¸²æŸ“é—®é¢˜</h3><ul>
<li>é—®é¢˜ï¼šæ¢ç”¨<code>hexo-renderer-kramed</code>ä¸å°±åå‘ç°ä¹‹å‰ç”¨<code>marked</code>èƒ½æˆåŠŸæ¸²æŸ“Tablesçš„åœ°æ–¹æ— æ³•æ¸²æŸ“</li>
<li>æ‰¾äº†<code>n</code>å°æ—¶åæ¥å‘ç°åªè¦<code>GFM</code>çš„Tableè¯­æ³•ï¼Œå’Œå‰ä¸€è¡Œä¸¥æ ¼ä¿æŒä¸€è¡Œä»¥ä¸Šçš„é—´è·ï¼Œå¹¶ä¸”åœ¨Tableå—ä¹‹å‰æœ¬è¡Œæ— ç©ºæ ¼ï¼Œå°±èƒ½å’ŒåŸæ¥çš„<code>marked</code>ä¸€æ ·æ¸²æŸ“å‡ºæ­£å¸¸çš„è¡¨æ ¼</li>
<li>ä½†æ˜¯ç´§æ¥ç€ä¼šå¤šä¸€ä¸ªä¸ç®—é—®é¢˜çš„é—®é¢˜ï¼Œå¦‚æœä½¿ç”¨å¤šä¸ª<code>-</code>æ ‡è®°çš„ç”¨äºåˆ†å±‚ï¼Œå¹¶ä¸”åœ¨éç¬¬ä¸€å±‚çš„å±‚ä¸å±‚ä¹‹é—´ä¹‹é—´å­˜åœ¨ä¸Šè¿°æ–¹æ³•ä¿®æ”¹çš„Tableï¼Œä¼šå¯¼è‡´Tableåé¢è·Ÿç€çš„ä¸‹ä¸€ä¸ªå±‚çº§å˜ä¸‘ï¼Œä¾‹å¦‚ï¼š</li>
</ul>
<ul>
<li><p>åŸæ¥</p>
<ul>
<li>åŸæ¥<ul>
<li>è¿™ä¸€å±‚çš„æ ·å¼</li>
</ul>
</li>
</ul>
</li>
<li><ul>
<li><ul>
<li>å˜æˆäº†è¿™æ ·</li>
</ul>
</li>
</ul>
</li>
<li><p>å…¶å®åˆç†æ€€ç–‘æ˜¯<code>Kramed</code>çš„ç©ºæ ¼æ¸²æŸ“é—®é¢˜ï¼Œæœ‰ç©ºæ’æŸ¥ä¸€ä¸‹</p>
</li>
</ul>
<blockquote>
<p>ä¸‹é¢é™„ä¸Š<code>GFM</code>çš„Tableè¯­æ³•</p>
</blockquote>
<p>Tables arenâ€™t part of the core Markdown spec, but they are part of GFM and Markdown Here supports them. They are an easy way of adding tables to your email â€” a task that would otherwise require copy-pasting from another application.</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Colons can be used to align columns.</span><br><span class="line"></span><br><span class="line">| Tables        | Are           | Cool  |</span><br><span class="line">| ------------- |:-------------:| -----:|</span><br><span class="line">| col 3 is      | right-aligned | $1600 |</span><br><span class="line">| col 2 is      | centered      |   $12 |</span><br><span class="line">| zebra stripes | are neat      |    $1 |</span><br><span class="line"></span><br><span class="line">There must be at least 3 dashes separating each header cell.</span><br><span class="line">The outer pipes (|) are optional, and you don't need to make the </span><br><span class="line">raw Markdown line up prettily. You can also use inline Markdown.</span><br><span class="line"></span><br><span class="line">Markdown | Less | Pretty</span><br><span class="line">--- | --- | ---</span><br><span class="line">*Still* | `renders` | **nicely**</span><br><span class="line">1 | 2 | 3</span><br></pre></td></tr></tbody></table></figure>
<p>Colons can be used to align columns.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Tables</th>
<th style="text-align:center">Are</th>
<th style="text-align:right">Cool</th>
</tr>
</thead>
<tbody>
<tr>
<td>col 3 is</td>
<td style="text-align:center">right-aligned</td>
<td style="text-align:right">$1600</td>
</tr>
<tr>
<td>col 2 is</td>
<td style="text-align:center">centered</td>
<td style="text-align:right">$12</td>
</tr>
<tr>
<td>zebra stripes</td>
<td style="text-align:center">are neat</td>
<td style="text-align:right">$1</td>
</tr>
</tbody>
</table>
</div>
<p>There must be at least 3 dashes separating each header cell. The outer pipes (|) are optional, and you donâ€™t need to make the raw Markdown line up prettily. You can also use inline Markdown.</p>
<div class="table-container">
<table>
<thead>
<tr>
<th>Markdown</th>
<th>Less</th>
<th>Pretty</th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Still</em></td>
<td><code>renders</code></td>
<td><strong>nicely</strong></td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>3</td>
</tr>
</tbody>
</table>
</div>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>Latex Grammar</title>
    <url>/2023/02/09/LatexGrammar/</url>
    <content><![CDATA[<p>$LaTeX$ (/ËˆlÉ‘ËtÉ›x/ LAH-tekh or /ËˆleÉªtÉ›x/ LAY-tekh, often stylized as LATEX) is a <strong>software system</strong> for document preparation. When writing, the writer uses plain text as opposed to the formatted text found in WYSIWYG word processors like Microsoft Word, LibreOffice Writer and Apple Pages. The writer uses <strong>markup tagging conventions</strong> to define the general structure of a document to stylise text throughout a document (such as bold and italics), and to add citations and cross-references. A TeX distribution such as TeX Live or MiKTeX is used to produce an output file (such as PDF or DVI) suitable for printing or digital distribution.</p>
<span id="more"></span>
<hr>
<h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><ul>
<li><p>$ LaTeX $ is widely used in <strong>academia</strong> for the communication and publication of scientific documents in many fields, including <strong>mathematics, computer science, engineering, physics, chemistry, economics, linguistics, quantitative psychology, philosophy, and political science</strong>. It also has a prominent role in the preparation and publication of books and articles that contain complex multilingual materials, such as Arabic and Greek. LaTeX uses the TeX typesetting program for formatting its output, and is itself written in the <strong>$TeX$ macro language</strong>.</p>
</li>
<li><p>$ LaTeX $ can be used as <strong>a standalone document preparation system</strong>, or as <strong>an intermediate format</strong>. In the latter role, for example, it is sometimes used as part of a pipeline for translating <code>DocBook</code> and <code>other XML-based formats</code> to <code>PDF</code>. The typesetting system offers programmable desktop publishing features and extensive facilities for automating most aspects of typesetting and desktop publishing, including <strong>numbering and cross-referencing of tables and figures, chapter and section headings, graphics, page layout, indexing and bibliographies</strong>.</p>
</li>
</ul>
<h2 id="Install-sweat-smile"><a href="#Install-sweat-smile" class="headerlink" title="Install :sweat_smile:"></a>Install <span class="github-emoji"><span>ğŸ˜…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f605.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></h2><blockquote>
<p>Leave a hole here, and I will attach an installation tutorial when I have time later.<br>Okey, letâ€™s go! I used to use <code>VsCode</code> + <code>TexLive</code>, which is more convenient, because <code>VsCode</code> has a built-in <code>LaTeX Workshop</code> extension, which can be used directly after installation.<br>For the convenience of reading, a seprarate article about installation and use is written, and the link is <a href="https://www.lingzhicheng.cn/2023/03/27/TexLive+VsCode/">here</a>.</p>
</blockquote>
<h2 id="Attention-exclamation"><a href="#Attention-exclamation" class="headerlink" title="Attention:exclamation:"></a>Attention<span class="github-emoji"><span>â—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2757.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></h2><blockquote>
<p>Before starting, it is important to note that:</p>
<p>$ Markdown $ is rendered as <code>HTML</code> and its syntax conflicts with $ LaTeX $, which affects the effect of the article. E.g. braces should be avoided repeatedly, spaces should be added.</p>
</blockquote>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line">}} <span class="comment">% It's bad.</span></span><br><span class="line">} } <span class="comment">% It's good!</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="Formula-Insertion"><a href="#Formula-Insertion" class="headerlink" title="Formula Insertion"></a>Formula Insertion</h2><ul>
<li><p>Formulas are divided into inline formulas and formula blocks, the former is embedded in a line, and the latter is a separate line.</p>
</li>
<li><p>Inline formulas<br>$ f(x) = a+b $</p>
</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span> f(x) = a+b <span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<p>â€‹â€‹â€‹â€‹â€‹</p>
<ul>
<li>Formula blocks</li>
</ul>
<script type="math/tex; mode=display">
x+1 = 2*3</script><figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">x+1 = 2*3</span><br><span class="line">$$</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Numbering</li>
</ul>
<script type="math/tex; mode=display">
x+1 = 2*3 \tag{1.1}</script><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">x+1 = 2*3 <span class="keyword">\tag</span>{1.1}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="Basic-operations"><a href="#Basic-operations" class="headerlink" title="Basic operations"></a>Basic operations</h2><h3 id="Four-operations-and-brackets"><a href="#Four-operations-and-brackets" class="headerlink" title="Four operations and brackets"></a>Four operations and brackets</h3><blockquote>
<p>The basic four-rule arithmetic can be done directly with the keyboardâ€™s +-*</p>
</blockquote>
<ul>
<li><code>\times</code> stands for $ \times $, <code>\div</code> stands for $ \div $, <code>\cdot</code> stands for $ \cdot $</li>
</ul>
<p>Example: <script type="math/tex">a + b - c*2 + d/e = 5 \times 3 + 8 \div 4 - f \cdot g</script><br>$ a + b - c*2 + d/e = 5 \times 3 + 8 \div 4 - f \cdot g $</p>
<ul>
<li>The curly braces need to be escaped with a slash.</li>
</ul>
<p>Example: <script type="math/tex">(1+2) \quad [1+2] \quad \{1+2\}</script><br>$ (1+2) \quad [1+2] \quad {1+2} $</p>
<ul>
<li>The <code>\left</code> and <code>\right</code> commands are used to generate auto-match height brackets or parenthetical characters.</li>
</ul>
<p>Example: <script type="math/tex">(\dfrac{1}{2})^2 \quad \left( \dfrac{1}{2} \right) ^2</script><br>$ (\dfrac{1}{2})^2 \quad \left( \dfrac{1}{2} \right) ^2 $</p>
<ul>
<li><code>&lt;&gt;</code>, <code>Abs</code> and <code>Norms()</code></li>
</ul>
<script type="math/tex; mode=display">\left\langle \dfrac ab \right\rangle \quad \left| \dfrac ab \right| \quad \left\| \dfrac ab \right\|</script><p>$ \left\langle \dfrac ab \right\rangle \quad \left| \dfrac ab \right| \quad \left| \dfrac ab \right| $</p>
<ul>
<li>Rounding function</li>
</ul>
<script type="math/tex; mode=display">\left\lfloor \dfrac ab \right\rfloor \quad \left\lceil \dfrac ab \right\rceil</script><p>$ \left\lfloor \dfrac ab \right\rfloor \quad \left\lceil \dfrac ab \right\rceil $</p>
<ul>
<li>Slashes with arrows</li>
</ul>
<p><code>\left/ \dfrac ab \right\backslash</code><br>$ \left/ \dfrac ab \right\backslash $</p>
<p><code>\left\uparrow \dfrac ab \right\downarrow \quad \left\Uparrow \dfrac ab \right\Downarrow \quad \left\updownarrow \dfrac ab \right\Updownarrow</code><br>$ \left\uparrow \dfrac ab \right\downarrow \quad \left\Uparrow \dfrac ab \right\Downarrow \quad \left\updownarrow \dfrac ab \right\Updownarrow $</p>
<ul>
<li>Mixed parentheses</li>
</ul>
<p><code>\left[ \dfrac{1}{2}, 1 \right) \quad \left\langle \psi \right|</code><br>$ \left[ \dfrac{1}{2}, 1 \right) \quad \left\langle \psi \right| $</p>
<ul>
<li>Single parentheses</li>
</ul>
<blockquote>
<p>Use <code>\left.</code> or <code>\right.</code> to omit.</p>
</blockquote>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\left</span><span class="keyword">\{</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{l}</span><br><span class="line">x+y=1<span class="keyword">\\</span></span><br><span class="line">x-y=2</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="keyword">\right</span>.</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span> </span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\left\{
\begin{array}{l}
x+y=1\\
x-y=2
\end{array}
\right.</script><script type="math/tex; mode=display">\left. \dfrac ab \right\}</script><p>$ \left. \dfrac ab \right} $</p>
<ul>
<li>The <strong>size</strong> of the brackets</li>
</ul>
<blockquote>
<p>Use <code>\big</code>, <code>\Big</code>, <code>\bigg</code>, <code>\Bigg</code> to control.</p>
</blockquote>
<script type="math/tex; mode=display">\left\{ \left[ \left( \left| \left\| a \right\| +1 \right| -2 \right) +3 \right] -4 \right\}*5</script><p>$ \left{ \left[ \left( \left| \left| a \right| +1 \right| -2 \right) +3 \right] -4 \right}*5 $<br>â€‹</p>
<script type="math/tex; mode=display">\Bigg\{ \bigg[ \Big( \big| \left\| a \right\| +1 \big| -2 \Big) +3 \bigg] -4 \Bigg\}*5</script><p>$ \Bigg{ \bigg[ \Big( \big| \left| a \right| +1 \big| -2 \Big) +3 \bigg] -4 \Bigg}*5 $</p>
<h3 id="Superscript-and-subscript"><a href="#Superscript-and-subscript" class="headerlink" title="Superscript and subscript"></a>Superscript and subscript</h3><ul>
<li>Use <code>_</code> for subscript, <code>^</code> for superscript, and handle only one character, and multiple characters enclosed in <code>{}</code>. <code>'</code> indicates derivation, multiple can be used.</li>
</ul>
<p>Example: <code>x_1^{3,4} + x_{1,2}^{2} = y_0 + y'_{6} + y''</code><br>$ x<em>1^{3,4} + x</em>{1,2}^{2} = y<em>0 + yâ€™</em>{6} + yâ€™â€™ $</p>
<h3 id="Fractional-and-radical"><a href="#Fractional-and-radical" class="headerlink" title="Fractional and radical"></a>Fractional and radical</h3><ul>
<li>Use <code>frac{a}{b}</code> for fractions, <code>sqrt</code> for square roots, and <code>sqrt[n]</code> for nth roots.</li>
</ul>
<p>Example: <code>\frac{x}{2} + \sqrt x = \sqrt[3] {x^2+y^2}</code><br>$ \frac{x}{2} + \sqrt x = \sqrt[3] {x^2+y^2} $</p>
<h2 id="Symbols-functions-and-special-characters"><a href="#Symbols-functions-and-special-characters" class="headerlink" title="Symbols, functions and special characters"></a>Symbols, functions and special characters</h2><h3 id="Tones-and-markers"><a href="#Tones-and-markers" class="headerlink" title="Tones and markers"></a>Tones and markers</h3><ul>
<li><p>Tones<br><code>\dot{a}</code> $ \dot{a} $<br><code>\ddot{a}</code> $ \ddot{a} $<br><code>\acute{a}</code>  $ \acute{a} $<br><code>\grave{a}</code> $ \grave{a} $<br><code>\check{a}</code> $ \check{a} $<br><code>\breve{a}</code> $ \breve{a} $<br><code>\tilde{a}</code> $ \tilde{a} $<br><code>\widetilde{a}</code> $ \widetilde{a} $<br><code>\bar{a}</code> $ \bar{a} $<br><code>\mathring{a}</code> $ \mathring{a} $</p>
</li>
<li><p>Markers<br><code>\hat{a}</code> $ \hat{a} $<br><code>\widehat{a}</code> $ \widehat{a} $<br><code>\vec{a}</code> $ \vec{a} $</p>
</li>
</ul>
<h3 id="Basic-functions"><a href="#Basic-functions" class="headerlink" title="Basic functions"></a>Basic functions</h3><ul>
<li>Exponential function</li>
</ul>
<p>Example: <code>\exp_a b, \exp b, x^2</code><br>$ \exp_a b, \exp b, x^2 $</p>
<ul>
<li>Logarithm</li>
</ul>
<p>Example: <code>\log a, \lg b, \ln c, \log_{2} d</code><br>$ \log a, \lg b, \ln c, \log_{2} d $</p>
<ul>
<li>Trigonometric function</li>
</ul>
<p>Example: <code>\sin a, \cos b, \tan c, \cot d, \sec e, \csc f</code><br>$ \sin a, \cos b, \tan c, \cot d, \sec e, \csc f $</p>
<ul>
<li>Inverse trigonometric functions</li>
</ul>
<p>Example: <code>\arcsin a, \arccos b, \arctan c</code><br>â€‹â€‹$ \arcsin a, \arccos b, \arctan c $</p>
<blockquote>
<p><code>\arccot</code>, <code>\arcsec</code> and <code>\arccsc</code> in $Latex$ is not defined and can be replaced by <code>\text{arccot}x</code> or <code>\operatorname{function}</code> $â€”&gt;$ $\text{arccot}x$</p>
</blockquote>
<ul>
<li>Hyperbolic functions</li>
</ul>
<p>Example: <code>\sinh a, \cosh b, \tanh c, \coth d</code><br>$ \sinh a, \cosh b, \tanh c, \coth d $</p>
<ul>
<li>Absolute value</li>
</ul>
<p>Example: <code>\left\vert a \right\vert, |b|, | \dfrac cd |, \left| \dfrac cd \right|</code><br>$ \left\vert a \right\vert, |b|, | \dfrac cd |, \left| \dfrac cd \right| $</p>
<ul>
<li>Maximum and minimum</li>
</ul>
<p>Example:<code>\max(x,y), \min(x,y)</code>â€‹â€‹<br>$ \max(x,y), \min(x,y) $</p>
<ul>
<li>Others</li>
</ul>
<p>Example: <code>\operatorname{function}</code><br>$ \operatorname{sgn} x $</p>
<h3 id="Limits"><a href="#Limits" class="headerlink" title="Limits"></a>Limits</h3><p><code>\min x, \max y, \inf a, \sup b</code><br>$ \min x, \max y, \inf a, \sup b $</p>
<p><code>\lim x, \liminf y, \limsup z</code><br>$ \lim x, \liminf y, \limsup z $</p>
<p><code>\dim p, \deg q, \det m, \ker\phi</code><br>â€‹$ \dim p, \deg q, \det m, \ker\phi $</p>
<h3 id="Projection"><a href="#Projection" class="headerlink" title="Projection"></a>Projection</h3><p><code>\Pr j, \hom l, \lVert z \rVert, \arg z</code><br>$ \Pr j, \hom l, \lVert z \rVert, \arg z $</p>
<h3 id="Differential-and-derivative"><a href="#Differential-and-derivative" class="headerlink" title="Differential and derivative"></a>Differential and derivative</h3><blockquote>
<p>Treatment of non-italic derivative $ \mathrm{d}x $ with <code>\mathrm{d}x</code></p>
</blockquote>
<p><code>dx, \mathrm{d}x, \partial t, \nabla\psi</code><br>â€‹$ dx, \mathrm{d}x, \partial t, \nabla\psi $</p>
<p><code>\mathrm{d}y/\mathrm{d}x, \frac{\mathrm{d}y}{\mathrm{d}x}, \frac{\partial^2}{\partial x \partial y}z</code><br>$ \mathrm{d}y/\mathrm{d}x, \frac{\mathrm{d}y}{\mathrm{d}x}, \frac{\partial^2}{\partial x \partial y}z $</p>
<p><code>', \prime, \backprime, f^\prime, f', f'', f^{(3)}, \dot y, \ddot y</code><br>$ â€˜, \prime, \backprime, f^\prime, fâ€™, fâ€™â€™, f^{(3)}, \dot y, \ddot y$</p>
<h3 id="Special-symbols"><a href="#Special-symbols" class="headerlink" title="Special symbols"></a>Special symbols</h3><p><code>\infty, \aleph, \complement, \backepsilon, \eth, \Finv, \hbar</code><br>$ \infty, \aleph, \complement, \backepsilon, \eth, \Finv, \hbar $</p>
<p><code>\imath, \jmath, \Bbbk, \ell, \mho, \wp, \Re, \circledSâ€‹</code><br>$ \imath, \jmath, \Bbbk, \ell, \mho, \wp, \Re, \circledSâ€‹ $</p>
<h3 id="Mod"><a href="#Mod" class="headerlink" title="Mod"></a>Mod</h3><p><code>\pmod{m}, a \bmod b</code><br>$ \pmod{m}, a \bmod b $</p>
<p><code>\gcd(m,n), \operatorname{lcm}(m,n)</code><br>$ \gcd(m,n), \operatorname{lcm}(m,n) $â€‹</p>
<p><code>\mid, \nmid, \shortmid, \nshortmid</code><br>$ \mid, \nmid, \shortmid, \nshortmid $</p>
<h3 id="Sqrt"><a href="#Sqrt" class="headerlink" title="Sqrt"></a>Sqrt</h3><p><code>\surd, \sqrt{2}, \sqrt[n]{}, \sqrt[3]{x^2+y^2}</code><br>$ \surd, \sqrt{2}, \sqrt[n]{}, \sqrt[3]{x+y} $</p>
<h3 id="Operations"><a href="#Operations" class="headerlink" title="Operations"></a>Operations</h3><p><code>+, -, \pm, \mp, \dotplus</code><br>$ +, -, \pm, \mp, \dotplus$ </p>
<p><code>*, /, \times, \div, \divideontimes, \cdot, \ast, \backslash</code><br>$ *, /, \times, \div, \divideontimes, \cdot, \ast, \backslash $</p>
<p><code>\star, \circ, \bullet</code><br>$ \star, \circ, \bullet $</p>
<p><code>\boxplus, \boxminus, \boxtimes, \boxdot</code><br>$ \boxplus, \boxminus, \boxtimes, \boxdot $</p>
<p><code>\oplus, \ominus, \otimes, \oslash, \odot</code><br>$ \oplus, \ominus, \otimes, \oslash, \odot $</p>
<p><code>\circleddash, \circledcirc, \circledast</code><br>$ \circleddash, \circledcirc, \circledast $<br>â€‹<br><code>\bigoplus, \bigotimes, \bigodot</code><br>$ \bigoplus, \bigotimes, \bigodot $</p>
<h3 id="Sets"><a href="#Sets" class="headerlink" title="Sets"></a>Sets</h3><p><code>\{, \}, \emptyset, \varnothing</code><br>â€‹$ {, }, \empty, \varnothing $</p>
<p><code>\in, \notin, \not\in, \ni, \not\ni</code><br>â€‹â€‹$ \in, \notin, \not\in, \ni, \not\ni $</p>
<p><code>\cap, \Cap, \sqcap, \bigcap</code><br>â€‹$ \cap, \Cap, \sqcap, \bigcap $</p>
<p><code>\cup, \Cup, \sqcup, \bigcup, \bigsqcup, \uplus, \biguplus</code><br>$ \cup, \Cup, \sqcup, \bigcup, \bigsqcup, \uplus, \biguplus $</p>
<p><code>\setminus, \smallsetminus</code><br>$ \setminus, \smallsetminus $</p>
<p><code>\subset, \Subset, \sqsubset</code><br>$ \subset, \Subset, \sqsubset $</p>
<p><code>\supset, \Supset, \sqsupset</code><br>$ \supset, \Supset, \sqsupset $</p>
<p><code>\subseteq, \nsubseteq, \subsetneq, \varsubsetneq, \sqsubseteq</code><br>$ \subseteq, \nsubseteq, \subsetneq, \varsubsetneq, \sqsubseteq $</p>
<p><code>\supseteq, \nsupseteq, \supsetneq, \varsupsetneq, \sqsupseteq</code><br>$ \supseteq, \nsupseteq, \supsetneq, \varsupsetneq, \sqsupseteq $</p>
<p><code>\subseteqq, \nsubseteqq, \subsetneqq, \varsubsetneqq</code><br>$ \subseteqq, \nsubseteqq, \subsetneqq, \varsubsetneqq $</p>
<h3 id="Relationship-symbol"><a href="#Relationship-symbol" class="headerlink" title="Relationship symbol"></a>Relationship symbol</h3><p><code>=, \ne, \neq, \equiv, \not\equiv</code><br>$ =, \ne, \neq, \equiv, \not\equiv $</p>
<p><code>\doteq, \doteqdot, :=, \overset{\underset{\mathrm{def} } {} } {=}</code><br>$ \doteq, \doteqdot, :=, \overset{\underset{\mathrm{def} } {} } {=} $</p>
<p><code>\sim, \nsim, \backsim, \thicksim, \simeq, \backsimeq, \eqsim, \cong, \ncong</code><br>$ \sim, \nsim, \backsim, \thicksim, \simeq, \backsimeq, \eqsim, \cong, \ncong $</p>
<p><code>\approx, \thickapprox, \approxeq, \asymp, \propto, \varpropto</code><br>$ \approx, \thickapprox, \approxeq, \asymp, \propto, \varpropto $</p>
<p><code>&lt;, \nless, \ll, \not\ll, \lll, \not\lll, \lessdot</code><br>$ &lt;, \nless, \ll, \not\ll, \lll, \not\lll, \lessdot $</p>
<p><code>&gt;, \ngtr, \gg, \not\gg, \ggg, \not\ggg, \gtrdot</code><br>$ &gt;, \ngtr, \gg, \not\gg, \ggg, \not\ggg, \gtrdot $</p>
<p><code>\le, \leq, \lneq, \leqq, \nleq, \nleqq, \lneqq, \lvertneqq</code><br>$ \le, \leq, \lneq, \leqq, \nleq, \nleqq, \lneqq, \lvertneqq $</p>
<p><code>\ge, \geq, \gneq, \geqq, \ngeq, \ngeqq, \gneqq, \gvertneqq</code><br>$ \ge, \geq, \gneq, \geqq, \ngeq, \ngeqq, \gneqq, \gvertneqq $</p>
<p><code>\lessgtr, \lesseqgtr, \lesseqqgtr, \gtrless, \gtreqless, \gtreqqless</code><br>$ \lessgtr, \lesseqgtr, \lesseqqgtr, \gtrless, \gtreqless, \gtreqqless $</p>
<p><code>\leqslant, \nleqslant, \eqslantless</code><br>$ \leqslant, \nleqslant, \eqslantless $</p>
<p><code>\geqslant, \ngeqslant, \eqslantgtr</code><br>$ \geqslant, \ngeqslant, \eqslantgtr $</p>
<p><code>\lesssim, \lnsim, \lessapprox, \lnapprox</code><br>$ \lesssim, \lnsim, \lessapprox, \lnapprox $</p>
<p><code>\gtrsim, \gnsim, \gtrapprox, \gnapprox</code><br>$ \gtrsim, \gnsim, \gtrapprox, \gnapprox $</p>
<p><code>\prec, \nprec, \preceq, \npreceq, \precneqq</code><br>â€‹$ \prec, \nprec, \preceq, \npreceq, \precneqq $</p>
<p><code>\succ, \nsucc, \succeq, \nsucceq, \succneqq</code><br>$ \succ, \nsucc, \succeq, \nsucceq, \succneqq $</p>
<p><code>\preccurlyeq, \curlyeqprec</code><br>$ \preccurlyeq, \curlyeqprec $</p>
<p><code>\succcurlyeq, \curlyeqsucc</code><br>$ \succcurlyeq, \curlyeqsucc $</p>
<p><code>\precsim, \precnsim, \precapprox, \precnapprox</code><br>$ \precsim, \precnsim, \precapprox, \precnapprox $</p>
<p><code>\succsim, \succnsim, \succapprox, \succnapprox</code><br>$ \succsim, \succnsim, \succapprox, \succnapprox $</p>
<h3 id="Geometric-symbols"><a href="#Geometric-symbols" class="headerlink" title="Geometric symbols"></a>Geometric symbols</h3><p><code>\parallel, \nparallel, \shortparallel, \nshortparallel</code><br>$ \parallel, \nparallel, \shortparallel, \nshortparallel $</p>
<p><code>\perp, \angle, \sphericalangle, \measuredangle, 45^\circ</code><br>$ \perp, \angle, \sphericalangle, \measuredangle, 45^\circ$</p>
<p><code>\Box, \blacksquare, \diamond, \Diamond, \lozenge, \blacklozenge, \bigstar, \bigcirc</code><br>â€‹$ \Box, \blacksquare, \diamond, \Diamond, \lozenge, \blacklozenge, \bigstar, \bigcirc $</p>
<p><code>\triangle, \triangledown ,\bigtriangleup, \bigtriangledown, \vartriangle</code><br>â€‹$ \triangle, \triangledown ,\bigtriangleup, \bigtriangledown, \vartriangle $</p>
<p><code>\blacktriangle, \blacktriangledown, \blacktriangleleft, \blacktriangleright</code><br>$ \blacktriangle, \blacktriangledown, \blacktriangleleft, \blacktriangleright $</p>
<h3 id="Logical-symbols"><a href="#Logical-symbols" class="headerlink" title="Logical symbols"></a>Logical symbols</h3><p><code>\forall, \not\forall, \exists, \nexists</code><br>â€‹$ \forall, \not\forall, \exists, \nexists $</p>
<p><code>\because, \therefore, \And</code><br>$ \because, \therefore, \And $</p>
<p><code>\lor, \vee, \curlyvee, \bigvee</code><br>$ \lor, \vee, \curlyvee, \bigvee $<br>â€‹<br><code>\land, \wedge, \curlywedge, \bigwedge</code><br>$ \land, \wedge, \curlywedge, \bigwedge $</p>
<blockquote>
<p>Use <code>\lor, \land</code> instead of <code>\or, \and</code></p>
</blockquote>
<p><code>\bar{x}, \bar{abc}, \overline{x}, \overline{abc}</code><br>$ \bar{x}, \bar{abc}, \overline{x}, \overline{abc} $</p>
<p><code>\lnot, \neg, \not\operatorname{R}, \bot, \top</code><br>$ \lnot, \neg, \not\operatorname{R}, \bot, \top $</p>
<p><code>\vdash, \dashv, \vDash, \Vdash, \Vvdash, \models</code><br>â€‹â€‹$ \vdash, \dashv, \vDash, \Vdash, \Vvdash, \models $</p>
<p><code>\nvdash, \nVdash, \nvDash, \nVDash</code><br>$ \nvdash, \nVdash, \nvDash, \nVDash $</p>
<p><code>\ulcorner, \urcorner, \llcorner, \lrcorner</code><br>$ \ulcorner, \urcorner, \llcorner, \lrcorner $</p>
<h3 id="Arrowhead"><a href="#Arrowhead" class="headerlink" title="Arrowhead"></a>Arrowhead</h3><p><code>\to, \rightarrow, \nrightarrow, \longrightarrow</code><br>$ \to, \rightarrow, \nrightarrow, \longrightarrow $</p>
<p><code>\gets, \leftarrow, \nleftarrow, \longleftarrow</code><br>$ \gets, \leftarrow, \nleftarrow, \longleftarrow $</p>
<p><code>\leftrightarrow, \nleftrightarrow, \longleftrightarrow</code><br>$ \leftrightarrow, \nleftrightarrow, \longleftrightarrow $ </p>
<p><code>\uparrow, \downarrow, \updownarrow</code><br>$ \uparrow, \downarrow, \updownarrow $</p>
<p><code>\Rightarrow, \nRightarrow, \Longrightarrow, \implies</code><br>$ \Rightarrow, \nRightarrow, \Longrightarrow, \implies $</p>
<p><code>\Leftarrow, \nLeftarrow, \Longleftarrow</code><br>$ \Leftarrow, \nLeftarrow, \Longleftarrow $</p>
<p><code>\Leftrightarrow, \nLeftrightarrow, \Longleftrightarrow, \iff</code><br>$ \Leftrightarrow, \nLeftrightarrow, \Longleftrightarrow, \iff $</p>
<p><code>\Uparrow, \Downarrow, \Updownarrow</code><br>$ \Uparrow, \Downarrow, \Updownarrow $</p>
<p><code>\Rrightarrow, \Lleftarrow</code><br>$ \Rrightarrow, \Lleftarrow $</p>
<p><code>\nearrow, \swarrow, \nwarrow, \searrow</code><br>$ \nearrow, \swarrow, \nwarrow, \searrow $</p>
<p><code>\mapsto, \longmapsto</code><br>$ \mapsto, \longmapsto $</p>
<p><code>\rightharpoonup, \rightharpoondown, \leftharpoonup, \leftharpoondown, \upharpoonleft, \upharpoonright, \downharpoonleft, \downharpoonright, \rightleftharpoons, \leftrightharpoons</code><br>$ \rightharpoonup, \rightharpoondown, \leftharpoonup, \leftharpoondown, \upharpoonleft, \upharpoonright, \downharpoonleft, \downharpoonright, \rightleftharpoons, \leftrightharpoons $</p>
<p><code>\curvearrowleft, \circlearrowleft, \Lsh, \upuparrows, \rightrightarrows, \rightleftarrows, \rightarrowtail, \looparrowright</code><br>$ \curvearrowleft, \circlearrowleft, \Lsh, \upuparrows, \rightrightarrows, \rightleftarrows, \rightarrowtail, \looparrowright $</p>
<p><code>\curvearrowright, \circlearrowright, \Rsh, \downdownarrows, \leftleftarrows, \leftrightarrows, \leftarrowtail, \looparrowleft</code><br>$ \curvearrowright, \circlearrowright, \Rsh, \downdownarrows, \leftleftarrows, \leftrightarrows, \leftarrowtail, \looparrowleft $</p>
<p><code>\hookrightarrow, \hookleftarrow, \multimap, \leftrightsquigarrow, \rightsquigarrow, \twoheadrightarrow, \twoheadleftarrow</code><br>$ \hookrightarrow, \hookleftarrow, \multimap, \leftrightsquigarrow, \rightsquigarrow, \twoheadrightarrow, \twoheadleftarrow $</p>
<h3 id="Ellipsis"><a href="#Ellipsis" class="headerlink" title="Ellipsis"></a>Ellipsis</h3><p><code>\cdots, \ldots, \vdots, \ddots</code><br>$ \cdots, \ldots, \vdots, \ddots $</p>
<h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><p><code>\amalg, \%, \&amp;, \dagger, \ddagger</code><br>â€‹â€‹â€‹$ \amalg, \%, \&amp;, \dagger, \ddagger $</p>
<p><code>\smile, \frown, \wr, \triangleleft, \triangleright</code><br>$ \smile, \frown, \wr, \triangleleft, \triangleright $</p>
<p><code>\diamondsuit, \heartsuit, \clubsuit, \spadesuit, \Game, \flat, \natural, \sharp</code><br>$ \diamondsuit, \heartsuit, \clubsuit, \spadesuit, \Game, \flat, \natural, \sharp $</p>
<p><code>\diagup, \diagdown, \centerdot, \ltimes, \rtimes, \leftthreetimes, \rightthreetimes</code><br>$ \diagup, \diagdown, \centerdot, \ltimes, \rtimes, \leftthreetimes, \rightthreetimes $</p>
<p><code>\eqcirc, \circeq, \triangleq, \bumpeq, \Bumpeq, \doteqdot, \risingdotseq, \fallingdotseq</code><br>$ \eqcirc, \circeq, \triangleq, \bumpeq, \Bumpeq, \doteqdot, \risingdotseq, \fallingdotseq $</p>
<p><code>\intercal, \barwedge, \veebar, \doublebarwedge, \between, \pitchfork</code><br>$ \intercal, \barwedge, \veebar, \doublebarwedge, \between, \pitchfork $</p>
<p><code>\vartriangleleft, \ntriangleleft, \vartriangleright, \ntriangleright</code><br>$ \vartriangleleft, \ntriangleleft, \vartriangleright, \ntriangleright $</p>
<p><code>\trianglelefteq, \ntrianglelefteq, \trianglerighteq, \ntrianglerighteq</code><br>$ \trianglelefteq, \ntrianglelefteq, \trianglerighteq, \ntrianglerighteq $</p>
<h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><p><code>\vec{a}, \boldsymbol{b}, \overleftarrow{ab}, \overrightarrow{cd}, \overleftrightarrow{ab}, \widehat{abc}</code></p>
<p>$ \vec{a}, \boldsymbol{b}, \overleftarrow{ab}, \overrightarrow{cd}, \overleftrightarrow{ab}, \widehat{abc} $<br>â€‹â€‹</p>
<h3 id="Up-and-down-lines"><a href="#Up-and-down-lines" class="headerlink" title="Up and down lines"></a>Up and down lines</h3><p><code>\overset{\frown} {AB}, \overline {abc}, \underline{def}</code><br>$ \overset{\frown} {AB}, \overline {abc}, \underline{def} $</p>
<p><code>\overbrace{1+2+\cdots+n} \quad \overbrace{1+2+\cdots+n}^{n}</code><br>$ \overbrace{1+2+\cdots+n} \quad \overbrace{1+2+\cdots+n}^{n} $</p>
<p><code>\begin{matrix} n \\ \overbrace{1+2+\cdots+n} \end{matrix}</code><br>$ \begin{matrix} n \ \overbrace{1+2+\cdots+n} \end{matrix} $</p>
<p><code>\underbrace{a+b+\cdots+z} \quad \underbrace{a+b+\cdots+z}_{26}</code><br>$ \underbrace{a+b+\cdots+z} \quad \underbrace{a+b+\cdots+z}_{26} $</p>
<p><code>\begin{matrix} \underbrace{a+b+\cdots+z} \\ 26 \end{matrix}</code><br>$ \begin{matrix} \underbrace{a+b+\cdots+z} \ 26 \end{matrix} $ </p>
<h3 id="Big-operations"><a href="#Big-operations" class="headerlink" title="Big operations"></a>Big operations</h3><blockquote>
<p>Inlines formulas and formula blocks are different.</p>
</blockquote>
<script type="math/tex; mode=display">\sum_{i=1}^{n} i^2</script><p>$ \sum_{i=1}^{n} i^2 $</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">$$</span><br><span class="line">\sum_{i=1}^{n} i^2</span><br><span class="line">$$</span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\sum_{i=1}^{n} i^2</script><p>To display an inline formula as positive top and bottom, you can use the limits command to follow the operator:</p>
<script type="math/tex; mode=display">\sum\limits_{i=1}^{n} i^2</script><p>$ \sum\limits_{i=1}^{n} i^2 $</p>
<p>To display the formula block as top-right-right, you can use the first-order frameless matrix form or use the nolimits command:</p>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{matrix} <span class="keyword">\sum</span><span class="built_in">_</span>{i=1}<span class="built_in">^</span>{n} i<span class="built_in">^</span>2 <span class="keyword">\end</span>{matrix}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{matrix} \sum_{i=1}^{n} i^2 \end{matrix}</script><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\sum</span><span class="keyword">\nolimits</span><span class="built_in">_</span>{i=1}<span class="built_in">^</span>{n} i<span class="built_in">^</span>2</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\sum\nolimits_{i=1}^{n} i^2</script><ul>
<li>Accumulate and multiply</li>
</ul>
<p><code>\sum_{i=1}^{n} i^2 \quad \prod_{i=1}^{n} x_i</code></p>
<script type="math/tex; mode=display">
\sum_{i=1}^{n} i^2 \quad \prod_{i=1}^{n} x_i</script><ul>
<li>Limit</li>
</ul>
<p><code>\lim_{x \to \infty} (1+\frac{1}{x})^x = e</code></p>
<script type="math/tex; mode=display">
\lim_{x \to \infty} (1+\frac{1}{x})^x = e</script><ul>
<li>Ordinary integration</li>
</ul>
<p><code>\int_{a}^{b} e^x \, \mathrm{d}x</code></p>
<script type="math/tex; mode=display">
\int_{a}^{b} e^x \, \mathrm{d}x</script><ul>
<li>Multiple integration</li>
</ul>
<p><code>\iint_{D} f(x,y) \, \mathrm{d}\sigma \quad \iiint_{\Omega} f(x,y,z) \, \mathrm{d}V</code></p>
<script type="math/tex; mode=display">
\iint_{D} f(x,y) \, \mathrm{d}\sigma \quad \iiint_{\Omega} f(x,y,z) \, \mathrm{d}V</script><ul>
<li>Closure curve integral</li>
</ul>
<p><code>\oint_{L} f(x,y) \, \mathrm{d}s</code></p>
<script type="math/tex; mode=display">
\oint_{L} f(x,y) \, \mathrm{d}s</script><ul>
<li>Others</li>
</ul>
<p><code>\int, \iint, \iiint, \oint</code><br>$ \int, \iint, \iiint, \oint $</p>
<ul>
<li>Intersection, union and reunion</li>
</ul>
<p><code>\bigcap_{i=1}^{n} A_i \quad , \bigcup_{j=1}^{m} B_j , \coprod_{i \in I} A_i</code></p>
<script type="math/tex; mode=display">
\bigcap_{i=1}^{n} A_i \quad , \bigcup_{j=1}^{m} B_j , \coprod_{i \in I} A_i</script><h2 id="Fractional"><a href="#Fractional" class="headerlink" title="Fractional"></a>Fractional</h2><h3 id="Basic-operations-1"><a href="#Basic-operations-1" class="headerlink" title="Basic operations"></a>Basic operations</h3><blockquote>
<p>You can use <code>\over</code> and <code>{}</code></p>
</blockquote>
<p><code>x = { {-b \pm \sqrt{b^2-4ac} } \over {2a} }</code></p>
<script type="math/tex; mode=display">x = { {-b \pm \sqrt{b^2-4ac} } \over {2a} }</script><h3 id="Typesetting"><a href="#Typesetting" class="headerlink" title="Typesetting"></a>Typesetting</h3><blockquote>
<p>Normal fractions are automatically scaled down in in-line formulas and displayed as full size in formula blocks.</p>
</blockquote>
<script type="math/tex; mode=display">\frac{1}{2}=0.5</script><p>$ \frac{1}{2}=0.5 $</p>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\frac</span>{1}{2}=0.5</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\frac{1}{2}=0.5</script><p>â€‹</p>
<ul>
<li><p>The <code>\tfrac</code> command is used to make fractions appear as inline formula styles.</p>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\tfrac</span>{1}{2}=0.5</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\tfrac{1}{2}=0.5</script></li>
<li><p>The <code>\dfrac</code> command is used to make fractions appear as formula block styles.</p>
</li>
</ul>
<script type="math/tex; mode=display">\dfrac{1}{2}=0.5</script><p>$ \dfrac{1}{2}=0.5 $</p>
<p>â€‹</p>
<ul>
<li>Attention</li>
</ul>
<p>In scenarios such as exponential functions, limits, and integrals, try not to use the frac command, and use / express as horizontal fractions.</p>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">e<span class="built_in">^</span>{<span class="keyword">\frac</span>{i<span class="keyword">\pi</span>}{2} } <span class="keyword">\quad</span> <span class="keyword">\int</span><span class="built_in">_</span>{-<span class="keyword">\frac</span>{<span class="keyword">\pi</span>}{2} }<span class="built_in">^</span>{<span class="keyword">\frac</span>{<span class="keyword">\pi</span>}{2} } <span class="keyword">\sin</span> x <span class="keyword">\,</span> <span class="keyword">\mathrm</span>{d}x</span><br><span class="line"><span class="comment">% Bad</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
e^{\frac{i\pi}{2} } \quad \int_{-\frac{\pi}{2} }^{\frac{\pi}{2} } \sin x \, \mathrm{d}x
% Bad</script><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">e<span class="built_in">^</span>{i<span class="keyword">\pi</span>/2} <span class="keyword">\quad</span> <span class="keyword">\int</span><span class="built_in">_</span>{-<span class="keyword">\pi</span>/2}<span class="built_in">^</span>{<span class="keyword">\pi</span>/2} <span class="keyword">\sin</span> x <span class="keyword">\,</span> <span class="keyword">\mathrm</span>{d}x</span><br><span class="line"><span class="comment">% Good</span></span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
e^{i\pi/2} \quad \int_{-\pi/2}^{\pi/2} \sin x \, \mathrm{d}x
% Good</script><h3 id="Continuous-fractions"><a href="#Continuous-fractions" class="headerlink" title="Continuous fractions"></a>Continuous fractions</h3><blockquote>
<p>Enter the conjunction with the <code>\cfrac</code> command, which automatically handles the height of the numerator and denominator.</p>
</blockquote>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\cfrac</span>{1}{2 + <span class="keyword">\cfrac</span>{1}{2 + <span class="keyword">\cfrac</span>{1}{2 + <span class="keyword">\cdots</span>} } }</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\cfrac{1}{2 + \cfrac{1}{2 + \cfrac{1}{2 + \cdots} } }</script><h3 id="Binomial-coefficients"><a href="#Binomial-coefficients" class="headerlink" title="Binomial coefficients"></a>Binomial coefficients</h3><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\mathrm</span>{C}<span class="built_in">_</span>n<span class="built_in">^</span>r = <span class="keyword">\binom</span>{n}{r}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\mathrm{C}_n^r = \binom{n}{r}</script><blockquote>
<p>Enter with the binom command, tbinom to display binomial coefficients as inline formula styles, and dbinom to display binomial coefficients as formula block styles</p>
</blockquote>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\tbinom</span>{n}{r} = <span class="keyword">\tbinom</span>{n}{n-r}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\tbinom{n}{r} = \tbinom{n}{n-r}</script><script type="math/tex; mode=display">\dbinom{n}{r} = \dfrac{n!}{k!\,(n-k)!}</script><p>$ \dbinom{n}{r} = \dfrac{n!}{k!\,(n-k)!} $<br>â€‹</p>
<h2 id="Matrices-conditional-expressions-and-equations"><a href="#Matrices-conditional-expressions-and-equations" class="headerlink" title="Matrices, conditional expressions and equations"></a>Matrices, conditional expressions and equations</h2><ul>
<li>Grammar</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>{type}</span><br><span class="line">content</span><br><span class="line"><span class="keyword">\end</span>{type}</span><br><span class="line">type: matrixã€pmatrixã€bmatrixã€Bmatrixã€vmatrixã€Vmatrix;</span><br><span class="line">	coditional cases;</span><br><span class="line">	equations alignedã€alignedat.</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>In content, the <code>&amp;</code> symbol indicates the aligned content of each line, and <code>\\</code> indicates a line break at the end.</p>
</blockquote>
<h3 id="Frameless-matrix"><a href="#Frameless-matrix" class="headerlink" title="Frameless matrix"></a>Frameless matrix</h3><ul>
<li>Separate matrix columns with <code>&amp;</code> and matrix rows with <code>\\</code></li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{matrix}</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>{matrix}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{matrix}
a & b \\
c & d
\end{matrix}</script><h3 id="Box-matrix"><a href="#Box-matrix" class="headerlink" title="Box matrix"></a>Box matrix</h3><ul>
<li><p><code>pmatrix</code> is parentheses, <code>bmatrix</code> is square brackets, <code>Bmatrix</code> is curly braces, <code>vmatrix</code> is vertical (determinant), and <code>Vmatrix</code> is double vertical bar.</p>
</li>
<li><p>Enter ellipses using <code>cdots</code>, <code>ddots</code> and <code>vdots</code>.</p>
</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{pmatrix}</span><br><span class="line">0 <span class="built_in">&amp;</span> <span class="keyword">\cdots</span> <span class="built_in">&amp;</span> 0 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\vdots</span> <span class="built_in">&amp;</span> <span class="keyword">\ddots</span> <span class="built_in">&amp;</span> <span class="keyword">\vdots</span> <span class="keyword">\\</span></span><br><span class="line">0 <span class="built_in">&amp;</span> <span class="keyword">\cdots</span> <span class="built_in">&amp;</span> 0 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>{pmatrix}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{pmatrix}
0 & \cdots & 0 \\
\vdots & \ddots & \vdots \\
0 & \cdots & 0 \\
\end{pmatrix}</script><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{bmatrix}</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>{bmatrix}</span><br><span class="line"><span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\begin</span>{Bmatrix}</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>{Bmatrix}</span><br><span class="line"><span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\begin</span>{vmatrix}</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>{vmatrix}</span><br><span class="line"><span class="keyword">\quad</span></span><br><span class="line"><span class="keyword">\begin</span>{Vmatrix}</span><br><span class="line">a <span class="built_in">&amp;</span> b <span class="keyword">\\</span></span><br><span class="line">c <span class="built_in">&amp;</span> d</span><br><span class="line"><span class="keyword">\end</span>{Vmatrix}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{bmatrix}
a & b \\
c & d
\end{bmatrix}
\quad
\begin{Bmatrix}
a & b \\
c & d
\end{Bmatrix}
\quad
\begin{vmatrix}
a & b \\
c & d
\end{vmatrix}
\quad
\begin{Vmatrix}
a & b \\
c & d
\end{Vmatrix}</script><h3 id="Matrix-segmentation"><a href="#Matrix-segmentation" class="headerlink" title="Matrix segmentation"></a>Matrix segmentation</h3><ul>
<li>Add <code>|</code> to the definition where it needs to be divided.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\left</span>[</span><br><span class="line"><span class="keyword">\begin</span>{array}{cc|c}</span><br><span class="line">1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">4 <span class="built_in">&amp;</span> 5 <span class="built_in">&amp;</span> 6</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="keyword">\right</span>]</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\left[
\begin{array}{cc|c}
1 & 2 & 3 \\
4 & 5 & 6
\end{array}
\right]</script><h3 id="Conditional-expressions"><a href="#Conditional-expressions" class="headerlink" title="Conditional expressions"></a>Conditional expressions</h3><ul>
<li>Use <code>&amp;</code> to separate formulas from conditions.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">f(n)=</span><br><span class="line"><span class="keyword">\begin</span>{cases}</span><br><span class="line">n/2, <span class="built_in">&amp;</span> <span class="keyword">\text</span>{if } n <span class="keyword">\text</span>{ is even} <span class="keyword">\\</span></span><br><span class="line">3n+1, <span class="built_in">&amp;</span> <span class="keyword">\text</span>{if } n <span class="keyword">\text</span>{ is odd}</span><br><span class="line"><span class="keyword">\end</span>{cases}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
f(n)=
\begin{cases}
n/2, & \text{if } n \text{ is even} \\
3n+1, & \text{if } n \text{ is odd}
\end{cases}</script><blockquote>
<p>Use <code>\text</code> to distinguish between text and mathematical characters</p>
</blockquote>
<h3 id="Multi-line-equation"><a href="#Multi-line-equation" class="headerlink" title="Multi-line equation"></a>Multi-line equation</h3><ul>
<li>Use <code>\alignedat</code> to perform it<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{aligned}</span><br><span class="line">f(x) <span class="built_in">&amp;</span> = (m+n)<span class="built_in">^</span>2 <span class="keyword">\\</span></span><br><span class="line"><span class="built_in">&amp;</span> = m<span class="built_in">^</span>2+2mn+n<span class="built_in">^</span>2 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>{aligned}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{aligned}
f(x) & = (m+n)^2 \\
& = m^2+2mn+n^2 \\
\end{aligned}</script></li>
</ul>
<h3 id="Equations"><a href="#Equations" class="headerlink" title="Equations"></a>Equations</h3><ul>
<li><code>\case</code> is used to indicate left-alignment.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{cases}</span><br><span class="line">x+2y3z=0 <span class="keyword">\\</span></span><br><span class="line">4x-5y+6z=0 <span class="keyword">\\</span></span><br><span class="line">-7x+8y+9z=0 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>{cases}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{cases}
x+2y3z=0 \\
4x-5y+6z=0 \\
-7x+8y+9z=0 \\
\end{cases}</script><ul>
<li>Aligned  according to the equal sign is indicated by <code>\aligned</code>.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{cases}</span><br><span class="line">x+2y3z=0 <span class="keyword">\\</span></span><br><span class="line">4x-5y+6z=0 <span class="keyword">\\</span></span><br><span class="line">-7x+8y+9z=0 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>{cases}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\left\{ \begin{aligned}
x+2y3z=0 \\
4x-5y+6z=0 \\
-7x+8y+9z=0 \\
\end{aligned} \right.</script><h2 id="Arrays-and-tables"><a href="#Arrays-and-tables" class="headerlink" title="Arrays and tables"></a>Arrays and tables</h2><h3 id="Basic"><a href="#Basic" class="headerlink" title="Basic"></a>Basic</h3><ul>
<li>Arrays and tables begin with <code>begin{array}{definite}</code> and end with <code>end{array}</code>. Define the alignment of each column in the definition, and <code>l</code>, <code>c</code> and <code>r</code> can be used to represent left, center, and right, respectively. If you insert a horizontal dividing line, insert <code>\hline</code> between the line contents; If you insert a vertical dividing line, insert <code>|</code>. The table content is separated by <code>&amp;</code> columns and rows by <code>\\</code>.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{c|lcr}</span><br><span class="line">x <span class="built_in">&amp;</span> 1<span class="keyword">\text</span>{(left)} <span class="built_in">&amp;</span> 2<span class="keyword">\text</span>{(center)} <span class="built_in">&amp;</span> 3<span class="keyword">\text</span>{(right)} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line">f(x) <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="keyword">\\</span></span><br><span class="line">g(x) <span class="built_in">&amp;</span> 3 <span class="built_in">&amp;</span> 4 <span class="built_in">&amp;</span> 5 <span class="keyword">\\</span></span><br><span class="line">h(x) <span class="built_in">&amp;</span> 6+i <span class="built_in">&amp;</span> 7-i <span class="built_in">&amp;</span> 1+10i</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{array}{c|lcr}
x & 1\text{(left)} & 2\text{(center)} & 3\text{(right)} \\
\hline
f(x) & 0 & 1 & 2 \\
g(x) & 3 & 4 & 5 \\
h(x) & 6+i & 7-i & 1+10i
\end{array}</script><ul>
<li>You can use arrays and tables to implement similar functions as aligned.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{lcr}</span><br><span class="line">z <span class="built_in">&amp;</span> = <span class="built_in">&amp;</span> a <span class="keyword">\\</span></span><br><span class="line">f(x,y,z) <span class="built_in">&amp;</span> = <span class="built_in">&amp;</span> x+y+z</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{array}{lcr}
z & = & a \\
f(x,y,z) & = & x+y+z
\end{array}</script><h3 id="Nesting-of-arrays-and-tables"><a href="#Nesting-of-arrays-and-tables" class="headerlink" title="Nesting of arrays and tables"></a>Nesting of arrays and tables</h3><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="comment">% outer</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{c}</span><br><span class="line">	<span class="comment">% inner row 1</span></span><br><span class="line">	<span class="keyword">\begin</span>{array}{cc}</span><br><span class="line">		<span class="comment">% inner row 1 column 1</span></span><br><span class="line">		<span class="keyword">\begin</span>{array}{c|cccc}</span><br><span class="line">		<span class="keyword">\min</span> <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">		<span class="keyword">\hline</span></span><br><span class="line">		0 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 0 <span class="keyword">\\</span></span><br><span class="line">		1 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 1 <span class="keyword">\\</span></span><br><span class="line">		2 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 2 <span class="keyword">\\</span></span><br><span class="line">		3 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3</span><br><span class="line">		<span class="keyword">\end</span>{array}</span><br><span class="line">	<span class="built_in">&amp;</span></span><br><span class="line">		<span class="comment">% inner row 1 column 2</span></span><br><span class="line">		<span class="keyword">\begin</span>{array}{c|cccc}</span><br><span class="line">		<span class="keyword">\max</span> <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">		<span class="keyword">\hline</span></span><br><span class="line">		0 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">		1 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">		2 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">		3 <span class="built_in">&amp;</span> 3 <span class="built_in">&amp;</span> 3 <span class="built_in">&amp;</span> 3 <span class="built_in">&amp;</span> 3</span><br><span class="line">		<span class="keyword">\end</span>{array}</span><br><span class="line">	<span class="keyword">\end</span>{array}</span><br><span class="line"><span class="keyword">\\</span></span><br><span class="line">	<span class="comment">% inner row 2</span></span><br><span class="line">	<span class="keyword">\begin</span>{array}{c|cccc}</span><br><span class="line">	<span class="keyword">\Delta</span> <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">	<span class="keyword">\hline</span></span><br><span class="line">	0 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 3 <span class="keyword">\\</span></span><br><span class="line">	1 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 2 <span class="keyword">\\</span></span><br><span class="line">	2 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 0 <span class="built_in">&amp;</span> 1 <span class="keyword">\\</span></span><br><span class="line">	3 <span class="built_in">&amp;</span> 3 <span class="built_in">&amp;</span> 2 <span class="built_in">&amp;</span> 1 <span class="built_in">&amp;</span> 0</span><br><span class="line">	<span class="keyword">\end</span>{array}</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
% outer
\begin{array}{c}
    % inner row 1
    \begin{array}{cc}
        % inner row 1 column 1
        \begin{array}{c|cccc}
        \min & 0 & 1 & 2 & 3 \\
        \hline
        0 & 0 & 0 & 0 & 0 \\
        1 & 0 & 1 & 1 & 1 \\
        2 & 0 & 1 & 2 & 2 \\
        3 & 0 & 1 & 2 & 3
        \end{array}
    &
        % inner row 1 column 2
        \begin{array}{c|cccc}
        \max & 0 & 1 & 2 & 3 \\
        \hline
        0 & 0 & 1 & 2 & 3 \\
        1 & 1 & 1 & 2 & 3 \\
        2 & 2 & 2 & 2 & 3 \\
        3 & 3 & 3 & 3 & 3
        \end{array}
    \end{array}
\\
    % inner row 2
    \begin{array}{c|cccc}
    \Delta & 0 & 1 & 2 & 3 \\
    \hline
    0 & 0 & 1 & 2 & 3 \\
    1 & 1 & 0 & 1 & 2 \\
    2 & 2 & 1 & 0 & 1 \\
    3 & 3 & 2 & 1 & 0
    \end{array}
\end{array}</script><h2 id="Fonts"><a href="#Fonts" class="headerlink" title="Fonts"></a>Fonts</h2><ul>
<li>Use Large and Small to control font size</li>
</ul>
<script type="math/tex; mode=display">A, \large{A}, \small{A}</script><p>$ A, \large{A}, \small{A} $</p>
<h3 id="Greek-symbols"><a href="#Greek-symbols" class="headerlink" title="Greek symbols"></a>Greek symbols</h3><p><code>$\digamma, \varepsilon, \vartheta, \varkappa, \varpi, \varrho, \varsigma, \varphi $</code><br>$\digamma, \varepsilon, \vartheta, \varkappa, \varpi, \varrho, \varsigma, \varphi $</p>
<script type="math/tex; mode=display">
\begin{array}{c|l|c|l}
A \alpha & \verb|A \alpha| & N \nu & \verb|N \nu| \\
\hline
B \beta & \verb|B \beta| & \Xi \xi & \verb|\Xi \xi| \\
\hline
\Gamma \gamma & \verb|\Gamma \gamma| & O \omicron & \verb|O \omicron| \\
\hline
\Delta \delta & \verb|\Delta \delta| & \Pi \pi & \verb|\Pi \pi| \\
\hline
E \epsilon & \verb|E \epsilon| & P \rho & \verb|P \rho| \\
\hline
Z \zeta & \verb|Z \zeta| & \Sigma \sigma & \verb|\Sigma \sigma| \\
\hline
H \eta & \verb|H \eta| & T \tau & \verb|T \tau| \\
\hline
\Theta \theta & \verb|\Theta \theta| & \Upsilon \upsilon & \verb|\Upsilon \upsilon| \\
\hline
I \iota & \verb|I \iota| & \Phi \phi & \verb|\Phi \phi| \\
\hline
K \kappa & \verb|K \kappa| & X \chi & \verb|X \chi| \\
\hline
\Lambda \lambda & \verb|\Lambda \lambda| & \Psi \psi & \verb|\Psi \psi| \\
\hline
M \mu & \verb|M \mu| & \Omega \omega & \verb|\Omega \omega| \\
\end{array}</script><h3 id="Hebrew-symbols"><a href="#Hebrew-symbols" class="headerlink" title="Hebrew symbols"></a>Hebrew symbols</h3><script type="math/tex; mode=display">\aleph, \beth, \gimel, \daleth</script><p>$\aleph, \beth, \gimel, \daleth$</p>
<h3 id="Special-font-form"><a href="#Special-font-form" class="headerlink" title="Special font form"></a>Special font form</h3><h4 id="Bold"><a href="#Bold" class="headerlink" title="Bold"></a>Bold</h4><ul>
<li>Use <code>\mathbf{text}</code> or <code>{\bf text}</code>, <code>\mathbb{text}</code> or <code>\Bbb{text}</code>. However, it is not valid for special symbols.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{c|ccc}</span><br><span class="line"><span class="keyword">\text</span>{defalut} <span class="built_in">&amp;</span> SAMPLE <span class="built_in">&amp;</span> sample <span class="built_in">&amp;</span> 0123 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\text</span>{mathbf} <span class="built_in">&amp;</span> <span class="keyword">\mathbf</span>{SAMPLE} <span class="built_in">&amp;</span> <span class="keyword">\mathbf</span>{sample} <span class="built_in">&amp;</span> <span class="keyword">\mathbf</span>{0123} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\text</span>{bf} <span class="built_in">&amp;</span> {<span class="keyword">\bf</span> SAMPLE} <span class="built_in">&amp;</span> {<span class="keyword">\bf</span> sample} <span class="built_in">&amp;</span> {<span class="keyword">\bf</span> 0123} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\text</span>{mathbb} <span class="built_in">&amp;</span> <span class="keyword">\mathbb</span>{SAMPLE} <span class="built_in">&amp;</span> <span class="keyword">\mathbb</span>{sample} <span class="built_in">&amp;</span> <span class="keyword">\mathbb</span>{0123} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\text</span>{Bbb} <span class="built_in">&amp;</span> <span class="keyword">\Bbb</span>{SAMPLE} <span class="built_in">&amp;</span> <span class="keyword">\Bbb</span>{sample} <span class="built_in">&amp;</span> <span class="keyword">\Bbb</span>{0123}</span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span> </span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{array}{c|ccc}
\text{defalut} & SAMPLE & sample & 0123 \\
\hline
\text{mathbf} & \mathbf{SAMPLE} & \mathbf{sample} & \mathbf{0123} \\
\hline
\text{bf} & {\bf SAMPLE} & {\bf sample} & {\bf 0123} \\
\hline
\text{mathbb} & \mathbb{SAMPLE} & \mathbb{sample} & \mathbb{0123} \\
\hline
\text{Bbb} & \Bbb{SAMPLE} & \Bbb{sample} & \Bbb{0123}
\end{array}</script><h4 id="Bold-symbols"><a href="#Bold-symbols" class="headerlink" title="Bold symbols"></a>Bold symbols</h4><ul>
<li>Use <code>\boldsymbol{text}</code>, which is valid for special symbols.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{c|cccccc}</span><br><span class="line"><span class="keyword">\text</span>{defalut} <span class="built_in">&amp;</span> SAMPLE <span class="built_in">&amp;</span> sample <span class="built_in">&amp;</span> 0123 <span class="built_in">&amp;</span> <span class="keyword">\delta</span><span class="keyword">\theta</span><span class="keyword">\sigma</span><span class="keyword">\omega</span> <span class="built_in">&amp;</span> <span class="keyword">\Delta</span><span class="keyword">\Theta</span><span class="keyword">\Sigma</span><span class="keyword">\Omega</span> <span class="built_in">&amp;</span> <span class="keyword">\sin</span><span class="keyword">\in</span><span class="keyword">\to</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\text</span>{blodsymbol} <span class="built_in">&amp;</span> <span class="keyword">\boldsymbol</span>{SAMPLE} <span class="built_in">&amp;</span> <span class="keyword">\boldsymbol</span>{sample} <span class="built_in">&amp;</span> <span class="keyword">\boldsymbol</span>{0123} <span class="built_in">&amp;</span> <span class="keyword">\boldsymbol</span>{<span class="keyword">\delta</span><span class="keyword">\theta</span><span class="keyword">\sigma</span><span class="keyword">\omega</span>} <span class="built_in">&amp;</span> <span class="keyword">\boldsymbol</span>{<span class="keyword">\Delta</span><span class="keyword">\Theta</span><span class="keyword">\Sigma</span><span class="keyword">\Omega</span>} <span class="built_in">&amp;</span> <span class="keyword">\boldsymbol</span>{<span class="keyword">\sin</span><span class="keyword">\in</span><span class="keyword">\to</span>} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{array}{c|cccccc}
\text{defalut} & SAMPLE & sample & 0123 & \delta\theta\sigma\omega & \Delta\Theta\Sigma\Omega & \sin\in\to \\
\hline
\text{blodsymbol} & \boldsymbol{SAMPLE} & \boldsymbol{sample} & \boldsymbol{0123} & \boldsymbol{\delta\theta\sigma\omega} & \boldsymbol{\Delta\Theta\Sigma\Omega} & \boldsymbol{\sin\in\to} \\
\end{array}</script><h4 id="Italian-font"><a href="#Italian-font" class="headerlink" title="Italian font"></a>Italian font</h4><ul>
<li>Use <code>\mathit{text}</code> or <code>{\it text}</code></li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{c|ccccc}</span><br><span class="line"><span class="keyword">\text</span>{defalut} <span class="built_in">&amp;</span> SAMPLE <span class="built_in">&amp;</span> sample <span class="built_in">&amp;</span> 0123 <span class="built_in">&amp;</span> <span class="keyword">\delta</span><span class="keyword">\theta</span><span class="keyword">\sigma</span><span class="keyword">\omega</span> <span class="built_in">&amp;</span> <span class="keyword">\Delta</span><span class="keyword">\Theta</span><span class="keyword">\Sigma</span><span class="keyword">\Omega</span> <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\text</span>{mathit} <span class="built_in">&amp;</span> <span class="keyword">\mathit</span>{SAMPLE} <span class="built_in">&amp;</span> <span class="keyword">\mathit</span>{sample} <span class="built_in">&amp;</span> <span class="keyword">\mathit</span>{0123} <span class="built_in">&amp;</span> <span class="keyword">\mathit</span>{<span class="keyword">\delta</span><span class="keyword">\theta</span><span class="keyword">\sigma</span><span class="keyword">\omega</span>} <span class="built_in">&amp;</span> <span class="keyword">\mathit</span>{<span class="keyword">\Delta</span><span class="keyword">\Theta</span><span class="keyword">\Sigma</span><span class="keyword">\Omega</span>} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\text</span>{it} <span class="built_in">&amp;</span> {<span class="keyword">\it</span> SAMPLE} <span class="built_in">&amp;</span> {<span class="keyword">\it</span> sample} <span class="built_in">&amp;</span> {<span class="keyword">\it</span> 0123} <span class="built_in">&amp;</span> {<span class="keyword">\it</span> <span class="keyword">\delta</span><span class="keyword">\theta</span><span class="keyword">\sigma</span><span class="keyword">\omega</span>} <span class="built_in">&amp;</span> {<span class="keyword">\it</span> <span class="keyword">\Delta</span><span class="keyword">\Theta</span><span class="keyword">\Sigma</span><span class="keyword">\Omega</span>} <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{array}{c|ccccc}
\text{defalut} & SAMPLE & sample & 0123 & \delta\theta\sigma\omega & \Delta\Theta\Sigma\Omega \\
\hline
\text{mathit} & \mathit{SAMPLE} & \mathit{sample} & \mathit{0123} & \mathit{\delta\theta\sigma\omega} & \mathit{\Delta\Theta\Sigma\Omega} \\
\hline
\text{it} & {\it SAMPLE} & {\it sample} & {\it 0123} & {\it \delta\theta\sigma\omega} & {\it \Delta\Theta\Sigma\Omega} \\
\hline
\end{array}</script><h4 id="Roman-font"><a href="#Roman-font" class="headerlink" title="Roman font"></a>Roman font</h4><ul>
<li>Use <code>\mathrm{text}</code> or <code>{\rm text}</code></li>
</ul>
<script type="math/tex; mode=display">
\begin{array}{c|ccccc}
\text{defalut} & SAMPLE & sample & 0123 & \delta\theta\sigma\omega & \Delta\Theta\Sigma\Omega \\
\hline
\text{mathrm} & \mathrm{SAMPLE} & \mathrm{sample} & \mathrm{0123} & \mathrm{\delta\theta\sigma\omega} & \mathrm{\Delta\Theta\Sigma\Omega} \\
\hline
\text{rm} & {\rm SAMPLE} & {\rm sample} & {\rm 0123} & {\rm \delta\theta\sigma\omega} & {\rm \Delta\Theta\Sigma\Omega} \\
\end{array}</script><blockquote>
<p>Tips: Lowercase Greek letters do not support Roman script; For Arabic numerals and uppercase Greek letters, the default font is <code>\rm</code>.</p>
</blockquote>
<h4 id="Others-1"><a href="#Others-1" class="headerlink" title="Others"></a>Others</h4><script type="math/tex; mode=display">
\begin{array}{c|ccccc}
\text{defalut} & SAMPLE & sample & 0123 & \delta\theta\sigma\omega & \Delta\Theta\Sigma\Omega \\
\hline
\text{mathsf} & \mathsf{SAMPLE} & \mathsf{sample} & \mathsf{0123} & \mathsf{\delta\theta\sigma\omega} & \mathsf{\Delta\Theta\Sigma\Omega} \\
\hline
\text{sf} & {\sf SAMPLE} & {\sf sample} & {\sf 0123} & {\sf \delta\theta\sigma\omega} & {\sf \Delta\Theta\Sigma\Omega} \\
\hline
\text{mathscr} & \mathscr{SAMPLE} & \mathscr{sample} & \mathscr{0123} & \mathscr{\delta\theta\sigma\omega} & \mathscr{\Delta\Theta\Sigma\Omega} \\
\hline
\text{mathcal} & \mathcal{SAMPLE} & \mathcal{sample} & \mathcal{0123} & \mathcal{\delta\theta\sigma\omega} & \mathcal{\Delta\Theta\Sigma\Omega} \\
\hline
\text{cal} & {\cal SAMPLE} & {\cal sample} & {\cal 0123} & {\cal \delta\theta\sigma\omega} & {\cal \Delta\Theta\Sigma\Omega} \\
\hline
\text{mathtt} & \mathtt{SAMPLE} & \mathtt{sample} & \mathtt{0123} & \mathtt{\delta\theta\sigma\omega} & \mathtt{\Delta\Theta\Sigma\Omega} \\
\hline
\text{tt} & {\tt SAMPLE} & {\tt sample} & {\tt 0123} & {\tt \delta\theta\sigma\omega} & {\tt \Delta\Theta\Sigma\Omega} \\
\hline
\text{mathfrak} & \mathfrak{SAMPLE} & \mathfrak{sample} & \mathfrak{0123} & \mathfrak{ \delta\theta\sigma\omega} & \mathfrak{\Delta\Theta\Sigma\Omega} \\
\hline
\text{frak} & {\frak SAMPLE} & {\frak sample} & {\frak 0123} & \frak{ \delta\theta\sigma\omega} & \frak{\Delta\Theta\Sigma\Omega} \\
\hline
\text{scriptstyle} & {\scriptstyle SAMPLE} & {\scriptstyle sample} & {\scriptstyle 0123} & \scriptstyle{ \delta\theta\sigma\omega} & \scriptstyle{\Delta\Theta\Sigma\Omega}  \\
\hline
\text{scriptstyle+text} & {\scriptstyle \text{SAMPLE} } & {\scriptstyle \text{sample} } & {\scriptstyle \text{0123} } \\
\end{array}</script><h4 id="Mix-fonts"><a href="#Mix-fonts" class="headerlink" title="Mix fonts"></a>Mix fonts</h4><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line">f(n)=</span><br><span class="line"><span class="keyword">\begin</span>{cases}</span><br><span class="line">n/2, <span class="built_in">&amp;</span> <span class="keyword">\text</span>{if <span class="built_in">$</span>n<span class="built_in">$</span> is even} <span class="keyword">\\</span></span><br><span class="line">3n+1, <span class="built_in">&amp;</span> <span class="keyword">\text</span>{if <span class="built_in">$</span>n<span class="built_in">$</span> is odd}</span><br><span class="line"><span class="keyword">\end</span>{cases}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
f(n)=
\begin{cases}
n/2, & \text{if $n$ is even} \\
3n+1, & \text{if $n$ is odd}
\end{cases}</script><ul>
<li>Attention block</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{matrix}</span><br><span class="line"><span class="keyword">\text</span>{if} n <span class="keyword">\text</span>{is even} <span class="keyword">\\</span> <span class="comment">% Bad</span></span><br><span class="line"><span class="keyword">\text</span>{if } n <span class="keyword">\text</span>{ is even} <span class="keyword">\\</span> <span class="comment">% Good</span></span><br><span class="line"><span class="keyword">\text</span>{if}~n~<span class="keyword">\text</span>{is even} <span class="keyword">\\</span> <span class="comment">% Good</span></span><br><span class="line"><span class="keyword">\text</span>{if}<span class="keyword">\ </span>n<span class="keyword">\ </span><span class="keyword">\text</span>{is even} <span class="keyword">\\</span> <span class="comment">% Good</span></span><br><span class="line"><span class="keyword">\end</span>{matrix}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure>
<script type="math/tex; mode=display">
\begin{matrix}
\text{if} n \text{is even} \\ % Bad
\text{if } n \text{ is even} \\ % Good
\text{if}~n~\text{is even} \\ % Good
\text{if}\ n\ \text{is even} \\ % Good
\end{matrix}</script><h2 id="Space"><a href="#Space" class="headerlink" title="Space"></a>Space</h2><blockquote>
<p>$Latex$ automatically ignores spaces, and the space control from wide to narrow is:</p>
</blockquote>
<ul>
<li>Double quad space: 2 characters wide</li>
</ul>
<script type="math/tex; mode=display">\alpha \qquad \beta</script><p>$ \alpha \qquad \beta $</p>
<ul>
<li>Quad space: 1 character wide</li>
</ul>
<script type="math/tex; mode=display">\alpha \quad \beta</script><p>$ \alpha \quad \beta $<br>â€‹</p>
<ul>
<li>Space: 1/3 character wide</li>
</ul>
<script type="math/tex; mode=display">\alpha \ \beta ~ \gamma</script><p>$ \alpha \ \beta ~ \gamma $</p>
<ul>
<li>Medium space: 2/7 characters wide</li>
</ul>
<script type="math/tex; mode=display">\alpha \; \beta</script><p>$ \alpha \; \beta $<br>â€‹</p>
<ul>
<li>Small space: 1/6 character width</li>
</ul>
<script type="math/tex; mode=display">\alpha \, \beta</script><p>$ \alpha \, \beta $<br>â€‹</p>
<ul>
<li>No spaces: 0 characters wide</li>
</ul>
<script type="math/tex; mode=display">\alpha \beta</script><p>$ \alpha \beta $<br>â€‹</p>
<ul>
<li>Snap: -1/6 character width</li>
</ul>
<script type="math/tex; mode=display">\alpha \! \beta</script><p>$ \alpha ! \beta $<br>â€‹</p>
<h2 id="Color"><a href="#Color" class="headerlink" title="Color"></a>Color</h2><ul>
<li>Use <code>{\color{color}{text} }</code> to control color of text.</li>
</ul>
<script type="math/tex; mode=display">\color{red}{text} \quad \color{yellow}{text} \quad \color{blue}{text} \quad \color{green}{text} \quad \color{purple}{text}</script><p>$ \color{red}{text} \quad \color{yellow}{text} \quad \color{blue}{text} \quad \color{green}{text} \quad \color{purple}{text} $<br>â€‹</p>
<ul>
<li>You can also use capital initials to represent complex colors.</li>
</ul>
<script type="math/tex; mode=display">\color{Red}{text} \quad \color{Orange}{text} \quad \color{RoyalBlue}{text} \quad \color{Violet}{text} \quad \color{LimeGreen}{text}</script><p>$ \color{Red}{text} \quad \color{Orange}{text} \quad \color{RoyalBlue}{text} \quad \color{Violet}{text} \quad \color{LimeGreen}{text} $</p>
<ul>
<li>Use <code>{\color{ #rgb}{text} }</code> to control more complex colors. However, this is not possible in some renderings, so it is not shown here.</li>
</ul>
<script type="math/tex; mode=display">\color{ #0FF}{text} \quad \color{ #00F}{text} \quad \color{ #F0F}{text} \quad \color{ #0F0}{text} \quad \color{ #6CF}{text}</script><h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ul>
<li>Use the <code>\boxed</code> command or with the border of a 1*1 table</li>
</ul>
<script type="math/tex; mode=display">\boxed {E=mc^2}</script><p>$ \boxed {E=mc^2} $<br></p><figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br><span class="line"><span class="keyword">\begin</span>{array}{|c|}</span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line">E=mc<span class="built_in">^</span>2 <span class="keyword">\\</span></span><br><span class="line"><span class="keyword">\hline</span></span><br><span class="line"><span class="keyword">\end</span>{array}</span><br><span class="line"><span class="built_in">$</span><span class="built_in">$</span></span><br></pre></td></tr></tbody></table></figure><p></p>
<script type="math/tex; mode=display">
\begin{array}{|c|}
\hline
E=mc^2 \\
\hline
\end{array}</script><ul>
<li>Some useful $ Latex $ websites.</li>
</ul>
<ol>
<li><a href="https://www.tablesgenerator.com">Tables Generator</a></li>
<li><a href="http://detexify.kirelabs.org/classify.html">Classify Symbols</a></li>
<li><a href="http://www.codecogs.com/latex/eqneditor.php">Equation Editor</a></li>
</ol>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Latex</tag>
      </tags>
  </entry>
  <entry>
    <title>Keilè°ƒè¯•ä»£ç ä¼˜åŒ–é—®é¢˜</title>
    <url>/2020/12/08/Keil5%E4%BB%A3%E7%A0%81%E4%BC%98%E5%8C%96%E9%97%AE%E9%A2%98/</url>
    <content><![CDATA[<ul>
<li>åœ¨ä½¿ç”¨Keilè¿›è¡Œè°ƒè¯•çš„è¿‡ç¨‹ä¸­ï¼Œæœ‰çš„æ—¶å€™ä½ å¯èƒ½ä¼šå‘ç°æœ‰å‡ è¡Œä»£ç æ€ä¹ˆä¹Ÿå¾—ä¸åˆ°æ‰§è¡Œï¼Œä¸‹æ–­ç‚¹ä¹Ÿä¼šå˜æˆç°è‰²æ„Ÿå¹å·ã€‚ç”šè‡³æœ‰æ—¶å€™åœ¨åšæ¡ä»¶åˆ¤æ–­çš„æ—¶å€™ï¼Œæ˜æ˜ä¸¤ä¸ªä¸ç›¸ç­‰çš„å€¼å´è¢«åˆ¤å®šä¸ºç›¸ç­‰ã€‚</li>
<li>è¿™æ˜¯å› ä¸ºKeilå¯¹æˆ‘ä»¬çš„ä»£ç è¿›è¡Œäº†<strong>ä¼˜åŒ–</strong>å¤„ç†ï¼Œå°†ä¼˜åŒ–ç­‰çº§é™ä½å³å¯è§£å†³é—®é¢˜ã€‚<img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Keil/Keil_optimism.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></li>
</ul>
]]></content>
      <categories>
        <category>AT89S51</category>
      </categories>
      <tags>
        <tag>Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>Keepalivedæµ…å…¥æµ…å‡º</title>
    <url>/2024/07/04/Keepalived%E6%B5%85%E5%85%A5%E6%B5%85%E5%87%BA/</url>
    <content><![CDATA[<blockquote>
<p>Record some about <code>Keepalived</code> installation and usage skills.</p>
</blockquote>
<span id="more"></span>
<h2 id="books-1-å‰è¨€"><a href="#books-1-å‰è¨€" class="headerlink" title=":books: 1. å‰è¨€"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 1. å‰è¨€</h2><h3 id="1-1-å‡ºç°çš„èƒŒæ™¯"><a href="#1-1-å‡ºç°çš„èƒŒæ™¯" class="headerlink" title="1.1. å‡ºç°çš„èƒŒæ™¯"></a>1.1. å‡ºç°çš„èƒŒæ™¯</h3><blockquote>
<p>èµ·åˆç”¨æ¥ç›‘æ§è™šæ‹ŸæœåŠ¡å™¨é›†ç¾¤(Linux Virtual Server, LVS)ä¸­å„æœåŠ¡èŠ‚ç‚¹çš„çŠ¶æ€ï¼Œå‰”é™¤æ•…éšœèŠ‚ç‚¹ï¼Œé‡æ–°åŠ å…¥æ¢å¤çš„èŠ‚ç‚¹ï¼›ååˆåŠ å…¥è™šæ‹Ÿè·¯ç”±å†—ä½™åè®®(Vritrual Router Redundancy Protocol, VRRP)ï¼Œè§£å†³é™æ€è·¯ç”±å‡ºç°å•ç‚¹æ•…éšœã€‚ä¸»è¦å®ç°æœåŠ¡å™¨çŠ¶æ€æ£€æµ‹å’Œæ•…éšœéš”ç¦»ï¼Œé«˜å¯ç”¨é›†ç¾¤ã€‚</p>
</blockquote>
<ul>
<li><code>Client</code>å‘<code>Server</code>å‘é€è¯·æ±‚ï¼Œéšç€æœåŠ¡é‡çš„å¢åŠ ï¼Œå•æœº<code>Server</code>æ— æ³•æ”¯æŒ</li>
<li>ä½¿ç”¨åˆ†å¸ƒå¼æ¶æ„ï¼Œç”¨<code>Nginx</code>åå‘ä»£ç†å’Œå¤š<code>Server</code>å®ç°åˆ†å¸ƒå¼æ¶æ„å’Œè´Ÿè½½å‡è¡¡</li>
<li>æµé‡å…¨éƒ¨æ‰“åœ¨<code>Nginx</code>ä¸Šï¼Œå‡ºç°å®•æœºï¼Œå¯¼è‡´æ— æ³•è®¿é—®<code>Server</code></li>
<li>ä½¿ç”¨<code>Keepalived</code>+å¤š<code>Nginx</code>å®ç°åˆ†å¸ƒå¼çš„<code>Nginx</code>ï¼Œä¸»ä»æ¶æ„å®ç°é«˜å¯ç”¨</li>
</ul>
<h3 id="1-2-å’ŒHeartBeatæ¯”è¾ƒ"><a href="#1-2-å’ŒHeartBeatæ¯”è¾ƒ" class="headerlink" title="1.2. å’ŒHeartBeatæ¯”è¾ƒ"></a>1.2. å’ŒHeartBeatæ¯”è¾ƒ</h3><ul>
<li><code>Keepalived</code>è½»é‡çº§çš„é«˜å¯ç”¨è§£å†³æ–¹æ¡ˆï¼Œé€šè¿‡VRRPå®ç°ï¼Œæ¨¡æ‹Ÿè·¯ç”±å™¨çš„å¤šæœºï¼Œå½“ä¸»æœºçš„ä¸‹ä¸€è·³è·¯ç”±å‡ºç°æ•…éšœï¼Œç”±å¦ä¸€å°ä¸»æœºæ›¿ä»£å·¥ä½œï¼Œéƒ¨ç½²å’Œä½¿ç”¨ç›¸å¯¹ç®€å•ï¼Œé…ç½®æ–‡ä»¶å•ä¸€ï¼Œæ— ç®¡ç†åŠŸèƒ½ï¼›<code>HeartBeat</code>åŸºäºä¸»æœºæˆ–ç½‘ç»œæœåŠ¡çš„é«˜å¯ç”¨ï¼Œæ‹†åˆ†ä¸ºå¤šä¸ªå­é¡¹ç›®ï¼Œå®‰è£…é…ç½®ä»¥åŠä½¿ç”¨ç›¸å¯¹å¤æ‚ï¼Œå…·æœ‰ç®¡ç†åŠŸèƒ½ï¼Œç”¨æˆ·æœåŠ¡çš„å¤šæœºã€‚</li>
<li><code>HeartBeat</code>é™¤äº†èµ°ç½‘ç»œé€šä¿¡è¿˜å¯ä»¥ç”¨ä¸²å£é€šä¿¡ï¼Œå¯é æ€§æ›´é«˜ã€‚</li>
<li>LVSé«˜å¯ç”¨å»ºè®®ç”¨<code>Keepalived</code>ï¼Œä¸šåŠ¡é«˜å¯ç”¨å»ºè®®ç”¨<code>HeartBeat</code>ã€‚</li>
</ul>
<h2 id="2-VRRP"><a href="#2-VRRP" class="headerlink" title="2. VRRP"></a>2. VRRP</h2><blockquote>
<p>å¤šä¸»æœºä¹‹é—´é€šè¿‡é™æ€è·¯ç”±å®Œæˆé€šä¿¡ï¼Œä¸€æ—¦è·¯ç”±å™¨æ•…éšœï¼Œå¯ä»¥é€šè¿‡VRRPåè®®è¿›è¡Œåˆ‡æ¢ï¼Œä¿è¯ç½‘ç»œçš„è¿é€šæ€§ã€‚VRRPç”±ä¸¤å°æˆ–å¤šå°ç‰©ç†è·¯ç”±å™¨è®¾å¤‡è™šæ‹Ÿæˆä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å™¨ï¼Œé€šè¿‡è™šæ‹ŸIPå¯¹å¤–æä¾›æœåŠ¡ã€‚</p>
</blockquote>
<ul>
<li>è™šæ‹Ÿè·¯ç”±å™¨ï¼šå¯¹å¤–æœåŠ¡ï¼Œæ‹¥æœ‰è™šæ‹ŸIP+MACåœ°å€</li>
<li>ä¸»è·¯ç”±å™¨(master)ï¼šè™šæ‹Ÿè·¯ç”±å™¨å†…éƒ¨é€šå¸¸åªæœ‰ä¸€å°ç‰©ç†è·¯ç”±å™¨å¯¹å¤–æä¾›æœåŠ¡ï¼Œç”±é€‰ä¸¾ç®—æ³•äº§ç”Ÿmaster</li>
<li>å¤‡ä»½è·¯ç”±å™¨(backup)ï¼šé™¤ä¸»è·¯ç”±å™¨å¤–çš„æ‰€æœ‰è·¯ç”±å™¨ï¼Œä¸å¯¹å¤–æä¾›æœåŠ¡ï¼Œåªæ¥å—ä¸»è·¯ç”±çš„é€šçŸ¥ï¼ŒmasteræŒ‚æ‰ä¹‹åç”±é€‰ä¸¾ç®—æ³•äº§ç”Ÿæ–°çš„master</li>
</ul>
<h3 id="2-1-VRRPå·¥ä½œæ¨¡å¼"><a href="#2-1-VRRPå·¥ä½œæ¨¡å¼" class="headerlink" title="2.1. VRRPå·¥ä½œæ¨¡å¼"></a>2.1. VRRPå·¥ä½œæ¨¡å¼</h3><ul>
<li>å·¥ä½œçŠ¶æ€<ul>
<li><code>Initialize</code>çŠ¶æ€</li>
<li><code>Master</code>çŠ¶æ€</li>
<li><code>Backup</code>çŠ¶æ€</li>
</ul>
</li>
<li>é€‰ä¸¾æœºåˆ¶<ul>
<li>é»˜è®¤æŠ¢å æ¨¡å¼ï¼Œä¸€æ—¦æœ‰ä¼˜å…ˆçº§é«˜çš„è·¯ç”±å™¨åŠ å…¥ï¼Œç«‹å³æˆä¸ºMasterã€‚åŸæ¥çš„Masteré‡æ–°æ¢å¤åï¼Œä¼šé‡æ–°æ¥ç®¡æœåŠ¡ï¼Œå¤šäº†ä¸€æ¬¡ä¸å¿…è¦çš„VirtualIPåˆ‡æ¢ã€‚</li>
<li>éæŠ¢å æ¨¡å¼ä¸‹ï¼Œåªè¦Masterä¸æŒ‚æ‰ï¼Œä¼˜å…ˆçº§é«˜çš„è·¯ç”±å™¨åªèƒ½ç­‰å¾…ã€‚åŸæ¥çš„Masteré‡æ–°æ¢å¤åï¼ŒçŠ¶æ€ä¼šå˜ä¸ºBackupï¼Œä¸ä¼šæ¥ç®¡æœåŠ¡ã€‚</li>
</ul>
</li>
</ul>
<h3 id="2-2-æŠ¢å æ¨¡å¼"><a href="#2-2-æŠ¢å æ¨¡å¼" class="headerlink" title="2.2 æŠ¢å æ¨¡å¼"></a>2.2 æŠ¢å æ¨¡å¼</h3><ul>
<li><code>Example 1</code>ï¼Œåªè¦ä¼˜å…ˆçº§æ›´é«˜ï¼Œå°±ä¼šè·å–Masterï¼Œä¸çŠ¶æ€æ— å…³<ul>
<li><code>Server1</code>ä¸º<code>Master</code>ï¼Œ<code>Server2</code>ä¸º<code>Master</code>æˆ–<code>Backup</code>ï¼Œä¸”<code>Server1</code>ä¼˜å…ˆçº§æ›´é«˜ï¼Œå¯åŠ¨å<code>Server1</code>æˆä¸º<code>Master</code>ï¼Œ<code>Server2</code>é™çº§æˆä¸º<code>Backup</code>ï¼›è‹¥æ­¤æ—¶<code>Server1</code>å®•æœºï¼Œå°†ç”±<code>Server2</code>æ¥ç®¡æœåŠ¡ï¼Œåç»­å½“<code>Server1</code>æ¢å¤ååˆå˜ä¸º<code>Master</code>ï¼Œ<code>Server2</code>é™çº§æˆä¸º<code>Backup</code>ï¼Œå±äºæŠ¢å å¼ã€‚</li>
<li><code>Server1</code>ä¸º<code>Master</code>ï¼Œ<code>Server2</code>ä¸º<code>Backup</code>ï¼Œä½†<code>Server1</code>ä¼˜å…ˆçº§ä½ï¼Œå¯åŠ¨å<code>Server2</code>æˆä¸º<code>Master</code>ï¼Œ<code>Server1</code>é™çº§æˆä¸º<code>Backup</code>ï¼›è‹¥æ­¤æ—¶<code>Server2</code>å®•æœºï¼Œå°†ç”±<code>Server1</code>æ¥ç®¡æœåŠ¡ï¼Œåç»­å½“<code>Server2</code>å›å¤ååˆå˜ä¸º<code>Master</code>ï¼Œ<code>Server1</code>é™çº§æˆä¸º<code>Backup</code>ï¼Œå±äºæŠ¢å å¼ã€‚</li>
</ul>
</li>
<li><code>Example 2</code>ï¼Œä¸¤ä¸ª<code>Backup</code>èŠ‚ç‚¹ï¼Œå¿…é¡»é…ç½®<code>nopreempt</code><ul>
<li><code>Server1</code>å’Œ<code>Server2</code>éƒ½ä¸º<code>Backup</code>ï¼Œå…ˆå¯åŠ¨çš„å‡çº§ä¸º<code>Master</code>ï¼Œå¿…é¡»é…ç½®<code>nopreempt</code>ï¼Œè‹¥<code>Server1</code>å®•æœºï¼Œ<code>Server2</code>ä¼šæ¥ç®¡æœåŠ¡ï¼Œ<code>Server1</code>æ¢å¤åä¸ä¼šé‡æ–°æ¥ç®¡ï¼Œ<code>Server1</code>æˆä¸º<code>Backup</code>ï¼Œå±äºéæŠ¢å å¼ã€‚</li>
</ul>
</li>
</ul>
<h2 id="3-å·¥ä½œåŸç†"><a href="#3-å·¥ä½œåŸç†" class="headerlink" title="3. å·¥ä½œåŸç†"></a>3. å·¥ä½œåŸç†</h2><blockquote>
<p>å·¥ä½œåœ¨<code>TCP/IP</code>æ¨¡å‹çš„ç¬¬ä¸‰ã€å››å’Œäº”å±‚ï¼Œå³ç½‘ç»œå±‚ã€ä¼ è¾“å±‚å’Œåº”ç”¨å±‚ã€‚<br>ç½‘ç»œå±‚ï¼šé€šè¿‡<code>IMCP</code>åè®®å‘é›†ç¾¤çš„æ¯ä¸ªèŠ‚ç‚¹å‘é€æ•°æ®åŒ…ï¼Œæ£€æµ‹èŠ‚ç‚¹çš„å­˜æ´»çŠ¶æ€ï¼Œè‹¥æ— å“åº”åˆ™æŠ¥å‘ŠèŠ‚ç‚¹å¤±æ•ˆï¼Œä»é›†ç¾¤ä¸­å‰”é™¤ï¼›<br>ä¼ è¾“å±‚:é€šè¿‡<code>TCP</code>åè®®çš„ç«¯å£è¿æ¥å’Œæ‰«æåˆ¤æ–­é›†ç¾¤èŠ‚ç‚¹è¿æ¥æ˜¯å¦æ­£å¸¸ï¼Œè‹¥æ¢æµ‹åˆ°æ²¡æœ‰å“åº”æ•°æ®åˆ¤å®šä¸ºå‘ç”Ÿæ•…éšœï¼Œä»é›†ç¾¤ä¸­å‰”é™¤ï¼›<br>åº”ç”¨å±‚ï¼šå¯ä»¥å†™è„šæœ¬æ¥æ£€æµ‹æœåŠ¡æ˜¯å¦æ­£å¸¸ä»¥åŠå‰”é™¤èŠ‚ç‚¹ã€‚</p>
</blockquote>
<ul>
<li>Scheduler I/O Multiplexer<ul>
<li>IOæœç”¨åˆ†å‘å™¨ï¼Œè°ƒåº¦Keepalivedæ‰€æœ‰çš„å†…éƒ¨ä»»åŠ¡è¯·æ±‚</li>
</ul>
</li>
<li>Memory Management<ul>
<li>å†…å­˜ç®¡ç†æœºåˆ¶ï¼Œæä¾›è®¿é—®å†…ä»çš„é€šç”¨æ–¹æ³•</li>
</ul>
</li>
<li>Control Planeï¼ŒKeepalivedè¿è¡Œæ—¶ä¼šå¯åŠ¨<code>core</code>ã€<code>check</code>å’Œ<code>vrrp</code>ä¸‰ä¸ªè¿›ç¨‹<ul>
<li>Core Components<ul>
<li>Watch Dog<ul>
<li>çœ‹é—¨ç‹—ï¼Œé’ˆå¯¹è¢«ç›‘è§†ç›®æ ‡è®¾ç½®è®¡æ•°å™¨å’Œé˜ˆå€¼ï¼Œç­‰å¾…ç›®æ ‡å‘¨æœŸæ€§é‡ç½®è®¡æ•°å™¨ï¼Œè‹¥å‘ç”Ÿé”™è¯¯æ— æ³•é‡ç½®å°†è¢«æ£€æµ‹åˆ°ã€‚ç”¨æ¥ç›‘æ§Checkerså’ŒVRRPè¿›ç¨‹</li>
</ul>
</li>
<li>Checkers<ul>
<li>å®ç°å¯¹æœåŠ¡å™¨çš„è¿è¡ŒçŠ¶æ€æ£€æµ‹å’Œæ•…éšœéš”ç¦»</li>
</ul>
</li>
<li>VRRP Stack<ul>
<li>å®ç°å¤±è´¥åˆ‡æ¢åŠŸèƒ½ï¼Œé€šè¿‡VRRPå’ŒLVSå³å¯éƒ¨ç½²é«˜æ€§èƒ½çš„è´Ÿè½½å‡è¡¡é›†ç¾¤</li>
</ul>
</li>
<li>IPVS Wrapper<ul>
<li>å®ç°IPVSï¼Œå°†è®¾ç½®å¥½çš„IPVSè§„åˆ™å‘é€åˆ°å†…æ ¸ç©ºé—´å¹¶æäº¤ç»™IPVSæ¨¡å—ï¼Œå®ç°æœ€ç»ˆçš„è´Ÿè½½å‡è¡¡</li>
</ul>
</li>
<li>Netlink Reflector<ul>
<li>VIPçš„è®¾ç½®å’Œåˆ‡æ¢</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="4-é€‰ä¸¾ç­–ç•¥"><a href="#4-é€‰ä¸¾ç­–ç•¥" class="headerlink" title="4. é€‰ä¸¾ç­–ç•¥"></a>4. é€‰ä¸¾ç­–ç•¥</h2><ul>
<li>æ§åˆ¶èŠ‚ç‚¹è§’è‰²ç”±ä¸¤ä¸ªå€¼å†³å®šï¼Œé…ç½®æ–‡ä»¶ä¸­çš„<code>priority</code>ï¼›vrrp_scritpæ¨¡å—ä¸­é…ç½®çš„<code>weigth</code>ï¼Œå¯æ­£å¯è´Ÿã€‚<ul>
<li>ä¸è®¾ç½®<code>weight</code>æ—¶ï¼Œé›†ç¾¤ä¸­çš„ä¼˜å…ˆçº§ç”±<code>priority</code>å†³å®šï¼Œä¼˜å…ˆçº§é«˜çš„èŠ‚ç‚¹æˆä¸º<code>Master</code>ï¼Œä¼˜å…ˆçº§ä½çš„èŠ‚ç‚¹æˆä¸º<code>Backup</code>ï¼›ä½†å¦‚æœ<code>Master</code>å‡ºç°æ•…éšœå<code>Backup</code>çš„<code>priority</code>å°äº<code>Master</code>çš„<code>priority</code>ï¼Œå¯¼è‡´ä¸»å¤‡åˆ‡æ¢å¤±è´¥ã€‚</li>
<li>è®¾ç½®<code>weight</code><ul>
<li>è‹¥<code>weight</code>ä¸ºæ­£<ul>
<li>ä¸»æˆåŠŸï¼Œ<code>master priority + weight &gt; backup priority + weight</code>æ—¶ï¼Œä¸»ä¾ç„¶ä¸ºä¸»</li>
<li>ä¸»å¤±è´¥ï¼Œ<code>master priority &lt; backup priority + weight</code>æ—¶ï¼Œä¸»ä»åˆ‡æ¢</li>
</ul>
</li>
<li>è‹¥<code>weight</code>ä¸ºè´Ÿ<ul>
<li>ä¸»æˆåŠŸ<code>master priority &gt; backup priority</code>æ—¶ï¼Œä¸»ä¾ç„¶ä¸ºä¸»</li>
<li>ä¸»å¤±è´¥ï¼Œ<code>master priority - abs(weight) &lt; backup priority</code>æ—¶ï¼Œä¸»ä»åˆ‡æ¢</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="5-ç›¸å…³é…ç½®"><a href="#5-ç›¸å…³é…ç½®" class="headerlink" title="5. ç›¸å…³é…ç½®"></a>5. ç›¸å…³é…ç½®</h2><ul>
<li><p>å¤‡ä»½é…ç½®</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">cp</span> /etc/keepalived/keepalived.conf /etc/keepalived/keepalived.conf.bak</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å…¨å±€é…ç½®</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">! Configuration File <span class="keyword">for</span> keepalived</span><br><span class="line"></span><br><span class="line">global_defs {</span><br><span class="line">  notification_email {</span><br><span class="line">    acassen@firewall.loc</span><br><span class="line">    failover@firewall.loc</span><br><span class="line">    sysadmin@firewall.loc</span><br><span class="line">  }</span><br><span class="line">  notification_email_from Alexandre.Cassen@firewall.loc</span><br><span class="line">  smtp_server 192.168.200.1</span><br><span class="line">  smtp_connect_timeout 30</span><br><span class="line">  router_id LVS_DEVEL</span><br><span class="line">  vrrp_skip_check_adv_addr</span><br><span class="line">  vrrp_strict</span><br><span class="line">  vrrp_garp_interval 0</span><br><span class="line">  vrrp_gna_interval 0</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">global_defs #å…¨å±€é…ç½®æ ‡è¯†</span><br><span class="line">notification_email #ç”¨äºè®¾ç½®æŠ¥è­¦çš„é‚®ä»¶åœ°å€ï¼Œå¯ä»¥è®¾ç½®å¤šä¸ªï¼Œæ¯è¡Œä¸€ä¸ªã€‚å¦‚æœè¦å¼€å¯é‚®ä»¶æŠ¥è­¦ï¼Œéœ€è¦å¼€å¯æœ¬æœºçš„sendmailæœåŠ¡</span><br><span class="line">notification_email_from #é‚®ä»¶çš„å‘é€åœ°å€</span><br><span class="line">smtp_server #è®¾ç½®é‚®ä»¶çš„smtp serveråœ°å€</span><br><span class="line">smtp_connect_timeout #è®¾ç½®è¿æ¥smtp serverçš„è¶…æ—¶æ—¶é—´</span><br><span class="line">router_id # è¿è¡Œkeepalivedçš„ä¸€ä¸ªæ ‡è¯†ï¼Œå”¯ä¸€</span><br><span class="line">vrrp_skip_check_adv_addr ##å¯¹æ‰€æœ‰é€šå‘ŠæŠ¥æ–‡éƒ½æ£€æŸ¥ï¼Œä¼šæ¯”è¾ƒæ¶ˆè€—æ€§èƒ½ï¼Œå¯ç”¨æ­¤é…ç½®åï¼Œå¦‚æœæ”¶åˆ°çš„é€šå‘ŠæŠ¥æ–‡å’Œä¸Šä¸€ä¸ªæŠ¥æ–‡æ˜¯åŒä¸€ä¸ªè·¯ç”±å™¨ï¼Œåˆ™è·³è¿‡æ£€æŸ¥ï¼Œé»˜è®¤å€¼ä¸ºå…¨æ£€æŸ¥</span><br><span class="line">vrrp_strict ##ä¸¥æ ¼éµå®ˆVRRPåè®®,å¯ç”¨æ­¤é¡¹åä»¥ä¸‹çŠ¶å†µå°†æ— æ³•å¯åŠ¨æœåŠ¡:1.æ— VIPåœ°å€ 2.é…ç½®äº†å•æ’­é‚»å±… 3.åœ¨VRRPç‰ˆæœ¬2ä¸­æœ‰IPv6åœ°å€ï¼Œå¼€å¯åŠ¨æ­¤é¡¹å¹¶ä¸”æ²¡æœ‰é…ç½®vrrp_iptablesæ—¶ä¼šè‡ªåŠ¨å¼€å¯iptablesé˜²ç«å¢™è§„åˆ™ï¼Œé»˜è®¤å¯¼è‡´VIPæ— æ³•è®¿é—®,å»ºè®®ä¸åŠ æ­¤é¡¹é…ç½®</span><br><span class="line">vrrp_iptables #æ­¤é¡¹å’Œvrrp_strictåŒæ—¶å¼€å¯æ—¶ï¼Œåˆ™ä¸ä¼šæ·»åŠ é˜²ç«å¢™è§„åˆ™,å¦‚æœæ— é…ç½®vrrp_stricté¡¹,åˆ™æ— éœ€å¯ç”¨æ­¤é¡¹é…ç½®</span><br><span class="line">vrrp_garp_interval 0 #gratuitous ARP messages æŠ¥æ–‡å‘é€å»¶è¿Ÿï¼Œ0è¡¨ç¤ºä¸å»¶è¿Ÿ</span><br><span class="line">vrrp_gna_interval 0 ##unsolicited NA messages ï¼ˆä¸è¯·è‡ªæ¥ï¼‰æ¶ˆæ¯å‘é€å»¶è¿Ÿ</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>VRRPé…ç½®</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">vrrp_script nginx_check {</span><br><span class="line">    script<span class="string">"/tools/nginx_check.sh"</span></span><br><span class="line">    interval 1</span><br><span class="line">}</span><br><span class="line">vrrp_instance VI_1 {</span><br><span class="line">    state MASTER</span><br><span class="line">    interface ens33</span><br><span class="line">    virtual_router_id 52</span><br><span class="line">    priority 100</span><br><span class="line">    advert_int 1</span><br><span class="line">    authentication {</span><br><span class="line">        auth_type PASS</span><br><span class="line">        auth_pass <span class="built_in">test</span></span><br><span class="line">    }</span><br><span class="line">    virtual_ipaddress {</span><br><span class="line">        192.168.149.100</span><br><span class="line">    }</span><br><span class="line">    track_script {</span><br><span class="line">        nginx_check</span><br><span class="line">    }</span><br><span class="line">    notify_master /tools/master.sh</span><br><span class="line">    notify_backup /tools/backup.sh</span><br><span class="line">    notify_fault /tools/fault.sh</span><br><span class="line">    notify_stop /tools/stop.sh</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">vrrp_instance VI_1 #VRRPå®ä¾‹å¼€å§‹çš„æ ‡è¯† VI_1ä¸ºå®ä¾‹åç§°</span><br><span class="line">state #æŒ‡å®škeepalivedçš„è§’è‰²ï¼ŒMASTERè¡¨ç¤ºæ­¤ä¸»æœºæ˜¯ä¸»æœåŠ¡å™¨ï¼ŒBACKUPè¡¨ç¤ºæ­¤ä¸»æœºæ˜¯å¤‡æœåŠ¡å™¨</span><br><span class="line">interface #æŒ‡å®šæ£€æµ‹ç½‘ç»œçš„ç½‘å¡æ¥å£</span><br><span class="line">virtual_router_id #è™šæ‹Ÿè·¯ç”±æ ‡è¯†ï¼Œæ•°å­—å½¢å¼ï¼ŒåŒä¸€ä¸ªVRRPå®ä¾‹ä½¿ç”¨å”¯ä¸€çš„æ ‡è¯†ï¼Œå³åœ¨åŒä¸€ä¸ªvrrp_instanceä¸‹ï¼Œmasterå’Œbackupå¿…é¡»ä¸€è‡´</span><br><span class="line">priority #èŠ‚ç‚¹ä¼˜å…ˆçº§ï¼Œæ•°å­—è¶Šå¤§è¡¨ç¤ºèŠ‚ç‚¹çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œåœ¨ä¸€ä¸ªVRRPå®ä¾‹ä¸‹ï¼ŒMASTERçš„ä¼˜å…ˆçº§å¿…é¡»è¦æ¯”BACKUPé«˜ï¼Œä¸ç„¶å°±ä¼šåˆ‡æ¢è§’è‰²</span><br><span class="line">advert_int #ç”¨äºè®¾å®šMASTERä¸BACKUPä¹‹é—´åŒæ­¥æ£€æŸ¥çš„æ—¶é—´é—´éš”ï¼Œå•ä½ä¸ºç§’</span><br><span class="line">auth_type PASS #é¢„å…±äº«å¯†é’¥è®¤è¯ï¼ŒåŒä¸€ä¸ªè™šæ‹Ÿè·¯ç”±å™¨çš„keepalivedèŠ‚ç‚¹å¿…é¡»ä¸€æ ·</span><br><span class="line">auth_pass #è®¾ç½®å¯†é’¥</span><br><span class="line">virtual_ipaddress #è®¾ç½®è™šæ‹ŸIPåœ°å€ï¼Œå¯ä»¥è®¾ç½®å¤šç§å½¢å¼ï¼š10.0.0.100ä¸æŒ‡å®šç½‘å¡ï¼Œé»˜è®¤ä¸ºeth0,æ³¨æ„ï¼šä¸æŒ‡å®š/prefix,é»˜è®¤ä¸º/32ï¼›10.0.0.101/24 dev eth1 æŒ‡å®šVIPçš„ç½‘å¡ï¼›10.0.0.102/24 dev eth2 label eth2:1  #æŒ‡å®šVIPçš„ç½‘å¡label</span><br><span class="line">nopreempt # è®¾ç½®ä¸ºéæŠ¢å æ¨¡å¼ï¼ŒåŒä¸€å®ä¾‹ä¸‹ä¸»å¤‡è®¾ç½®å¿…é¡»ä¸€æ ·</span><br><span class="line">preemtp_delay # è®¾ç½®æŠ¢å æ¨¡å¼çš„å»¶æ—¶æ—¶é—´ï¼Œå•ä½ä¸ºç§’</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="6-é›†ç¾¤èµ„æºç›‘æ§"><a href="#6-é›†ç¾¤èµ„æºç›‘æ§" class="headerlink" title="6. é›†ç¾¤èµ„æºç›‘æ§"></a>6. é›†ç¾¤èµ„æºç›‘æ§</h2><blockquote>
<p>é€šè¿‡<code>track_script</code>å’Œ<code>vrrp_script</code>å®ç°é›†ç¾¤èµ„æºç›‘æ§åŠæ”¹å˜ä¼˜å…ˆçº§ï¼Œå®ç°ä¸»ä»åˆ‡æ¢</p>
</blockquote>
<ul>
<li><code>killall</code>æ¢æµ‹æœåŠ¡è¿è¡ŒçŠ¶æ€</li>
</ul>
<blockquote>
<p>å®šä¹‰æœåŠ¡ç›‘æ§æ¨¡å—<code>nginx_check</code>ï¼Œå¦‚æœå‘ç°è¿›ç¨‹å¼‚å¸¸æˆ–å…³é—­è¿”å›çŠ¶æ€ç <code>1</code></p>
</blockquote>
  <figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">vrrp_script nginx_check {</span><br><span class="line">    script<span class="string">"killall -0 nginx"</span></span><br><span class="line">    interval 1</span><br><span class="line">}</span><br><span class="line">track_script {</span><br><span class="line">    nginx_check</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>æ£€æµ‹ç«¯å£çŠ¶æ€</li>
</ul>
<blockquote>
<p><code>fail</code>è¡¨ç¤ºæ£€æµ‹åˆ°å¤±è´¥çš„æœ€å¤§æ¬¡æ•°ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœè¯·æ±‚å¤±è´¥ä¸¤æ¬¡ï¼Œå°±è®¤ä¸ºæ­¤èŠ‚ç‚¹èµ„æºå‘ç”Ÿæ•…éšœï¼Œè¿›è¡Œåˆ‡æ¢æ“ä½œï¼›<code>rise</code>è¡¨ç¤ºè¯·æ±‚ä¸€æ¬¡æˆåŠŸï¼Œå°±è®¤ä¸ºæ­¤èŠ‚ç‚¹èµ„æºæ¢å¤æ­£å¸¸</p>
</blockquote>
  <figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">vrrp_script nginx_check {</span><br><span class="line">    script <span class="string">"&lt;/dev/tcp/127.0.0.1/80"</span></span><br><span class="line">    interval 1</span><br><span class="line">    fail 2</span><br><span class="line">    rise 1</span><br><span class="line">}</span><br><span class="line">track_script {</span><br><span class="line">    nginx_check</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Keepalived</tag>
        <tag>Load Balance</tag>
      </tags>
  </entry>
  <entry>
    <title>åä¸º2024æš‘æœŸå®ä¹ ç¬”è¯•</title>
    <url>/2024/04/18/HUAWEI20240417/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>2024.04.17ç¬”è¯•</p>
<ol>
<li>æ‰“å¡é¢˜ï¼Œé˜Ÿåˆ—å’Œå­—ç¬¦ä¸²æ¨¡æ‹Ÿ/æ ˆæ¨¡æ‹Ÿ</li>
<li>DFS/BFS</li>
<li>Dijkstraç®—æ³•</li>
</ol>
<span id="more"></span>
<hr>
<h2 id="1-æ‰‘å…‹ç‰Œæ¶ˆé™¤"><a href="#1-æ‰‘å…‹ç‰Œæ¶ˆé™¤" class="headerlink" title="1. æ‰‘å…‹ç‰Œæ¶ˆé™¤"></a>1. æ‰‘å…‹ç‰Œæ¶ˆé™¤</h2><p>ä»ä¸€å‰¯æ‰‘å…‹ç‰Œä¸­éšæœºæŠ½å–nå¼ ç‰Œç»„æˆä¸€ä¸ªåºåˆ—ï¼Œè§„å®šè¿ç»­3å¼ ç›¸åŒç‰Œå·çš„å¡ç‰Œå¯ä»¥æ¶ˆé™¤ï¼Œå‰©ä½™å¡ç‰ŒæŒ‰ç…§å½“å‰é¡ºåºé‡æ–°åˆå¹¶æˆæ–°çš„åºåˆ—åç»§ç»­æ¶ˆé™¤ï¼Œé‡å¤ä»¥ä¸Šæ­¥éª¤ç›´åˆ°æ— æ³•æ¶ˆé™¤ï¼Œæœ€åè¯·è¾“å‡ºç»“æŸåå‰©ä½™çš„å¡ç‰Œåºåˆ—ã€‚æ³¨:å­˜åœ¨è¿ç»­4å¼ ç›¸åŒç‰Œå·çš„æƒ…å†µï¼Œæ¶ˆé™¤åå‰©ä½™ä¸€å¼ ã€‚</p>
<h3 id="1-1-è¾“å…¥æè¿°"><a href="#1-1-è¾“å…¥æè¿°" class="headerlink" title="1.1 è¾“å…¥æè¿°"></a>1.1 è¾“å…¥æè¿°</h3><p>ç¬¬ä¸€è¡Œä¸€ä¸ªæ­£æ•´æ•°$n(1â‰¤nâ‰¤52)$ï¼Œè¡¨ç¤ºå¡ç‰Œçš„æ•°é‡ã€‚<br>ç¬¬äºŒè¡Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»¥ç©ºæ ¼åˆ†éš”ä»£è¡¨å¡ç‰Œå·åºåˆ—ï¼Œå¡ç‰Œå·ä»…åŒ…å«$2-10, A, J, Q, K$ã€‚</p>
<h3 id="1-2-è¾“å‡ºæè¿°"><a href="#1-2-è¾“å‡ºæè¿°" class="headerlink" title="1.2 è¾“å‡ºæè¿°"></a>1.2 è¾“å‡ºæè¿°</h3><p>ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ‰“å°æœ€ç»ˆç»“æŸåçš„å¡ç‰Œå·åºåˆ—ï¼Œå¡ç‰Œå·ä»¥ç©ºæ ¼åˆ†éš”ã€‚å¦‚æœæœ€ç»ˆæ²¡æœ‰å¡ç‰Œå‰©ä½™è¾“å‡º0ã€‚</p>
<h3 id="1-3-è¾“å…¥æ ·ä¾‹1"><a href="#1-3-è¾“å…¥æ ·ä¾‹1" class="headerlink" title="1.3 è¾“å…¥æ ·ä¾‹1"></a>1.3 è¾“å…¥æ ·ä¾‹1</h3><h4 id="1-3-1-è¾“å…¥1"><a href="#1-3-1-è¾“å…¥1" class="headerlink" title="1.3.1 è¾“å…¥1"></a>1.3.1 è¾“å…¥1</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">10</span><br><span class="line">3 A 2 2 2 A A 7 7 7</span><br></pre></td></tr></tbody></table></figure>
<h4 id="1-3-2-è¾“å‡º1"><a href="#1-3-2-è¾“å‡º1" class="headerlink" title="1.3.2 è¾“å‡º1"></a>1.3.2 è¾“å‡º1</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">3</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š<br>ç¬¬ä¸€è½®ä¸‰ä¸ªå¡ç‰Œ2è¿ç»­æ¶ˆé™¤ï¼Œå‰©ä½™å¡ç‰Œå·åºåˆ—ä¸ºï¼š3 A A A 7 7 7<br>ç¬¬äºŒè½®ä¸‰ä¸ªå¡ç‰ŒAè¿ç»­æ¶ˆé™¤ï¼Œå‰©ä½™å¡ç‰Œå·åºåˆ—ä¸ºï¼š3 7 7 7<br>ç¬¬ä¸‰è½®ä¸‰ä¸ªå¡ç‰Œ7è¿ç»­æ¶ˆé™¤ï¼Œå‰©ä½™å¡ç‰Œå·åºåˆ—ä¸ºï¼š3<br>è¾“å‡ºå¡ç‰Œå·åºåˆ—:3</p>
</blockquote>
<h3 id="1-4-è¾“å…¥æ ·ä¾‹2"><a href="#1-4-è¾“å…¥æ ·ä¾‹2" class="headerlink" title="1.4 è¾“å…¥æ ·ä¾‹2"></a>1.4 è¾“å…¥æ ·ä¾‹2</h3><h4 id="1-4-1-è¾“å…¥2"><a href="#1-4-1-è¾“å…¥2" class="headerlink" title="1.4.1 è¾“å…¥2"></a>1.4.1 è¾“å…¥2</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">8</span><br><span class="line">A 2 2 2 3 3 2 A</span><br></pre></td></tr></tbody></table></figure>
<h4 id="1-4-2-è¾“å‡º2"><a href="#1-4-2-è¾“å‡º2" class="headerlink" title="1.4.2 è¾“å‡º2"></a>1.4.2 è¾“å‡º2</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">A 3 3 2 A</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š<br>ç¬¬ä¸€è½®ä¸‰ä¸ªå¡ç‰Œ2è¿ç»­æ¶ˆé™¤ï¼Œå‰©ä½™å¡ç‰Œå·åºåˆ—ä¸ºï¼šA 3 3 2 A<br>è¾“å‡ºå¡ç‰Œå·åºåˆ—ï¼šA 3 3 2 A</p>
</blockquote>
<h3 id="1-5-è¾“å…¥æ ·ä¾‹3"><a href="#1-5-è¾“å…¥æ ·ä¾‹3" class="headerlink" title="1.5 è¾“å…¥æ ·ä¾‹3"></a>1.5 è¾“å…¥æ ·ä¾‹3</h3><h4 id="1-5-1-è¾“å…¥3"><a href="#1-5-1-è¾“å…¥3" class="headerlink" title="1.5.1 è¾“å…¥3"></a>1.5.1 è¾“å…¥3</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">6</span><br><span class="line">2 3 3 3 2 2</span><br></pre></td></tr></tbody></table></figure>
<h4 id="1-5-2-è¾“å‡º3"><a href="#1-5-2-è¾“å‡º3" class="headerlink" title="1.5.2 è¾“å‡º3"></a>1.5.2 è¾“å‡º3</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">0</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š<br>ç¬¬ä¸€è½®ä¸‰ä¸ªå¡ç‰Œ3è¿ç»­æ¶ˆé™¤ï¼Œå‰©ä½™å¡ç‰Œå·åºåˆ—ä¸ºï¼š2 2 2<br>ç¬¬äºŒè½®ä¸‰ä¸ªå¡ç‰Œ2è¿ç»­æ¶ˆé™¤ï¼Œæ— å‰©ä½™å¡ç‰Œ<br>è¾“å‡ºå¡ç‰Œå·åºåˆ—ï¼š0</p>
</blockquote>
<h3 id="1-6-è§£é¢˜æ€è·¯"><a href="#1-6-è§£é¢˜æ€è·¯" class="headerlink" title="1.6 è§£é¢˜æ€è·¯"></a>1.6 è§£é¢˜æ€è·¯</h3><ul>
<li>å¦‚æœé•¿åº¦å°äº2ç›´æ¥è¿”å›ï¼Œä¸éœ€è¦å¤„ç†<code>in.nextLine().toCharArray()</code></li>
<li>æŠŠæ‰€æœ‰å­—ç¬¦å­˜åˆ°<code>String[]</code>æ•°ç»„</li>
<li>ä¾æ¬¡å°†<code>String[]</code>æ•°ç»„çš„æ¯ä¸ªå€¼<code>s</code>æ”¾å…¥é˜Ÿåˆ—<code>queue</code><ul>
<li>åˆ¤æ–­<code>queue.size()&gt;=2</code><ul>
<li>è‹¥æ˜¯ï¼Œåˆ™æ›´æ–°æ­¤æ—¶é˜Ÿåˆ—å°¾éƒ¨æœ€åä¸¤ä¸ªå€¼ï¼Œ<code>first</code>å’Œ<code>second</code>,ç„¶åé˜Ÿå°¾åŠ å…¥</li>
<li>è‹¥ä¸æ˜¯ï¼Œåˆ™ç›´æ¥é˜Ÿå°¾åŠ å…¥<code>queue.offerLast(s);</code></li>
</ul>
</li>
<li>åˆ¤æ–­æœ€åä¸‰ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼ˆè¦ç”¨<code>.equals()</code>ï¼‰ï¼Œå¦‚æœç›¸ç­‰åˆ™<code>queue.pollLast();</code>ä¸‰æ¬¡</li>
</ul>
</li>
<li>ç”¨<code>StringBuilder</code>ä¾æ¬¡æ‹¿åˆ°é˜Ÿåˆ—ä¸­æ‰€æœ‰å­—ç¬¦<ul>
<li>å¦‚æœé˜Ÿåˆ—ä¸ºç©ºï¼Œç›´æ¥æ‰“å°<code>0</code></li>
<li>æ³¨æ„ç©ºæ ¼çš„å¤„ç†<code>if(i&lt;length-1) sb.append(' ');</code></li>
</ul>
</li>
<li>ä¹Ÿå¯ä»¥ç”¨<code>char[]</code>ï¼Œä½†è¦æ³¨æ„æœ‰ä¸€ä¸ªå¡ç‰Œ<code>10</code>ï¼Œå­—ç¬¦åªèƒ½å­˜ä¸€ä½ï¼Œæ‰€ä»¥è¦æœ‰ä¸ªæ›¿ä»£çš„è¿‡ç¨‹</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> Integer.parseInt(in.nextLine().split(<span class="string">" "</span>)[<span class="number">0</span>]);</span><br><span class="line">        <span class="keyword">if</span>(n&lt;=<span class="number">2</span>){</span><br><span class="line">            System.out.println(in.nextLine().toString());</span><br><span class="line">            in.close();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        String[] strs = in.nextLine().split(<span class="string">" "</span>);</span><br><span class="line">        LinkedList&lt;String&gt; queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">String</span> <span class="variable">first</span> <span class="operator">=</span> <span class="string">"1"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">second</span> <span class="operator">=</span> <span class="string">"1"</span>;</span><br><span class="line">        <span class="keyword">for</span>(String s: strs){</span><br><span class="line">            <span class="keyword">if</span>(queue.size()&gt;=<span class="number">2</span>){</span><br><span class="line">                second = queue.pollLast();</span><br><span class="line">                first = queue.peekLast();</span><br><span class="line">                queue.offerLast(second);</span><br><span class="line">            }</span><br><span class="line">            queue.offerLast(s);</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span>(s.equals(first) &amp;&amp; s.equals(second) &amp;&amp; queue.size()&gt;=<span class="number">3</span>){</span><br><span class="line">                queue.pollLast();</span><br><span class="line">                queue.pollLast();</span><br><span class="line">                queue.pollLast();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> queue.size();</span><br><span class="line">        <span class="keyword">if</span>(length==<span class="number">0</span>){</span><br><span class="line">            System.out.println(<span class="string">"0"</span>);</span><br><span class="line">            in.close();</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; length; i++){</span><br><span class="line">            <span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> queue.pollFirst();</span><br><span class="line">            sb.append(temp);</span><br><span class="line">            <span class="keyword">if</span>(i&lt;length-<span class="number">1</span>) sb.append(<span class="string">' '</span>);</span><br><span class="line">        }</span><br><span class="line">        System.out.println(sb.toString());</span><br><span class="line">        in.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="2-è®¡ç®—äº‘æœåŠ¡DIå€¼"><a href="#2-è®¡ç®—äº‘æœåŠ¡DIå€¼" class="headerlink" title="2. è®¡ç®—äº‘æœåŠ¡DIå€¼"></a>2. è®¡ç®—äº‘æœåŠ¡DIå€¼</h2><p>æˆ‘ä»¬å°†äº‘æœåŠ¡çœ‹åšä¸€æ£µæ ‘ï¼Œæ¯ä¸ªäº‘æœåŠ¡åœ¨å‘å¸ƒå‰å°šæœªè§£å†³çš„é—®é¢˜ç§°ä¸ºäº‘æœåŠ¡çš„é—ç•™é—®é¢˜ï¼ˆäº‘æœåŠ¡çš„é—ç•™é—®é¢˜åŒ…å«ä»¥è¯¥äº‘æœåŠ¡ä¸ºæ ¹èŠ‚ç‚¹çš„æ ‘ä¸Šæ‰€æœ‰èŠ‚ç‚¹çš„é—®é¢˜ï¼‰ï¼ŒDIå€¼ï¼ˆé—ç•™é—®é¢˜ç¼ºé™·å¯†åº¦ï¼‰å¯ä»¥ä½œä¸ºè¯„ä¼°äº‘æœåŠ¡å‘å¸ƒçš„æŒ‡æ ‡ï¼Œå½“äº‘æœåŠ¡DIå€¼å°äºç­‰äºé˜ˆå€¼æ—¶æ‰å‡†è®¸äº‘æœåŠ¡å‘å¸ƒï¼Œå¦åˆ™è§†ä¸ºé£é™©äº‘æœåŠ¡ï¼Œéœ€è¦é—®é¢˜æ•´æ”¹å®Œæˆåé‡æ–°è¿›è¡Œå‘å¸ƒè¯„ä¼°ã€‚ç°æœ‰ä¸€æ‰¹äº‘æœåŠ¡æ ‘ï¼Œå·²ç»™å‡ºäº‘æœåŠ¡æ ‘å„èŠ‚ç‚¹çš„é—®é¢˜æ•°é‡ï¼Œè¯·é€šè¿‡è®¡ç®—è¾“å‡ºé£é™©äº‘æœåŠ¡çš„ä¸ªæ•°ã€‚<br>è®¡ç®—å…¬å¼ï¼š$DIå€¼â‰¤5<em>ä¸¥é‡é—®é¢˜æ•°+2</em>ä¸€èˆ¬é—®é¢˜æ•°$ï¼Œå…¶ä¸­æ¯ä¸ªèŠ‚ç‚¹çš„ä¸åŒçº§åˆ«é—®é¢˜æ•°é‡éœ€è¦å°†è¯¥èŠ‚ç‚¹åŠè¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹çš„ç›¸åº”çº§åˆ«é—®é¢˜æ•°é‡æ±‚å’Œã€‚</p>
<h3 id="2-1-è¾“å…¥æè¿°"><a href="#2-1-è¾“å…¥æè¿°" class="headerlink" title="2.1 è¾“å…¥æè¿°"></a>2.1 è¾“å…¥æè¿°</h3><p>ç¬¬ä¸€è¡Œè¾“å…¥$M$å’Œ$N(Mâ‰¤100000ï¼ŒNâ‰¤1000)$ï¼Œä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œ$M$è¡¨ç¤ºä»£è¡¨äº‘æœåŠ¡é˜ˆå€¼, $N$è¡¨ç¤ºæ¥ä¸‹æ¥æœ‰$N$è¡Œé—®é¢˜ç»Ÿè®¡æ•°æ®ï¼›æ¥ä¸‹æ¥è¾“å…¥ä¸€ä¸ª$N<em>4$çš„çŸ©é˜µè¡¨ï¼Œè¡Œå†…ä½¿ç”¨ç©ºæ ¼åˆ†éš”ï¼Œç¬¬ä¸€åˆ—$Ai$ä¸ºæœåŠ¡èŠ‚ç‚¹ï¼Œç¬¬äºŒåˆ—$Bi$ä¸º$Ai$çš„çˆ¶èŠ‚ç‚¹ï¼Œå¦‚æœ$Ai$ä¸ºäº‘æœåŠ¡åˆ™æ— çˆ¶èŠ‚ç‚¹ï¼Œæ­¤æ—¶$Bi$ç”¨$</em>$å·è¡¨ç¤º($Ai$å’Œ$Bi$å–å€¼ä¸ºå­—ç¬¦ä¸²ï¼Œ$1â‰¤å­—ç¬¦ä¸²é•¿åº¦â‰¤5$ï¼Œå‡ç”±å°å†™è‹±æ–‡å­—æ¯æˆ–$*$å·ç»„æˆ)ï¼Œç¬¬ä¸‰åˆ—$Ci$ä¸ºé—®é¢˜çº§åˆ«($Ci$å–å€¼ä¸º${0,1}$ï¼Œ0è¡¨ç¤ºä¸¥é‡é—®é¢˜ï¼Œ1è¡¨ç¤ºä¸€èˆ¬é—®é¢˜)ï¼Œç¬¬å››åˆ—$Di$ä¸ºè¯¥èŠ‚ç‚¹è¯¥çº§åˆ«çš„é—®é¢˜æ•°é‡($Diâ‰¤1000$).<br>è¯´æ˜ï¼šè¾“å…¥ä¿è¯åªå‡ºç°æ ‘çš„å…³ç³»ï¼Œä¸ä¼šå‡ºç°è¿é€šå›¾çš„æƒ…å†µã€‚</p>
<h3 id="2-2-è¾“å‡ºæè¿°"><a href="#2-2-è¾“å‡ºæè¿°" class="headerlink" title="2.2 è¾“å‡ºæè¿°"></a>2.2 è¾“å‡ºæè¿°</h3><p>é£é™©äº‘æœåŠ¡ä¸ªæ•°</p>
<h3 id="2-3-è¾“å…¥æ ·ä¾‹1"><a href="#2-3-è¾“å…¥æ ·ä¾‹1" class="headerlink" title="2.3 è¾“å…¥æ ·ä¾‹1"></a>2.3 è¾“å…¥æ ·ä¾‹1</h3><h4 id="2-3-1-è¾“å…¥1"><a href="#2-3-1-è¾“å…¥1" class="headerlink" title="2.3.1 è¾“å…¥1"></a>2.3.1 è¾“å…¥1</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">40 12</span><br><span class="line">a * 0 2</span><br><span class="line">a * 1 2</span><br><span class="line">b a 0 3</span><br><span class="line">b a 1 5</span><br><span class="line">c a 1 3</span><br><span class="line">d a 0 1</span><br><span class="line">d a 1 3</span><br><span class="line">e b 0 2</span><br><span class="line">f * 0 8</span><br><span class="line">f * 1 10</span><br><span class="line">g f 1 2 </span><br><span class="line">h * 0 4</span><br></pre></td></tr></tbody></table></figure>
<h4 id="2-3-2-è¾“å‡º1"><a href="#2-3-2-è¾“å‡º1" class="headerlink" title="2.3.2 è¾“å‡º1"></a>2.3.2 è¾“å‡º1</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">2</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š<br><code>a * 0 2</code>è¡¨ç¤ºèŠ‚ç‚¹aæœ‰2ä¸ªä¸¥é‡é—®é¢˜ï¼Œ$<em>$è¡¨ç¤ºæ— çˆ¶èŠ‚ç‚¹ï¼Œå³aä¸ºäº‘æœåŠ¡ã€‚<br><code>b a 1 5</code>è¡¨ç¤ºèŠ‚ç‚¹bæœ‰5ä¸ªä¸€èˆ¬é—®é¢˜ï¼Œbçš„çˆ¶èŠ‚ç‚¹æ˜¯$a$<br>å¯ä»¥çœ‹å‡ºï¼Œè¯¥æ ·ä¾‹æœ‰3ä¸ªäº‘æœåŠ¡aã€fã€hã€‚<br>äº‘æœåŠ¡açš„å­èŠ‚ç‚¹æœ‰bã€cã€dã€eï¼Œä¸¥é‡é—®é¢˜ä¸ªæ•°ä¸º$2+3+0+1+2=8$ï¼Œä¸€èˆ¬é—®é¢˜ä¸ªæ•°ä¸º$2+5+3+3+0=13$ï¼Œ$DIå€¼=8</em>5+13<em>2=66&gt;é˜ˆå€¼40$ï¼Œæ•…äº‘æœåŠ¡aæ˜¯é£é™©äº‘æœåŠ¡ï¼›<br>äº‘æœåŠ¡fä¸¥é‡é—®é¢˜ä¸ªæ•°ä¸º$8+0=8$ï¼Œä¸€èˆ¬é—®é¢˜ä¸ªæ•°ä¸º$10+2=12$ï¼Œ$Då€¼=8</em>5+12<em>2=64&gt;é˜ˆå€¼40$ï¼Œæ•…äº‘æœåŠ¡fä¹Ÿæ˜¯é£é™©äº‘æœåŠ¡;<br>äº‘æœåŠ¡hä¸¥é‡é—®é¢˜ä¸ªæ•°ä¸º$4$,ä¸€èˆ¬é—®é¢˜ä¸ªæ•°ä¸º$0$ï¼Œ$DIå€¼=4</em>5+0*2=20&lt;=é˜ˆå€¼40$ï¼Œæ•…äº‘æœåŠ¡hä¸æ˜¯é£é™©äº‘æœåŠ¡;<br>å› æ­¤è¯¥æ ·ä¾‹æœ‰2ä¸ªé£é™©äº‘æœåŠ¡ã€‚</p>
</blockquote>
<h3 id="2-4-è¾“å…¥æ ·ä¾‹2"><a href="#2-4-è¾“å…¥æ ·ä¾‹2" class="headerlink" title="2.4 è¾“å…¥æ ·ä¾‹2"></a>2.4 è¾“å…¥æ ·ä¾‹2</h3><h4 id="2-4-1-è¾“å…¥2"><a href="#2-4-1-è¾“å…¥2" class="headerlink" title="2.4.1 è¾“å…¥2"></a>2.4.1 è¾“å…¥2</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">50 10</span><br><span class="line">b a 1 5</span><br><span class="line">a * 0 2</span><br><span class="line">b a 0 3</span><br><span class="line">c a 1 3</span><br><span class="line">d a 0 1</span><br><span class="line">a * 1 2</span><br><span class="line">d a 1 3</span><br><span class="line">e b 0 2</span><br><span class="line">f b 1 1</span><br><span class="line">g c 1 2</span><br></pre></td></tr></tbody></table></figure>
<h4 id="2-4-2-è¾“å‡º2"><a href="#2-4-2-è¾“å‡º2" class="headerlink" title="2.4.2 è¾“å‡º2"></a>2.4.2 è¾“å‡º2</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">1</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š<br><code>a * 0 2</code>è¡¨ç¤ºèŠ‚ç‚¹aæœ‰2ä¸ªä¸¥é‡é—®é¢˜ï¼Œ$<em>$è¡¨ç¤ºæ— çˆ¶èŠ‚ç‚¹ï¼Œå³aä¸ºäº‘æœåŠ¡ã€‚<br><code>b a 1 5</code>è¡¨ç¤ºèŠ‚ç‚¹bæœ‰5ä¸ªä¸€èˆ¬é—®é¢˜ï¼Œbçš„çˆ¶èŠ‚ç‚¹æ˜¯$a$<br>å¯ä»¥çœ‹å‡ºï¼Œè¯¥æ ·ä¾‹åªæœ‰1ä¸ªäº‘æœåŠ¡aã€‚<br>ä¸¥é‡é—®é¢˜ä¸ªæ•°ä¸º$2+3+0+1+2+0+0=8$ï¼Œä¸€èˆ¬é—®é¢˜ä¸ªæ•°ä¸º$2+5+3+3+0+1+2=16$ï¼Œ$DIå€¼=8</em>5+16*2=72&gt;é˜ˆå€¼50$ï¼Œæ•…äº‘æœåŠ¡aæ˜¯é£é™©äº‘æœåŠ¡ï¼›<br>å› æ­¤è¯¥æ ·ä¾‹æœ‰1ä¸ªé£é™©äº‘æœåŠ¡ã€‚</p>
</blockquote>
<h3 id="2-5-è§£é¢˜æ€è·¯"><a href="#2-5-è§£é¢˜æ€è·¯" class="headerlink" title="2.5 è§£é¢˜æ€è·¯"></a>2.5 è§£é¢˜æ€è·¯</h3><ul>
<li>çœ‹èµ·æ¥å¾ˆå¤æ‚ï¼Œä½†å…¶å®å°±æ˜¯æ„å»ºæ ‘ï¼Œå¯¹æ¯æ£µæ ‘ä¸Šæ¯ä¸ªèŠ‚ç‚¹çš„ä¸€èˆ¬é—®é¢˜å’Œä¸¥é‡é—®é¢˜è¿›è¡Œç»Ÿè®¡ï¼Œç„¶ååŠ æƒè®¡ç®—é£é™©å€¼</li>
<li>ç”¨ä¸¤ä¸ªcntçš„mapå­˜æ¯ä¸ªèŠ‚ç‚¹ä¸€èˆ¬é—®é¢˜å’Œä¸¥é‡é—®é¢˜æ•°é‡</li>
<li>ç”¨ä¸€ä¸ªparentçš„mapå­˜èŠ‚ç‚¹å’Œçˆ¶èŠ‚ç‚¹çš„å…³ç³»<ul>
<li>å‘ä¸Šè¿­ä»£æ‰¾åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æ ¹èŠ‚ç‚¹ï¼Œå°†å½“å‰èŠ‚ç‚¹çš„ä¸¤ä¸ªcntåŠ åˆ°æ ¹èŠ‚ç‚¹ä¸Š</li>
</ul>
</li>
<li>ç”¨ä¸€ä¸ªsetå­˜æ ¹èŠ‚ç‚¹<ul>
<li>éå†æ ¹èŠ‚ç‚¹ï¼Œä»ä¸¤ä¸ªcntä¸­æ‹¿åˆ°å€¼è¿›è¡ŒåŠ æƒè®¡ç®—åˆ¤æ–­è¶…å‡ºèŒƒå›´çš„æ ¹èŠ‚ç‚¹æœ‰å¤šå°‘</li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> PastPapers.HUAWEI0417.Q2;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.HashMap;</span><br><span class="line"><span class="keyword">import</span> java.util.HashSet;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        String[] mn = in.nextLine().split(<span class="string">" "</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> Integer.parseInt(mn[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> Integer.parseInt(mn[<span class="number">1</span>]);</span><br><span class="line">        Map&lt;String, String&gt; parent = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();   <span class="comment">// è®°å½•èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹</span></span><br><span class="line">        Map&lt;String, Integer&gt; cnt1 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();    <span class="comment">// è®°å½•èŠ‚ç‚¹çš„å€¼ä¸º0çš„ä¸ªæ•°</span></span><br><span class="line">        Map&lt;String, Integer&gt; cnt2 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();    <span class="comment">// è®°å½•èŠ‚ç‚¹çš„å€¼ä¸º1çš„ä¸ªæ•°</span></span><br><span class="line">        Set&lt;String&gt; st = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();               <span class="comment">// è®°å½•æ ¹èŠ‚ç‚¹</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// process input</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">            String[] strs = in.nextLine().split(<span class="string">" "</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">u</span> <span class="operator">=</span> strs[<span class="number">0</span>];</span><br><span class="line">            <span class="type">String</span> <span class="variable">v</span> <span class="operator">=</span> strs[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> Integer.parseInt(strs[<span class="number">2</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> Integer.parseInt(strs[<span class="number">3</span>]);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­çˆ¶èŠ‚ç‚¹è¿˜æ˜¯å­èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(v.equals(<span class="string">"*"</span>)){</span><br><span class="line">                <span class="comment">// stå­˜çš„æ˜¯æ¯ä¸€æ£µæ ‘çš„æ ¹èŠ‚ç‚¹</span></span><br><span class="line">                st.add(u);</span><br><span class="line">                <span class="keyword">if</span>(x == <span class="number">0</span>) cnt1.put(u, cnt1.getOrDefault(u, <span class="number">0</span>)+y);</span><br><span class="line">                <span class="keyword">else</span> cnt2.put(u, cnt2.getOrDefault(u, <span class="number">0</span>)+y);</span><br><span class="line">            } <span class="keyword">else</span>{</span><br><span class="line">                <span class="comment">//è®°å½•èŠ‚ç‚¹uçš„çˆ¶èŠ‚ç‚¹æ˜¯v</span></span><br><span class="line">                parent.put(u, v);</span><br><span class="line">                <span class="keyword">if</span>(x == <span class="number">0</span>) cnt1.put(u, cnt1.getOrDefault(u, <span class="number">0</span>)+y);</span><br><span class="line">                <span class="keyword">else</span> cnt2.put(u, cnt2.getOrDefault(u, <span class="number">0</span>)+y);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// update æ¯ä¸ªèŠ‚ç‚¹çš„0å’Œ1çš„ä¸ªæ•°åˆ°æ ¹èŠ‚ç‚¹ä¸Š</span></span><br><span class="line">        <span class="keyword">for</span>(Map.Entry&lt;String, String&gt; entry: parent.entrySet()){</span><br><span class="line">            <span class="comment">// éå†æ‰€æœ‰éæ ¹èŠ‚ç‚¹ï¼Œä¹Ÿå°±æ˜¯éå†parent,æ‹¿åˆ°entry</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">u</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">            <span class="comment">// å‘ä¸Šæ‰¾åˆ°æ ¹èŠ‚ç‚¹</span></span><br><span class="line">            <span class="keyword">while</span> (parent.containsKey(u)){</span><br><span class="line">                u = parent.get(u);</span><br><span class="line">            }</span><br><span class="line">            <span class="comment">// æ›´æ–°æ ¹èŠ‚ç‚¹çš„cnt1å’Œcnt2</span></span><br><span class="line">            cnt1.put(u, cnt1.getOrDefault(u, <span class="number">0</span>)+cnt1.getOrDefault(entry.getKey(), <span class="number">0</span>));</span><br><span class="line">            cnt2.put(u, cnt2.getOrDefault(u, <span class="number">0</span>)+cnt2.getOrDefault(entry.getKey(), <span class="number">0</span>));</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        <span class="comment">// iterate the root node</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(String s: st){</span><br><span class="line">            <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> <span class="number">5</span> * cnt1.getOrDefault(s, <span class="number">0</span>) + <span class="number">2</span> * cnt2.getOrDefault(s, <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">if</span>(val &gt; m) ans++;</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        System.out.println(ans);</span><br><span class="line">        in.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3-äº‘ä¸Šæ•…éšœé€ƒç”Ÿ"><a href="#3-äº‘ä¸Šæ•…éšœé€ƒç”Ÿ" class="headerlink" title="3. äº‘ä¸Šæ•…éšœé€ƒç”Ÿ"></a>3. äº‘ä¸Šæ•…éšœé€ƒç”Ÿ</h2><p>åœ¨äº‘ä¸Šå¤šä¸ªä¸šåŠ¡èŠ‚ç‚¹ä¹‹é—´é€‰æ‹©æœ€å¿«çš„é€ƒç”ŸèŠ‚ç‚¹é›†ï¼Œå¹¶è€ƒè™‘æ¯ä¸ªèŠ‚ç‚¹çš„å‰©ä½™ä¸šåŠ¡å®¹é‡ã€‚æœ‰ä¸€ä¸ªç½‘ç»œæ—¶å»¶è¡¨ï¼Œè¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹åˆ°å…¶ä»–èŠ‚ç‚¹çš„é€šä¿¡å»¶è¿Ÿ;è¿˜æœ‰ä¸€ä¸ªå‰©ä½™ä¸šåŠ¡å®¹é‡è¡¨ï¼Œè¡¨ç¤ºæ¯ä¸ªèŠ‚ç‚¹çš„å‰©ä½™ä¸šåŠ¡å®¹é‡ã€‚åœ¨ä¸€ä¸ªèŠ‚ç‚¹æ•…éšœæ—¶ï¼Œéœ€è¦é€‰æ‹©ä¸€ä¸ªæˆ–å¤šä¸ªé€ƒç”ŸèŠ‚ç‚¹ï¼Œç¡®ä¿é€ƒç”Ÿè·¯å¾„çš„æ—¶å»¶æœ€å°ï¼Œå¹¶ä¸”é€ƒç”ŸèŠ‚ç‚¹é›†å„èŠ‚ç‚¹å‰©ä½™å®¹é‡çš„æ€»å’Œè¶³å¤Ÿå®¹çº³æ•…éšœèŠ‚ç‚¹çš„ä¸šåŠ¡é‡ï¼Œå½“æ•…éšœèŠ‚ç‚¹ä¸å¤šä¸ªèŠ‚ç‚¹æœ€çŸ­è·ç¦»ç›¸åŒï¼Œä¼˜å…ˆé€‰æ‹©ç¼–å·è¾ƒå°çš„èŠ‚ç‚¹å®¹ç¾ï¼Œå¦‚æœé€ƒç”ŸèŠ‚ç‚¹é›†ä¸­å¤šä¸ªèŠ‚ç‚¹æœ€çŸ­è·ç¦»ç›¸åŒæ—¶æŒ‰ç¼–å·ä»å°åˆ°å¤§çš„é¡ºåºæ’åˆ—ã€‚</p>
<h3 id="3-1-è¾“å…¥æè¿°"><a href="#3-1-è¾“å…¥æè¿°" class="headerlink" title="3.1 è¾“å…¥æè¿°"></a>3.1 è¾“å…¥æè¿°</h3><ul>
<li>ç¬¬1è¡Œnè¡¨ç¤ºäº‘ä¸Šä¸šåŠ¡èŠ‚ç‚¹æ•°ï¼Œ$2&lt;=n&lt;=10000$ï¼ŒèŠ‚ç‚¹ç¼–å·ä»0å¼€å§‹ï¼Œä¾æ¬¡é€’å¢ï¼›</li>
<li>ç¬¬2åˆ°1+nè¡Œè¡¨ç¤ºä¸šåŠ¡èŠ‚ç‚¹é—´çš„ç½‘ç»œæ—¶å»¶çŸ©é˜µè¡¨$delayMatrix$ï¼Œ$delayMatrix[i][j]$è¡¨ç¤ºèŠ‚ç‚¹$i$åˆ°èŠ‚ç‚¹$j$çš„é€šä¿¡æ—¶å»¶;<ul>
<li>å¦‚æœèŠ‚ç‚¹$i$å’ŒèŠ‚ç‚¹$j$ä¹‹é—´æ²¡æœ‰ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œåˆ™$delayMatrix[i][j]$ä¸º$-1$ï¼Œç¬¬ä¸ª$i$èŠ‚ç‚¹å’Œå®ƒè‡ªå·±ä¹Ÿæ²¡æœ‰è¾¹ï¼Œæ‰€ä»¥$delayMatrix[i][i]=-1$</li>
<li>èŠ‚ç‚¹é—´æœ‰è¾¹æ—¶å»¶èŒƒå›´ä¸º$1&lt;=delayMatrix[i][j]&lt;=1000$ï¼ŒçŸ©é˜µå…ƒç´ é—´ä½¿ç”¨ç©ºæ ¼åˆ†å‰²</li>
<li>å¦ï¼Œè¾“å…¥ä¿è¯$delayMatrix[i][j] == delayMatrix[j][i]$</li>
</ul>
</li>
<li>ç¬¬2+nè¡Œè¡¨ç¤ºå„ä¸šåŠ¡èŠ‚ç‚¹çš„å‰©ä½™å®¹é‡è¡¨$remainingCapacity$ï¼Œå…¶ä¸­$remainingCapacity[i]$è¡¨ç¤ºèŠ‚ç‚¹$i$çš„å‰©ä½™ä¸šåŠ¡å®¹é‡ï¼Œä¸šåŠ¡é‡çš„èŒƒå›´$1&lt;=remmainingCapacity[i]&lt;=100$ï¼Œæ•°ç»„å…ƒç´ é—´ä½¿ç”¨ç©ºæ ¼åˆ†å‰²;</li>
<li>ç¬¬3+nè¡Œè¡¨ç¤ºæ•…éšœä¸šåŠ¡èŠ‚ç‚¹ç¼–å·$faultyNode$ï¼Œè¡¨ç¤ºå‘ç”Ÿæ•…éšœçš„èŠ‚ç‚¹ï¼Œå–å€¼èŒƒå›´ä¸º$0&lt;=faultyNode&lt;=n-1$</li>
<li>ç¬¬4+nè¡Œè¡¨ç¤ºå—æŸä¸šåŠ¡èŠ‚ç‚¹éœ€è¦è¿ç§»çš„ä¸šåŠ¡é‡ï¼Œå—æŸä¸šåŠ¡é‡çš„èŒƒå›´$(0- 1000]$ã€‚</li>
</ul>
<h3 id="3-2-è¾“å‡ºæè¿°"><a href="#3-2-è¾“å‡ºæè¿°" class="headerlink" title="3.2 è¾“å‡ºæè¿°"></a>3.2 è¾“å‡ºæè¿°</h3><p>è¿”å›ç¬¦åˆæ¡ä»¶çš„é€ƒç”Ÿè·¯å¾„èŠ‚ç‚¹ç¼–å·åˆ—è¡¨(ä»¥å•ç©ºæ ¼é—´éš”)ï¼Œå½“æ‰€æœ‰èŠ‚ç‚¹éƒ½ä¸å¤Ÿæ•…éšœèŠ‚ç‚¹ä¸šåŠ¡å®¹ç¾çš„æ—¶å€™è¾“å‡ºæ‰€æœ‰å®¹ç¾èŠ‚ç‚¹ã€‚</p>
<h3 id="3-3-è¾“å…¥æ ·ä¾‹1"><a href="#3-3-è¾“å…¥æ ·ä¾‹1" class="headerlink" title="3.3 è¾“å…¥æ ·ä¾‹1"></a>3.3 è¾“å…¥æ ·ä¾‹1</h3><h4 id="3-3-1-è¾“å…¥1"><a href="#3-3-1-è¾“å…¥1" class="headerlink" title="3.3.1 è¾“å…¥1"></a>3.3.1 è¾“å…¥1</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4</span><br><span class="line">-1 5 -1 8</span><br><span class="line">5 -1 1 3</span><br><span class="line">-1 1 -1 4</span><br><span class="line">8 3 4 -1</span><br><span class="line">10 20 15 25</span><br><span class="line">2</span><br><span class="line">12</span><br></pre></td></tr></tbody></table></figure>
<h4 id="3-3-2-è¾“å‡º1"><a href="#3-3-2-è¾“å‡º1" class="headerlink" title="3.3.2 è¾“å‡º1"></a>3.3.2 è¾“å‡º1</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">1</span><br></pre></td></tr></tbody></table></figure>
<h4 id="3-3-3-è§£é‡Š1"><a href="#3-3-3-è§£é‡Š1" class="headerlink" title="3.3.3 è§£é‡Š1"></a>3.3.3 è§£é‡Š1</h4><div><div class="graphviz">digraph G {
    rankdir=TB;
    ranksep=0.5;
    nodesep=1.5;
    {
        rank=same; 0; 1;
    }
    {
        rank=same; 2; 3;
    }

    0 [label="Node 0\n10", fillcolor=lightblue, style=filled];
    1 [label="Node 1\n20", fillcolor=lightblue, style=filled];
    2 [label="Node 2\n15", fillcolor=red, style=filled];
    3 [label="Node 3\n25", fillcolor=lightblue, style=filled];

    0 -&gt; 1 [label="5", dir="both"];
    1 -&gt; 2 [label="1", dir="both"];
    1 -&gt; 3 [label="3", dir="both"];
    0 -&gt; 3 [label="8", dir="both"];
    2 -&gt; 3 [label="4", dir="both"];
}</div></div>

<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Node</th>
<th style="text-align:center">0</th>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">minDist</td>
<td style="text-align:center">6</td>
<td style="text-align:center">1</td>
<td style="text-align:center">âˆ</td>
<td style="text-align:center">4</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>è¯´æ˜ï¼š<br>åœ¨ç»™å®šçš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œå‡è®¾èŠ‚ç‚¹$2$å‘ç”Ÿæ•…éšœï¼Œéœ€è¦è¿ç§»ä¸šåŠ¡é‡ä¸º$12$<br>ç¦»æ•…éšœèŠ‚ç‚¹$2$æ—¶å»¶æ’åºä¸º$1,3,0$ï¼Œæ•…éšœèŠ‚ç‚¹è¦è½¬ç§»çš„ä¸šåŠ¡é‡ä¸º$12$ï¼Œè€ŒèŠ‚ç‚¹$1$çš„å¯å®¹ç¾ä½™é‡ä¸º$20$ï¼Œè¶³å¤Ÿå®¹çº³æ•…éšœèŠ‚ç‚¹$2$çš„å—ç¾ä¸šåŠ¡ï¼Œæ‰€ä»¥è¯¥æµ‹è¯•ç”¨ä¾‹çš„æœŸæœ›è¾“å‡ºæ˜¯<code>1</code>ã€‚</p>
</blockquote>
<h3 id="3-4-è¾“å…¥æ ·ä¾‹2"><a href="#3-4-è¾“å…¥æ ·ä¾‹2" class="headerlink" title="3.4 è¾“å…¥æ ·ä¾‹2"></a>3.4 è¾“å…¥æ ·ä¾‹2</h3><h4 id="3-4-1-è¾“å…¥2"><a href="#3-4-1-è¾“å…¥2" class="headerlink" title="3.4.1 è¾“å…¥2"></a>3.4.1 è¾“å…¥2</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4</span><br><span class="line">-1 5 -1 8</span><br><span class="line">5 -1 1 3</span><br><span class="line">-1 1 -1 4</span><br><span class="line">8 3 4 -1</span><br><span class="line">10 20 15 25</span><br><span class="line">2</span><br><span class="line">50</span><br></pre></td></tr></tbody></table></figure>
<h4 id="3-4-2-è¾“å‡º2"><a href="#3-4-2-è¾“å‡º2" class="headerlink" title="3.4.2 è¾“å‡º2"></a>3.4.2 è¾“å‡º2</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">1 3 0</span><br></pre></td></tr></tbody></table></figure>
<h4 id="3-4-3è§£é‡Š2"><a href="#3-4-3è§£é‡Š2" class="headerlink" title="3.4.3è§£é‡Š2"></a>3.4.3è§£é‡Š2</h4><div><div class="graphviz">digraph G {
    rankdir=TB;
    ranksep=0.5;
    nodesep=1.5;
    {
        rank=same; 0; 1;
    }
    {
        rank=same; 2; 3;
    }

    0 [label="Node 0\n10", fillcolor=lightblue, style=filled];
    1 [label="Node 1\n20", fillcolor=lightblue, style=filled];
    2 [label="Node 2\n30", fillcolor=red, style=filled];
    3 [label="Node 3\n25", fillcolor=lightblue, style=filled];

    0 -&gt; 1 [label="5", dir="both"];
    1 -&gt; 2 [label="1", dir="both"];
    1 -&gt; 3 [label="3", dir="both"];
    0 -&gt; 3 [label="8", dir="both"];
    2 -&gt; 3 [label="4", dir="both"];
}</div></div>

<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Node</th>
<th style="text-align:center">0</th>
<th style="text-align:center">1</th>
<th style="text-align:center">2</th>
<th style="text-align:center">3</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">minDist</td>
<td style="text-align:center">6</td>
<td style="text-align:center">1</td>
<td style="text-align:center">âˆ</td>
<td style="text-align:center">4</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>è¯´æ˜ï¼š<br>åœ¨ç»™å®šçš„æµ‹è¯•ç”¨ä¾‹ä¸­ï¼Œå‡è®¾èŠ‚ç‚¹$2$å‘ç”Ÿæ•…éšœï¼Œéœ€è¦è¿ç§»ä¸šåŠ¡é‡ä¸º$50$<br>ç¦»æ•…éšœèŠ‚ç‚¹$2$æ—¶å»¶æ’åºä¸º$1,3,0$ï¼Œæ•…éšœèŠ‚ç‚¹è¦è½¬ç§»çš„ä¸šåŠ¡é‡ä¸º$12$ï¼Œè€ŒèŠ‚ç‚¹$1$çš„å¯å®¹ç¾ä½™é‡ä¸º$20$ï¼Œä¸å¤Ÿå®¹çº³æ•…éšœèŠ‚ç‚¹$2$çš„å—ç¾ä¸šåŠ¡$30$ï¼Œæ‰€ä»¥è¿˜éœ€æ‰¾ç¦»èŠ‚ç‚¹$2$æ¬¡è¿‘çš„èŠ‚ç‚¹$3$ï¼ŒèŠ‚ç‚¹$3$çš„å¯å®¹ç¾ä½™é‡ä¸º$25$ï¼ŒèŠ‚ç‚¹$1$çš„å¯å®¹ç¾ä½™é‡$20$å’ŒèŠ‚ç‚¹$3$çš„å¯å®¹ç¾ä½™é‡$25$çš„æ€»å’Œä¸º$45$å°äºæ•…éšœé‡$50$ï¼Œéœ€è¦å¢åŠ $0$èŠ‚ç‚¹æ¥å®¹ç¾ï¼ŒèŠ‚ç‚¹$0$çš„å®¹ç¾ä½™é‡ä¸º$10$ï¼ŒèŠ‚ç‚¹$1,3,0$æ€»å®¹ç¾ä½™é‡ä¸º$55$ï¼Œå¤§äºå—ç¾èŠ‚ç‚¹çš„ä¸šåŠ¡é‡$50$ï¼Œæ‰€ä»¥è¯¥æµ‹è¯•ç”¨ä¾‹çš„æœŸæœ›è¾“å‡ºæ˜¯<code>1 3 0</code>ã€‚</p>
</blockquote>
<h3 id="3-5-è§£é¢˜æ€è·¯"><a href="#3-5-è§£é¢˜æ€è·¯" class="headerlink" title="3.5 è§£é¢˜æ€è·¯"></a>3.5 è§£é¢˜æ€è·¯</h3><ul>
<li>ä¸»è¦æ˜¯ç”¨$Dijkstra$ç®—æ³•</li>
</ul>
<ol>
<li>é€šè¿‡<code>Scanner</code>ä»è¾“å…¥ä¸­è¯»å–æ•°æ®ã€‚é¦–å…ˆè¯»å–ä¸€ä¸ªæ•´æ•°<code>n</code>ï¼Œå®ƒè¡¨ç¤ºå›¾ä¸­çš„èŠ‚ç‚¹æ•°é‡ã€‚åˆå§‹åŒ–ä¸€ä¸ªäºŒç»´æ•°ç»„<code>g</code>å’Œä¸€ä¸ªä¸€ç»´æ•°ç»„<code>cap</code>ï¼Œ<code>g</code>ç”¨äºå­˜å‚¨å›¾çš„è·ç¦»çš„é‚»æ¥çŸ©é˜µï¼Œ<code>cap</code>ç”¨äºå­˜å‚¨æ¯ä¸ªèŠ‚ç‚¹çš„å®¹é‡ã€‚</li>
<li>è¯»å–æ•…éšœèŠ‚ç‚¹<code>nodeIndex</code>å’Œå—ç¾ä¸šåŠ¡å®¹é‡<code>faulty</code>ã€‚</li>
<li>$dijkstra$å‡½æ•°ï¼Œä¼ å…¥å›¾çš„é‚»æ¥çŸ©é˜µå’Œæ•…éšœèŠ‚ç‚¹çš„ç´¢å¼•ï¼Œå¾—åˆ°ä»æ•…éšœèŠ‚ç‚¹åˆ°å…¶ä»–æ‰€æœ‰èŠ‚ç‚¹çš„æœ€çŸ­è·¯å¾„ã€‚ç»“æœæ˜¯ä¸€ä¸ªäºŒç»´æ•°ç»„<code>res</code>ï¼Œæ¯ä¸ªå…ƒç´ æ˜¯ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå…ƒç´ çš„æ•°ç»„ï¼Œç¬¬ä¸€ä¸ªå…ƒç´ æ˜¯è·ç¦»ï¼Œç¬¬äºŒä¸ªå…ƒç´ æ˜¯èŠ‚ç‚¹ç´¢å¼•ã€‚</li>
<li>å¯¹$dijkstra$çš„ç»“æœè¿›è¡Œè‡ªå®šä¹‰æ’åºã€‚é¦–å…ˆæŒ‰ç…§è·ç¦»æ’åºï¼Œå¦‚æœè·ç¦»ç›¸åŒï¼Œåˆ™æŒ‰ç…§èŠ‚ç‚¹ç´¢å¼•æ’åºã€‚</li>
<li>åˆå§‹åŒ–ä¸€ä¸ª<code>StringBuilder</code>ç”¨äºå­˜å‚¨ç»“æœï¼Œåˆå§‹åŒ–ä¸€ä¸ªå˜é‡<code>sum</code>ç”¨äºå­˜å‚¨ç´¯è®¡çš„å®¹é‡ã€‚</li>
<li>éå†æ’åºåçš„ç»“æœï¼Œç´¯åŠ æ¯ä¸ªèŠ‚ç‚¹çš„å®¹é‡åˆ°<code>sum</code>ï¼Œå¹¶å°†èŠ‚ç‚¹ç´¢å¼•æ·»åŠ åˆ° <code>StringBuilder</code>ã€‚å½“<code>sum</code>å¤§äºç­‰äº<code>faulty</code>æ—¶ï¼Œåœæ­¢éå†ã€‚</li>
<li>åˆ é™¤<code>StringBuilder</code>æœ€åä¸€ä¸ªå­—ç¬¦ï¼ˆä¸€ä¸ªå¤šä½™çš„ç©ºæ ¼ï¼‰ï¼Œè¾“å‡ºç»“æœã€‚</li>
</ol>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> Integer.parseInt(in.nextLine().split(<span class="string">" "</span>)[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span>[][] g = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="type">int</span>[] cap = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">            String[] tempDelay = in.nextLine().split(<span class="string">" "</span>);</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++){</span><br><span class="line">                g[i][j] = Integer.parseInt(tempDelay[j]);</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        String[] tempCap = in.nextLine().split(<span class="string">" "</span>);</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">            cap[i] = Integer.parseInt(tempCap[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="type">int</span> <span class="variable">nodeIndex</span> <span class="operator">=</span> Integer.parseInt(in.nextLine().split(<span class="string">" "</span>)[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span> <span class="variable">faulty</span> <span class="operator">=</span> Integer.parseInt(in.nextLine().split(<span class="string">" "</span>)[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">int</span>[][] res = dijkstra(g, nodeIndex);</span><br><span class="line">        Arrays.sort(res, (a, b)-&gt;a[<span class="number">0</span>]==b[<span class="number">0</span>] ? a[<span class="number">1</span>]-b[<span class="number">1</span>] : a[<span class="number">0</span>]-b[<span class="number">0</span>]);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n; i++){</span><br><span class="line">            sum += cap[res[i][<span class="number">1</span>]];</span><br><span class="line">            ans.append(res[i][<span class="number">1</span>]);</span><br><span class="line">            ans.append(<span class="string">' '</span>);</span><br><span class="line">            <span class="keyword">if</span>(sum&gt;=faulty) <span class="keyword">break</span>;</span><br><span class="line">        }</span><br><span class="line">        ans.deleteCharAt(ans.length()-<span class="number">1</span>);</span><br><span class="line">        System.out.println(ans);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] dijkstra(<span class="type">int</span>[][] g, <span class="type">int</span> s){</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> g.length;</span><br><span class="line">        <span class="type">int</span>[] dist = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        Arrays.fill(dist, Integer.MAX_VALUE);</span><br><span class="line">        dist[s] = <span class="number">0</span>;</span><br><span class="line">        <span class="type">boolean</span>[] vis = <span class="keyword">new</span> <span class="title class_">boolean</span>[n];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">            <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++){</span><br><span class="line">                <span class="keyword">if</span>(!vis[j]&amp;&amp;(t==-<span class="number">1</span>||(dist[t]&gt;dist[j]))){</span><br><span class="line">                    t=j;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            vis[t] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++){</span><br><span class="line">                <span class="keyword">if</span>(g[t][j]&lt;<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">                <span class="keyword">if</span>(dist[t]+g[t][j]&lt;dist[j]){</span><br><span class="line">                    dist[j] = dist[t]+g[t][j];</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="type">int</span>[][] res = <span class="keyword">new</span> <span class="title class_">int</span>[n][<span class="number">2</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">            res[i][<span class="number">0</span>] = dist[i];</span><br><span class="line">            res[i][<span class="number">1</span>] = i;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> res;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>LinkedList</tag>
        <tag>UndirectedGraph</tag>
        <tag>BackTrack</tag>
      </tags>
  </entry>
  <entry>
    <title>Ubuntu lose internet</title>
    <url>/2024/05/02/Lose%20Internet%20Ubuntu/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Ubuntuç½‘ç»œé…ç½®ä¸¢å¤±</p>
<ul>
<li>èµ·å› æ˜¯è¿™æ ·ï¼Œçªç„¶æœ‰ä¸€å¤©è¿œç¨‹å¼€å‘è¿ä¸ä¸Šäº†ï¼Œäºæ˜¯ä¹å…ˆå¼€å§‹æ’æŸ¥æ˜¯ä¸æ˜¯æ ¡å›­ç½‘çš„éƒ¨åˆ†ç«¯å£è¢«Banäº†ï¼Œå› ä¸ºæœ€è¿‘çš„$Bing.com$å°±ä¸€ç›´è®¿é—®ä¸ä¸Šï¼Œä½†æ˜¯æ”¹å˜ç½‘ç»œæ¥å…¥åä»ç„¶æ²¡ç”¨ã€‚</li>
<li>æƒ³åˆ°ä¼šä¸ä¼šæ˜¯å› ä¸ºä¹‹å‰ç³»ç»Ÿæ²¡æœ‰æ­£å¸¸å…³æœºå¯¼è‡´ä¸€äº›VMwareç½‘ç»œé…ç½®é”™è¯¯ï¼Œæ’æŸ¥å’Œé‡ç½®äº†æ¡¥æ¥ã€Natæ¨¡å¼ï¼Œå‘ç°éƒ½æ²¡æœ‰é—®é¢˜</li>
<li>å¼€å§‹æ£€æŸ¥Ubuntuçš„çš„ç½‘ç»œé…ç½®ï¼Œå‘ç°åœ¨<code>Settings-NetWork</code>ä¸­ï¼Œåªæœ‰ä¸€ä¸ª$VPN$é…ç½®ï¼Œæ²¡æœ‰å…¶ä»–çš„ç½‘ç»œé…ç½®ï¼ŒæŒ‰ç†è¯´åº”è¯¥æœ‰<code>Wired</code>ï¼Œè¿™å°±å¾ˆå¥‡æ€ªäº†ï¼Œå› ä¸ºä¹‹å‰æ˜¯æœ‰é…ç½®çš„ï¼Œè€Œä¸”ä¹Ÿæ²¡æœ‰åˆ é™¤è¿‡å¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚</li>
</ul>
<p><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>:clock16:<span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<span id="more"></span>
<hr>
<h2 id="æ‰¾åˆ°é—®é¢˜"><a href="#æ‰¾åˆ°é—®é¢˜" class="headerlink" title="æ‰¾åˆ°é—®é¢˜"></a>æ‰¾åˆ°é—®é¢˜</h2><p>åœ¨ Ubuntu ä¸­ï¼ŒNetworkManager æ˜¯ä¸€ä¸ªç”¨äºç®¡ç†ç½‘ç»œè¿æ¥çš„ç³»ç»Ÿå®ˆæŠ¤è¿›ç¨‹ã€‚é€šè¿‡ä¿®æ”¹ NetworkManager.conf æ–‡ä»¶ï¼Œä½ å¯ä»¥å¯¹ NetworkManager çš„è¡Œä¸ºè¿›è¡Œä¸€äº›é…ç½®ã€‚</p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œé€šè¿‡ä¿®æ”¹ NetworkManager.confï¼Œä½ å¯ä»¥å®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š</p>
<ol>
<li>ä¿®æ”¹ DNS é…ç½®ï¼š<ul>
<li>ä½ å¯ä»¥åœ¨ NetworkManager.conf ä¸­æŒ‡å®š DNS æœåŠ¡å™¨çš„åœ°å€ï¼Œè¿™æ · NetworkManager åœ¨é…ç½®ç½‘ç»œè¿æ¥æ—¶å°†ä½¿ç”¨ä½ æŒ‡å®šçš„ DNS æœåŠ¡å™¨ã€‚</li>
</ul>
</li>
<li>é…ç½®ç½‘ç»œç®¡ç†ï¼š<ul>
<li>é€šè¿‡ä¿®æ”¹ NetworkManager.confï¼Œä½ å¯ä»¥å¯¹ NetworkManager çš„è¡Œä¸ºè¿›è¡Œä¸€äº›é…ç½®ï¼Œæ¯”å¦‚é…ç½®è¿æ¥ä¼˜å…ˆçº§ã€ç¦ç”¨ç‰¹å®šçš„ç½‘ç»œåŠŸèƒ½ç­‰ã€‚</li>
</ul>
</li>
<li>ä¿®æ”¹æ’ä»¶è¡Œä¸ºï¼š<ul>
<li>NetworkManager é€šè¿‡æ’ä»¶æ¥ç®¡ç†ä¸åŒç±»å‹çš„ç½‘ç»œè¿æ¥ï¼Œä½ å¯ä»¥é€šè¿‡ä¿®æ”¹ NetworkManager.conf æ¥é…ç½®è¿™äº›æ’ä»¶çš„è¡Œä¸ºã€‚</li>
</ul>
</li>
</ol>
<ul>
<li>é—®é¢˜å°±å¤„åœ¨è¿™ä¸ª<code>NetworkManager</code>ä¸­ï¼Œé…ç½®æ–‡ä»¶<code>/etc/NetworkManager/NetworkManager.conf</code>ä¸­çš„<code>ifupdown</code>æ’ä»¶æ²¡æœ‰å¯ç”¨ï¼Œå¯¼è‡´<code>/etc/network/interfaces</code>ä¸­çš„é…ç½®æ— æ³•ç”Ÿæ•ˆã€‚</li>
</ul>
<h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><ol>
<li><p>æ£€æŸ¥<code>/etc/network/interfaces</code>æ–‡ä»¶</p>
<ul>
<li><code>sudo vim /etc/network/interfaces</code></li>
<li><p>ç¡®è®¤æ˜¯å¦æœ‰é…ç½®æ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹é…ç½®ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">auto lo</span><br><span class="line">iface lo inet loopback</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>auto lo</code>ï¼šè¿™ä¸ªæŒ‡ä»¤å‘Šè¯‰ç³»ç»Ÿåœ¨å¯åŠ¨æ—¶è‡ªåŠ¨æ¿€æ´»æœ¬åœ°å›ç¯æ¥å£ã€‚æœ¬åœ°å›ç¯æ¥å£æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„ç½‘ç»œæ¥å£ï¼Œç”¨äºç³»ç»Ÿå†…éƒ¨çš„ç½‘ç»œé€šä¿¡ï¼Œå…è®¸è®¡ç®—æœºä¸è‡ªèº«è¿›è¡Œé€šä¿¡ã€‚é€šè¿‡è®¾ç½® <code>auto lo</code>ï¼Œç³»ç»Ÿåœ¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ¿€æ´»æœ¬åœ°å›ç¯æ¥å£ï¼Œç¡®ä¿ç³»ç»Ÿå†…éƒ¨çš„ç½‘ç»œé€šä¿¡æ­£å¸¸å·¥ä½œã€‚</p>
</li>
<li><code>iface lo inet loopback</code>ï¼šè¿™è¡ŒæŒ‡ä»¤å®šä¹‰äº†æœ¬åœ°å›ç¯æ¥å£çš„é…ç½®ã€‚<code>iface</code> è¡¨ç¤ºæ¥å£ï¼Œ<code>lo</code> æ˜¯æœ¬åœ°å›ç¯æ¥å£çš„åç§°ï¼Œ<code>inet</code> è¡¨ç¤ºä½¿ç”¨ IPv4 åè®®ï¼Œ<code>loopback</code> è¡¨ç¤ºè¿™æ˜¯ä¸€ä¸ªæœ¬åœ°å›ç¯æ¥å£ã€‚åœ¨è¿™è¡ŒæŒ‡ä»¤ä¸­ï¼Œ<code>loopback</code> å‚æ•°è¡¨æ˜è¿™ä¸ªæ¥å£æ˜¯ä¸€ä¸ªæœ¬åœ°å›ç¯æ¥å£ï¼Œå®ƒç”¨äºç³»ç»Ÿå†…éƒ¨çš„å¾ªç¯é€šä¿¡ï¼Œè€Œä¸ä¼šè¿æ¥åˆ°å¤–éƒ¨ç½‘ç»œã€‚</li>
<li>è¿™ä¸¤è¡ŒæŒ‡ä»¤çš„ä½œç”¨æ˜¯ç¡®ä¿ç³»ç»Ÿåœ¨å¯åŠ¨æ—¶æ¿€æ´»æœ¬åœ°å›ç¯æ¥å£ï¼Œå¹¶ä¸ºæœ¬åœ°å›ç¯æ¥å£é…ç½®äº†æ­£ç¡®çš„å‚æ•°ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿå†…éƒ¨çš„ç½‘ç»œé€šä¿¡æ­£å¸¸å·¥ä½œã€‚</li>
</ul>
</li>
<li><p>æ‰“å¼€é…ç½®æ–‡ä»¶<code>/etc/NetworkManager/NetworkManager.conf</code>ï¼Œä¿®æ”¹<code>managed=True</code></p>
<ul>
<li><code>sudo vim /etc/NetworkManager/NetworkManager.conf</code></li>
<li><p>ä¿®æ”¹å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">[main]</span><br><span class="line">plugins=ifupdown,keyfile</span><br><span class="line"></span><br><span class="line">[ifupdown]</span><br><span class="line">managed=True</span><br><span class="line"></span><br><span class="line">[device]</span><br><span class="line">wifi.scan-rand-mac-address=no</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p><code>reboot</code> or <code>sudo service network-manager restart</code></p>
</li>
<li><p>æœ‰å¯èƒ½è¿˜æ˜¯ä¸è¡Œ</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo service network-manager stop</span><br><span class="line">sudo <span class="built_in">rm</span> /var/lib/NetworkManager/NetworkManager.state </span><br><span class="line">sudo service network-manager start</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>åŸå› </p>
<ul>
<li>å®¿ä¸»æœºç½‘ç»œè®¾ç½®å˜åŒ–ï¼šå¦‚æœå®¿ä¸»æœºçš„ç½‘ç»œé€‚é…å™¨é…ç½®å‘ç”Ÿäº†å˜åŒ–ï¼Œå¯èƒ½ä¼šå½±å“åˆ°è™šæ‹Ÿæœºçš„ç½‘ç»œè¿æ¥ï¼Œå¯¼è‡´ NetworkManager åœ¨è™šæ‹Ÿæœºä¸­å°† managed è®¾ç½®ä¸º falseã€‚</li>
<li>VMware ç½‘ç»œè®¾ç½®å˜åŒ–ï¼šVMware çš„ç½‘ç»œè®¾ç½®å¯èƒ½ä¼šå½±å“åˆ°è™šæ‹Ÿæœºçš„ç½‘ç»œé…ç½®ã€‚ä¾‹å¦‚ï¼Œå½“è™šæ‹Ÿæœºæ‰€è¿æ¥çš„ç½‘ç»œé€‚é…å™¨å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¯èƒ½ä¼šå¯¼è‡´ NetworkManager.conf ä¸­ managed çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ã€‚</li>
<li>æ›´æ–°æˆ–é‡è£… VMware Toolsï¼šåœ¨è™šæ‹Ÿæœºä¸­æ›´æ–°æˆ–é‡è£… VMware Tools æ—¶ï¼Œå¯èƒ½ä¼šé‡æ–°é…ç½®ç½‘ç»œé€‚é…å™¨ï¼Œè¿™ä¹Ÿå¯èƒ½å¯¼è‡´ NetworkManager.conf ä¸­ managed çš„çŠ¶æ€å‘ç”Ÿå˜åŒ–ã€‚ï¼ˆå¾ˆæœ‰å¯èƒ½æ˜¯è¿™ä¸ªåŸå› ï¼Œä¹‹å‰æ›´æ–°äº†VM toolsï¼‰</li>
</ul>
</li>
</ol>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Debug</tag>
        <tag>Ubuntu</tag>
        <tag>VMware</tag>
      </tags>
  </entry>
  <entry>
    <title>Modulate and demodulate</title>
    <url>/2021/04/21/Modulate%20and%20demodulate/</url>
    <content><![CDATA[<h1 id="pushpin-Modulation-and-demodulation-of-signal-based-on-matlab"><a href="#pushpin-Modulation-and-demodulation-of-signal-based-on-matlab" class="headerlink" title=":pushpin: Modulation and demodulation of signal based on matlab"></a><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Modulation and demodulation of signal based on matlab</h1><p><span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ• </span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f560.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><br><span id="more"></span></p>
<hr>
<h2 id="Eg1"><a href="#Eg1" class="headerlink" title="Eg1"></a>Eg1</h2><p><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Code</p>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% Generate random process.</span></span><br><span class="line"></span><br><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(1)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">% â‘ Generate a random process y[n]=x1[n]+sin(x2[n]).</span></span><br><span class="line">N = <span class="number">1000</span>;                   <span class="comment">% The maximum value of n,sequence length</span></span><br><span class="line">M = <span class="number">50</span>;                     <span class="comment">% Select a sequence of length 101 = M*2+1 </span></span><br><span class="line">Y = <span class="built_in">zeros</span>(<span class="number">1</span>,N); </span><br><span class="line">Ryav = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">2</span>*M+<span class="number">1</span>);      <span class="comment">% 950:1050</span></span><br><span class="line">Syav = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="number">2</span>*M+<span class="number">1</span>);      <span class="comment">% 950:1050</span></span><br><span class="line">Myav = <span class="number">0</span>;</span><br><span class="line">Vyav = <span class="number">0</span>;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Take the ensemble average over one hundred realizations.</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span> = <span class="number">1</span>:<span class="number">2</span>*M</span><br><span class="line">    X1 = <span class="built_in">randn</span>(<span class="number">1</span>,N);     <span class="comment">% Use 'randn(x,y)' to generate x*y matrix </span></span><br><span class="line">    X2 = <span class="built_in">randn</span>(<span class="number">1</span>,N);</span><br><span class="line">    <span class="keyword">for</span> n = <span class="number">1</span>:N</span><br><span class="line">        Y(n) = X1(n)+<span class="built_in">sin</span>(X2(n));</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line">    Ry = xcorr(Y,<span class="string">'unbiased'</span>);       <span class="comment">% Autocorrelation of {Yn}</span></span><br><span class="line">    Ry = Ry(N-M:N+M);               <span class="comment">% Original Ry, m is -999 to 999(2*N-1)</span></span><br><span class="line">    Sy = fftshift(<span class="built_in">abs</span>(fft(Ry)));    <span class="comment">% Power spectrum of {Yn}</span></span><br><span class="line">    Ryav=Ryav+Ry;                   <span class="comment">% 100 times</span></span><br><span class="line">    Syav=Syav+Sy;</span><br><span class="line">    Myav_time=Myav+<span class="built_in">mean</span>(Y(<span class="number">1</span>));</span><br><span class="line"><span class="keyword">end</span></span><br><span class="line">Ryav=Ryav/<span class="number">100</span>;                      <span class="comment">% Time-average</span></span><br><span class="line">Syav=Syav/<span class="number">100</span>;</span><br><span class="line">Myav_time=Myav_time/(<span class="number">2</span>*M)</span><br><span class="line"></span><br><span class="line"><span class="comment">%% Task(2)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% â‘  the mean and variance of y[n].</span></span><br><span class="line"><span class="comment">% Use 'mean(Y)' and 'var(Y)' to calculate the mean and variance of y[n].</span></span><br><span class="line">Myav = <span class="built_in">mean</span>(Y)</span><br><span class="line">Vyav = var(Y)</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(3)</span></span><br><span class="line"><span class="comment">% â‘  the spectrum and auto-correlation of y[n].</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line">subplot(<span class="number">121</span>)</span><br><span class="line"><span class="built_in">plot</span>(-M:M,Ryav);</span><br><span class="line">title(<span class="string">'Auto-correction of y[n]'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">122</span>)</span><br><span class="line"><span class="built_in">plot</span>(<span class="number">-0.5</span>:<span class="number">0.01</span>:<span class="number">0.5</span>,Syav);</span><br><span class="line">title(<span class="string">'Spectrum of y[n]'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br></pre></td></tr></tbody></table></figure>
<p><span class="github-emoji"><span>ğŸ’¹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b9.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Fig</p>
<div align="center"><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/mean_and_var.png"></div>
<center><font size="2">Fig.1 Myav and Vyav of y[n].</font></center>

<div align="center"><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/the_spectrum_and_auto-correlation_of_y[n].png"></div>
<center><font size="2">Fig.2 The spectrum and auto-correlation of y[n].</font></center>

<span class="github-emoji"><span>â”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2754.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Discussion

&gt; - In this task, I use â€˜randn(x,y)â€™ to generate â€˜x*yâ€™ matrix. In order to calculate the autocorrelation and power spectrum of y[n] in the time-average, I take the ensemble average over one hundred realizations, and then take their average. The length of x1[n],x2[n] and y[n] are all N in length.
&gt; - As we all know, the length of â€˜xcorr(y)â€™ is â€˜2*N-1â€™. For original Ry , m is -999 to 999, so I selected (950:1050) of the intervals. After a hundred stacking, use â€˜Ryav=Ryav/100â€™ and â€˜Syav=Syav/100â€™ to calculate the time-average. I  also use 'mean(Y)' and 'var(Y)' to calculate the mean and variance of y[n].
&gt; - To judge rodman progress is ergodic or stationary, I compare the time average and statistical average and find that the expectation of y[n] is a constant while its autocorrelation only depends on the time difference. Also, the expectation equals the time-average. So, we can say the random process will go through all the possible states. The conclusion is that the rodman progress y[n] is ergodic and stationary.

## Eg2 ##

<span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4dd.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Code

<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% Amplitude modulation. Sampling rate Fs=1500Hz.</span></span><br><span class="line"> </span><br><span class="line">clear;</span><br><span class="line">clc;</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(1)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Initialization.</span></span><br><span class="line">t0 = <span class="number">1</span>;                 <span class="comment">% Signal duration</span></span><br><span class="line">Fs = <span class="number">1500</span>;              <span class="comment">% Sampling rate</span></span><br><span class="line">Ts = <span class="number">1</span>/Fs;              <span class="comment">% Sampling interval</span></span><br><span class="line">Fc = <span class="number">20</span>;                <span class="comment">% Carrier rate</span></span><br><span class="line">t = <span class="number">0</span>:Ts:t0;            <span class="comment">% Time vector</span></span><br><span class="line">N = <span class="built_in">length</span>(t);          <span class="comment">% Length of t</span></span><br><span class="line">N0 = <span class="number">0.0005</span>;            <span class="comment">% Power spectral density of noise</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Message signal and modulated signal(DSB_AM and USSB_AM).</span></span><br><span class="line">m = <span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*t);        <span class="comment">% Message signal</span></span><br><span class="line">c = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*Fc*t);     <span class="comment">% Carrier signal</span></span><br><span class="line">Ac_DSB_AM = <span class="number">1</span>;</span><br><span class="line">Ac_USSB_AM = <span class="built_in">sqrt</span>(<span class="number">2</span>);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% DBS_AM modulated signal.</span></span><br><span class="line">u_dsb = Ac_DSB_AM*m.*c;</span><br><span class="line"><span class="comment">% SSB_AM modulated signal.</span></span><br><span class="line">u_ussb = <span class="number">1</span>/<span class="number">2</span>*Ac_USSB_AM*<span class="built_in">real</span>(hilbert(m).*<span class="built_in">exp</span>(<span class="number">1</span><span class="built_in">i</span>*<span class="number">2</span>*<span class="built_in">pi</span>*Fc*t));</span><br><span class="line"><span class="comment">% "equal to " u_ussb = 1/2*Ac_USSB_AM*cos(2*pi*(Fc+1)*t).</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Fourier transform(Time domain to frequency domain).</span></span><br><span class="line">[~,M] = T2F(t,m); </span><br><span class="line">[~,U_DSB] = T2F(t,u_dsb);</span><br><span class="line">[df1,U_USSB] = T2F(t,u_ussb);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% â‘  Calculate the power of the modulated signal and message signal.</span></span><br><span class="line">m_power = sum(<span class="built_in">abs</span>(m).^<span class="number">2</span>)/N</span><br><span class="line">dsb_power = sum(<span class="built_in">abs</span>(u_dsb).^<span class="number">2</span>)/N</span><br><span class="line">ussb_power = sum(<span class="built_in">abs</span>(u_ussb).^<span class="number">2</span>)/N</span><br><span class="line"> </span><br><span class="line"><span class="comment">% â‘¡ Plot the modulated signal and the spectrum.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">1</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,u_dsb)</span><br><span class="line">title(<span class="string">'DSB Signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,u_ussb)</span><br><span class="line">title(<span class="string">'USSB Signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(df1,<span class="built_in">abs</span>(U_DSB))</span><br><span class="line">title(<span class="string">'Spectrum of the Modulated DSB Signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Frequency'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">plot</span>(df1,<span class="built_in">abs</span>(U_USSB))</span><br><span class="line">title(<span class="string">'Spectrum of the Modulated USSB Signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Frequency'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(2)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Demodulate the above signals.</span></span><br><span class="line"><span class="comment">% Coherent carrier mixing.</span></span><br><span class="line">y_dsb = u_dsb.*c;</span><br><span class="line">y_ussb = u_ussb.*c;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Fourier transform(Time domain to frequency domain).</span></span><br><span class="line">[~,Y_DSB]=T2F(t,y_dsb);</span><br><span class="line">[df1,Y_USSB]=T2F(t,y_ussb);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Initialization of lowpass filter.</span></span><br><span class="line">H_DSB = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(df1));</span><br><span class="line">H_USSB = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(df1));</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">length</span>(df1)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(df1(<span class="built_in">i</span>))&lt;<span class="number">2</span></span><br><span class="line">        H_DSB(<span class="built_in">i</span>)=<span class="number">2</span>*Ac_DSB_AM;</span><br><span class="line">        H_USSB(<span class="built_in">i</span>)=<span class="number">2</span>*Ac_USSB_AM;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Lowpass filter filtering(Spectrum of the filter output).</span></span><br><span class="line">DEM_DSB=H_DSB.*Y_DSB;</span><br><span class="line">DEM_USSB=H_USSB.*Y_USSB;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Fourier transform(Frequency domain to time domain).</span></span><br><span class="line">[~,dem_w_dsb]=F2T(df1,DEM_DSB);</span><br><span class="line">[dt1,dem_w_ussb]=F2T(df1,DEM_USSB);</span><br><span class="line">dem_w_dsb=dem_w_dsb(<span class="number">1</span>:<span class="built_in">length</span>(t));</span><br><span class="line">dem_w_ussb=dem_w_ussb(<span class="number">1</span>:<span class="built_in">length</span>(t));</span><br><span class="line"> </span><br><span class="line"><span class="comment">% â‘  The pass band of the low-pass filter for DSB_AM and USSB_AM.</span></span><br><span class="line">passband_dsb = <span class="number">2</span>*<span class="number">1</span></span><br><span class="line">passband_ussb = <span class="number">2</span>*<span class="number">1</span></span><br><span class="line"><span class="comment">% â‘¡ Plot the demodulated signal and the spectrum.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">2</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(dt1,<span class="built_in">real</span>(dem_w_dsb))</span><br><span class="line">title(<span class="string">'Demodulated DSB signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(dt1,<span class="built_in">real</span>(dem_w_ussb))</span><br><span class="line">title(<span class="string">'Demodulated USSB signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(df1,(<span class="built_in">abs</span>(DEM_DSB)))</span><br><span class="line">title(<span class="string">'Spectrum of the Demodulated DSB signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Frequency'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">plot</span>(df1,(<span class="built_in">abs</span>(DEM_USSB)))</span><br><span class="line">title(<span class="string">'Spectrum of the Demodulated USSB signal'</span>)</span><br><span class="line">xlabel(<span class="string">'Frequency'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(3)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Add the thermal noise.</span></span><br><span class="line">noise = <span class="built_in">randn</span>(<span class="number">1</span>,<span class="built_in">length</span>(t))*<span class="built_in">sqrt</span>(N0/<span class="number">2</span>*Fs);</span><br><span class="line">u_n_dsb = u_dsb + noise;</span><br><span class="line">u_n_ussb = u_ussb + noise;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Coherent carrier mixing.</span></span><br><span class="line">y_n_dsb = u_n_dsb.*c;</span><br><span class="line">y_n_ussb = u_n_ussb.*c;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Fourier transform(Time domain to frequency domain).</span></span><br><span class="line">[~,Y_N_DSB]=T2F(t,y_n_dsb);</span><br><span class="line">[df1,Y_N_USSB]=T2F(t,y_n_ussb);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Lowpass filter filtering(Spectrum of the filter output).</span></span><br><span class="line"><span class="comment">% Filters have been initialized already.</span></span><br><span class="line">DEM_N_DSB=H_DSB.*Y_N_DSB;</span><br><span class="line">DEM_N_USSB=H_USSB.*Y_N_USSB;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Fourier transform(Frequency domain to time domain).</span></span><br><span class="line">[~,dem_n_dsb]=F2T(df1,DEM_N_DSB);</span><br><span class="line">[dt1,dem_n_ussb]=F2T(df1,DEM_N_USSB);</span><br><span class="line"> </span><br><span class="line"><span class="comment">% â‘ Plot the modulated signal and demodulated signal(time domain).</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">3</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,u_n_dsb)</span><br><span class="line">title(<span class="string">'Modulated DSB signal with noise'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(t,u_n_ussb)</span><br><span class="line">title(<span class="string">'Modulated USSB signal with noise'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(dt1,<span class="built_in">real</span>(dem_n_dsb))</span><br><span class="line">title(<span class="string">'Demodulated DSB signal with noise'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">plot</span>(dt1,<span class="built_in">real</span>(dem_n_ussb))</span><br><span class="line">title(<span class="string">'Demodulated USSB signal with noise'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line"> </span><br><span class="line"><span class="comment">%% Task(4)</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% What is the disadvantage</span></span><br><span class="line"><span class="comment">% if we apply a low-pass filter with a band much wider than necessary?</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Initialization of lowpass filter much wider than necessary.</span></span><br><span class="line">H_W_DSB = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(df1));</span><br><span class="line">H_W_USSB = <span class="built_in">zeros</span>(<span class="number">1</span>,<span class="built_in">length</span>(df1));</span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">1</span>:<span class="built_in">length</span>(df1)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">abs</span>(df1(<span class="built_in">i</span>))&lt;<span class="number">200</span>      <span class="comment">% 200 &gt;&gt; 2</span></span><br><span class="line">        H_W_DSB(<span class="built_in">i</span>)=<span class="number">2</span>*Ac_DSB_AM;</span><br><span class="line">        H_W_USSB(<span class="built_in">i</span>)=<span class="number">2</span>*Ac_USSB_AM;</span><br><span class="line">    <span class="keyword">end</span></span><br><span class="line"><span class="keyword">end</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">% Lowpass filter filtering(Spectrum of the filter output).</span></span><br><span class="line">DEM_W_DSB=H_W_DSB.*Y_DSB;</span><br><span class="line">DEM_W_USSB=H_W_USSB.*Y_USSB;</span><br><span class="line"> </span><br><span class="line"><span class="comment">% Fourier transform(Frequency domain to time domain).</span></span><br><span class="line">[~,dem_w_dsb]=F2T(df1,DEM_W_DSB);</span><br><span class="line">[dt1,dem_w_ussb]=F2T(df1,DEM_W_USSB);</span><br><span class="line">dem_w_dsb=dem_w_dsb(<span class="number">1</span>:<span class="built_in">length</span>(t));</span><br><span class="line">dem_w_ussb=dem_w_ussb(<span class="number">1</span>:<span class="built_in">length</span>(t));</span><br><span class="line"> </span><br><span class="line"><span class="comment">% The demodulated signal and the spectrum.</span></span><br><span class="line"><span class="built_in">figure</span>(<span class="number">4</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>) </span><br><span class="line"><span class="built_in">plot</span>(dt1,<span class="built_in">real</span>(dem_w_dsb))</span><br><span class="line">title(<span class="string">'Demodulated DSB signal with a much wider band'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>)</span><br><span class="line"><span class="built_in">plot</span>(dt1,<span class="built_in">real</span>(dem_w_ussb))</span><br><span class="line">title(<span class="string">'Demodulated USSB signal with a much wider band'</span>)</span><br><span class="line">xlabel(<span class="string">'Time'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line"><span class="built_in">plot</span>(df1,(<span class="built_in">abs</span>(DEM_DSB)))</span><br><span class="line">title(<span class="string">'Spectrum of the Demodulated DSB signal with a much wider band'</span>)</span><br><span class="line">xlabel(<span class="string">'Frequency'</span>)</span><br><span class="line">subplot(<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>)</span><br><span class="line"><span class="built_in">plot</span>(df1,(<span class="built_in">abs</span>(DEM_USSB)))</span><br><span class="line">title(<span class="string">'Spectrum of the Demodulated USSB signal with a much wider band'</span>)</span><br><span class="line">xlabel(<span class="string">'Frequency'</span>)</span><br></pre></td></tr></tbody></table></figure>

<span class="github-emoji"><span>ğŸ’¹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4b9.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Fig

<div align="center"><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/the_power_of_the_modulated_signal_and_message_signal.png"></div>
<center><font size="2">Fig.3 The power of the modulated signal and message signal.</font></center>

<div align="center"><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/the_modulated_signal_and_the_spectrum.png"></div>
<center><font size="2">Fig.4 The modulated signal and the spectrum.</font></center>

<div align="center"><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/the_pass_band_of_the_low-pass_filter_for_DSB_AM_and_USSB_AM.png"></div>

<center><font size="2">Fig.5 The pass band of the low-pass filter for DSB_AM and USSB_AM.</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/the_demodulated_signal_and_the_spectrum.png" alt="The demodulated signal and the spectrum."></p>
<center><font size="2">Fig.6 The demodulated signal and the spectrum.</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/the_modulated_signal_and_demodulated_signal_with_noise.png" alt="The modulated signal and demodulated signal with noise."></p>
<center><font size="2">Fig.7 The modulated signal and demodulated signal with noise.</font></center>

<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/modulate/much_wider_band_the_demodulated_signal_and_the_spectrum.png" alt="The demodulated signal and the spectrum(much wider band)."></p>
<center><font size="2">Fig.8 The demodulated signal and the spectrum(much wider band).</font></center>

<p><span class="github-emoji"><span>â”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2754.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Discussion</p>
<blockquote>
<p>In this task, signal duration is t0=1 , message signal m=sin(2<em>pi</em>t), carrier signal c=cos(2<em>pi</em>Fc*t), there are two modulation methods DBS_AM and SSB_AM. In the SSB_AM, we use the upper sideband modulation, USSB_AM.<br>The modulated signals:</p>
</blockquote>
<ul>
<li><p>DSB-AM signal :</p>
<p>  $s(t) = A<em>{c}m(t)cos(2\pi f</em>{c}t)$</p>
</li>
<li><p>USSB-AM signal:</p>
<p>  $u(t) = {A<em>{c}\over2}m(t)cos(2\pi f</em>{c}t)-{A<em>{c}\over2}{\hat{m}}(t)sin(2\pi f</em>{c}t)$</p>
</li>
</ul>
<blockquote>
<p>One thing to note is that the   of DSB-AM and USSB-AM are different. The former is 1 and the latter is $\sqrt{2}$. Use â€˜sum(abs(m).^2)/Nâ€™ to calculate their power (see fig.3). The modulated signal and the spectrum (see fig.4)<br>Then demodulating the above signals, I use coherent carrier to demodulate them and then pass them through a low-pass filter with different gains.<br>The demodulated signals:</p>
</blockquote>
<ul>
<li><p>DSB-AM signal:</p>
<p>  $y(t) = A<em>{C}cos(2\pi f</em>{c}t)cos(2\pi f<em>{c}t) = {A</em>{c}\over2}m(t)+{A<em>{c}\over2}m(t)cos(4\pi f</em>{c}t)$</p>
</li>
<li><p>USSB-AM signal:</p>
<p>  $y(t) = {A<em>{c}\over2}m(t)cos^2(2\pi f</em>{c}t)-{A<em>{c}\over2}{\hat{m}}(t)sin(2\pi f</em>{c}t)cos(2\pi f<em>{c}t) = {A</em>{c}\over4}m(t)+{A<em>{c}\over4}cos(4\pi f</em>{c}t)-{A<em>{c}\over4}{\hat{m}}(t)sin(4\pi f</em>{c}t)$</p>
</li>
</ul>
<blockquote>
<ul>
<li>In order to recover the original signal m(t), one thing is to use a low-pass filter to filter out unwanted components, and the other thing is to choose right gain. To divide the Ac, for the DSB-AM, what needs to be kept is  , and then the gain is obviously  ; For the USSB-AM, what needs to be kept is  , and then the gain is obviously   . As the band of original signal m(t) is f=1, so I set the passband of the low-pass filter to 2Hz (see fig.5) . The cut-off frequency is 2HZ, which is twice the maximum frequency of the original signal, then the original signal is recovered well in both modulation methods (see fig.6).</li>
<li>In fact, for the noise, all of the frequency in array of ($f<em>{m}$,$f</em>{c}$) are ok, although the amplitude of the demodulated signal will change due to the constant gain after mixing noise, the original signal is restored almost without distortion (see fit.7).</li>
<li>If we apply a low-pass filter with a band much wider than necessary, when filtering, it will mix in the high frequency components with the frequency spectrum nearby. The high frequency component is just the continuation of the baseband component at high frequency, if it is not too wide, may we can barely recover the original signal. If the cut-off frequency is set too wide, it may cause signal aliasing and amplitude changes.</li>
</ul>
</blockquote>
<!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Communication</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>Matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>Lucene search engine</title>
    <url>/2024/08/10/Lucene%20search%20engine/</url>
    <content><![CDATA[<blockquote>
<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><strong>Elasticsearch</strong>æ˜¯ä¸€ä¸ªåŸºäº<strong>Lucene</strong>çš„æœç´¢å¼•æ“ï¼Œæä¾›äº†ä¸€ä¸ªåˆ†å¸ƒå¼å¤šç”¨æˆ·èƒ½åŠ›çš„å…¨æ–‡æœç´¢å¼•æ“ï¼ŒåŸºäº<code>RESTful API</code>æ¥å£ï¼Œè§£å†³äº†åŸç”Ÿ<code>Lucene</code>ä½¿ç”¨ä¸Šçš„ç¼ºé™·ã€‚ä¸ºäº†æ›´å¥½çš„ç†è§£<code>Elasticsearch</code>ï¼Œå…ˆå¯¹<code>Lucene</code>è¿›è¡Œäº†è§£ã€‚</p>
</blockquote>
<span id="more"></span>
<h2 id="books-å…¨æ–‡æ£€ç´¢"><a href="#books-å…¨æ–‡æ£€ç´¢" class="headerlink" title=":books: å…¨æ–‡æ£€ç´¢"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> å…¨æ–‡æ£€ç´¢</h2><ul>
<li><p>ç»“æ„åŒ–æ•°æ®ï¼Œå…·æœ‰å›ºå®šæ ¼å¼æˆ–æœ‰é™é•¿åº¦çš„æ•°æ®ï¼Œå¦‚æ•°æ®åº“è¡¨ä¸­çš„å­—æ®µå’Œå…ƒæ•°æ®ã€‚</p>
<ul>
<li>æ•°æ®åº“ç”¨<code>SQL</code>è¯­å¥æœç´¢ï¼›å…ƒæ•°æ®ç”¨ç±»å‹ã€å±æ€§ã€æ ‡ç­¾ç­‰æœç´¢ã€‚</li>
</ul>
</li>
<li><p>éç»“æ„åŒ–æ•°æ®ï¼Œä¸å®šé•¿æˆ–æ— å›ºå®šæ ¼å¼çš„æ•°æ®ï¼Œå¦‚é‚®ä»¶ã€Word æ–‡æ¡£ã€PDF æ–‡æ¡£ç­‰ï¼Œåˆç§°<strong>å…¨æ–‡æ•°æ®</strong>ã€‚</p>
<ul>
<li><strong>é¡ºåºæ‰«ææ³•(Serial Scanning)</strong>ï¼Œå¯¹æ¯ä¸ªæ–‡æ¡£ä»å¤´åˆ°å°¾æ‰«æï¼Œéç»“æ„åŒ–æ•°æ®åœ¨æ•°æ®é‡å¤§æ—¶æ•ˆç‡ä½ä¸‹ï¼Œä¸é€‚åˆå…¨æ–‡æ£€ç´¢ã€‚</li>
<li><strong>å…¨æ–‡æ£€ç´¢(Full-text Search)</strong>ï¼ŒæŠŠéç»“æ„åŒ–æ•°æ®è½¬æ¢ä¸ºç»“æ„åŒ–æ•°æ®ï¼Œå†ç”¨ç»“æ„åŒ–æ•°æ®çš„æ£€ç´¢æ–¹æ³•ã€‚é¦–å…ˆå°†è¦æŸ¥è¯¢çš„ç›®æ ‡æ•°æ®ä¸­çš„è¯æå–å‡ºæ¥ï¼Œç»„æˆç´¢å¼•ï¼Œé€šè¿‡æŸ¥è¯¢ç´¢å¼•è¾¾åˆ°æœç´¢ç›®æ ‡æ•°æ®çš„ç›®çš„ã€‚</li>
</ul>
</li>
</ul>
<p>StringField å’Œ TextField æ˜¯ Apache Lucene ä¸­ç”¨äºå­˜å‚¨å’Œç´¢å¼•æ–‡æ¡£å­—æ®µçš„ä¸¤ç§ä¸åŒç±»å‹ã€‚  </p>
<ul>
<li>StringFieldï¼šç”¨äºå­˜å‚¨ä¸éœ€è¦è¿›è¡Œå…¨æ–‡æœç´¢çš„å­—æ®µã€‚å®ƒä¸ä¼šè¢«åˆ†è¯å™¨å¤„ç†ï¼Œé€‚ç”¨äºç²¾ç¡®åŒ¹é…æŸ¥è¯¢ã€‚ä¾‹å¦‚ï¼ŒIDã€æ—¥æœŸã€åˆ†ç±»ç­‰å­—æ®µã€‚</li>
<li>TextFieldï¼šç”¨äºå­˜å‚¨éœ€è¦è¿›è¡Œå…¨æ–‡æœç´¢çš„å­—æ®µã€‚å®ƒä¼šè¢«åˆ†è¯å™¨å¤„ç†ï¼Œé€‚ç”¨äºéœ€è¦è¿›è¡Œå…¨æ–‡æœç´¢çš„æ–‡æœ¬å†…å®¹ã€‚ä¾‹å¦‚ï¼Œæ–‡ç« å†…å®¹ã€æè¿°ç­‰å­—æ®µã€‚<br>ç¤ºä¾‹ä»£ç ï¼š</li>
</ul>
<h2 id="mag-right-LuceneåŸºæœ¬åŸç†"><a href="#mag-right-LuceneåŸºæœ¬åŸç†" class="headerlink" title=":mag_right:LuceneåŸºæœ¬åŸç†"></a><span class="github-emoji"><span>ğŸ”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f50e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><code>Lucene</code>åŸºæœ¬åŸç†</h2><h3 id="å€’æ’ç´¢å¼•-Inverted-index"><a href="#å€’æ’ç´¢å¼•-Inverted-index" class="headerlink" title="å€’æ’ç´¢å¼•(Inverted index)"></a>å€’æ’ç´¢å¼•(Inverted index)</h3><blockquote>
<p>å¿«é€ŸæŸ¥è¯¢æŸä¸ªè¯åœ¨æ–‡æ¡£ä¸­çš„ä½ç½®ï¼Œå°†æ–‡æ¡£é›†åˆä¸­çš„æ¯ä¸ªè¯éƒ½æ˜ å°„åˆ°å‡ºç°åœ¨è¯¥æ¬¡çš„æ–‡æ¡£åˆ—è¡¨ï¼Œè€Œä¸æ˜¯å°†æ–‡æ¡£æ˜ å°„åˆ°è¯çš„åˆ—è¡¨</p>
</blockquote>
<ol>
<li>æ–‡æ¡£åˆ†è¯ï¼šå°†æ–‡æ¡£è¿›è¡Œåˆ†è¯ï¼Œå¾—åˆ°è¯é¡¹åˆ—è¡¨ï¼Œè¿™é‡Œå¯ä»¥è¿˜æœ‰å¤§å°å†™è½¬åŒ–ã€å»åœç”¨è¯ç­‰æ“ä½œã€‚</li>
<li>æ„å»ºç´¢å¼•è¡¨ï¼šå°†è¯é¡¹åˆ—è¡¨æ„å»ºå€’æ’ç´¢å¼•è¡¨ï¼Œè®°å½•æ¯ä¸ªè¯é¡¹å‡ºç°åœ¨å“ªäº›æ–‡æ¡£ä¸­ã€‚éå†æ‰€æœ‰æ–‡æ¡£ï¼Œå¯¹æ¯ä¸ªè¯å°†å…¶æ˜ å°„åˆ°æ–‡æ¡£åˆ—è¡¨ï¼Œå¯ä»¥ç”¨å“ˆå¸Œè¡¨ã€æ ‘ç­‰æ•°æ®ç»“æ„ã€‚</li>
<li>ä¼˜åŒ–ç´¢å¼•ï¼šå¯¹ç´¢å¼•è¡¨è¿›è¡Œä¼˜åŒ–ï¼Œå¦‚å‹ç¼©ã€æ’åºã€åˆå¹¶ç­‰æ“ä½œã€‚</li>
<li>æŸ¥è¯¢å¤„ç†ï¼šç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ£€ç´¢è¯æ—¶ï¼Œå¯¹æŸ¥è¯¢è¿›è¡Œåˆ†è¯ï¼Œå¾—åˆ°æŸ¥è¯¢è¯é¡¹åˆ—è¡¨ï¼Œç„¶ååœ¨ç´¢å¼•è¡¨ä¸­æŸ¥æ‰¾æ¯ä¸ªè¯é¡¹å¯¹åº”çš„æ–‡æ¡£åˆ—è¡¨ï¼Œæœ€åå¯¹æ–‡æ¡£åˆ—è¡¨è¿›è¡Œç­›é€‰ã€æ’åºã€äº¤é›†ã€å¹¶é›†ç­‰æ“ä½œï¼Œå¾—åˆ°æœ€ç»ˆçš„æŸ¥è¯¢ç»“æœã€‚</li>
</ol>
<h3 id="æ®µè½ç´¢å¼•-Segment-index"><a href="#æ®µè½ç´¢å¼•-Segment-index" class="headerlink" title="æ®µè½ç´¢å¼•(Segment index)"></a>æ®µè½ç´¢å¼•(Segment index)</h3><blockquote>
<p>ä¸ºäº†æé«˜æœç´¢æ•ˆç‡ï¼Œå°†ç´¢å¼•åˆ†ä¸ºå¤šä¸ªæ®µè½ï¼Œæ¯ä¸ªæ®µè½éƒ½æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç´¢å¼•å•å…ƒï¼Œæ¯ä¸ªæ®µè½éƒ½æœ‰è‡ªå·±çš„å€’æ’ç´¢å¼•è¡¨ã€‚</p>
</blockquote>
<ol>
<li>åˆ†å‰²æ–‡æœ¬ï¼šåˆ†è¯å™¨çš„ç»„ä»¶å°†æ–‡æœ¬åˆ†å‰²æˆè‹¥å¹²ä¸ªæ®µè½ï¼Œå¯ä»¥æŒ‰ç…§å…·ä½“çš„éœ€æ±‚æ¥å®šä¹‰åˆ†å‰²è§„åˆ™ï¼Œä¾‹å¦‚ç©ºæ ¼ã€æ ‡ç‚¹ç¬¦å·ç­‰ã€‚</li>
<li>å»ºç«‹è¯æ±‡è¡¨ï¼šLuceneå¯¹è¯æ±‡è¡¨è¿›è¡Œæ’åºç­‰ä»¥æé«˜æœç´¢æ•ˆç‡ã€‚</li>
<li>æ„å»ºå€’æ’ç´¢å¼•ï¼šå¯¹æ¯ä¸ªæ®µè½æ„å»ºå€’æ’ç´¢å¼•è¡¨ï¼Œè®°å½•æ¯ä¸ªè¯é¡¹å‡ºç°åœ¨å“ªäº›æ–‡æ¡£ä¸­ã€‚å€’æ’ç´¢å¼•çš„æ•°æ®ç»“æ„åŒ…æ‹¬ç´¢å¼•è¯é¡¹(Term)ã€æ–‡æ¡£ç¼–å·(Document ID)ã€ä½ç½®(Position)ç­‰ã€‚</li>
<li>æœç´¢ï¼šç”¨æˆ·è¾“å…¥ä¸€ä¸ªæ£€ç´¢è¯æ—¶ï¼ŒLuceneåœ¨è¯æ±‡è¡¨ä¸­æŸ¥æ‰¾ï¼Œå¹¶è·å–åˆ°åŒ…å«è¯¥å•è¯çš„æ®µè½åˆ—è¡¨ï¼Œç„¶åæ ¹æ®è¿™äº›æ®µè½åˆ—è¡¨è®¡ç®—ç›¸å…³åº¦å¾—åˆ†ï¼Œå¹¶æŒ‰ç…§ç›¸å…³åº¦æ’åºè¿”å›æœç´¢ç»“æœã€‚</li>
</ol>
<h3 id="æ–‡æœ¬é¢„å¤„ç†"><a href="#æ–‡æœ¬é¢„å¤„ç†" class="headerlink" title="æ–‡æœ¬é¢„å¤„ç†"></a>æ–‡æœ¬é¢„å¤„ç†</h3><blockquote>
<p>åœ¨æ„å»ºç´¢å¼•ä¹‹å‰ï¼Œéœ€è¦å¯¹æ–‡æœ¬è¿›è¡Œé¢„å¤„ç†ï¼ŒåŒ…æ‹¬åˆ†è¯ã€å¤§å°å†™è½¬åŒ–ã€å»åœç”¨è¯ç­‰æ“ä½œã€‚</p>
</blockquote>
<ol>
<li>å°å†™è½¬æ¢(Lowercasing)ï¼šå°†æ–‡æœ¬è½¬æ¢ä¸ºå°å†™ï¼Œé¿å…å¤§å°å†™ä¸ä¸€è‡´å¯¼è‡´çš„æœç´¢é—®é¢˜ã€‚</li>
<li>å»é™¤åœç”¨è¯(Stopwords)ï¼šå»é™¤å¸¸ç”¨è¯ï¼Œå¦‚â€œçš„â€ã€â€œæ˜¯â€ã€â€œåœ¨â€ã€â€œandâ€ã€â€œtheâ€ç­‰ï¼Œé¿å…è¿™äº›è¯å¯¹æœç´¢ç»“æœçš„å½±å“ã€‚</li>
<li>è¯æ ¹æå–(Stemming)ï¼šå°†è¯æ±‡è¿˜åŸä¸ºè¯æ ¹ï¼Œå¦‚â€œrunningâ€è¿˜åŸä¸ºâ€œrunâ€ã€‚</li>
<li>åŒä¹‰è¯æ‰©å±•(Synonyms)ï¼šå°†åŒä¹‰è¯æ˜ å°„åˆ°åŒä¸€ä¸ªè¯é¡¹ï¼Œå¦‚â€œcarâ€å’Œâ€œautomobileâ€æ˜ å°„åˆ°åŒä¸€ä¸ªè¯é¡¹ã€‚</li>
</ol>
<h2 id="bulb-æœç´¢ç®—æ³•"><a href="#bulb-æœç´¢ç®—æ³•" class="headerlink" title=":bulb:æœç´¢ç®—æ³•"></a><span class="github-emoji"><span>ğŸ’¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æœç´¢ç®—æ³•</h2><h3 id="BM25ç®—æ³•"><a href="#BM25ç®—æ³•" class="headerlink" title="BM25ç®—æ³•"></a>BM25ç®—æ³•</h3><blockquote>
<p>BM25ç®—æ³•æ˜¯ä¸€ç§åŸºäºæ¦‚ç‡æ£€ç´¢æ¨¡å‹çš„æœç´¢ç®—æ³•ï¼Œå®ƒæ˜¯ä¸€ç§åŸºäºè¯é¢‘å’Œæ–‡æ¡£é•¿åº¦çš„æœç´¢ç®—æ³•ï¼Œé€‚ç”¨äºå¤§å‹æ–‡æœ¬æ•°æ®é›†çš„æœç´¢ï¼Œè€ƒè™‘äº†æ–‡æ¡£ä¸­å„é¡¹è¯çš„æƒé‡ã€è¯é¢‘ã€æ–‡æ¡£é•¿åº¦ç­‰å› ç´ ï¼Œæ ¹æ®<strong>æ–‡æ¡£å’ŒæŸ¥è¯¢</strong>ä¹‹é—´çš„å…³ç³»æ¥è¯„ä¼°æ–‡æ¡£çš„ç›¸å…³æ€§ï¼Œå¹¶æŒ‰ç…§ç›¸å…³æ€§è¿›è¡Œæ’åºã€‚</p>
</blockquote>
<p>è¯„åˆ†å…¬å¼ï¼š<script type="math/tex">\text{score}(D, Q) = \sum_{i=1}^{n} \text{IDF}(q_i) \cdot \frac{f(q_i, D) \cdot (k_1 + 1)}{f(q_i, D) + k_1 \cdot (1 - b + b \cdot \frac{|D|}{\text{avgdl}})}</script></p>
<p>å…¶ä¸­ï¼š$D$è¡¨ç¤ºæ–‡æ¡£ï¼Œ$Q$è¡¨ç¤ºæŸ¥è¯¢ï¼Œ$n$è¡¨ç¤ºæŸ¥è¯¢ä¸­çš„è¯é¡¹æ•°é‡ï¼Œ$q_i$è¡¨ç¤ºæŸ¥è¯¢ä¸­çš„ç¬¬$i$ä¸ªè¯é¡¹ï¼Œ$f(q_i, D)$è¡¨ç¤ºè¯é¡¹$q_i$åœ¨æ–‡æ¡£$D$ä¸­çš„è¯é¢‘ï¼Œ$k_1$å’Œ$b$æ˜¯è°ƒèŠ‚å‚æ•°ï¼Œ$avgdl$è¡¨ç¤ºæ–‡æ¡£é›†åˆçš„å¹³å‡é•¿åº¦ã€‚</p>
<h3 id="TF-IDFç®—æ³•-Term-Frequency-Inverse-Document-Frequency"><a href="#TF-IDFç®—æ³•-Term-Frequency-Inverse-Document-Frequency" class="headerlink" title="TF-IDFç®—æ³•(Term Frequency-Inverse Document Frequency)"></a>TF-IDFç®—æ³•(Term Frequency-Inverse Document Frequency)</h3><blockquote>
<p>TF-IDFç®—æ³•æ˜¯ä¸€ç§ç”¨äºè¯„ä¼°ä¸€ä¸ªè¯å¯¹äºä¸€ä¸ªæ–‡ä»¶é›†æˆ–ä¸€ä¸ªè¯­æ–™åº“ä¸­æŸä¸ªæ–‡ä»¶çš„é‡è¦ç¨‹åº¦çš„ç»Ÿè®¡æ–¹æ³•ï¼ŒåŸºæœ¬æ€æƒ³æ˜¯å¦‚æœæŸä¸ªè¯åœ¨ä¸€ç¯‡æ–‡ç« ä¸­å‡ºç°çš„é¢‘ç‡é«˜ï¼Œå¹¶ä¸”åœ¨å…¶ä»–æ–‡ç« ä¸­å‡ºç°çš„é¢‘ç‡ä½ï¼Œåˆ™è®¤ä¸ºè¿™ä¸ªè¯å…·æœ‰å¾ˆå¥½çš„åŒºåˆ†èƒ½åŠ›ï¼Œæ˜¯è¿™ç¯‡æ–‡ç« çš„å…³é”®è¯ã€‚</p>
</blockquote>
<ul>
<li>TF(Term Frequency)ï¼šè¯é¢‘ï¼Œè¡¨ç¤ºæŸä¸ªè¯åœ¨æ–‡æ¡£ä¸­å‡ºç°çš„é¢‘ç‡ï¼Œè®¡ç®—å…¬å¼ä¸º<script type="math/tex">\text{TF}(t, d) = \frac{f(t, d)}{\sum_{t' \in d} f(t', d)}</script></li>
<li>IDF(Inverse Document Frequency)ï¼šé€†æ–‡æ¡£é¢‘ç‡ï¼Œè¡¨ç¤ºæŸä¸ªè¯åœ¨æ–‡æ¡£é›†åˆä¸­çš„åŒºåˆ†èƒ½åŠ›ï¼Œè®¡ç®—å…¬å¼ä¸º<script type="math/tex">\text{IDF}(t, D) = \log \frac{N}{\text{DF}(t, D)}</script></li>
<li>TF-IDFï¼šç»¼åˆè€ƒè™‘è¯é¢‘å’Œé€†æ–‡æ¡£é¢‘ç‡ï¼Œè®¡ç®—å…¬å¼ä¸º<script type="math/tex">\text{TF-IDF}(t, d, D) = \text{TF}(t, d) \cdot \text{IDF}(t, D)</script></li>
</ul>
<h3 id="ç©ºé—´å‘é‡æ¨¡å‹-Vector-Space-Model"><a href="#ç©ºé—´å‘é‡æ¨¡å‹-Vector-Space-Model" class="headerlink" title="ç©ºé—´å‘é‡æ¨¡å‹(Vector Space Model)"></a>ç©ºé—´å‘é‡æ¨¡å‹(Vector Space Model)</h3><blockquote>
<p>ç©ºé—´å‘é‡æ¨¡å‹æ˜¯ä¸€ç§åŸºäºå‘é‡ç©ºé—´çš„æœç´¢ç®—æ³•ï¼Œå°†æ–‡æ¡£å’ŒæŸ¥è¯¢è¡¨ç¤ºä¸ºå‘é‡ï¼Œé€šè¿‡è®¡ç®—å‘é‡ä¹‹é—´çš„ç›¸ä¼¼åº¦æ¥è¯„ä¼°æ–‡æ¡£çš„ç›¸å…³æ€§ã€‚</p>
</blockquote>
<h4 id="ä½™å¼¦ç›¸ä¼¼åº¦-Cosine-Similarity"><a href="#ä½™å¼¦ç›¸ä¼¼åº¦-Cosine-Similarity" class="headerlink" title="ä½™å¼¦ç›¸ä¼¼åº¦(Cosine Similarity)"></a>ä½™å¼¦ç›¸ä¼¼åº¦(Cosine Similarity)</h4><ul>
<li>åŸºäºå‘é‡çš„å¤¹è§’æ¥è¡¡é‡æ–‡æ¡£å’ŒæŸ¥è¯¢çš„ç›¸ä¼¼åº¦ï¼Œè®¡ç®—æ–‡æ¡£å‘é‡å’ŒæŸ¥è¯¢å‘é‡çš„å†…ç§¯é™¤ä»¥ä¸¤ä¸ªå‘é‡çš„æ¨¡é•¿çš„ä¹˜ç§¯ï¼Œè®¡ç®—å…¬å¼ä¸º<script type="math/tex">\text{Cosine Similarity}(D, Q) = \frac{D \cdot Q}{\|D\| \cdot \|Q\|}</script>ï¼Œå…¶ä¸­$D$è¡¨ç¤ºæ–‡æ¡£å‘é‡ï¼Œ$Q$è¡¨ç¤ºæŸ¥è¯¢å‘é‡ï¼Œå–å€¼èŒƒå›´ä¸º$[-1, 1]$ï¼Œå€¼è¶Šå¤§è¡¨ç¤ºç›¸ä¼¼åº¦è¶Šé«˜ã€‚</li>
</ul>
<h4 id="Jaccardç›¸ä¼¼åº¦-Jaccard-Similarity"><a href="#Jaccardç›¸ä¼¼åº¦-Jaccard-Similarity" class="headerlink" title="Jaccardç›¸ä¼¼åº¦(Jaccard Similarity)"></a>Jaccardç›¸ä¼¼åº¦(Jaccard Similarity)</h4><ul>
<li>åŸºäºå‘é‡çš„äº¤é›†å’Œå¹¶é›†æ¥è¡¡é‡æ–‡æ¡£å’ŒæŸ¥è¯¢çš„ç›¸ä¼¼åº¦ï¼Œè®¡ç®—æ–‡æ¡£å‘é‡å’ŒæŸ¥è¯¢å‘é‡çš„äº¤é›†é™¤ä»¥ä¸¤ä¸ªå‘é‡çš„å¹¶é›†ï¼Œè®¡ç®—å…¬å¼ä¸º<script type="math/tex">\text{Jaccard Similarity}(D, Q) = \frac{|D \cap Q|}{|D \cup Q|}</script>ï¼Œå–å€¼èŒƒå›´ä¸º$[0, 1]$ï¼Œå€¼è¶Šå¤§è¡¨ç¤ºç›¸ä¼¼åº¦è¶Šé«˜ã€‚</li>
</ul>
<h2 id="computer-Coding"><a href="#computer-Coding" class="headerlink" title=":computer:Coding"></a><span class="github-emoji"><span>ğŸ’»</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bb.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Coding</h2><h3 id="å¯¼å…¥ä¾èµ–"><a href="#å¯¼å…¥ä¾èµ–" class="headerlink" title="å¯¼å…¥ä¾èµ–"></a>å¯¼å…¥ä¾èµ–</h3><figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- luceneæ ¸å¿ƒåŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.lucene<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lucene-core<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>${lunece.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- luceneæŸ¥è¯¢è§£æåŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.lucene<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lucene-queryparser<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>${lunece.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- luceneåˆ†è¯å™¨åŒ… --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.apache.lucene<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lucene-analyzers-common<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>${lunece.version}<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- test --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>junit<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.8.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="ä»æ–‡ä»¶æ„å»ºç´¢å¼•å’Œæ£€ç´¢"><a href="#ä»æ–‡ä»¶æ„å»ºç´¢å¼•å’Œæ£€ç´¢" class="headerlink" title="ä»æ–‡ä»¶æ„å»ºç´¢å¼•å’Œæ£€ç´¢"></a>ä»æ–‡ä»¶æ„å»ºç´¢å¼•å’Œæ£€ç´¢</h3><h4 id="æ–‡æ¡£"><a href="#æ–‡æ¡£" class="headerlink" title="æ–‡æ¡£"></a>æ–‡æ¡£</h4><ul>
<li>åœ¨èµ„æºç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª<code>data</code>ç›®å½•ï¼Œç”¨äºå­˜æ”¾æ–‡æ¡£æ•°æ®ï¼Œè¿™é‡Œç”¨äº†é›…æ€çš„ä¸‰æ®µè¯ä½œä¸ºç¤ºä¾‹æ•°æ®$1.txt$ï¼Œ$2.txt$ï¼Œ$3.txt$ã€‚</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> -p ~/JavaProjects/luceneDemo/src/main/resources/data</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Many procedures are available for obtaining data about a language. They range from a carefully planned, intensive field investigation in a foreign country to a casual introspection about oneâ€™s mother tongue carried out in an armchair at home."</span> &gt; ~/JavaProjects/luceneDemo/src/main/resources/data/1.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"In all cases, someone has to act as a source of language data â€“ an informant. Informants are (ideally) native speakers of a language, who provide utterances for analysis and other kinds of information about the language (e.g. translations, comments about correctness, or judgements on usage). Often, when studying their mother tongue, linguists act as their own informants, judging the ambiguity, acceptability, or other properties of utterances against their own intuitions. The convenience of this approach makes it widely used, and it is considered the norm in the generative approach to linguistics. But a linguistâ€™s personal judgements are often uncertain, or disagree with the judgements of other linguists, at which point recourse is needed to more objective methods of enquiry, using non-linguists as informants. The latter procedure is unavoidable when working on foreign languages, or child speech."</span> &gt; ~/JavaProjects/luceneDemo/src/main/resources/data/2.txt</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"Many factors must be considered when selecting informants â€“ whether one is working with single speakers (a common situation when languages have not been described before), two people interacting, small groups or large-scale samples. Age, sex, social background and other aspects of identity are important, as these factors are known to influence the kind of language used. The topic of conversation and the characteristics of the social setting (e.g. the level of formality) are also highly relevant, as are the personal qualities of the informants (e.g. their fluency and consistency). For larger studies, scrupulous attention has been paid to the sampling theory employed, and in all cases, decisions have to be made about the best investigative techniques to use."</span> &gt; ~/JavaProjects/luceneDemo/src/main/resources/data/3.txt</span><br></pre></td></tr></tbody></table></figure>
<h4 id="æ„å»ºç´¢å¼•"><a href="#æ„å»ºç´¢å¼•" class="headerlink" title="æ„å»ºç´¢å¼•"></a>æ„å»ºç´¢å¼•</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.standard.StandardAnalyzer;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.document.Document;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.document.TextField;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.index.IndexWriter;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.index.IndexWriterConfig;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.store.Directory;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.store.FSDirectory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.FileReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Indexer</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> IndexWriter writer;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Indexer</span><span class="params">(String indexDir)</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">        <span class="type">Directory</span> <span class="variable">dir</span> <span class="operator">=</span> FSDirectory.open(Paths.get(indexDir));</span><br><span class="line">        <span class="comment">// StandardAnalyzeræ ‡å‡†åˆ†è¯å™¨ï¼Œå°†å¿½ç•¥isï¼Œaï¼Œtheç­‰å•è¯</span></span><br><span class="line">        <span class="type">IndexWriterConfig</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IndexWriterConfig</span>(<span class="keyword">new</span> <span class="title class_">StandardAnalyzer</span>());</span><br><span class="line">        <span class="comment">// å®ä¾‹åŒ–å†™ç´¢å¼•å¯¹è±¡</span></span><br><span class="line">        writer = <span class="keyword">new</span> <span class="title class_">IndexWriter</span>(dir, config);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…³é—­ç´¢å¼•å†™å…¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> <span class="keyword">throws</span> IOException {</span><br><span class="line">        writer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç´¢å¼•dataDirç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">indexALl</span><span class="params">(String dataDir)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        File[] files = <span class="keyword">new</span> <span class="title class_">File</span>(dataDir).listFiles();</span><br><span class="line">        <span class="keyword">assert</span> files != <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">for</span> (File file : files) {</span><br><span class="line">            indexFile(file);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> writer.numDocs();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç´¢å¼•å•ä¸ªæ–‡ä»¶</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">indexFile</span><span class="params">(File file)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        System.out.println(<span class="string">"Indexing "</span> + file.getCanonicalPath());</span><br><span class="line">        <span class="type">Document</span> <span class="variable">doc</span> <span class="operator">=</span> getDocument(file);</span><br><span class="line">        <span class="comment">// å°†æ–‡æ¡£å†™å…¥ç´¢å¼•</span></span><br><span class="line">        writer.addDocument(doc);</span><br><span class="line">        writer.commit();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–æŸä¸ªæ–‡ä»¶çš„æ–‡æ¡£</span></span><br><span class="line">    <span class="keyword">private</span> Document <span class="title function_">getDocument</span><span class="params">(File file)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">Document</span> <span class="variable">doc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Document</span>();</span><br><span class="line">        doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"contents"</span>, <span class="keyword">new</span> <span class="title class_">FileReader</span>(file)));</span><br><span class="line">        doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"fileName"</span>, file.getName(), TextField.Store.YES));</span><br><span class="line">        doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"fullPath"</span>, file.getCanonicalPath(), TextField.Store.YES));</span><br><span class="line">        <span class="keyword">return</span> doc;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">indexDir</span> <span class="operator">=</span> <span class="string">"~/JavaProjects/luceneDemo/src/main/resources/Index"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">dataDir</span> <span class="operator">=</span> <span class="string">"~/JavaProjects/luceneDemo/src/main/resources/data"</span>;</span><br><span class="line">        <span class="type">Indexer</span> <span class="variable">indexer</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">indexNum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            indexer = <span class="keyword">new</span> <span class="title class_">Indexer</span>(indexDir);</span><br><span class="line">            indexNum = indexer.indexALl(dataDir);</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        } <span class="keyword">finally</span> {</span><br><span class="line">            <span class="keyword">try</span> {</span><br><span class="line">                <span class="keyword">assert</span> indexer != <span class="literal">null</span>;</span><br><span class="line">                indexer.close();</span><br><span class="line">            } <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"Index "</span> + indexNum + <span class="string">" files, cost "</span> + (endTime - startTime) + <span class="string">" ms"</span>);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h4 id="æ£€ç´¢"><a href="#æ£€ç´¢" class="headerlink" title="æ£€ç´¢"></a>æ£€ç´¢</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.standard.StandardAnalyzer;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.document.Document;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.index.DirectoryReader;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.index.IndexReader;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.queryparser.classic.QueryParser;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.search.IndexSearcher;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.search.Query;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.search.ScoreDoc;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.search.TopDocs;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.store.Directory;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.store.FSDirectory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Searcher</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">search</span><span class="params">(String indexDir, String q)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="comment">// ç´¢å¼•æ‰€åœ¨è·¯å¾„</span></span><br><span class="line">        <span class="type">Directory</span> <span class="variable">dir</span> <span class="operator">=</span> FSDirectory.open(Paths.get(indexDir));</span><br><span class="line">        <span class="type">IndexReader</span> <span class="variable">reader</span> <span class="operator">=</span> DirectoryReader.open(dir);</span><br><span class="line">        <span class="type">IndexSearcher</span> <span class="variable">searcher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IndexSearcher</span>(reader);</span><br><span class="line">        <span class="comment">// åˆ›å»ºæŸ¥è¯¢è§£æå™¨</span></span><br><span class="line">        <span class="type">QueryParser</span> <span class="variable">parser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">QueryParser</span>(<span class="string">"contents"</span>, <span class="keyword">new</span> <span class="title class_">StandardAnalyzer</span>());</span><br><span class="line">        <span class="type">Query</span> <span class="variable">query</span> <span class="operator">=</span> parser.parse(q);</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">start</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// æŸ¥è¯¢å¹¶è®°å½•å‰åæ¡æ•°æ®</span></span><br><span class="line">        <span class="type">TopDocs</span> <span class="variable">hits</span> <span class="operator">=</span> searcher.search(query, <span class="number">10</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">end</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">"Found "</span> + hits.totalHits + <span class="string">" document(s) (in "</span> + (end - start) + <span class="string">" milliseconds) that matched query '"</span> + q + <span class="string">"':"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä»ç»“æœä¸­å–æ•°æ®</span></span><br><span class="line">        <span class="keyword">for</span> (ScoreDoc scoreDoc : hits.scoreDocs) {</span><br><span class="line">            <span class="comment">// scoreDoc.docå³docIDï¼Œæ ¹æ®è¿™ä¸ªdocIDæ¥è·å–æ–‡æ¡£</span></span><br><span class="line">            <span class="type">Document</span> <span class="variable">doc</span> <span class="operator">=</span> searcher.doc(scoreDoc.doc);</span><br><span class="line">            System.out.println(doc.get(<span class="string">"fullPath"</span>));</span><br><span class="line">        }</span><br><span class="line">        reader.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">indexDir</span> <span class="operator">=</span> <span class="string">"~/JavaProjects/luceneDemo/src/main/resources/Index"</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">q</span> <span class="operator">=</span> <span class="string">"speakers"</span>;</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            search(indexDir, q);</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h4 id="å¢åˆ æ”¹æŸ¥æµ‹è¯•"><a href="#å¢åˆ æ”¹æŸ¥æµ‹è¯•" class="headerlink" title="å¢åˆ æ”¹æŸ¥æµ‹è¯•"></a>å¢åˆ æ”¹æŸ¥æµ‹è¯•</h4><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.Analyzer;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.analysis.standard.StandardAnalyzer;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.document.Document;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.document.StringField;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.document.TextField;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.index.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.queryparser.classic.QueryParser;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.search.*;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.store.Directory;</span><br><span class="line"><span class="keyword">import</span> org.apache.lucene.store.FSDirectory;</span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.nio.file.Paths;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexingTest</span> {</span><br><span class="line">    <span class="keyword">private</span> Directory dir;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String[] ids = {<span class="string">"1"</span>, <span class="string">"2"</span>, <span class="string">"3"</span>};</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String[] tools = {<span class="string">"Lucene"</span>, <span class="string">"ElasticSearch"</span>, <span class="string">"Solr"</span>};</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String[] positions = {<span class="string">"Java Engineer"</span>, <span class="string">"DevOps Engineer"</span>, <span class="string">"Data Engineer"</span>};</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String[] descs = {</span><br><span class="line">            <span class="string">"Lucene is a full-featured text search engine library written entirely in Java."</span>,</span><br><span class="line">            <span class="string">"ElasticSearch is a distributed, RESTful search and analytics engine capable of solving a growing number of use cases."</span>,</span><br><span class="line">            <span class="string">"Solr is the popular, blazing-fast, open source enterprise search platform built on Apache Lucene."</span></span><br><span class="line">    };</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testIndexAdd</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">IndexWriter</span> <span class="variable">writer</span> <span class="operator">=</span> getWriter();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; ids.length; i++) {</span><br><span class="line">            <span class="type">Document</span> <span class="variable">doc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Document</span>();</span><br><span class="line">            doc.add(<span class="keyword">new</span> <span class="title class_">StringField</span>(<span class="string">"id"</span>, ids[i], StringField.Store.YES));</span><br><span class="line">            doc.add(<span class="keyword">new</span> <span class="title class_">StringField</span>(<span class="string">"tool"</span>, tools[i], StringField.Store.YES));</span><br><span class="line">            doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"position"</span>, positions[i], TextField.Store.YES));</span><br><span class="line">            <span class="comment">// TextField field = new TextField("position", poitions[i], StringField.Store.YES);</span></span><br><span class="line">            <span class="comment">// if("DevOps Engineer".equals(positions[i])){</span></span><br><span class="line">            <span class="comment">//     field.setBoost(1.5f);</span></span><br><span class="line">            <span class="comment">// }</span></span><br><span class="line">            <span class="comment">// doc.add(field);</span></span><br><span class="line">            doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"desc"</span>, descs[i], StringField.Store.YES));</span><br><span class="line">            writer.addDocument(doc);</span><br><span class="line">        }</span><br><span class="line">        writer.commit();</span><br><span class="line">        writer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> IndexWriter <span class="title function_">getWriter</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">String</span> <span class="variable">indexDir</span> <span class="operator">=</span> <span class="string">"~/JavaProjects/luceneDemo/src/main/resources/testIndex"</span>;</span><br><span class="line">        dir = FSDirectory.open(Paths.get(indexDir));</span><br><span class="line">        <span class="type">Analyzer</span> <span class="variable">analyzer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StandardAnalyzer</span>();</span><br><span class="line">        <span class="type">IndexWriterConfig</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IndexWriterConfig</span>(analyzer);</span><br><span class="line">        <span class="type">IndexWriter</span> <span class="variable">writer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IndexWriter</span>(dir, config);</span><br><span class="line">        <span class="keyword">return</span> writer;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testIndexWriterNum</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">IndexWriter</span> <span class="variable">writer</span> <span class="operator">=</span> getWriter();</span><br><span class="line">        System.out.println(<span class="string">"Total number of documents in this testIndexAdd: "</span> + writer.numDocs());</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteBeforeMerge</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">IndexWriter</span> <span class="variable">writer</span> <span class="operator">=</span> getWriter();</span><br><span class="line">        System.out.println(<span class="string">"Total number of documents in this testIndexAdd before delete: "</span> + writer.numDocs());</span><br><span class="line">        writer.deleteDocuments(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"id"</span>, <span class="string">"1"</span>));</span><br><span class="line">        writer.commit();</span><br><span class="line">        System.out.println(<span class="string">"Max number of documents in this testIndexAdd after delete: "</span> + writer.maxDoc());</span><br><span class="line">        System.out.println(<span class="string">"Total number of documents in this testIndexAdd after delete: "</span> + writer.numDocs());</span><br><span class="line">        writer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testDeleteAfterMerge</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">IndexWriter</span> <span class="variable">writer</span> <span class="operator">=</span> getWriter();</span><br><span class="line">        System.out.println(<span class="string">"Total number of documents in this testIndexAdd before delete: "</span> + writer.numDocs());</span><br><span class="line">        writer.deleteDocuments(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"id"</span>, <span class="string">"1"</span>));</span><br><span class="line">        writer.forceMergeDeletes();</span><br><span class="line">        writer.commit();</span><br><span class="line">        System.out.println(<span class="string">"Max number of documents in this testIndexAdd after delete: "</span> + writer.maxDoc());</span><br><span class="line">        System.out.println(<span class="string">"Total number of documents in this testIndexAdd after delete: "</span> + writer.numDocs());</span><br><span class="line">        writer.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testUpdate</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">IndexWriter</span> <span class="variable">writer</span> <span class="operator">=</span> getWriter();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// new a document</span></span><br><span class="line">        <span class="type">Document</span> <span class="variable">doc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Document</span>();</span><br><span class="line">        doc.add(<span class="keyword">new</span> <span class="title class_">StringField</span>(<span class="string">"id"</span>, <span class="string">"1"</span>, StringField.Store.YES));</span><br><span class="line">        doc.add(<span class="keyword">new</span> <span class="title class_">StringField</span>(<span class="string">"tool"</span>, <span class="string">"Lucene"</span>, StringField.Store.YES));</span><br><span class="line">        doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"position"</span>, <span class="string">"Java Engineer"</span>, StringField.Store.YES));</span><br><span class="line">        doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"desc"</span>, <span class="string">"Lucene is a full-text search engine library"</span>, StringField.Store.YES));</span><br><span class="line">        writer.updateDocument(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"id"</span>, <span class="string">"1"</span>), doc);</span><br><span class="line"></span><br><span class="line">        writer.commit();</span><br><span class="line">        writer.close();</span><br><span class="line">        System.out.println(doc.getField(<span class="string">"desc"</span>));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testIndexReader</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">String</span> <span class="variable">indexDir</span> <span class="operator">=</span> <span class="string">"~/JavaProjects/luceneDemo/src/main/resources/testIndex"</span>;</span><br><span class="line">        dir = FSDirectory.open(Paths.get(indexDir));</span><br><span class="line">        <span class="type">IndexReader</span> <span class="variable">reader</span> <span class="operator">=</span> DirectoryReader.open(dir);</span><br><span class="line">        System.out.println(<span class="string">"Total number of documents in this testIndexAdd: "</span> + reader.numDocs());</span><br><span class="line">        System.out.println(<span class="string">"Total number of deleted documents in this testIndexAdd: "</span> + reader.numDeletedDocs());</span><br><span class="line">        System.out.println(<span class="string">"Total number of max docs in this testIndexAdd: "</span> + reader.maxDoc());</span><br><span class="line">        reader.close();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testIndexSearch</span><span class="params">()</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        <span class="type">String</span> <span class="variable">indexDir</span> <span class="operator">=</span> <span class="string">"~/JavaProjects/luceneDemo/src/main/resources/testIndex"</span>;</span><br><span class="line">        dir = FSDirectory.open(Paths.get(indexDir));</span><br><span class="line">        <span class="type">IndexReader</span> <span class="variable">reader</span> <span class="operator">=</span> DirectoryReader.open(dir);</span><br><span class="line">        <span class="type">IndexSearcher</span> <span class="variable">searcher</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">IndexSearcher</span>(reader);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Query</span></span><br><span class="line">        <span class="type">QueryParser</span> <span class="variable">parse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">QueryParser</span>(<span class="string">"desc"</span>, <span class="keyword">new</span> <span class="title class_">StandardAnalyzer</span>());</span><br><span class="line">        <span class="type">Query</span> <span class="variable">query</span> <span class="operator">=</span> parse.parse(<span class="string">"search"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æƒé‡æœç´¢æ’åº</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºTermQuery</span></span><br><span class="line">        <span class="type">TermQuery</span> <span class="variable">termQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TermQuery</span>(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"position"</span>, <span class="string">"DevOps"</span>.toLowerCase()));</span><br><span class="line">        <span class="comment">// æå‡TermQueryçš„æƒé‡</span></span><br><span class="line">        <span class="type">BoostQuery</span> <span class="variable">boostQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BoostQuery</span>(termQuery, <span class="number">1.5f</span>);</span><br><span class="line">        <span class="comment">// åˆ›å»ºBooleanQuery</span></span><br><span class="line">        BooleanQuery.<span class="type">Builder</span> <span class="variable">booleanQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BooleanQuery</span>.Builder();</span><br><span class="line">        booleanQuery.add(query, BooleanClause.Occur.MUST);</span><br><span class="line">        booleanQuery.add(boostQuery, BooleanClause.Occur.SHOULD);</span><br><span class="line"></span><br><span class="line">        <span class="type">TopDocs</span> <span class="variable">hits</span> <span class="operator">=</span> searcher.search(booleanQuery.build(), <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">"Total number of hits: "</span> + hits.totalHits);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (ScoreDoc scoreDoc : hits.scoreDocs) {</span><br><span class="line">            <span class="type">Document</span> <span class="variable">doc</span> <span class="operator">=</span> searcher.doc(scoreDoc.doc);</span><br><span class="line">            System.out.println(doc.get(<span class="string">"id"</span>));</span><br><span class="line">            System.out.println(doc.get(<span class="string">"tool"</span>));</span><br><span class="line">            System.out.println(doc.get(<span class="string">"position"</span>));</span><br><span class="line">            System.out.println(doc.get(<span class="string">"desc"</span>));</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        reader.close();</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h4 id="mag-Attention"><a href="#mag-Attention" class="headerlink" title=":mag:Attention"></a><span class="github-emoji"><span>ğŸ”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f50d.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Attention</h4><ul>
<li><p><code>TextField</code>å’Œ<code>StringField</code>çš„åŒºåˆ«</p>
<ul>
<li><code>StringField</code>ï¼šä¸ä¼šè¢«åˆ†è¯å™¨å¤„ç†ï¼Œé€‚ç”¨äºç²¾ç¡®åŒ¹é…æŸ¥è¯¢ï¼Œå¦‚IDã€æ—¥æœŸã€åˆ†ç±»ç­‰å­—æ®µï¼Œ<code>StringField.Store.YES</code>è¡¨ç¤ºå­˜å‚¨å­—æ®µå€¼ã€‚</li>
<li><p><code>TextField</code>ï¼šä¼šè¢«åˆ†è¯å™¨å¤„ç†ï¼Œé€‚ç”¨äºéœ€è¦è¿›è¡Œå…¨æ–‡æœç´¢çš„æ–‡æœ¬å†…å®¹ï¼Œå¦‚æ–‡ç« å†…å®¹ã€æè¿°ç­‰å­—æ®µï¼Œ<code>TextField.Store.YES</code>è¡¨ç¤ºå­˜å‚¨å­—æ®µå€¼å¹¶è¿›è¡Œåˆ†è¯å¤„ç†ã€‚</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨StringFieldå­˜å‚¨IDå­—æ®µ</span></span><br><span class="line">doc.add(<span class="keyword">new</span> <span class="title class_">StringField</span>(<span class="string">"id"</span>, <span class="string">"1"</span>, StringField.Store.YES));</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨TextFieldå­˜å‚¨æè¿°å­—æ®µ</span></span><br><span class="line">doc.add(<span class="keyword">new</span> <span class="title class_">TextField</span>(<span class="string">"desc"</span>, <span class="string">"Lucene is a full-featured text search engine library written entirely in Java."</span>, TextField.Store.YES));</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p><code>IndexWriter</code>çš„<code>commit</code>å’Œ<code>close</code>æ–¹æ³•</p>
<ul>
<li><code>commit</code>ï¼šæäº¤ç´¢å¼•ï¼Œå°†å†…å­˜ä¸­çš„ç´¢å¼•å†™å…¥ç£ç›˜ï¼Œä¿è¯ç´¢å¼•çš„ä¸€è‡´æ€§ã€‚</li>
<li><code>close</code>ï¼šå…³é—­ç´¢å¼•å†™å…¥å™¨ï¼Œé‡Šæ”¾èµ„æºã€‚</li>
</ul>
</li>
<li><p><code>TermQuery</code>ä¸­çš„æ–‡æœ¬å¯ä»¥æ˜¯å¤§å†™ä¹Ÿå¯ä»¥æ˜¯å°å†™ï¼Œä½†å¿…é¡»ä¸ç´¢å¼•ä¸­çš„æ–‡æœ¬å®Œå…¨åŒ¹é…ã€‚å› ä¸º<code>TermQuery</code>ä¸ä¼šå¯¹æŸ¥è¯¢æ–‡æœ¬è¿›è¡Œåˆ†ææˆ–åˆ†è¯å¤„ç†ï¼Œæ‰€ä»¥å¦‚æœç´¢å¼•ä¸­çš„æ–‡æœ¬æ˜¯å°å†™ï¼Œé‚£ä¹ˆæŸ¥è¯¢æ–‡æœ¬ä¹Ÿå¿…é¡»æ˜¯å°å†™ã€‚å¦‚æœä½¿ç”¨äº†<code>StandardAnalyzer</code>æˆ–å…¶ä»–åˆ†è¯å™¨åœ¨ç´¢å¼•æ—¶å°†æ–‡æœ¬è½¬æ¢ä¸ºå°å†™ï¼Œé‚£ä¹ˆåœ¨æŸ¥è¯¢æ—¶ä¹Ÿéœ€è¦å°†æ–‡æœ¬è½¬æ¢ä¸ºå°å†™ä»¥ç¡®ä¿åŒ¹é…ã€‚å¯ä»¥ä½¿ç”¨<code>LowerCaseFilter</code>æˆ–<code>LowerCaseTokenizer</code>æ¥ç¡®ä¿æŸ¥è¯¢æ–‡æœ¬æ˜¯å°å†™çš„ã€‚</p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºTermQueryå¹¶å°†æ–‡æœ¬è½¬æ¢ä¸ºå°å†™</span></span><br><span class="line"><span class="type">TermQuery</span> <span class="variable">termQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TermQuery</span>(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"position"</span>, <span class="string">"DevOps"</span>.toLowerCase()));</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>TermQuery</code>ä¸ä¼šè¿›è¡Œåˆ†è¯å¤„ç†ï¼Œåªä¼šè¿›è¡Œç²¾ç¡®åŒ¹é…æŸ¥è¯¢ï¼Œæ‰€ä»¥æŸ¥è¯¢æ–‡æœ¬å¿…é¡»ä¸ç´¢å¼•ä¸­çš„æ–‡æœ¬å®Œå…¨åŒ¹é…ã€‚å¦‚æœéœ€è¦æŸ¥è¯¢åŒ…å«å¤šä¸ªè¯çš„å­—æ®µï¼Œå¯ä»¥ä½¿ç”¨<code>PhraseQuery</code>æˆ–<code>BooleanQuery</code>ã€‚</p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨PhraseQueryæŸ¥è¯¢åŒ…å«å¤šä¸ªè¯çš„å­—æ®µ</span></span><br><span class="line"><span class="type">PhraseQuery</span> <span class="variable">phraseQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PhraseQuery</span>.Builder()</span><br><span class="line">    .add(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"position"</span>, <span class="string">"DevOps"</span>))</span><br><span class="line">    .add(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"position"</span>, <span class="string">"Engineer"</span>))</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨BooleanQueryæŸ¥è¯¢åŒ…å«å¤šä¸ªè¯çš„å­—æ®µ</span></span><br><span class="line"><span class="type">BooleanQuery</span> <span class="variable">booleanQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BooleanQuery</span>.Builder()</span><br><span class="line">    .add(<span class="keyword">new</span> <span class="title class_">TermQuery</span>(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"position"</span>, <span class="string">"DevOps"</span>)), BooleanClause.Occur.MUST)</span><br><span class="line">    .add(<span class="keyword">new</span> <span class="title class_">TermQuery</span>(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"position"</span>, <span class="string">"Engineer"</span>)), BooleanClause.Occur.MUST)</span><br><span class="line">    .build();</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>$lunece.version&gt;7.0$å·²ç»ä¸å†æ”¯æŒ<code>setBoost</code>æ–¹æ³•</p>
<ul>
<li><a href="https://issues.apache.org/jira/browse/LUCENE-6819">LUCENE-6819</a>: Index-time boosts are not supported anymore. As a replacement, index-time scoring factors should be indexed into a doc value field and combined at query time using eg. FunctionScoreQuery</li>
</ul>
</li>
<li>åŒæ ·ä¸å»ºè®®ä½¿ç”¨<code>Query.setBoost()</code>æˆ–è€…<code>Query.createWeight()</code><ul>
<li><a href="https://issues.apache.org/jira/browse/LUCENE-6590">LUCENE-6590</a>: Query.setBoost(), Query.getBoost() and Query.clone() are gone. In order to apply boosts, you now need to wrap queries in a BoostQuery.</li>
</ul>
</li>
<li><p>å»ºè®®ç”¨<code>BoostQuery</code>å°è£…æ¥å†™æƒé‡æŸ¥è¯¢ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®æƒé‡å€¼æ¥è°ƒæ•´æŸ¥è¯¢çš„ç›¸å…³æ€§ï¼Œå€¼è¶Šå¤§è¡¨ç¤ºç›¸å…³æ€§è¶Šé«˜ã€‚å¯ä»¥å°†<code>TermQuery</code>æˆ–<code>BooleanQuery</code>åŒ…è£…åœ¨<code>BoostQuery</code>ä¸­ï¼Œç„¶åå°†<code>BoostQuery</code>æ·»åŠ åˆ°<code>BooleanQuery</code>ä¸­ã€‚</p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºTermQuery</span></span><br><span class="line"><span class="type">TermQuery</span> <span class="variable">termQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TermQuery</span>(<span class="keyword">new</span> <span class="title class_">Term</span>(<span class="string">"position"</span>, <span class="string">"DevOps"</span>.toLowerCase()));</span><br><span class="line"><span class="comment">// æå‡TermQueryçš„æƒé‡</span></span><br><span class="line"><span class="type">BoostQuery</span> <span class="variable">boostQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BoostQuery</span>(termQuery, <span class="number">1.5f</span>);</span><br><span class="line"><span class="comment">// åˆ›å»ºBooleanQuery</span></span><br><span class="line">BooleanQuery.<span class="type">Builder</span> <span class="variable">booleanQuery</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BooleanQuery</span>.Builder();</span><br><span class="line">booleanQuery.add(query, BooleanClause.Occur.MUST);</span><br><span class="line">booleanQuery.add(boostQuery, BooleanClause.Occur.SHOULD);</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Lucene</tag>
      </tags>
  </entry>
  <entry>
    <title>Matlab sort out</title>
    <url>/2021/06/19/Matlab%20sort%20out/</url>
    <content><![CDATA[<h3 id="Personal-matlab-sort-out-about-communication-simulations-finally"><a href="#Personal-matlab-sort-out-about-communication-simulations-finally" class="headerlink" title="Personal matlab sort out about communication simulations finally"></a>Personal matlab sort out about communication simulations finally</h3><span id="more"></span>
<h2 id="1-Basics"><a href="#1-Basics" class="headerlink" title="1.Basics"></a>1.Basics</h2><ul>
<li>Scalars</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line">a = <span class="number">10</span>+<span class="number">1</span><span class="built_in">i</span>       <span class="comment">% æ¨èä½¿ç”¨1i</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Vectors</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">a = [<span class="number">1</span> <span class="number">3</span> <span class="number">5</span>]     <span class="comment">% 1è¡Œ3åˆ—</span></span><br><span class="line">a = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]     <span class="comment">% ä½¿ç”¨,ä¸å¦æ•ˆæœç›¸åŒ</span></span><br><span class="line">a = <span class="number">1</span>:<span class="number">2</span>:<span class="number">7</span>       <span class="comment">% begin:step:end</span></span><br><span class="line">a = [<span class="number">1</span>;<span class="number">3</span>;<span class="number">5</span>]     <span class="comment">% 3è¡Œ1åˆ—</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Matrices</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">A = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>;<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>;<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>] <span class="comment">% ä¸‰è¡Œä¸‰åˆ—çŸ©é˜µ</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Operations</li>
</ul>
<ol>
<li><p><code>*</code> å’Œ<code>.*</code>çš„åŒºåˆ«</p>
<blockquote>
<p>åœ¨è¿›è¡Œæ•°å€¼è¿ç®—å’Œæ•°å€¼ä¹˜çŸ©é˜µè¿ç®—ï¼Œä¸¤è€…æ— åŒºåˆ«ï¼Œ<code>a*b=a.*b; a*B=a.*B; B*a=B.*a</code>ï¼ˆå…¶ä¸­å°å†™å­—æ¯è¡¨ç¤ºæ•°å€¼ï¼Œå¤§å†™å­—æ¯è¡¨ç¤ºçŸ©é˜µï¼Œä¸‹åŒï¼‰ã€‚<br>åœ¨å¤„ç†çŸ©é˜µä¹˜çŸ©é˜µæ—¶ï¼Œ<code>*</code>è¡¨ç¤ºæ™®é€šçš„çŸ©é˜µä¹˜æ³•ï¼Œè¦æ±‚å‰é¢çŸ©é˜µçš„åˆ—æ•°ç­‰äºåé¢çŸ©é˜µçš„è¡Œæ•°ï¼›<code>.*</code>è¡¨ç¤ºä¸¤ä¸ªçŸ©é˜µå¯¹åº”å…ƒç´ ç›¸ä¹˜ï¼Œè¦æ±‚ä¸¤ä¸ªçŸ©é˜µè¡Œæ•°åˆ—æ•°éƒ½ç›¸ç­‰ã€‚</p>
</blockquote>
 <figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">&gt;&gt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]*[<span class="number">1</span>,<span class="number">2</span>;<span class="number">3</span>,<span class="number">4</span>;<span class="number">5</span>,<span class="number">6</span>]       <span class="comment">% çŸ©é˜µä¹˜æ³•</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">22</span>    <span class="number">28</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].*[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]            <span class="comment">% çŸ©é˜µç‚¹ä¹˜</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">4</span>    <span class="number">10</span>    <span class="number">18</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>/</code> å’Œ<code>./</code>çš„åŒºåˆ«</p>
<blockquote>
<p>æ•°å€¼è¿è¡Œæ—¶ï¼Œè¿™ä¸¤ç§æ²¡æœ‰åŒºåˆ«ï¼Œ<code>a/b=a./b</code><br>æ•°å€¼ä¸çŸ©é˜µè¿ç®—ï¼Œæ•°å€¼åœ¨å‰æ—¶åªèƒ½ç”¨<code>./</code>;æ•°å€¼åœ¨åæ—¶<code>a/b=a./b</code><br>çŸ©é˜µä¸çŸ©é˜µï¼Œ<code>A/B</code>å¯ä»¥çœ‹ä½œæ˜¯<code>A*inv(B)</code>;<code>A./B</code>è¡¨ç¤ºAçŸ©é˜µå’ŒBçŸ©é˜µå¯¹åº”å…ƒç´ ç›¸é™¤ï¼Œéœ€è¦çŸ©é˜µç»´åº¦ä¿æŒä¸€è‡´ã€‚<br>å¦å¤–æœ‰<code>\</code>å’Œ<code>.\</code>è¡¨ç¤ºå‰é™¤ï¼Œç±»ä¼¼å°å­¦æ—¶å€™è¯¦ç»†åŒºçš„åˆ†é™¤å’Œè¢«é™¤è¿ç®—ï¼Œä¸€èˆ¬ä¹ æƒ¯ä¸ä½¿ç”¨è¿™ç§ã€‚</p>
</blockquote>
 <figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">&gt;&gt; [<span class="number">4</span>,<span class="number">5</span>]/[<span class="number">1</span>,<span class="number">2</span>;<span class="number">3</span>,<span class="number">4</span>]                    <span class="comment">% çŸ©é˜µé™¤æ³•</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">-0.5000</span>    <span class="number">1.5000</span></span><br><span class="line"></span><br><span class="line">&gt;&gt; [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]./[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]                   <span class="comment">% çŸ©é˜µç‚¹é™¤</span></span><br><span class="line"><span class="built_in">ans</span> =</span><br><span class="line"><span class="number">4.0000</span>    <span class="number">2.5000</span>    <span class="number">2.0000</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>A(1,1)</code>ã€<code>A(:,1)</code>ã€<code>A(1,:)</code>ã€<code>A(:,:)</code></p>
</li>
<li><p><code>[1+2*1i,3+4*1i]'</code>å’Œ<code>[1+2*1i,3+4*1i].'</code>éƒ½è¡¨ç¤ºçŸ©é˜µçš„è½¬ç½®,å®æ•°æƒ…å†µä¸‹<code>A'</code>å’Œ<code>A.'</code>æ²¡æœ‰åŒºåˆ«ï¼›å¤æ•°æƒ…å†µä¸‹<code>A'</code>ä¼šäº§ç”Ÿ<code>A</code>çš„è½¬ç½®å…±è½­çŸ©é˜µï¼Œ<code>A.'</code>äº§ç”Ÿæ™®é€šçš„è½¬ç½®çŸ©é˜µã€‚</p>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">[<span class="number">1</span>+<span class="number">2</span>*<span class="number">1</span><span class="built_in">i</span>,<span class="number">3</span>+<span class="number">4</span>*<span class="number">1</span><span class="built_in">i</span>]'=[<span class="number">1</span><span class="number">-2</span>*<span class="number">1</span><span class="built_in">i</span>;<span class="number">3</span><span class="number">-4</span>*<span class="number">1</span><span class="built_in">i</span>]</span><br><span class="line">[<span class="number">1</span>+<span class="number">2</span>*<span class="number">1</span><span class="built_in">i</span>,<span class="number">3</span>+<span class="number">4</span>*<span class="number">1</span><span class="built_in">i</span>].'=[<span class="number">1</span>+<span class="number">2</span>*<span class="number">1</span><span class="built_in">i</span>;<span class="number">3</span>+<span class="number">4</span>*<span class="number">1</span><span class="built_in">i</span>]</span><br></pre></td></tr></tbody></table></figure>
</li>
</ol>
<ul>
<li><p>Special number</p>
<p>  <code>pi</code><br>  <code>Inf</code>ã€<code>inf</code>:infinity,i.e.,1/0<br>  <code>NaN</code>ã€<code>nan</code>:not a number,e.g.,0/0<br>  <code>eps</code>:accuracy of the matlab,eps= 2-52 â‰ˆ 2.2204Ã—10-16</p>
</li>
<li><p>General functions</p>
<ul>
<li>Trigonometric functions:<br><code>cos(x)</code>ã€<code>sin(x)</code>ã€<code>tan(x)</code></li>
<li>Complex:<br>z = a+bi = $re^{i\theta}$<br><code>real(z)</code>ã€<code>imag(z)</code>ã€<code>abs(z)</code>ã€<code>angle(z)</code>ã€<code>conj(z)</code></li>
<li>Exponential and logarithm functions</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>exp(x)</code></td>
<td style="text-align:center">$e^{x}$</td>
<td style="text-align:center"><code>log1p(x)</code></td>
<td style="text-align:center">ln(1+x)</td>
</tr>
<tr>
<td style="text-align:center"><code>pow2(x)</code></td>
<td style="text-align:center">$2^{x}$</td>
<td style="text-align:center"><code>log2(x)</code></td>
<td style="text-align:center">$log_{2}{x}$</td>
</tr>
<tr>
<td style="text-align:center"><code>log(x)</code></td>
<td style="text-align:center">lnx</td>
<td style="text-align:center"><code>log10(x)</code></td>
<td style="text-align:center">$log_{10}{x}$ã€$lg(x)$</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Array and matrix</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>ones</code></td>
<td style="text-align:center">All one</td>
<td style="text-align:center"><code>zeros</code></td>
<td style="text-align:center">All zeros</td>
</tr>
<tr>
<td style="text-align:center"><code>length</code></td>
<td style="text-align:center">length</td>
<td style="text-align:center"><code>size</code></td>
<td style="text-align:center">Dimension of array</td>
</tr>
<tr>
<td style="text-align:center"><code>sum</code></td>
<td style="text-align:center">sum</td>
<td style="text-align:center"><code>mean</code></td>
<td style="text-align:center">Mean of array</td>
</tr>
<tr>
<td style="text-align:center"><code>reshape</code></td>
<td style="text-align:center">Reshape the array</td>
<td style="text-align:center"><code>sort</code></td>
<td style="text-align:center">Sort the array</td>
</tr>
<tr>
<td style="text-align:center"><code>min</code></td>
<td style="text-align:center">minimum</td>
<td style="text-align:center"><code>max</code></td>
<td style="text-align:center">maximum</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Rounding functions<br><code>round</code>ã€<code>fix</code>ã€<code>floor</code>ã€<code>ceil</code></li>
<li>Figure plotting<br><code>plot()</code>ã€<code>subplot(n,m,i)</code>ã€<code>figure(i)</code>ã€<code>xlabel()</code>ã€<code>ylabel()</code><br><code>title()</code>ã€<code>legend()</code>ã€<code>hold on</code>ã€<code>grid on</code>ã€<code>semilogy()</code>â€¦</li>
<li>Function format<br><code>function [outputs]=function_name(inputs)</code></li>
</ul>
<h2 id="2-Signals-and-linear-systems"><a href="#2-Signals-and-linear-systems" class="headerlink" title="2.Signals and linear systems"></a>2.Signals and linear systems</h2><ul>
<li><p>Basic sequence</p>
<ul>
<li>Impulse signal and sequence</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">t = <span class="number">-5</span>:<span class="number">0.01</span>:<span class="number">5</span>;</span><br><span class="line">y = (t==<span class="number">0</span>);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, y, <span class="string">'râ€™);</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">n = -5:5;</span></span><br><span class="line"><span class="string">x = (n==0);</span></span><br><span class="line"><span class="string">subplot(1,2,2);</span></span><br><span class="line"><span class="string">stem(n, x);</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Step signal and sequence</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">t =<span class="number">-5</span>:<span class="number">0.01</span>:<span class="number">5</span>;</span><br><span class="line">y=(t&gt;=<span class="number">0</span>);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="built_in">plot</span>(t, y, <span class="string">'r'</span>)</span><br><span class="line"></span><br><span class="line">n = <span class="number">-5</span>:<span class="number">5</span>;</span><br><span class="line">x = (n&gt;=<span class="number">0</span>);</span><br><span class="line">subplot(<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>);</span><br><span class="line">stem(n, x);</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Real exponential sequence<br>x(n)=$a^n$, $\forall n$,  $a\in R$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">n=[ns:nf];</span><br><span class="line">x=a.^n;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Exponential sequence<br>x(n)=$e^{(\delta +j\omega)n}$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">n=[ns:nf];</span><br><span class="line">x=<span class="built_in">exp</span>((delta+jw)*n);</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Sinine, cosine sequence<br>$x(n)=cos(\omega n+\theta)$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">n=[ns:nf];</span><br><span class="line">x=<span class="built_in">cos</span>(w*n+sita);</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Other signal generation functions</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
<th style="text-align:center">Name</th>
<th style="text-align:center">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center"><code>sawtooth</code></td>
<td style="text-align:center">Sawtooth or triangle wave</td>
<td style="text-align:center"><code>pulstran</code></td>
<td style="text-align:center">Pulse train</td>
</tr>
<tr>
<td style="text-align:center"><code>square</code></td>
<td style="text-align:center">Square wave</td>
<td style="text-align:center"><code>rectpule</code></td>
<td style="text-align:center">A period square wave</td>
</tr>
<tr>
<td style="text-align:center"><code>sinc</code></td>
<td style="text-align:center">Sinc wave</td>
<td style="text-align:center"><code>tripuls</code></td>
<td style="text-align:center">A period triangle wave</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>Signal Operations</p>
<ul>
<li>Moving<br>y(n)=x(n-m)</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">y(n)=x(n-m)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Periodic extension<br>$y(n)=x((n))_{M}$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">y(n)=x(<span class="built_in">mod</span>(n,M)+<span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Flipping<br>y(n)=x(-n)</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">y=<span class="built_in">fliplr</span>(x)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Correlation with two sequences<br>$y(m)=\sum^n x_1(n+m)x_2^*(n)$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">y=xcorr(x1,x2)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Cumulative sum<br>$y(n)=\sum_{i=1}^n x(i)$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">y=cumsum(x)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Convolution of two sequences<br>$y(n)=x_1(n)*x_2(n)=\sum^mx_1(m)x_x(n-m)$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">y=conv(x1,x2)</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Convolution of two <em>continuous-time</em> signalsï¼š<br>$f(t)=\int<em>{-\infty}^{+\infty}f_1(\tau)f_2(t-\tau)d\tau$<br>$f(t)=\sum</em>{k=-\infty}^{+\infty}f_1(k\Delta)f_2(t-k\Delta)\Delta$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">y=conv(x1,x2)*dt</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Fourier transform</p>
<ul>
<li>Continuous-timeï¼Œcontinuous-frequency: FT</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">T2F</th>
<th style="text-align:center">F2T</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$X(f)=\int_{-\infty}^{+\infty}x(t) e^{-j2\pi ft}dt$</td>
<td style="text-align:center">$x(t)=\int_{-\infty}^{+\infty}X(f) e^{j2\pi ft}df$</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li>Discrete-time, discrete-frequency: DFT / FFT</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">T2F</th>
<th style="text-align:center">F2T</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$X(k)=\sum_{n=0}^{N-1}x(n) e^{-j\frac{2pi}{N}nk}$</td>
<td style="text-align:center">$x(t)=\frac{1}{N}\sum_{n=0}^{N-1}X(k) e^{j\frac{2pi}{N}nk}$</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><p>Energy and Power</p>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">dt=t(<span class="number">2</span>)-t(<span class="number">1</span>);</span><br><span class="line">df=f(<span class="number">2</span>)-f(<span class="number">1</span>);</span><br><span class="line">N=<span class="built_in">length</span>(t);</span><br><span class="line">T=t(<span class="keyword">end</span>)-t(<span class="number">1</span>)+dt;   <span class="comment">% T=N*dt</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>Energy</p>
<ul>
<li>T-domain<br>$x[n]=x(n\Delta t)$<br>$E=\int<em>{-\infty}^{+\infty} |x(t)|^2dt \approx\sum</em>{n=0}^M x[n]Â·x^*[n]Â·\Delta t$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">% E=sum(x.*conj(x))*dt;</span></span><br><span class="line">E=sum(<span class="built_in">abs</span>(x).^<span class="number">2</span>)*dt;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>F-domain<br>$X[k]=X(k\Delta f)$<br>$E=\int<em>{-\infty}^{+\infty} |X(f)|^2df \approx\sum</em>{k=0}^{k-1} X[k]Â·X^*[k]Â·\Delta f$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">% E=sum(x.*conj(x))*df;</span></span><br><span class="line">E=sum(<span class="built_in">abs</span>(x).^<span class="number">2</span>)*df;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Power</p>
<ul>
<li>T-domain<br>$P=\lim<em>{T\rightarrow\infty}\frac{1}{T}\int_0^T |x(t)|^2dt \approx\frac{1}{N}\sum</em>{n=0}^{N-1} |x[n]|^2$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">% P=sum(x.*conj(x))/N;</span></span><br><span class="line">P=sum(<span class="built_in">abs</span>(x).^<span class="number">2</span>)/N;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>F-domain<br><em>$X_Tf$ is the spectrum of x(t) within [0,T]</em><br>$P=\lim<em>{T\rightarrow\infty}\frac{1}{T}\int</em>{-\infty}^{+\infty} |X<em>T(f)|^2df \approx\frac{1}{N}\sum</em>{k=0}^{K-1} |X[k]|^2\Delta f$</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">% P=sum(x.*conj(x))*df/T;</span></span><br><span class="line">P=sum(<span class="built_in">abs</span>(x).^<span class="number">2</span>)*df/T;</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Autocorrelation and Power spectral density(PSD)</p>
<ul>
<li><p>Autocorrelation<br>$x[n]=x(n\Delta t)$<br>$R(\tau)=\int<em>{-\infty}^{+\infty} x(t)x^* (t+\tau)dt \approx\sum</em>{n=0}^M x[n]Â·x^*[n+\tau]Â·\Delta t$<br>$R<em>T(\tau)=\lim</em>{T\rightarrow\infty}\frac{R(\tau)}{T}$</p>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">R(tau)=sum(x(t).*<span class="built_in">conj</span>(x(t+tau))*dt/(N*dt);</span><br><span class="line"></span><br><span class="line"><span class="comment">%% or</span></span><br><span class="line">R=xcorr(x);</span><br><span class="line">R=R*Ts/T;   <span class="comment">% R=R/N</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>PSD<br>$P<em>T(f)=\lim</em>{T\rightarrow\infty}\frac{|X_T(f)|^2}{T}$</p>
</li>
<li>Wiener-Khinchin theorem<br>$FT(R_T(\tau))=P_T(f)$</li>
</ul>
</li>
<li><p><span class="github-emoji"><span>ğŸŒ€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f300.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Component</p>
<ul>
<li><p>hilbert change<br>é€šè¿‡å¸Œå°”ä¼¯ç‰¹å˜æ¢ï¼Œè¿”å›çš„å®éƒ¨æ˜¯æœ¬èº«å³åŒå‘åˆ†é‡(quadrature component)ï¼Œè™šéƒ¨æ˜¯å»¶è¿Ÿ90Â°åçš„ä¿¡å·å³æ­£äº¤åˆ†é‡(in-phase component)</p>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">x_a = hilbert(x);</span><br><span class="line">fc = <span class="number">50</span>;                        <span class="comment">% Carrier fc=50Hz</span></span><br><span class="line">x_l = x_a.*<span class="built_in">exp</span>(<span class="number">-1</span><span class="built_in">i</span>*<span class="number">2</span>*<span class="built_in">pi</span>*fc*t);  <span class="comment">% Lowpass equivalent</span></span><br><span class="line">x_i = <span class="built_in">real</span>(x_l);                <span class="comment">% In-phase component</span></span><br><span class="line">x_q = <span class="built_in">imag</span>(x_l);                <span class="comment">% Quadrature component</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
</ul>
<h2 id="3-Randon-process-and-analog-modulation"><a href="#3-Randon-process-and-analog-modulation" class="headerlink" title="3.Randon process and analog modulation"></a>3.Randon process and analog modulation</h2><p>For a random process $x(t)$, for an arbitrary $t_1$ï¼Œ$x(t_1)$ is a random variable.</p>
<ul>
<li><p>Variables and Distributions</p>
<p>Function:$F_x(x)=Pr(X\leq x)$</p>
<ul>
<li>Probability density function:$p(x)=\frac{dF_x(x)}{dx}$</li>
<li>Expectation:$E[X]=\int_{-\infty}^{+\infty}xp(x)dx$</li>
<li>Moment:$E[X^n] =\int_{-\infty}^{+\infty} x^n p(x)dx$</li>
<li>Variance:$E[(X-m_x)^2] =E[X^2] -m_x^2$</li>
</ul>
</li>
<li><p>Ergodicity and Stationary</p>
<ul>
<li>Ergodicity<blockquote>
<p>1.The expectation of x(t) is a constant.<br><code>mean(x)=constant</code><br>2.Its autocorrelation only depends on the time difference.<br><code>Ry is autocorrelation of {Yn}.</code><br><code>After 100 times, Ry is has nothing to do with time.</code></p>
</blockquote>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>Stationary</p>
<blockquote>
<p>1.The expectation of x(t) equals the time-average. An arbitrary realization of the random process will go through all the possible states.<br>If one line has 1000 components, use <code>mean</code> to calculate expectation.<br>Use the first component of each line, the <code>mean</code> of one row is time-average.</p>
</blockquote>
</li>
<li><p><a href="https://www.lingzhicheng.cn/2021/04/21/Modulate%20and%20demodulate" target="_blank">e.g. Modulate and demodulate</a></p>
</li>
</ul>
<ul>
<li><p>Analog modulation</p>
<ul>
<li>Amplitude modulation(mainly)<br><code>m(t)</code>means the message signal.<ul>
<li>DSB-Am</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Time-domain</th>
<th style="text-align:center">Frequency-domain</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$s(t)=A_{c}m(t)cos(2\pi{f_c}t)$</td>
<td style="text-align:center">$S(f)=\frac{A_c}{2}[M(f-{f_c})+M(f+{f_c})]$</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><ul>
<li><ul>
<li>Conventional AM</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">Time-domain</th>
<th style="text-align:center">Frequency-domain</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$s(t)=A_{c}(1+am(t))cos(2\pi{f_c}t)$</td>
<td style="text-align:center">$S(f)=\frac{A_c}{2}[\delta (f-{f_c})+aM(f-{f_c})+aM(f+{f_c})]$</td>
</tr>
</tbody>
</table>
</div>
<ul>
<li><ul>
<li><ul>
<li>SSB-AM(T-domain)<br>$s(t)=\frac{A<em>{c}}{2}m(t)cos(2\pi{f_c}t)\pm \frac{A</em>{c}}{2}m(t)sin(2\pi{f_c}t)$<br><strong>matlab codeï¼š$hilbert(m)=m(t)+j\hat{m}(t)$</strong></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:center">U_SSB</th>
<th style="text-align:center">L_SSB</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">$s(t)=\frac{A<em>{c}}{2}m(t)cos(2\pi{f_c}t)-\frac{A</em>{c}}{2}\hat{m}(t)sin(2\pi{f_c}t)$</td>
<td style="text-align:center">$s(t)=\frac{A<em>{c}}{2}m(t)cos(2\pi{f_c}t)+\frac{A</em>{c}}{2}\hat{m}(t)sin(2\pi{f_c}t)$</td>
</tr>
<tr>
<td style="text-align:center">$\frac{A_{c}}{2}Re[(m(t)+j\hat{m}(t))e^{j2\pi f_c t}]$</td>
<td style="text-align:center">$\frac{A_{c}}{2}Re[(m(t)+j\hat{m}(t))e^{-j2\pi f_c t}]$</td>
</tr>
</tbody>
</table>
</div>
<pre><code>- e.g.:ear:

<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line">Fs = <span class="number">1500</span>;              <span class="comment">% Sampling rate</span></span><br><span class="line">Ts = <span class="number">1</span>/Fs;              <span class="comment">% Sampling interval</span></span><br><span class="line">Fc = <span class="number">20</span>;                <span class="comment">% Carrier rate</span></span><br><span class="line">t = <span class="number">0</span>:Ts:<span class="number">1</span>;             <span class="comment">% Time vector</span></span><br><span class="line"></span><br><span class="line">m = <span class="built_in">sin</span>(<span class="number">2</span>*<span class="built_in">pi</span>*t);        <span class="comment">% Message signal</span></span><br><span class="line">c = <span class="built_in">cos</span>(<span class="number">2</span>*<span class="built_in">pi</span>*Fc*t);     <span class="comment">% Carrier signal</span></span><br><span class="line">Ac_DSB_AM = <span class="number">1</span>;</span><br><span class="line">Ac_USSB_AM = <span class="built_in">sqrt</span>(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">% DBS_AM modulated signal.</span></span><br><span class="line">u_dsb = Ac_DSB_AM*m.*c;</span><br><span class="line"><span class="comment">% SSB_AM modulated signal.</span></span><br><span class="line">u_ussb = <span class="number">1</span>/<span class="number">2</span>*Ac_USSB_AM*<span class="built_in">real</span>(hilbert(m).*<span class="built_in">exp</span>(<span class="number">1</span><span class="built_in">i</span>*<span class="number">2</span>*<span class="built_in">pi</span>*Fc*t));</span><br></pre></td></tr></tbody></table></figure>
</code></pre><h2 id="4-Baseband-signal-transmission"><a href="#4-Baseband-signal-transmission" class="headerlink" title="4.Baseband signal transmission"></a>4.Baseband signal transmission</h2><p>AWGN: add white gauss noise<br>Two optimum receivers for AWGN: signal correlator and matched filter.<br>For AWGN, the noise $N_i$ is Gaussian distributed with mean of zero and variance of $\frac{EN_0}{2}$.</p>
<ul>
<li><p>Binary modulations</p>
<ul>
<li>Received signal<ul>
<li>$r(t)=s_i(t)+n(t)ï¼Œ0\leq t \leq T_bï¼Œi=0,1$</li>
<li>Determine whether a 0 or 1 was transmitted.</li>
</ul>
</li>
<li>Signal correlator<ul>
<li>$r_0=\int_0^{T_b}r(t)s_0(t)dt=E+n_0$</li>
<li>$r_1=\int_0^{T_b}r(t)s_1(t)dt=n_1$</li>
</ul>
</li>
<li>Match filter<ul>
<li>Sample at $t=T_b$</li>
<li>$h<em>i(t)=s_i(T</em>{b}-t)ï¼Œ0\leq t \leq T_bï¼Œi=0,1$</li>
</ul>
</li>
<li>Detector<ul>
<li>The detector observe the correlator or matched filter output and decides on whether the transmitted signal waveform is either $s_0(t)$ or $s_1(t)$.</li>
<li>Comparing $r_0$ or $r_1$. If $r_0&gt;r_1$, it decides 0 is transmitted.</li>
<li>$P_e=Q(\frac{E}{\delta})=Q(\frac{E}{\sqrt{\frac{EN_0}{2}}})=Q(\sqrt{\frac{2E}{N_0}})$</li>
</ul>
</li>
</ul>
</li>
<li><p>Other binary modulations</p>
<ul>
<li>Antipodal signal<ul>
<li>$P<em>e(\alpha</em>{opt})=Q(\frac{\frac{E}{2}}{\delta})=Q(\frac{\frac{E}{2}}{\sqrt{\frac{EN_0}{2}}})=Q(\sqrt{\frac{E}{2N_0}})$</li>
</ul>
</li>
</ul>
</li>
<li><p>Monto Carlo simulation</p>
<ul>
<li>Source output <code>dsource=0</code>or<code>dsource=1</code></li>
<li>Detection<ul>
<li>Match filter output <code>r=E+gngauss(sgma)</code>or<code>r=-E+gngauss(sgma)</code></li>
<li>Detector <code>r&lt;0</code>?  <code>decis=0</code>or<code>decis=1</code></li>
<li>Error counter <code>decis!=dsource</code>?  <code>numoferr+=1</code></li>
</ul>
</li>
</ul>
</li>
<li><p>Constellation diagram</p>
<ul>
<li>$x_1=\sqrt{E}+n_1$</li>
<li>$n_1=\sqrt{\frac{N_0}{2}}*randn(100,1)$</li>
<li>$x_0=\sqrt{E}+n_0$</li>
<li>$n_0=\sqrt{\frac{N_0}{2}}*randn(100,1)$</li>
</ul>
</li>
</ul>
<h2 id="5-Pulse-Amplitude-Modulation-PAM"><a href="#5-Pulse-Amplitude-Modulation-PAM" class="headerlink" title="5.Pulse Amplitude Modulation(PAM)"></a>5.Pulse Amplitude Modulation(PAM)</h2><ul>
<li><p>Theoretical symbol error rate</p>
<ul>
<li>$P<em>M=\frac{2(M-1)}{M}Q(\sqrt{\frac{6(log</em>{2}M)E_{avb}}{(M^2{-}1)N_0}})$</li>
<li><code>SNR=exp(snr_in_dB*log(10)/10)</code>equals to<code>SNR=10^(snr_in_dB/10)</code></li>
</ul>
</li>
<li><p>Bit error rate and energy</p>
<ul>
<li><code>smld_err_pb=smld_err_p/M</code></li>
<li><p>Energy(M-PAM)(N symbols)<br>$E<em>{av}=\frac{1}{N}\sum</em>{k=1}^{N}\int<em>{0}^{T}s</em>{k}^{2}(t)dt$<br>$E=\frac{E_{av}}{M}$</p>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">%% 8PAM,M=3;there is 8 symbols.</span></span><br><span class="line">Eav = sum(Am.^<span class="number">2</span>)/<span class="number">8</span>      <span class="comment">% Average energy per symbol.</span></span><br><span class="line">E = Eav/<span class="number">3</span>               <span class="comment">% Average energy per bit.</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>Raised-cosine and ISI</p>
<ul>
<li>RC<ul>
<li>$x_{rc}(t)=\frac{sin(\pi t/T_s)}{\pi t/T_s}\frac{cos(\alpha \pi t/T_s))}{1-4\alpha ^2 t^2 /T_s^2}$</li>
</ul>
</li>
<li>ISI<ul>
<li>$x(nT)=<br>\begin{cases}<br>  1, &amp; n=0 \\<br>  0, &amp; others<br>\end{cases} $</li>
<li>F-domainï¼š$\sum_{m=-\infty}^{+\infty}X(f+\frac{m}{T})=T$</li>
</ul>
</li>
<li>Under a band-limited noiseless channel, the larger the passband, the smoother the signal.<ul>
<li><a href="https://www.lingzhicheng.cn/2021/05/25/Band-limited%20noiseless%20channel/" target="_blank">e.g. Band-limited noiseless channel</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="6-speech-balloon-Digital-transmission-via-carrier-modulation"><a href="#6-speech-balloon-Digital-transmission-via-carrier-modulation" class="headerlink" title="6.:speech_balloon:Digital transmission via carrier modulation"></a>6.<span class="github-emoji"><span>ğŸ’¬</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4ac.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>Digital transmission via carrier modulation</h2><ul>
<li><p>Carrier amplitude modulationï¼ˆASKï¼‰</p>
<ul>
<li>In baseband digital PAM, the signal waveforms areï¼š$s<em>m(t)=A</em>{m}g_{T}(t)$</li>
<li>$A_{m}=(2m-1-M)d, m=1,2,â€¦,M$</li>
<li>Multiplied by a sinusoidal carrierï¼š$u<em>m(t)=A</em>{m}g<em>{T}(t)cos(2\pi f</em>{c}t)$</li>
<li>When the pulse shape is rectangular:$x(nT)=<br>\begin{cases}<br>  \sqrt \frac{2}{T}, &amp; 0\leq t\leq T \\<br>  0, &amp; otherwise<br>\end{cases} $</li>
<li>Usually called amplitude shift keying, which is not bandlimited.</li>
</ul>
</li>
<li><p>Carrier phase modulation(PSK)</p>
<ul>
<li>The information is impressed on the phase of the carrier.</li>
<li>The range of the phaseï¼š$0\leq \theta \leq 2\pi$</li>
<li>$\theta _{m}=\frac{2\pi m}{M}, m=0,1,â€¦,M-1$</li>
<li>Modulated signal waveformï¼š$u<em>m(t)=Ag</em>{T}(t)cos(2\pi f_{c}t+\frac{2\pi m}{M}), m=0,1,â€¦,M-1$</li>
<li>Usually called phase shift keying.</li>
<li><a href="https://www.lingzhicheng.cn/2021/05/30/ASK%20and%20PSK/" target="_blank">e.g. ASK and PSK</a></li>
</ul>
</li>
<li><p>Quadrature amplitude modulation(QAM)</p>
<ul>
<li>Two quadrature carriers,$sin(2\pi f<em>{c}t)$and$cos(2\pi f</em>{c}t)$</li>
<li>Each is modulated by independent information bits.</li>
<li>$u<em>m(t)=A</em>{mc}g<em>{T}(t)cos(2\pi f</em>{c}t)+A<em>{ms}g</em>{T}(t)sin(2\pi f_{c}t), m=0,1,â€¦,M$</li>
<li>Carried bits per symbolï¼š$log_{2}M$</li>
<li>Can be viewed as a form of combined amplitude and digital-phase modulation.</li>
<li>Rewriteï¼š$u<em>{mn}(t)=A</em>{m}g<em>{T}(t)cos(2\pi f</em>{c}t+\theta _{n}),m=1,2,â€¦,M_1,n=1,2,â€¦,M_2$</li>
<li>This time, carried bits per symbolï¼š$log<em>{2}M</em>{1}+log<em>{2}M</em>{2}$</li>
</ul>
</li>
<li><p>Carrier frequency modulation(FSK)</p>
<ul>
<li>For channel lack of phase stability, digital transmission by frequency modulation can be applied.</li>
<li>M-ary FSK can be used to transmit a block of $k=log_{2}M$ bits per symbol.</li>
<li>$u<em>m(t)=\sqrt{\frac{2E_s}{T}}cos(2\pi f</em>{c}t+2\pi m\Delta ft), m=0,1,â€¦,M-1,0\leq t\leq T$</li>
<li>To guarantee orthogonality, âˆ†ğ’‡ is a multiple of 1/2T.</li>
</ul>
</li>
<li><p>Sampling</p>
<ul>
<li>sampling.m</li>
</ul>
<figure class="highlight matlab"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="params">[T,Samp_Sig]</span>=<span class="title">Sampling</span><span class="params">(t,Fs,sig)</span> </span></span><br><span class="line"><span class="comment">%Fucntion Name:Sampling </span></span><br><span class="line"><span class="comment">%Input: T,Fs:sig OutPut:Samp_Sig </span></span><br><span class="line"><span class="comment">%When you call the Function ,u input the time for a symbol,the </span></span><br><span class="line"><span class="comment">%Sampling rate and the source signal,then output the Samplint Signal.</span></span><br><span class="line">Ts=<span class="number">1</span>/Fs;</span><br><span class="line">Sig=sig;</span><br><span class="line">len=<span class="built_in">length</span>(Sig);</span><br><span class="line">T=<span class="number">0</span>:Ts:len*t-Ts;</span><br><span class="line">Samp_Sig=T; </span><br><span class="line"><span class="keyword">for</span> <span class="built_in">i</span>=<span class="number">0</span>:<span class="number">1</span>:len<span class="number">-1</span></span><br><span class="line">  <span class="keyword">for</span> <span class="built_in">j</span>=<span class="number">1</span>:<span class="number">1</span>:t/Ts</span><br><span class="line">      Samp_Sig(<span class="built_in">i</span>*t/Ts+<span class="built_in">j</span>)=Sig(<span class="built_in">i</span>+<span class="number">1</span>);</span><br><span class="line">  <span class="keyword">end</span>    </span><br><span class="line"><span class="keyword">end</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="open-file-folder-Source-file-zip"><a href="#open-file-folder-Source-file-zip" class="headerlink" title=":open_file_folder:Source file.zip"></a><span class="github-emoji"><span>ğŸ“‚</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c2.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><a href="https://www.lingzhicheng.cn/usr/file/Matlab_sort_out_code.zip">Source file.zip</a></h2><!-- markdownlint-disable-file MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Matlab</tag>
      </tags>
  </entry>
  <entry>
    <title>Nunjucks Errors</title>
    <url>/2021/08/26/NunjucksErrors/</url>
    <content><![CDATA[<ul>
<li><span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f565.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
<li>Nunjucksæ¨¡æ¿æ ‡ç­¾å¯¼è‡´MDæ–‡ä»¶è§£ææŠ¥é”™çš„é—®é¢˜:</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">FATAL {</span><br><span class="line">  err: Error [Nunjucks Error]: _posts/mathBasic.md [Line 13, Column 14] expected variable end</span><br><span class="line">      =====               Context Dump               =====</span><br><span class="line">      === (line number probably different from <span class="built_in">source</span>) ===</span><br><span class="line">    8 | &lt;p&gt;<span class="variable">$f</span>â€™({ {x}&lt;em&gt;{0} })=\underset{\Delta x\to 0}{\mathop{\lim } },\frac{f({ {x}&lt;/em&gt;{0} }+\Delta x)-f({ {x}_{0} })}{\Delta x}$    ï¼ˆ1ï¼‰&lt;/p&gt;</span><br><span class="line">    9 | &lt;p&gt;æˆ–è€…ï¼š&lt;/p&gt;</span><br><span class="line">    10 | &lt;p&gt;<span class="variable">$f</span>â€™({ {x}&lt;em&gt;{0} })=\underset{x\to { {x}&lt;/em&gt;{0} }}{\mathop{\lim } },\frac{f(x)-f({ {x}&lt;em&gt;{0} })}{x-{ {x}&lt;/em&gt;{0} }}$           ï¼ˆ2ï¼‰&lt;/p&gt;</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<span id="more"></span>
<h3 id="åˆ†æ"><a href="#åˆ†æ" class="headerlink" title="åˆ†æ"></a>åˆ†æ</h3><ul>
<li>Markdownæ–‡ä»¶ä¸­æœ‰æ ‡ç­¾ä¸nunjucksæ¨¡æ¿å¼•æ“çš„æ ‡ç­¾å†²çªï¼Œæ¯”å¦‚</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">{{</span><br><span class="line">{{{</span><br><span class="line">}}}    </span><br><span class="line">}}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>è¿™äº›æ ‡ç­¾éƒ½æ˜¯æ¨¡æ¿å¼•æ“çš„ï¼Œå¦‚æœMarkdownæ–‡ä»¶ä¸­æœ‰è¿™äº›æ ‡ç­¾ï¼Œé‚£ä¹ˆåœ¨è§£æçš„æ—¶å€™å°±ä¼šæŠŠMarkdownä¸­çš„æ ‡ç­¾åŠ¨æ€è§£æ</li>
<li>å¤„ç†æ–¹æ³•å°±æ˜¯<strong>é¿å…å‡ºç°è¿™äº›æ ‡ç­¾</strong></li>
</ul>
<h3 id="è§£å†³æ–¹æ¡ˆ1"><a href="#è§£å†³æ–¹æ¡ˆ1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ1"></a>è§£å†³æ–¹æ¡ˆ1</h3><ul>
<li>è€ƒè™‘è¿‡å°†åœ¨ä¸¤ä¸ªæ ‡ç­¾ä¸­å¢åŠ ä¸€ä¸ªç©ºæ ¼æ¥é¿å…å†²çªï¼Œå¯ä»¥æˆåŠŸæ¸²æŸ“ï¼Œæœ¬åœ°markdownä¹Ÿå¯ä»¥è§£æå‡ºå…¬å¼ï¼Œä½†hexoä¸Šçš„markdowmæ— æ³•è§£æï¼Œæ•…å»ºè®®ä¸è¦ä½¿ç”¨ï¼Œæœ¬è´¨ä¸Šæ²¡æœ‰å®Œå…¨è§£å†³é—®é¢˜ã€‚</li>
</ul>
<h3 id="è§£å†³æ–¹æ¡ˆ2"><a href="#è§£å†³æ–¹æ¡ˆ2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ2"></a>è§£å†³æ–¹æ¡ˆ2</h3><p>å‚è€ƒä¸¤ä¸ªIssues</p>
<ul>
<li><a href="https://github.com/hexojs/hexo/issues/2679">hexo genereate faile Template render error: (unknown path) #2679</a></li>
<li><a href="https://github.com/hexojs/hexo/issues/2384">Template render error: (unknown path) #2384</a></li>
</ul>
<p>ç½‘ä¸Šç›®å‰å¾ˆå¤šè§£å†³æ–¹æ¡ˆéƒ½æ˜¯è¿›è¡Œç±»ä¼¼å¦‚ä¸‹çš„æ›¿æ¢ï¼Œéœ€è¦å¯¹æ‰€æœ‰å…¬å¼è¿›è¡Œæ›¿æ¢ï¼Œé‡æ¯”è¾ƒå¤§å¹¶ä¸”æ²»æ ‡ä¸æ²»æœ¬ï¼Œæš‚ä¸é‡‡ç”¨</p>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">{% raw %}</span><br><span class="line">{{name}}</span><br><span class="line">{% endraw %}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="è§£å†³æ–¹æ¡ˆ3"><a href="#è§£å†³æ–¹æ¡ˆ3" class="headerlink" title="è§£å†³æ–¹æ¡ˆ3"></a>è§£å†³æ–¹æ¡ˆ3</h3><ul>
<li>ç›´æ¥ä¿®æ”¹<code>Nunjucks</code>æºç </li>
</ul>
<p><code>node_modules/nunjucks/src/lexer.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">'use strict'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lib = <span class="built_in">require</span>(<span class="string">'./lib'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> whitespaceChars = <span class="string">" \n\t\r\xA0"</span>;</span><br><span class="line"><span class="keyword">var</span> delimChars = <span class="string">'()[]{}%*-+~/#,:|.&lt;&gt;=!'</span>;</span><br><span class="line"><span class="keyword">var</span> intChars = <span class="string">'0123456789'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">BLOCK_START</span> = <span class="string">'{%'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">BLOCK_END</span> = <span class="string">'%}'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">VARIABLE_START</span> = <span class="string">'{$'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">VARIABLE_END</span> = <span class="string">'$}'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">COMMENT_START</span> = <span class="string">'{#'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">COMMENT_END</span> = <span class="string">'#}'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">TOKEN_STRING</span> = <span class="string">'string'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">TOKEN_WHITESPACE</span> = <span class="string">'whitespace'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">TOKEN_DATA</span> = <span class="string">'data'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">TOKEN_BLOCK_START</span> = <span class="string">'block-start'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">TOKEN_BLOCK_END</span> = <span class="string">'block-end'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">TOKEN_VARIABLE_START</span> = <span class="string">'variable-start'</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>å†²çªéƒ¨åˆ†ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">VARIABLE_START</span> = <span class="string">'{{'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">VARIABLE_END</span> = <span class="string">'}}'</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>ä½œå¦‚ä¸‹æ›¿æ¢ï¼š</p>
<figure class="highlight js"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> <span class="variable constant_">VARIABLE_START</span> = <span class="string">'{$'</span>;</span><br><span class="line"><span class="keyword">var</span> <span class="variable constant_">VARIABLE_END</span> = <span class="string">'$}'</span>;</span><br></pre></td></tr></tbody></table></figure>
<p>æ‰¾åˆ°å®šä¹‰éƒ¨åˆ†çš„<code>VARIABLE_START</code>å’Œ<code>VARIABLE_END</code>ï¼Œè¿™æ¬¡çš„<code>{{`å’Œ`}}</code>é”™è¯¯å°±æ˜¯è¿™ä¸ªå¯¼è‡´ï¼Œä¸Šè¿°ä»£ç å·²ç»å°†ä¸¤ä¸ªå˜é‡ä»<code>{{`æ”¹ä¸º`{$`ï¼Œ`}}</code>æ”¹ä¸º<code>$}</code><br>é€šè¿‡ç›´æ¥ä¿®æ”¹æ¸²æŸ“æ ‡ç­¾ï¼Œè§£æçš„æ—¶å€™å°±ä¸ä¼šå’Œmarkdownä¸­çš„å¤æ‚å…¬å¼å†²çªï¼Œå¹¶ä¸”å¯¹æ‰€æ–‡ä»¶éƒ½æœ‰æ•ˆï¼Œä¸ºäº†é˜²æ­¢ä¹‹åé‡æ–°<code>npm install</code>çš„æ—¶å€™è¿˜åŸï¼Œæ‰€ä»¥åœ¨è¿™é‡Œè®°å½•ä¸€ç¬”</p>
<h3 id="Others"><a href="#Others" class="headerlink" title="Others"></a>Others</h3><p>å…¶ä»–çš„hexoä¾èµ–æ’ä»¶ç›®å‰è¿˜æ²¡æœ‰å‘ç°å› ä¸ºä¿®æ”¹<code>Nunjucks</code>æºç è€Œå‡ºç°çš„é—®é¢˜ï¼Œä¾‹å¦‚<code>hexo-generator-searchdb</code>ã€<code>hexo-generator-sitemap</code>ç­‰ï¼Œæœ‰äº›æ’ä»¶ä¹Ÿæ˜¯ä¾èµ–äº<code>Nunjucks</code>çš„ï¼Œå¦‚æœå‡ºç°é—®é¢˜ï¼ŒåŒæ­¥ä¿®æ”¹æ’ä»¶çš„<code>xml</code>æ¨¡æ¿æ–‡ä»¶å°±å¯ä»¥è§£å†³ã€‚</p>
<h3 id="Update-2025-04-19"><a href="#Update-2025-04-19" class="headerlink" title="Update 2025.04.19"></a>Update 2025.04.19</h3><blockquote>
<p>æœç„¶è®°ä¸€ç¬”æ˜¯æœ‰ç”¨çš„ï¼Œæœ€è¿‘å‘ç°å…¨å±€æœç´¢å‡ºäº†é—®é¢˜ï¼Œå¼€å§‹æ’æŸ¥ï¼Œæœç„¶æ˜¯æ”¹<code>Nunjucks</code>æºç å¼•èµ·çš„ã€‚</p>
</blockquote>
<ul>
<li><code>hexo-generator-searchdb</code>æ’ä»¶çš„æ¨¡æ¿æ–‡ä»¶ä¸­ä¹Ÿæœ‰<code>{{`å’Œ`}}</code>ï¼Œæ‰€ä»¥åœ¨æœç´¢çš„æ—¶å€™ä¼šæŠ¥é”™ï¼Œè§£å†³æ–¹æ³•æ˜¯å°†æ’ä»¶ä¸­çš„<code>{{`å’Œ`}}</code>ä½œç›¸åŒçš„æ›¿æ¢ï¼Œ<code>node_modules/hexo-generator-searchdb/templates/search.xml</code>ï¼š</li>
</ul>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"utf-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">search</span>&gt;</span></span><br><span class="line">  {%- for article in articles %}</span><br><span class="line">  <span class="tag">&lt;<span class="name">entry</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>{$ article.title $}<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">url</span>&gt;</span>{$ article.url $}<span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">content</span>&gt;</span>&lt;![CDATA[{$ article.content | safe $}]]&gt;<span class="tag">&lt;/<span class="name">content</span>&gt;</span></span><br><span class="line">    {%- if article.categories %}</span><br><span class="line">      <span class="tag">&lt;<span class="name">categories</span>&gt;</span></span><br><span class="line">        {%- for category in article.categories %}</span><br><span class="line">        <span class="tag">&lt;<span class="name">category</span>&gt;</span>{$ category $}<span class="tag">&lt;/<span class="name">category</span>&gt;</span></span><br><span class="line">        {%- endfor %}</span><br><span class="line">      <span class="tag">&lt;/<span class="name">categories</span>&gt;</span></span><br><span class="line">    {%- endif %}</span><br><span class="line">    {%- if article.tags %}</span><br><span class="line">      <span class="tag">&lt;<span class="name">tags</span>&gt;</span></span><br><span class="line">        {%- for tag in article.tags %}</span><br><span class="line">        <span class="tag">&lt;<span class="name">tag</span>&gt;</span>{$ tag $}<span class="tag">&lt;/<span class="name">tag</span>&gt;</span></span><br><span class="line">        {%- endfor %}</span><br><span class="line">      <span class="tag">&lt;/<span class="name">tags</span>&gt;</span></span><br><span class="line">    {%- endif %}</span><br><span class="line">  <span class="tag">&lt;/<span class="name">entry</span>&gt;</span></span><br><span class="line">  {%- endfor %}</span><br><span class="line"><span class="tag">&lt;/<span class="name">search</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><code>hexo-generator-sitemap</code>æ’ä»¶çš„æ¨¡æ¿æ–‡ä»¶ä¸­ä¹Ÿæœ‰<code>{{`å’Œ`}}</code>ï¼Œ<code>xml</code>æ–‡ä»¶ä¸­çš„<code>{{`å’Œ`}}</code>ä½œç›¸åŒçš„æ›¿æ¢ï¼Œ<code>node_modules/hexo-generator-sitemap/sitemap.xml</code>ï¼š</li>
</ul>
<figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">"1.0"</span> encoding=<span class="string">"UTF-8"</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">urlset</span> <span class="attr">xmlns</span>=<span class="string">"http://www.sitemaps.org/schemas/sitemap/0.9"</span>&gt;</span></span><br><span class="line">  {% for post in posts %}</span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loc</span>&gt;</span>{$ post.permalink | uriencode $}<span class="tag">&lt;/<span class="name">loc</span>&gt;</span></span><br><span class="line">    {% if post.updated %}</span><br><span class="line">    <span class="tag">&lt;<span class="name">lastmod</span>&gt;</span>{$ post.updated | formatDate $}<span class="tag">&lt;/<span class="name">lastmod</span>&gt;</span></span><br><span class="line">    {% elif post.date %}</span><br><span class="line">    <span class="tag">&lt;<span class="name">lastmod</span>&gt;</span>{$ post.date | formatDate $}<span class="tag">&lt;/<span class="name">lastmod</span>&gt;</span></span><br><span class="line">    {% endif %}</span><br><span class="line">    <span class="tag">&lt;<span class="name">changefreq</span>&gt;</span>monthly<span class="tag">&lt;/<span class="name">changefreq</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">priority</span>&gt;</span>0.6<span class="tag">&lt;/<span class="name">priority</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  {% endfor %}</span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loc</span>&gt;</span>{$ config.url | uriencode $}<span class="tag">&lt;/<span class="name">loc</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">lastmod</span>&gt;</span>{$ sNow | formatDate $}<span class="tag">&lt;/<span class="name">lastmod</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">changefreq</span>&gt;</span>daily<span class="tag">&lt;/<span class="name">changefreq</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">priority</span>&gt;</span>1.0<span class="tag">&lt;/<span class="name">priority</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  {% for tag in tags %}</span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loc</span>&gt;</span>{$ tag.permalink | uriencode $}<span class="tag">&lt;/<span class="name">loc</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">lastmod</span>&gt;</span>{$ sNow | formatDate $}<span class="tag">&lt;/<span class="name">lastmod</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">changefreq</span>&gt;</span>weekly<span class="tag">&lt;/<span class="name">changefreq</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">priority</span>&gt;</span>0.2<span class="tag">&lt;/<span class="name">priority</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  {% endfor %}</span><br><span class="line"></span><br><span class="line">  {% for cat in categories %}</span><br><span class="line">  <span class="tag">&lt;<span class="name">url</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">loc</span>&gt;</span>{$ cat.permalink | uriencode $}<span class="tag">&lt;/<span class="name">loc</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">lastmod</span>&gt;</span>{$ sNow | formatDate $}<span class="tag">&lt;/<span class="name">lastmod</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">changefreq</span>&gt;</span>weekly<span class="tag">&lt;/<span class="name">changefreq</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">priority</span>&gt;</span>0.2<span class="tag">&lt;/<span class="name">priority</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">url</span>&gt;</span></span><br><span class="line">  {% endfor %}</span><br><span class="line"><span class="tag">&lt;/<span class="name">urlset</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>NunjucksErrors</category>
      </categories>
      <tags>
        <tag>Debug</tag>
      </tags>
  </entry>
  <entry>
    <title>PKIX path building failed</title>
    <url>/2024/07/11/PKIX%20path%20building%20failed/</url>
    <content><![CDATA[<blockquote>
<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¼€å‘ä¸­é‡åˆ° <code>javax.net.ssl.SSLHandshakeException: PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target</code>ï¼ŒçŒœæµ‹åº”è¯¥æ˜¯SSLè¯ä¹¦çš„é—®é¢˜ï¼Œæ‰¾äº†ä¸€äº›è§£å†³æ–¹å¼ï¼Œåœ¨è¿™é‡Œåšæ€»ç»“ã€‚</p>
</blockquote>
<span id="more"></span>
<h2 id="books-1-å‰è¨€"><a href="#books-1-å‰è¨€" class="headerlink" title=":books: 1. å‰è¨€"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 1. å‰è¨€</h2><p>è°ƒç”¨HTTPSæ¥å£æ—¶é‡åˆ°çš„SSLè¯ä¹¦ç›¸å…³é—®é¢˜ï¼Œè¿™é‡Œæ˜¯<code>PKIX path building failed</code>ã€‚</p>
<h2 id="satellite-2-å‡ºç°çš„èƒŒæ™¯"><a href="#satellite-2-å‡ºç°çš„èƒŒæ™¯" class="headerlink" title=":satellite: 2. å‡ºç°çš„èƒŒæ™¯"></a><span class="github-emoji"><span>ğŸ“¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4e1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 2. å‡ºç°çš„èƒŒæ™¯</h2><blockquote>
<p>æ•è·æŠ›å‡ºçš„<code>IOException</code>ï¼Œæ£€æŸ¥å‘ç°æ˜¯<code>HttpURLConnection.getResponseCode();</code>å‡ºç°äº†é—®é¢˜ï¼Œå½“ç„¶åœ¨å…¶ä»–è¿æ¥å¤„ä¹Ÿå¯èƒ½äº§ç”Ÿï¼Œå…·ä½“è¡¨ç°ä¸º<code>sun.security.validator.ValidatorException: PKIX path building failed</code>ï¼Œä¹Ÿå°±æ˜¯è¯´æ— æ³•æ‰¾åˆ°è¯·æ±‚ç›®æ ‡çš„æœ‰æ•ˆè®¤è¯è·¯å¾„å¯¼è‡´çš„ã€‚</p>
</blockquote>
<ul>
<li>JDKç¼ºå°‘æŸä¸ªç›®æ ‡Serverçš„å®‰å…¨è¯ä¹¦</li>
</ul>
<h2 id="mag-right-3-è§£å†³æ–¹æ¡ˆ"><a href="#mag-right-3-è§£å†³æ–¹æ¡ˆ" class="headerlink" title=":mag_right: 3. è§£å†³æ–¹æ¡ˆ"></a><span class="github-emoji"><span>ğŸ”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f50e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 3. è§£å†³æ–¹æ¡ˆ</h2><blockquote>
<p>JDKåœ¨<code>lib/security/</code>ç›®å½•ä¸‹å­˜æ”¾ç€<code>cacerts</code>æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶æ˜¯JDKçš„è¯ä¹¦åº“ï¼Œäº§ç”Ÿä¸Šè¿°é”™è¯¯çš„åŸå› å°±æ˜¯æœªèƒ½æ‰¾åˆ°ç›®æ ‡æœåŠ¡å™¨çš„SSLè¯ä¹¦ï¼Œéœ€è¦åšçš„å°±æ˜¯æ‰¾åˆ°è¯ä¹¦æˆ–è€…ç¦ç”¨è¯ä¹¦éªŒè¯ï¼Œä¸‹é¢æä¾›å‡ ç§è§£å†³æ–¹æ¡ˆã€‚</p>
</blockquote>
<h3 id="3-1-å°†ç›®æ ‡æœåŠ¡å™¨çš„è¯ä¹¦å¯¼å…¥åˆ°Javaçš„ä¿¡ä»»åº“"><a href="#3-1-å°†ç›®æ ‡æœåŠ¡å™¨çš„è¯ä¹¦å¯¼å…¥åˆ°Javaçš„ä¿¡ä»»åº“" class="headerlink" title="3.1 å°†ç›®æ ‡æœåŠ¡å™¨çš„è¯ä¹¦å¯¼å…¥åˆ°Javaçš„ä¿¡ä»»åº“"></a>3.1 å°†ç›®æ ‡æœåŠ¡å™¨çš„è¯ä¹¦å¯¼å…¥åˆ°Javaçš„ä¿¡ä»»åº“</h3><ul>
<li><p>è·å–ç›®æ ‡æœåŠ¡å™¨çš„SSLè¯ä¹¦ï¼Œå¯ä»¥é€šè¿‡æµè§ˆå™¨åœ°å€æ å·¦ä¾§çš„å›¾æ ‡è¿›è¡Œä¸‹è½½ï¼ˆcrtæˆ–è€…pemæ–‡ä»¶ï¼‰ï¼ˆ<em>ä¸ä¼šçš„è¯å¯ä»¥è‡ªè¡ŒGoogle</em>ï¼‰ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å‘½ä»¤è¡Œå¯¼å‡ºã€‚</p>
<p>  <code>openssl s_client -connect &lt;your-server&gt;:443 -showcerts</code></p>
</li>
<li><p>å¯¼å…¥è¯ä¹¦åˆ°Javaçš„ä¿¡ä»»åº“(è®°å¾—å…ˆå¤‡ä»½åŸå§‹çš„ä¿¡ä»»åº“<code>cacerts</code>)</p>
<p>  <code>keytool -import -alias test_https_certificate -file D:\***.crt -keystore D:\java**\lib\security\cacerts</code></p>
<ul>
<li>å¯†é’¥åº“å£ä»¤é»˜è®¤ä¸º<code>changeit</code></li>
</ul>
</li>
<li><p>ä¹Ÿå¯ä»¥æŠŠ<code>-keystore</code>åçš„è·¯å¾„æ”¹ä¸ºè‡ªå·±æ–°å»ºçš„ä¿¡ä»»åº“è·¯å¾„ï¼Œç„¶ååœ¨SpringBootçš„å¯åŠ¨ç±»ä¸­ä¿®æ”¹<code>javax.net.ssl.trustStore</code>å’Œ<code>javax.net.ssl.trustStorePassword</code>çš„å€¼ã€‚</p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line">System.setProperty(<span class="string">"javax.net.ssl.trustStore"</span>, <span class="string">"D:\\yourCacerts"</span>);</span><br><span class="line">System.setProperty(<span class="string">"javax.net.ssl.trustStorePassword"</span>, <span class="string">"changeit"</span>);</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="3-2-ä½¿ç”¨è‡ªå®šä¹‰çš„ä¿¡ä»»ç®¡ç†å™¨"><a href="#3-2-ä½¿ç”¨è‡ªå®šä¹‰çš„ä¿¡ä»»ç®¡ç†å™¨" class="headerlink" title="3.2 ä½¿ç”¨è‡ªå®šä¹‰çš„ä¿¡ä»»ç®¡ç†å™¨"></a>3.2 ä½¿ç”¨è‡ªå®šä¹‰çš„ä¿¡ä»»ç®¡ç†å™¨</h3><figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> javax.net.ssl.*;</span><br><span class="line"><span class="keyword">import</span> java.security.cert.X509Certificate;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CustomTrustManager</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception {</span><br><span class="line">        TrustManager[] trustAllCerts = <span class="keyword">new</span> <span class="title class_">TrustManager</span>[]{</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">X509TrustManager</span>() {</span><br><span class="line">                <span class="keyword">public</span> X509Certificate[] getAcceptedIssuers() { <span class="keyword">return</span> <span class="literal">null</span>; }</span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkClientTrusted</span><span class="params">(X509Certificate[] certs, String authType)</span> { }</span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">checkServerTrusted</span><span class="params">(X509Certificate[] certs, String authType)</span> { }</span><br><span class="line">            }</span><br><span class="line">        };</span><br><span class="line"></span><br><span class="line">        <span class="type">SSLContext</span> <span class="variable">sc</span> <span class="operator">=</span> SSLContext.getInstance(<span class="string">"SSL"</span>);</span><br><span class="line">        sc.init(<span class="literal">null</span>, trustAllCerts, <span class="keyword">new</span> <span class="title class_">java</span>.security.SecureRandom());</span><br><span class="line">        HttpsURLConnection.setDefaultSSLSocketFactory(sc.getSocketFactory());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Your code to open connection and interact with the server</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h3 id="3-3-ç¦ç”¨è¯ä¹¦éªŒè¯"><a href="#3-3-ç¦ç”¨è¯ä¹¦éªŒè¯" class="headerlink" title="3.3 ç¦ç”¨è¯ä¹¦éªŒè¯"></a>3.3 ç¦ç”¨è¯ä¹¦éªŒè¯</h3><ul>
<li><p>å»ºè®®ä»…åœ¨æµ‹è¯•ç¯å¢ƒä¸‹ä½¿ç”¨</p>
<p>  <code>HttpsURLConnection.setDefaultHostnameVerifier((hostname, session) -&gt; true);</code></p>
</li>
</ul>
<h2 id="4-å¸¸è§é—®é¢˜"><a href="#4-å¸¸è§é—®é¢˜" class="headerlink" title="4. å¸¸è§é—®é¢˜"></a>4. å¸¸è§é—®é¢˜</h2><ul>
<li>å¯ä»¥ä½¿ç”¨ <code>keytool -list -keystore D:\java**\lib\security\cacerts</code> å‘½ä»¤æ¥æŸ¥çœ‹å·²å¯¼å…¥çš„è¯ä¹¦</li>
</ul>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>SSL</tag>
        <tag>HTTPS</tag>
      </tags>
  </entry>
  <entry>
    <title>Python unzip split zip</title>
    <url>/2024/08/01/Python%20unzip%20split%20zip/</url>
    <content><![CDATA[<blockquote>
<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¼€å‘ä¸­é‡åˆ° <code>.0z1, .z02, ..., .zip</code>æ ¼å¼çš„åˆ†å·å‹ç¼©åŒ…éœ€è¦è‡ªåŠ¨è§£å‹ï¼Œå°è¯•äº†<code>zipfile</code>å’Œ<code>py7zr</code>éƒ½ä¸è¡Œï¼Œåæ¥çœ‹äº†æ–‡æ¡£è¯´æš‚æ—¶ä¸æŒæ”¯æŒåˆ†å·è§£å‹ï¼Œç½‘ç»œä¸Šå¤šæ•°çš„å®ç°æ–¹æ¡ˆæ˜¯å»ºä¸´æ—¶æ–‡ä»¶ç„¶åå¾€é‡Œé¢è¿½åŠ å†™å…¥ï¼Œè¯•äº†ä¸å¤ªè¡Œï¼Œæœ€åé‡‡ç”¨è°ƒå‘½ä»¤è¡Œæ‰§è¡Œ<code>7z</code>çš„å‘½ä»¤ã€‚</p>
</blockquote>
<span id="more"></span>
<h2 id="books-ç›´æ¥ä¸Šæ‰‹"><a href="#books-ç›´æ¥ä¸Šæ‰‹" class="headerlink" title=":books: ç›´æ¥ä¸Šæ‰‹"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> ç›´æ¥ä¸Šæ‰‹</h2><figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">unzip_split_zip</span>(<span class="params">part_zip_list: <span class="built_in">list</span></span>) -&gt; <span class="type">Union</span>[<span class="built_in">bool</span>, <span class="type">Any</span>]:</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Unzip the split zip files</span></span><br><span class="line"><span class="string">    :param part_zip_list: List of paths to the split zip files</span></span><br><span class="line"><span class="string">    :return: unzip success or not and the unzip file path</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Find the main zip file</span></span><br><span class="line">    main_zip_file = <span class="literal">None</span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> part_zip_list:</span><br><span class="line">        <span class="keyword">if</span> file.endswith(<span class="string">'.zip'</span>):</span><br><span class="line">            main_zip_file = file</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> main_zip_file <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    directory_path = os.path.dirname(main_zip_file)</span><br><span class="line">    pre_name = main_zip_file.rsplit(<span class="string">'.zip'</span>, <span class="number">1</span>)[<span class="number">0</span>]</span><br><span class="line">    command = [<span class="string">'7z'</span>, <span class="string">'x'</span>, main_zip_file, <span class="string">f'-o<span class="subst">{directory_path}</span>'</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="comment"># TODO Pythonæš‚æ— ç›´æ¥æ”¯æŒåˆ†å·è§£å‹çš„åŒ…ï¼Œéœ€è¦æœ¬åœ°ä¸‹è½½7Zipä¸”æ·»åŠ åˆ°ç³»ç»ŸPathï¼Œè¿™é‡Œè°ƒç”¨å‘½ä»¤è¡Œæ‰§è¡Œåˆ†å·è§£å‹</span></span><br><span class="line">        subprocess.run(command, check=<span class="literal">True</span>, stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span>, pre_name + <span class="string">'.app'</span></span><br><span class="line">    <span class="keyword">except</span> subprocess.CalledProcessError <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"An error occurred: <span class="subst">{e.stderr}</span>"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f"An unexpected error occurred: <span class="subst">{e}</span>"</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Python</tag>
      </tags>
  </entry>
  <entry>
    <title>Process or Thread</title>
    <url>/2021/01/20/Process%20or%20Thread/</url>
    <content><![CDATA[<h3 id="è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½-çº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½"><a href="#è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½-çº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½" class="headerlink" title="è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½|çº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½"></a>è¿›ç¨‹æ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½|çº¿ç¨‹æ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½</h3><hr>
<blockquote>
<p>çœ‹äº†å¾ˆå¤šèµ„æ–™ï¼Œè§£é‡Šéƒ½æ¯”è¾ƒæŠ½è±¡<br>ç”¨ä¸€ä¸ªç®€ç­”çš„æ¯”å–»åœ¨å½¢å®¹ï¼šè¿›ç¨‹=é«˜é“ï¼Œçº¿ç¨‹=è½¦å¢</p>
</blockquote>
<ul>
<li>çº¿ç¨‹åœ¨è¿›ç¨‹ä¸‹è¡Œè¿›ï¼ˆå•çº¯çš„è½¦å¢æ— æ³•è¡ŒåŠ¨ï¼‰</li>
<li>ä¸€ä¸ªè¿›ç¨‹å¯ä»¥åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼ˆä¸€è¾†é«˜é“å¯ä»¥æœ‰å¤šä¸ªè½¦å¢ï¼‰</li>
<li>åŒæ„è¿›ç¨‹ä¸‹ä¸åŒçº¿ç¨‹é—´æ•°æ®å®¹æ˜“å…±äº«</li>
<li>ä¸åŒè¿›ç¨‹é—´æ•°æ®éš¾ä»¥å…±äº«</li>
<li>è¿›ç¨‹é—´ä¸ä¼šäº’ç›¸å½±å“ï¼Œä¸€ä¸ªçº¿ç¨‹æŒ‚æ‰å°†å¯¼è‡´æ•´ä¸ªè¿›ç¨‹æŒ‚æ‰</li>
<li>è¿›ç¨‹å ç”¨æ›´å¤šèµ„æº</li>
</ul>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
  </entry>
  <entry>
    <title>MapReduce in Distributed Systems</title>
    <url>/2024/03/14/MapReduce/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<ul>
<li>MIT 6.824 Distributed Systems Lab-1-Golang<br><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f565.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span id="more"></span>
</li>
</ul>
<h1 id="MIT-6-824-Distributed-Systems"><a href="#MIT-6-824-Distributed-Systems" class="headerlink" title="MIT 6.824 Distributed Systems"></a>MIT 6.824 Distributed Systems</h1><h1 id="Lecture-01-Introduction"><a href="#Lecture-01-Introduction" class="headerlink" title="Lecture 01 - Introduction"></a>Lecture 01 - Introduction</h1><h2 id="Links"><a href="#Links" class="headerlink" title="Links"></a>Links</h2><ul>
<li><a href="https://pdos.csail.mit.edu/6.824/schedule.html">MIT 6.5840 Schedule: Spring 2024</a></li>
<li><a href="http://nil.csail.mit.edu/6.824/2020/schedule.html">MIT 6.824 Schedule: Spring 2020</a></li>
<li><a href="https://www.youtube.com/watch?v=cQP8WApzIQQ&amp;list=PLrw6a1wE39_tb2fErI4-WkMbsvGQk9_UB">Youtube 2020</a></li>
<li>BiliBili Translated:<ul>
<li><a href="https://www.bilibili.com/video/BV1x7411M7Sf/?spm_id_from=333.999.0.0&amp;vd_source=2c248c46a7ba66244aa5b9fb5b07d4fc">https://www.bilibili.com/video/BV1x7411M7Sf/?spm_id_from=333.999.0.0&amp;vd_source=2c248c46a7ba66244aa5b9fb5b07d4fc</a></li>
<li><a href="https://www.bilibili.com/video/BV1R7411t71W/?spm_id_from=333.1007.top_right_bar_window_default_collection.content.click&amp;vd_source=2c248c46a7ba66244aa5b9fb5b07d4fc">https://www.bilibili.com/video/BV1R7411t71W/?spm_id_from=333.1007.top_right_bar_window_default_collection.content.click&amp;vd_source=2c248c46a7ba66244aa5b9fb5b07d4fc</a></li>
</ul>
</li>
</ul>
<h2 id="MapReduce-åŸºæœ¬å·¥ä½œæ–¹å¼"><a href="#MapReduce-åŸºæœ¬å·¥ä½œæ–¹å¼" class="headerlink" title="MapReduce åŸºæœ¬å·¥ä½œæ–¹å¼"></a>MapReduce åŸºæœ¬å·¥ä½œæ–¹å¼</h2><p><img src="https://www.lingzhicheng.cn/usr/file/picture/MIT/MapReduce.PNG" alt="Read MapReduce(2024) png"></p>
<p><a href="https://pdos.csail.mit.edu/6.824/papers/mapreduce.pdf">Read MapReduce(2024)</a></p>
<p><strong>Mapï¼š</strong> æ¥å—ä¸€ä¸ªé”®å€¼å¯¹(key-value pair)ï¼Œäº§ç”Ÿä¸€ç»„ä¸­é—´é”®å€¼å¯¹ã€‚MapReduce ä¼šå°† Map å‡½æ•°äº§ç”Ÿçš„ä¸­é—´é”®å€¼å¯¹ä¼ é€’ç»™ä¸€ä¸ª Reduce å‡½æ•°ã€‚</p>
<p><strong>Reduceï¼š</strong> æ¥å—ä¸€ä¸ªé”®ä»¥åŠç›¸å…³çš„ä¸€ç»„å€¼ï¼Œå°†è¿™ç»„å€¼è¿›è¡Œåˆå¹¶äº§ç”Ÿä¸€ç»„è§„æ¨¡æ›´å°çš„å€¼(é€šå¸¸åªæœ‰ä¸€ä¸ªæˆ–é›¶ä¸ªå€¼)ã€‚</p>
<p>åœ¨å®ç°çš„è¿‡ç¨‹ä¸­ï¼ŒReduce å‡½æ•°ä½¿ç”¨ Iterator è¯»å–ä¸­é—´ç»“æœï¼Œä¸ºäº†é˜²æ­¢å€¼è¿‡å¤šï¼Œè€Œæ— æ³•å…¨éƒ¨æ”¾åˆ°å†…å­˜ä¸­ã€‚</p>
<p><strong>Types:</strong></p>
<p><code>map    (k1,v1)       -&gt; list(k2,v2)</code></p>
<p><code>reduce (k2,list(v2)) -&gt; list(v2)</code></p>
<p>è¯é¢‘ç»Ÿè®¡ä¼ªä»£ç ï¼š</p>
<figure class="highlight cpp"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">map</span>(String key, String value):</span><br><span class="line">    <span class="comment">// key: document name</span></span><br><span class="line">    <span class="comment">// value: document contents</span></span><br><span class="line">    <span class="keyword">for</span> each word w in value:</span><br><span class="line">        <span class="built_in">EmitIntermediate</span>(w, <span class="string">"1"</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">reduce</span>(String key, Iterator values):</span><br><span class="line">    <span class="comment">// key: a word</span></span><br><span class="line">    <span class="comment">// values: a list of counts</span></span><br><span class="line">    <span class="type">int</span> result = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> each v in values:</span><br><span class="line">        result += <span class="built_in">ParseInt</span>(v);</span><br><span class="line">    <span class="built_in">Emit</span>(<span class="built_in">AsString</span>(result));</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Process"><a href="#Process" class="headerlink" title="Process"></a>Process</h3><ol>
<li>ç”¨æˆ·ç¨‹åºå°†è¾“å…¥æ–‡ä»¶åˆ‡åˆ†ä¸º M ä¸ª 16ï½64MB ä¹‹é—´çš„ splitï¼Œå¹¶åœ¨é›†ç¾¤ä¸­åˆ›å»ºç¨‹åºå‰¯æœ¬ã€‚</li>
<li>ç¨‹åºå‰¯æœ¬åˆ†ä¸º 1 ä¸ª Master å’Œå¤šä¸ª Workerã€‚Master é€‰å–ç©ºé—²çš„ Workerï¼Œå¹¶ä¸ºå…¶åˆ†é… Map ä»»åŠ¡æˆ– Reduce ä»»åŠ¡ã€‚Master å­˜å‚¨ä»»åŠ¡çš„çŠ¶æ€(ç©ºé—²ï¼Œå·¥ä½œä¸­ï¼Œå®Œæˆ)å’Œ worker æœºå™¨(éç©ºé—²ä»»åŠ¡çš„æœºå™¨)çš„æ ‡è¯†ã€‚</li>
<li>Mapper è¯»å–å¯¹åº”çš„ split å¹¶<strong>è°ƒç”¨ç”¨æˆ·å®šä¹‰çš„ map å‡½æ•°</strong>è§£æä¸ºé”®å€¼å¯¹ï¼Œå°†è¾“å‡ºçš„ä¸­é—´ç»“æœé”®å€¼å¯¹å­˜å‚¨åˆ°å†…å­˜ä¸­ã€‚</li>
<li>Mapper å°†ç¼“å­˜çš„é”®å€¼å¯¹é€šè¿‡ Partition å‡½æ•°(é€šå¸¸ä¸º hash(key) mod R)åˆ’åˆ†ä¸º R ä¸ªéƒ¨åˆ†ï¼Œå¹¶å‘¨æœŸæ€§åœ°å†™å…¥æœ¬åœ°ç£ç›˜ï¼ŒåŒæ—¶å°†æœ¬åœ°ç£ç›˜ä¸Šä¸­é—´ç»“æœçš„ä½ç½®ä¿¡æ¯å‘é€ç»™ Masterã€‚</li>
<li>Master å°†æ”¶åˆ°çš„ä¸­é—´ç»“æœçš„ä½ç½®ä¿¡æ¯å‘é€ç»™ Reducerï¼ŒReducer é€šè¿‡ RPC è¯»å–å­˜å‚¨åœ¨ Mapper æœ¬åœ°ç£ç›˜ä¸Šçš„ä¸­é—´ç»“æœã€‚åœ¨è¯»å–å®Œæ¯•åï¼Œ<u>Reducer ä¼šæ ¹æ® key å¯¹ä¸­é—´ç»“æœè¿›è¡Œæ’åº</u>ã€‚</li>
<li>å¯¹æ¯ä¸€ä¸ª key å’Œå…¶å¯¹åº”çš„ä¸€ç»„å€¼ï¼Œ<strong>è°ƒç”¨ç”¨æˆ·å®šä¹‰çš„ Reduce å‡½æ•°</strong>è¿›è¡Œå¤„ç†ï¼Œè¾“å‡ºç»“æœå­˜å‚¨åœ¨å¯¹åº”çš„ Reduce Partition æ–‡ä»¶ä¸­ã€‚</li>
<li>å½“æ‰€æœ‰çš„ Map ä»»åŠ¡å’Œ Reduce ä»»åŠ¡å®Œæˆåï¼ŒMaster é€šçŸ¥ç”¨æˆ·ç¨‹åºã€‚</li>
</ol>
<h3 id="å®¹é”™æœºåˆ¶"><a href="#å®¹é”™æœºåˆ¶" class="headerlink" title="å®¹é”™æœºåˆ¶"></a>å®¹é”™æœºåˆ¶</h3><ul>
<li>worker å¤±æ•ˆ</li>
</ul>
<p>Master ä¼š<strong>å‘¨æœŸæ€§åœ° ping</strong> æ¯ä¸€ä¸ª Workerï¼Œå¦‚æœæŸä¸ª Worker åœ¨ä¸€æ®µæ—¶é—´å†…æ²¡æœ‰å“åº”ï¼ŒMaster å°±ä¼šè®¤ä¸ºè¿™ä¸ª Worker å·²ç»ä¸å¯ç”¨ï¼Œå¯¹å…¶ä¸Šåˆ†é…çš„ä»»åŠ¡<strong>é‡æ–°åˆ†é…</strong>ç»™å…¶ä»– Workerã€‚</p>
<ul>
<li>master å¤±æ•ˆ</li>
</ul>
<p>Master ä¼šå‘¨æœŸæ€§åœ°å°†é›†ç¾¤çš„å½“å‰çŠ¶æ€ä½œä¸º <strong>checkpoint</strong> å†™å…¥åˆ°ç£ç›˜ä¸­ã€‚Master å‘ç”Ÿæ•…éšœåï¼Œé‡æ–°å¯åŠ¨ Master å³å¯åˆ©ç”¨å­˜å‚¨åœ¨ç£ç›˜ä¸­çš„æœ€è¿‘çš„ checkpoint è¿›è¡Œ<strong>æ¢å¤</strong>ã€‚</p>
<h3 id="æ•°æ®å­˜å‚¨æœºåˆ¶"><a href="#æ•°æ®å­˜å‚¨æœºåˆ¶" class="headerlink" title="æ•°æ®å­˜å‚¨æœºåˆ¶"></a>æ•°æ®å­˜å‚¨æœºåˆ¶</h3><p>ç”±äºç½‘ç»œå¸¦å®½æ˜¯ä¸€ç§ç›¸å½“åŒ®ä¹çš„è®¡ç®—èµ„æºï¼ŒMapReduce å°†æ•°æ®å­˜å‚¨åœ¨æœ¬åœ°ç£ç›˜ï¼Œç”± GFS è¿›è¡Œç®¡ç†ã€‚GFS æŠŠæ¯ä¸€ä»½æ–‡ä»¶åˆ’åˆ†ä¸ºå¤šä¸ª 64MB çš„ blockï¼Œé€šå¸¸æƒ…å†µä¸‹ï¼Œæ¯ä¸ª block ä¼šåœ¨ä¸åŒçš„æœºå™¨ä¸Šä¿å­˜ä¸‰ä»½å‰¯æœ¬ã€‚Master åœ¨è°ƒåº¦ Map ä»»åŠ¡æ—¶ä¼šè€ƒè™‘è¾“å…¥æ•°æ®çš„ä½ç½®ä¿¡æ¯ï¼Œé‡‡å–<strong>å°±è¿‘åŸåˆ™</strong>ï¼Œå³å°½é‡å°† Map ä»»åŠ¡<strong>è°ƒåº¦åˆ°åŒ…å«ç›¸å…³è¾“å…¥æ•°æ®å‰¯æœ¬çš„æœºå™¨ä¸Šæ‰§è¡Œ</strong>ã€‚å› è€Œå¤§éƒ¨åˆ†è¾“å…¥æ•°æ®å¯ä»¥ä»æœ¬åœ°è¯»å–ï¼Œæ¶ˆè€—éå¸¸å°‘çš„ç½‘ç»œå¸¦å®½ã€‚</p>
<h3 id="è´Ÿè½½å‡è¡¡æœºåˆ¶"><a href="#è´Ÿè½½å‡è¡¡æœºåˆ¶" class="headerlink" title="è´Ÿè½½å‡è¡¡æœºåˆ¶"></a>è´Ÿè½½å‡è¡¡æœºåˆ¶</h3><p>Master å°† Map ä»»åŠ¡å’Œ Reduce ä»»åŠ¡åˆ’åˆ†ä¸º M å’Œ R ä¸ªç‰‡æ®µï¼Œ<strong>M å’Œ R çš„æ•°é‡åº”è¿œå¤§äºé›†ç¾¤ä¸­ Worker çš„æ•°é‡</strong>ã€‚æ¯ä¸ª Worker æ‰§è¡Œå¤§é‡ä¸åŒçš„ä»»åŠ¡æœ‰åŠ©äºæé«˜é›†ç¾¤çš„åŠ¨æ€è´Ÿè½½å‡è¡¡èƒ½åŠ›ï¼Œå¹¶ä¸”åŠ å¿«æ•…éšœæ¢å¤çš„é€Ÿåº¦ã€‚</p>
<h3 id="å¤‡ä»½ä»»åŠ¡æœºåˆ¶"><a href="#å¤‡ä»½ä»»åŠ¡æœºåˆ¶" class="headerlink" title="å¤‡ä»½ä»»åŠ¡æœºåˆ¶"></a>å¤‡ä»½ä»»åŠ¡æœºåˆ¶</h3><p>å¦‚æœé›†ç¾¤ä¸­æŸä¸ª Worker èŠ±äº†å¾ˆé•¿æ—¶é—´æ‰å®Œæˆæœ€åå‡ ä¸ª Map ä»»åŠ¡æˆ– Reduce ä»»åŠ¡ï¼Œå¯¼è‡´ MapReduce æ€»æ‰§è¡Œæ—¶é—´å»¶é•¿ï¼Œè¿™æ ·çš„ Worker è¢«ç§°ä¸ºè½åè€…(Straggler)ã€‚MapReduce æä¾›äº†å¤‡ä»½ä»»åŠ¡æœºåˆ¶æ¥ç¼“è§£è¿™ç§æƒ…å†µã€‚å½“ MapReduce å¿«è¦å®Œæˆæ—¶ï¼Œ<strong>Master ä¸ºå‰©ä¸‹çš„æ­£åœ¨è¿è¡Œçš„ä»»åŠ¡å¯åŠ¨å¤‡ä»½ä»»åŠ¡ï¼Œå°†å…¶åˆ†é…ç»™å…¶ä»–çš„ç©ºé—² Worker æ¥æ‰§è¡Œ</strong>ï¼Œå¹¶åœ¨å…¶ä¸­ä¸€ä¸ª Worker å®Œæˆåå°†è¯¥ä»»åŠ¡è§†ä½œå·²å®Œæˆã€‚é€šè¿‡å¤‡ä»½ä»»åŠ¡æœºåˆ¶ï¼Œå¤§å¤§å‡å°‘äº† MapReduce çš„æ‰§è¡Œæ—¶é—´ã€‚</p>
<h2 id="Lab1-MapReduce"><a href="#Lab1-MapReduce" class="headerlink" title="Lab1: MapReduce"></a>Lab1: MapReduce</h2><p>Lab source: <a href="https://pdos.csail.mit.edu/6.824/labs/lab-mr.html">https://pdos.csail.mit.edu/6.824/labs/lab-mr.html</a></p>
<ul>
<li><p>System <code>(hostnamectl)</code></p>
<ul>
<li>Static hostname: ubuntu</li>
<li>Icon name: computer-vm</li>
<li>Chassis: vm</li>
<li>Virtualization: vmware</li>
<li>Operating System: Ubuntu 18.04.6 LTS</li>
<li>Kernel: Linux 5.4.0-144-generic</li>
<li>Architecture: x86-64</li>
</ul>
</li>
<li><p>Goland version <code>(go version)</code></p>
<ul>
<li>go version go1.19.5 linux/amd64</li>
</ul>
</li>
<li><p>GCC <code>(gcc -version)</code></p>
<ul>
<li>gcc (Ubuntu 7.5.0-3ubuntu1~18.04) 7.5.0</li>
</ul>
</li>
</ul>
<h3 id="Remote-debug"><a href="#Remote-debug" class="headerlink" title="Remote debug"></a>Remote debug</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">go install github.com/go-delve/delve/cmd/dlv@latest</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Sequential-and-Settings"><a href="#Sequential-and-Settings" class="headerlink" title="Sequential and Settings"></a>Sequential and Settings</h3><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/6.5840</span><br><span class="line">$ <span class="built_in">cd</span> src/main</span><br><span class="line">$ go build -buildmode=plugin ../mrapps/wc.go</span><br><span class="line">$ <span class="built_in">rm</span> mr-out*</span><br><span class="line">$ go run mrsequential.go wc.so pg*.txt</span><br><span class="line">$ more mr-out-0</span><br><span class="line">A 509</span><br><span class="line">ABOUT 2</span><br><span class="line">ACT 8</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>
<p>è¿è¡Œ <code>go build -buildmode=plugin ../mrapps/wc.go</code> å‘½ä»¤å°†ç”Ÿæˆä¸€ä¸ªæ’ä»¶æ–‡ä»¶ï¼Œå³æ„å»º MR APP çš„åŠ¨æ€é“¾æ¥åº“ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„æ–‡ä»¶å°†å…·æœ‰ <code>.so</code> æ‰©å±•åï¼Œè¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªå…±äº«å¯¹è±¡æ–‡ä»¶ï¼ˆshared objectï¼‰ï¼Œç”¨äºåŠ¨æ€åŠ è½½åˆ°å…¶ä»–ç¨‹åºä¸­ã€‚</p>
<p>é€šå¸¸æƒ…å†µä¸‹ï¼Œç”Ÿæˆçš„æ–‡ä»¶åå°†ä¸æºæ–‡ä»¶çš„åŒ…åç›¸åŒï¼Œåªæ˜¯æ‰©å±•åä¸º <code>.so</code>ï¼Œä¾‹å¦‚ <code>wc.so</code>ã€‚å½“ç„¶ï¼Œåœ¨ windows ä¸‹æ˜¯ä¸æ˜¾ç¤ºçš„ï¼Œå³ä½¿åŒæ­¥äº†åŒç«¯ä»£ç ï¼Œå¦‚æœåœ¨ win ä¸‹ç”Ÿæˆå°†ç”¨ <code>.dll</code> è¡¨ç¤ºåŠ¨æ€é“¾æ¥åº“ã€‚</p>
<p>æ–‡ä»¶ <code>wc.go</code> ä»¥åŠ <code>mrapps</code> ç›®å½•ä¸‹çš„å…¶å®ƒå‡ ä¸ªæ–‡ä»¶ï¼Œéƒ½å®šä¹‰äº†åä¸º <code>map, reduce</code> çš„å‡½æ•°ï¼Œè¿™ä¸¤ä¸ªå‡½æ•°åœ¨ <code>mrsequential.go</code> ä¸­åŠ è½½å¹¶è°ƒç”¨ã€‚ç»™ <code>mrsequential</code> ç»‘å®šä¸åŒçš„ <code>*.so</code> æ–‡ä»¶ï¼Œä¹Ÿå°±ä¼šåŠ è½½ä¸åŒçš„ <code>map, reduce</code> å‡½æ•°ã€‚å¦‚æ­¤å®ç°æŸç§ç¨‹åº¦ä¸Šçš„<strong>åŠ¨æ€ç»‘å®šã€‚</strong></p>
<h4 id="å¯èƒ½ä¼šæŠ¥é”™"><a href="#å¯èƒ½ä¼šæŠ¥é”™" class="headerlink" title="å¯èƒ½ä¼šæŠ¥é”™"></a>å¯èƒ½ä¼šæŠ¥é”™</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment"># runtime/cgo</span></span><br><span class="line">cgo: C compiler <span class="string">"gcc"</span> not found: <span class="built_in">exec</span>: <span class="string">"gcc"</span>: executable file not found <span class="keyword">in</span> <span class="variable">$PATH</span></span><br></pre></td></tr></tbody></table></figure>
<p>It seems like the error message youâ€™re encountering is related to the absence of the C compiler â€œgccâ€ in your systemâ€™s PATH variable.</p>
<p>To resolve this issue, you will need to ensure that the GNU Compiler Collection (GCC) is installed on your system and that its location is included in the PATH environment variable.</p>
<p>Here are the general steps to address this issue:</p>
<ol>
<li><strong>Install GCC:</strong><br>If you donâ€™t have GCC installed, you can typically install it using your systemâ€™s package manager. For example, on a Debian-based system, you can use:</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">sudo apt-get update  </span><br><span class="line">sudo apt-get install build-essential</span><br></pre></td></tr></tbody></table></figure>
<ol>
<li><strong>Add GCC to PATH:</strong><br>Once installed, you should ensure that the directory containing the GCC executable is included in your PATH environment variable. This can typically be achieved by adding a line to your shell configuration file (e.g., <strong>`**</strong>.bashrc<strong>**`</strong>, <strong>`**</strong>.zshrc<strong>**`</strong>, etc.):</li>
</ol>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/path/to/gcc/directory</span><br></pre></td></tr></tbody></table></figure>
<ol>
<li><strong>Verify Installation:</strong><br>After making these changes, open a new terminal or run <strong>source</strong>on the configuration file to apply the changes. You can then verify that GCC is accessible by running <strong>gcc â€”version</strong>.</li>
</ol>
<h4 id="é…ç½®ä¼˜åŒ–"><a href="#é…ç½®ä¼˜åŒ–" class="headerlink" title="é…ç½®ä¼˜åŒ–"></a>é…ç½®ä¼˜åŒ–</h4><ul>
<li>åŸå§‹å‘½ä»¤</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> ~/6.5840</span><br><span class="line">$ <span class="built_in">cd</span> src/main</span><br><span class="line">$ go build -buildmode=plugin ../mrapps/wc.go</span><br><span class="line">$ <span class="built_in">rm</span> mr-out*</span><br><span class="line">$ go run mrsequential.go wc.so pg*.txt</span><br><span class="line">$ more mr-out-0</span><br><span class="line">A 509</span><br><span class="line">ABOUT 2</span><br><span class="line">ACT 8</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><code>.vscode/launch.json</code></li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šè¿™é‡Œçš„â€argsâ€è²Œä¼¼ä¸æ”¯æŒé€šé…ç¬¦ <code>*</code>ï¼Œæ‰€ä»¥éœ€è¦æ‰‹åŠ¨æŠŠæ‰€æœ‰æ–‡ä»¶å…¨éƒ¨åŠ è¿›å»ï¼Œ<u>æˆ–è®¸å¯èƒ½æœ‰å…¶ä»–åŠæ³•ã€‚</u></p>
</blockquote>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"wc.so"</span><span class="punctuation">,</span> <span class="string">"pg-being_ernest.txt"</span><span class="punctuation">,</span> <span class="string">"pg-dorian_gray.txt"</span><span class="punctuation">,</span> <span class="string">"pg-frankenstein.txt"</span><span class="punctuation">,</span> <span class="string">"pg-grimm.txt"</span><span class="punctuation">,</span> <span class="string">"pg-huckleberry_finn.txt"</span><span class="punctuation">,</span> <span class="string">"pg-metamorphosis.txt"</span><span class="punctuation">,</span> <span class="string">"pg-sherlock_holmes.txt"</span><span class="punctuation">,</span> <span class="string">"pg-tom_sawyer.txt"</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">    _<span class="comment">// Use IntelliSense to learn about possible attributes._</span></span><br><span class="line">    _<span class="comment">// Hover to view descriptions of existing attributes._</span></span><br><span class="line">    _<span class="comment">// For more information, visit: https://go.microsoft.com/fwlink/?linkid=830387_</span></span><br><span class="line">    <span class="attr">"version"</span><span class="punctuation">:</span> <span class="string">"0.2.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"configurations"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"Run mrcoordinator.go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"request"</span><span class="punctuation">:</span> <span class="string">"launch"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"mode"</span><span class="punctuation">:</span> <span class="string">"auto"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"pg-being_ernest.txt"</span><span class="punctuation">,</span> <span class="string">"pg-dorian_gray.txt"</span><span class="punctuation">,</span> <span class="string">"pg-frankenstein.txt"</span><span class="punctuation">,</span> <span class="string">"pg-grimm.txt"</span><span class="punctuation">,</span> <span class="string">"pg-huckleberry_finn.txt"</span><span class="punctuation">,</span> <span class="string">"pg-metamorphosis.txt"</span><span class="punctuation">,</span> <span class="string">"pg-sherlock_holmes.txt"</span><span class="punctuation">,</span> <span class="string">"pg-tom_sawyer.txt"</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"program"</span><span class="punctuation">:</span> <span class="string">"${workspaceFolder}/src/main/mrcoordinator.go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"cwd"</span><span class="punctuation">:</span> <span class="string">"${workspaceFolder}/src/main"</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"Run mrworker.go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"request"</span><span class="punctuation">:</span> <span class="string">"launch"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"mode"</span><span class="punctuation">:</span> <span class="string">"auto"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"wc.so"</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"program"</span><span class="punctuation">:</span> <span class="string">"${workspaceFolder}/src/main/mrworker.go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"cwd"</span><span class="punctuation">:</span> <span class="string">"${workspaceFolder}/src/main"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"preLaunchTask"</span><span class="punctuation">:</span> <span class="string">"build wc &amp;&amp; temp dir"</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"Run mrsequential.go with wc.so"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"request"</span><span class="punctuation">:</span> <span class="string">"launch"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"mode"</span><span class="punctuation">:</span> <span class="string">"auto"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"program"</span><span class="punctuation">:</span> <span class="string">"${workspaceFolder}/src/main/mrsequential.go"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"env"</span><span class="punctuation">:</span> <span class="punctuation">{</span><span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"wc.so"</span><span class="punctuation">,</span> <span class="string">"pg-being_ernest.txt"</span><span class="punctuation">,</span> <span class="string">"pg-dorian_gray.txt"</span><span class="punctuation">,</span> <span class="string">"pg-frankenstein.txt"</span><span class="punctuation">,</span> <span class="string">"pg-grimm.txt"</span><span class="punctuation">,</span> <span class="string">"pg-huckleberry_finn.txt"</span><span class="punctuation">,</span> <span class="string">"pg-metamorphosis.txt"</span><span class="punctuation">,</span> <span class="string">"pg-sherlock_holmes.txt"</span><span class="punctuation">,</span> <span class="string">"pg-tom_sawyer.txt"</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"preLaunchTask"</span><span class="punctuation">:</span> <span class="string">"build wc"</span></span><br><span class="line">        <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><code>.vscode/tasks.json</code></li>
</ul>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"version"</span><span class="punctuation">:</span> <span class="string">"2.0.0"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"tasks"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"label"</span><span class="punctuation">:</span> <span class="string">"build wc"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"shell"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"bash"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"${workspaceFolder}/src/main/build-wc.sh"</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"problemMatcher"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>  </span><br><span class="line">            <span class="attr">"group"</span><span class="punctuation">:</span> <span class="punctuation">{</span>  </span><br><span class="line">              <span class="attr">"kind"</span><span class="punctuation">:</span> <span class="string">"build"</span><span class="punctuation">,</span>  </span><br><span class="line">              <span class="attr">"isDefault"</span><span class="punctuation">:</span> <span class="keyword">true</span>  </span><br><span class="line">            <span class="punctuation">}</span><span class="punctuation">,</span> </span><br><span class="line">            <span class="attr">"presentation"</span><span class="punctuation">:</span> <span class="punctuation">{</span>  </span><br><span class="line">              <span class="attr">"reveal"</span><span class="punctuation">:</span> <span class="string">"silent"</span>  </span><br><span class="line">            <span class="punctuation">}</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"label"</span><span class="punctuation">:</span> <span class="string">"build temp dir"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"type"</span><span class="punctuation">:</span> <span class="string">"shell"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"bash"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"${workspaceFolder}/src/main/build-temp-dir.sh"</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"problemMatcher"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="punctuation">]</span><span class="punctuation">,</span>  </span><br><span class="line">            <span class="attr">"group"</span><span class="punctuation">:</span> <span class="punctuation">{</span>  </span><br><span class="line">              <span class="attr">"kind"</span><span class="punctuation">:</span> <span class="string">"build"</span><span class="punctuation">,</span>  </span><br><span class="line">              <span class="attr">"isDefault"</span><span class="punctuation">:</span> <span class="keyword">true</span>  </span><br><span class="line">            <span class="punctuation">}</span><span class="punctuation">,</span>  </span><br><span class="line">            <span class="attr">"presentation"</span><span class="punctuation">:</span> <span class="punctuation">{</span>  </span><br><span class="line">              <span class="attr">"reveal"</span><span class="punctuation">:</span> <span class="string">"silent"</span>  </span><br><span class="line">            <span class="punctuation">}</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"label"</span><span class="punctuation">:</span> <span class="string">"build wc &amp;&amp; temp dir"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"dependsOn"</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">"build wc"</span><span class="punctuation">,</span> <span class="string">"build temp dir"</span><span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><code>6.8540/src/main/build-wc.sh</code></li>
</ul>
<blockquote>
<p>æ³¨æ„ï¼šå¦‚æœå‡ºç° <code>cannot load plugin wc.so</code>ï¼Œéœ€è¦åŠ ä¸Š <code>-gcflags="all=-N -l"</code>ï¼Œä»¥ç¦ç”¨ä¼˜åŒ–å’Œå†…è”ï¼Œä½†è¿™ä¸ä¸€å®šæ˜¯å¿…è¦çš„ï¼Œå¦‚æœç›´æ¥åœ¨ Terminal è¿›è¡ŒåŠ¨æ€åº“çš„ç”Ÿæˆï¼Œåˆ™ä¸éœ€è¦ã€‚</p>
</blockquote>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">"Building wc plugin..."</span></span><br><span class="line"><span class="built_in">cd</span> src/main</span><br><span class="line">go build -buildmode=plugin -gcflags=<span class="string">"all=-N -l"</span> ../mrapps/wc.go</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"wc plugin built"</span></span><br><span class="line"><span class="built_in">rm</span> -f mr-*</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"deleted old mr-* files"</span></span><br></pre></td></tr></tbody></table></figure>
<h2 id="Our-tasks"><a href="#Our-tasks" class="headerlink" title="Our tasks"></a>Our tasks</h2><blockquote>
<p>Your job is to implement a distributed MapReduce, consisting of two programs, the coordinator and the worker. There will be just one coordinator process, and one or more worker processes executing in parallel. In a real system the workers would run on a bunch of different machines, but for this lab youâ€™ll run them all on a single machine. The workers will talk to the coordinator via RPC. Each worker process will, in a loop, ask the coordinator for a task, read the taskâ€™s input from one or more files, execute the task, write the taskâ€™s output to one or more files, and again ask the coordinator for a new task. The coordinator should notice if a worker hasnâ€™t completed its task in a reasonable amount of time (for this lab, use ten seconds), and give the same task to a different worker.</p>
</blockquote>
<ul>
<li>ä¸»ä½“ï¼šå®Œæˆä¸€ä¸ªåˆ†å¸ƒå¼çš„ MapReduceï¼Œç”±ä¸€ä¸ª coordinator è¿›ç¨‹ï¼ˆåœ¨ä¹‹å‰çš„ç‰ˆæœ¬ä¸­ç”¨ master ç§°å‘¼ï¼‰å’Œå¤šä¸ªå¹¶è¡Œçš„ worker è¿›ç¨‹ç»„æˆã€‚ç°å®ä¸­çœŸå®çš„åˆ†å¸ƒå¼ç³»ç»Ÿé€šå¸¸è¿è¡Œåœ¨ä¸€å †ä¸åŒçš„è®¾å¤‡ä¸Šï¼Œä½†åœ¨è¿™é‡Œåªç”¨ä¸€å°è®¡ç®—æœºï¼Œworker é€šè¿‡ RPC å’Œ coordinator é€šä¿¡ã€‚æ¯ä¸€ä¸ª worker è¿›ç¨‹å°†å¾ªç¯åœ°å‘ coordinator è¯·æ±‚ taskï¼Œä» task çš„è¾“å…¥ä¸­è¯»å–ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œæ‰§è¡Œç¨‹åºç„¶å¾ˆå°†ç»“æœè¾“å‡ºåˆ°ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ï¼Œç„¶åå†æ¬¡è¯·æ±‚æ–°çš„ taskã€‚å¦‚æœä¸€ä¸ª worker é•¿æ—¶é—´æ²¡æœ‰å®Œæˆ taskï¼ˆè¿™é‡Œè®¾ç½®ä¸º 10sï¼‰ï¼Œcoordinator å°†é€šçŸ¥å¦ä¸€ä¸ª worker æ¥æ‰§è¡Œè¿™ä¸ª taskã€‚</li>
<li>æ³¨æ„ï¼š<code>main/mrcoordinator.go</code> å’Œ <code>main/mrworker.go</code> æ˜¯ test çš„å…¥å£ï¼Œä¸è¦æ±‚æ”¹ã€‚éœ€è¦å®Œæˆçš„åœ¨ <code>mr/coordinator.go</code>ã€<code>mr/worker.go</code> å’Œ <code>mr/rpc.go</code>ã€‚</li>
<li><p>å¤§è‡´çš„æµ‹è¯•æ­¥éª¤ï¼š</p>
<ul>
<li><p>æ„å»ºä¸­é—´ä»¶ç”¨äº word-countï¼Œè¿™é‡Œå’Œä¸Šé¢ç±»ä¼¼ï¼Œåç»­å¯ä»¥é™„å¸¦åœ¨å¯åŠ¨ mrworker çš„ä»»åŠ¡ä¸­ã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">go build -buildmode=plugin ../mrapps/wc.go</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å¯åŠ¨mrcoordinatorï¼Œè¾“å…¥æ˜¯æ‰€æœ‰txtæ–‡ä»¶ï¼Œæ¯ä¸€ä¸ªæ–‡ä»¶ä»£è¡¨ä¸€ä¸ªsplitï¼ŒåŒæ ·çš„è¿™é‡Œä¹Ÿè¦æ³¨æ„é€šé…ç¬¦ã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line"><span class="built_in">rm</span> mr-out*</span><br><span class="line">go run mrcoordinator.go pg-*.txt</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å¯åŠ¨å¤šä¸ªmrworker</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">go run mrworker.go wc.so</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>æŒ‰é¡ºåºæ’åºåçš„è¯é¢‘ç»Ÿè®¡åº”å½“å’Œåºåˆ—åŒ–å•æœºçš„ç»“æœä¿æŒä¸€è‡´ï¼Œç”¨main/test-mr.shè¿›è¡Œæµ‹è¯•ï¼Œå°†æµ‹è¯•è¾“å‡ºæ˜¯å¦ä¿æŒæ­£ç¡®ï¼Œæ˜¯å¦å…·æœ‰ä¿®å¤å´©æºƒworkerçš„èƒ½åŠ›</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> mr-out-* | <span class="built_in">sort</span> | more</span><br><span class="line">A 509</span><br><span class="line">ABOUT 2</span><br><span class="line">ACT 8</span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ç»“æœå°†ç”Ÿæˆå¤šä¸ªmr-out-Xæ–‡ä»¶</p>
</li>
<li>å¯èƒ½ä¼šå‡ºç°RPCçš„æŠ¥é”™rpc.Register: method â€œDoneâ€ has 1 input parameters; needs exactly threeï¼ŒDone()æ²¡æœ‰é€šè¿‡RPCï¼Œå…ˆå¿½ç•¥</li>
</ul>
</li>
</ul>
<h3 id="Rules"><a href="#Rules" class="headerlink" title="Rules"></a>Rules</h3><ul>
<li>map é˜¶æ®µåº”å½“å°†ä¸­é—´æ€çš„ keys åˆ’åˆ†åˆ° <code>nReduce</code> ä¸ªæ¡¶è¿›è¡Œ reduce ä»»åŠ¡ï¼Œè¿™ä¸ªæ•°é‡å°±æ˜¯ reduce ä»»åŠ¡çš„æ•°é‡ï¼Œè¿™ä¸ªå‚æ•°æ˜¯ä» <code>main/mrcoordinator.go</code> ä¼ å…¥åˆ° <code>mr/coordinator.go</code> çš„ <code>MakeCoordinator()</code> å‡½æ•°çš„ã€‚ä¸ºäº†å‡å°‘ä»»åŠ¡çš„æ¶ˆè€—ï¼Œæ¯ä¸€ä¸ª mapper åº”å½“åˆ›å»º <code>nReduce</code> ä¸ªä¸­é—´æ–‡ä»¶ã€‚</li>
<li>worker åº”å½“å°†ç¬¬ X ä¸ª reduce ä»»åŠ¡çš„è¾“å‡ºæ”¾åˆ° <code>mr-out-X</code>ã€‚</li>
<li><code>mr-out-X</code> çš„è¾“å‡ºæ ¼å¼ï¼Œæ¯ä¸€è¡ŒåŒ…æ‹¬ä¸€ä¸ª Reduce å‡½æ•°çš„è¾“å‡ºï¼Œä»¥é”®å€¼å¯¹çš„å½¢å¼è¡¨ç¤ºï¼Œç”¨ <code>"%v %v"</code> è¿›è¡Œæ ¼å¼åŒ–ï¼Œå‚ç…§ <code>main/mrsequential.go</code>ã€‚æ ¼å¼é”™è¯¯å¯èƒ½å¯¼è‡´æµ‹è¯•ä¸é€šè¿‡ã€‚</li>
<li>worker åº”å½“å°† Map çš„è¾“å‡ºæ–‡ä»¶æ”¾åœ¨å½“å‰ç›®å½•ä¸‹ï¼Œä»¥ä¾¿å®ƒä½œä¸º Reduce ä»»åŠ¡çš„è¾“å…¥ã€‚</li>
<li>å½“ MapReduce ä»»åŠ¡å®Œå…¨ç»“æŸæ—¶ï¼Œ<code>mr/coordinator.go</code> çš„ <code>Done()</code> æ–¹æ³•åº”å½“è¿”å› <code>true</code>ï¼Œæ­¤æ—¶ <code>main/mrcoordinator.go</code> å°†é€€å‡ºã€‚</li>
<li>worker ä¹Ÿåº”å½“é€€å‡ºã€‚ä¸€ä¸ªç®€å•çš„å®ç°æ–¹æ³•å¯ä»¥æ˜¯ä½¿ç”¨ <code>call()</code> çš„è¿”å›å€¼ï¼Œå¦‚æœ worker è”ç³»ä¸ä¸Š coordinatorï¼Œåˆ™è¯´æ˜ä»»åŠ¡å·²ç»å®Œæˆï¼Œcoordinator å·²ç»é€€å‡ºï¼Œæ­¤æ—¶ worker ä¹Ÿå¯ä»¥é€€å‡ºã€‚</li>
</ul>
<h3 id="Hints"><a href="#Hints" class="headerlink" title="Hints"></a>Hints</h3><ul>
<li>ç›¸å…³ Golang çš„çŸ¥è¯† <a href="https://pdos.csail.mit.edu/6.824/labs/guidance.html">https://pdos.csail.mit.edu/6.824/labs/guidance.html</a></li>
<li>ä¸€ä¸ªå…¥æ‰‹çš„æ–¹æ³•å°±æ˜¯ï¼Œè®¾è®¡ <code>mr/worker.go</code> çš„ <code>Worker()</code> å‡½æ•°ï¼Œé€šè¿‡ RPC å‘ coordinator è¯·æ±‚ä¸€ä¸ªä»»åŠ¡ï¼Œç„¶åè®¾è®¡ coordinator çš„å“åº”ï¼ˆå°šæœªè¿›è¡Œ map ä»»åŠ¡çš„æ–‡ä»¶åï¼‰ï¼Œå†è®¾è®¡ worker å¦‚ä½•è¯»å–è¿™äº›æ–‡ä»¶ï¼Œè°ƒç”¨ Map å‡½æ•°ï¼ˆç±»ä¼¼äº <code>mrsequential.go</code>ï¼‰ã€‚</li>
<li>Map å’Œ Reduce å‡½æ•°æ˜¯é€šè¿‡ go çš„ plugin è¿›è¡ŒåŠ¨æ€åŠ è½½çš„ï¼Œåç¼€æ˜¯ <code>.so</code> çš„æ–‡ä»¶ã€‚</li>
<li>å¦‚æœä¿®æ”¹äº† <code>mr/</code> ç›®å½•ä¸‹çš„ä»»ä½•ä¸œè¥¿ï¼Œæœ€å¥½éƒ½é‡æ–°åŠ è½½ä¸€ä¸‹ pluginï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢æåˆ°çš„æ”¾åˆ° tasks é‡Œé¢ä½œä¸ºå¯åŠ¨å‰çš„ä»»åŠ¡ã€‚</li>
<li>å½“å‰çš„ lab æ˜¯åŸºäºä¸€å°æœºå™¨è¿›è¡Œæ–‡ä»¶æ“ä½œçš„ï¼Œå¦‚æœæ˜¯å¤šå°æœºå™¨åˆ™éœ€è¦å…¨å±€çš„æ–‡ä»¶ç³»ç»Ÿä¾‹å¦‚ GFSï¼Œåœ¨æ­¤å¹¶æœªè€ƒè™‘ã€‚</li>
<li>ä¸­é—´æ–‡ä»¶çš„å‘½åï¼Œå¯ä»¥æ˜¯ <code>mr-X-Y</code>ï¼Œå…¶ä¸­ X æ˜¯ Map ä»»åŠ¡çš„ç¼–å·ï¼ŒY æ˜¯ reduce ä»»åŠ¡çš„ç¼–å·ã€‚</li>
<li><p>map ä»»åŠ¡å­˜å‚¨çš„ä¸­é—´æ€é”®å€¼å¯¹æ ¼å¼åº”å½“å¯ä»¥ç›´æ¥è¢« reduce ä»»åŠ¡è¯»å–ï¼Œä¸€ä¸ªå¯è¡Œçš„åŠæ³•æ˜¯ä½¿ç”¨ go çš„ <code>encoding/json</code> åŒ…ï¼š</p>
  <figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// write</span></span><br><span class="line">enc := json.NewEncoder(file)</span><br><span class="line"><span class="keyword">for</span> _, kv := ... {</span><br><span class="line">err := enc.Encode(&amp;kv)</span><br><span class="line"></span><br><span class="line"><span class="comment">// read</span></span><br><span class="line">dec := json.NewDecoder(file)</span><br><span class="line"><span class="keyword">for</span> {</span><br><span class="line">    <span class="keyword">var</span> kv KeyValue</span><br><span class="line">    <span class="keyword">if</span> err := dec.Decode(&amp;kv); err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">    kva = <span class="built_in">append</span>(kva, kv)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>mapéƒ¨åˆ†å¯ä»¥ç”¨<code>worker.go</code>é‡Œçš„<code>ihash(key)</code>å‡½æ•°é€šè¿‡ç»™å®šçš„keyæ¥é€‰æ‹©reduceä»»åŠ¡ã€‚</p>
</li>
<li><p>å¯ä»¥å‚è€ƒéƒ¨åˆ†<code>mrsequential.go</code>ä¸­çš„ä»£ç ï¼Œæ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>
</li>
<li><p>coordinatoræ˜¯ä¸€ä¸ªRPCæœåŠ¡ï¼Œå¯èƒ½ä¼šæœ‰å¹¶å‘çš„é—®é¢˜ï¼Œåº”å½“ç»™ä¸€äº›æ•°æ®åŠ é”ã€‚</p>
</li>
<li><p>ä½¿ç”¨<code>go run-race</code>æ¥å¼•å…¥goçš„ç«æ€æ£€æµ‹å™¨ï¼Œ<code>test-mr.sh</code>å¼€å¤´æœ‰ä¸€æ®µå¦‚ä½•ä½¿ç”¨çš„è¯´æ˜ï¼Œæµ‹è¯•ä¸ä¼šä½¿ç”¨ç«æ€æ£€æµ‹å™¨ã€‚ä¸è¿‡ï¼Œå¦‚æœä»£ç å­˜åœ¨ç«æ€ï¼Œæµ‹è¯•æ—¶ä¼šå¤±è´¥ã€‚</p>
</li>
<li><p>workersæœ‰æ—¶å€™éœ€è¦ç­‰å¾…ï¼Œä¾‹å¦‚reduceséœ€è¦å†æœ€åä¸€ä¸ªmapå®Œæˆå†å·¥ä½œã€‚ä¸€ä¸ªè§£å†³æ–¹æ¡ˆæ˜¯workerså‘¨æœŸæ€§åœ°å‘coordinatorè¯·æ±‚workï¼Œä½¿ç”¨<code>time.Sleep()</code>ï¼›å¦ä¸€ä¸ªæ–¹æ³•æ˜¯å†relevant RPC handlerä¸­ä½¿ç”¨<code>time.Sleep()</code>æˆ–è€…<code>sync.Cond</code>è¿›è¡Œç­‰å¾…ã€‚æ¯ä¸ªRPCéƒ½æœ‰è‡ªå·±çš„çº¿ç¨‹ï¼Œä¸ä¼šå½±å“å…¶ä»–RPCã€‚</p>
</li>
<li><p>coordinatoræ— æ³•åŒºåˆ†å®•æœºã€å¡ä½ä»¥åŠè¿è¡Œéå¸¸ç¼“æ…¢çš„workersã€‚æœ€å¥½æ˜¯è®©coordinatorç­‰å¾…ä¸€å®šçš„æ—¶é—´ï¼ˆåœ¨è¿™é‡Œæ˜¯10sï¼‰ï¼Œè¶…æ—¶åˆ™åˆ¤å®šä¸ºæ­»äº¡ï¼ˆå½“ç„¶æœ‰å¯èƒ½æ²¡æœ‰ï¼‰ï¼Œç„¶åæŠŠè¿™ä¸ªä»»åŠ¡åˆ†å‘ç»™å…¶ä»–workerã€‚</p>
</li>
<li><p>å¦‚æœè¦å®ŒæˆSection3.6ä¸­çš„Backupä»»åŠ¡ï¼Œå°†æµ‹è¯•ä»£ç å®Œæˆï¼šworkeræ²¡æœ‰å´©æºƒçš„æ—¶å€™ä¸ä¼šå»å®Œæˆå…¶ä»–ä»»åŠ¡ï¼Œå¤‡ä»½ä»»åŠ¡ä»…åœ¨10såæ‰è¿›è¡Œã€‚</p>
</li>
<li><p>å¯ä»¥ä½¿ç”¨<code>mrapps/crash.go</code>ä½œä¸ºpluginè¿›è¡Œå´©æºƒæ¢å¤ã€‚</p>
</li>
<li><p>MapReduceè®ºæ–‡ä¸­æåˆ°ï¼Œä¸ºäº†ç¡®ä¿å‘ç”Ÿå´©æºƒçš„æ—¶å€™æ²¡æœ‰äººæ³¨æ„åˆ°è¿™éƒ¨åˆ†æ–‡ä»¶ï¼Œå¯ä»¥é‡‡ç”¨ä¸´æ—¶æ–‡ä»¶ä»¥åŠå®Œå…¨å†™å…¥åå†è¿›è¡Œé‡å‘½åçš„æ–¹æ³•ã€‚å¯ä»¥ç”¨<code>ioutil.TempFile</code>æˆ–è€…<code>os.CreateTemp</code>è¿›è¡Œä¸´æ—¶æ–‡ä»¶çš„åˆ›å»ºï¼Œç”¨<code>os.Rename</code>è¿›è¡Œé‡å‘½å</p>
</li>
<li><p><code>test-mr.sh</code>åœ¨å­ç›®å½• <code>mr-tmp</code>ä¸­è¿è¡Œå…¶æ‰€æœ‰è¿›ç¨‹ï¼Œå› æ­¤å¦‚æœå‡ºç°é—®é¢˜å¯ä»¥çœ‹é‚£é‡Œã€‚ å¯ä»¥ä¸´æ—¶ä¿®æ”¹<code>test-mr.sh</code> ä»¥åœ¨æµ‹è¯•å¤±è´¥åé€€å‡ºï¼Œè¿™æ ·è„šæœ¬å°±ä¸ä¼šç»§ç»­æµ‹è¯•ï¼ˆå¹¶è¦†ç›–è¾“å‡ºæ–‡ä»¶ï¼‰ã€‚</p>
</li>
<li><p><code>test-mr-many.sh</code>æ˜¯è¿ç»­è¿è¡Œå¾ˆå¤šæ¬¡<code>test-mr.sh</code>ï¼Œä»¥ä¾¿æ‰¾åˆ°æ¦‚ç‡æ€§çš„é”™è¯¯ã€‚ä¸èƒ½å¹¶è¡Œå¤šä¸ª<code>test-mr.sh</code>å®ä¾‹ï¼Œå› ä¸ºcoordinatorç”¨äº†åŒä¸€ä¸ªsockerä¼šå¯¼è‡´å†²çªã€‚</p>
</li>
<li><p>GO RPCä»…å‘é€ä»¥å¤§å†™å­—æ¯å¼€å¤´çš„ç»“æ„ä½“å­—æ®µï¼Œå­ç»“æ„å¿…é¡»ç”±å¤§å†™çš„å­—æ®µåç§°ã€‚</p>
</li>
<li><p>è°ƒç”¨RPCçš„<code>call()</code>æ–¹æ³•æ—¶ï¼Œè¿”å›ç»“æ„åº”å½“åŒ…å«æ‰€æœ‰é»˜è®¤å€¼ã€‚RPC è°ƒç”¨åº”è¯¥å¦‚ä¸‹æ‰€ç¤ºï¼šåœ¨è°ƒç”¨ä¹‹å‰ä¸è®¾ç½®ä»»ä½•å›å¤å­—æ®µã€‚ å¦‚æœæ‚¨ä¼ é€’å…·æœ‰éé»˜è®¤å­—æ®µçš„å›å¤ç»“æ„ï¼ŒRPC ç³»ç»Ÿå¯èƒ½ä¼šé»˜é»˜åœ°è¿”å›ä¸æ­£ç¡®çš„å€¼ã€‚</p>
  <figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">reply := SomeType{}</span><br><span class="line">call(..., &amp;reply)</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="Challenges"><a href="#Challenges" class="headerlink" title="Challenges"></a>Challenges</h3><ul>
<li>Implement your own MapReduce application (see examples in mrapps/*), e.g., Distributed Grep (Section 2.3 of the MapReduce paper).å®ç°è®ºæ–‡ä¸­ 2.3 èŠ‚çš„ MapReduce åº”ç”¨ã€‚</li>
<li>Get your MapReduce coordinator and workers to run on separate machines, as they would in practice. You will need to set up your RPCs to communicate over TCP/IP instead of Unix sockets (see the commented out line in Coordinator.server()), and read/write files using a shared file system. For example, you can ssh into multiple <a href="http://kb.mit.edu/confluence/display/istcontrib/Getting+Started+with+Athena">Athena cluster</a> machines at MIT, which use <a href="http://kb.mit.edu/confluence/display/istcontrib/AFS+at+MIT+-+An+Introduction">AFS</a> to share files; or you could rent a couple AWS instances and use <a href="https://aws.amazon.com/s3/">S3</a> for storage.æŠŠ coordinator å’Œ workers éƒ¨ç½²åœ¨ä¸åŒçš„æœåŠ¡å™¨ä¸Šï¼Œæ”¹ç”¨ TCP/IP å–ä»£ sockets é€šä¿¡ï¼Œå¹¶ä¸”ä½¿ç”¨ SFS å…±äº«æ–‡ä»¶ç³»ç»Ÿã€‚</li>
</ul>
<h3 id="æ­£å¼å¼€å§‹-Coding"><a href="#æ­£å¼å¼€å§‹-Coding" class="headerlink" title="æ­£å¼å¼€å§‹ Coding"></a>æ­£å¼å¼€å§‹ Coding</h3><h4 id="worker-è¯·æ±‚ä»»åŠ¡ï¼Œcoordinator-åˆ†é…ä»»åŠ¡ï¼Œworker-æ”¶åˆ°åæ‰“å°"><a href="#worker-è¯·æ±‚ä»»åŠ¡ï¼Œcoordinator-åˆ†é…ä»»åŠ¡ï¼Œworker-æ”¶åˆ°åæ‰“å°" class="headerlink" title="worker è¯·æ±‚ä»»åŠ¡ï¼Œcoordinator åˆ†é…ä»»åŠ¡ï¼Œworker æ”¶åˆ°åæ‰“å°"></a>worker è¯·æ±‚ä»»åŠ¡ï¼Œcoordinator åˆ†é…ä»»åŠ¡ï¼Œworker æ”¶åˆ°åæ‰“å°</h4><blockquote>
<p>æš‚æ—¶åªå…³æ³¨ coordinator å’Œ worker çš„äº¤äº’é€»è¾‘</p>
</blockquote>
<ul>
<li><p><code>wc.go</code> çš„é€»è¾‘</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// è¾“å…¥æ˜¯æ–‡ä»¶åå’Œå†…å®¹ï¼Œè¾“å‡ºæ˜¯ç»“æ„ä½“åˆ‡ç‰‡å­˜æ”¾kva</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Map</span><span class="params">(filename <span class="type">string</span>, contents <span class="type">string</span>)</span></span> []mr.KeyValue {</span><br><span class="line">    <span class="comment">// function to detect word separators.</span></span><br><span class="line">    <span class="comment">// åŒ¿åå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªruneï¼Œè¿”å›ä¸€ä¸ªboolï¼Œç”¨äºåˆ¤æ–­æ˜¯å¦æ˜¯å­—æ¯ï¼Œä¸æ˜¯å­—æ¯åˆ™æ˜¯true</span></span><br><span class="line">    ff := <span class="function"><span class="keyword">func</span><span class="params">(r <span class="type">rune</span>)</span></span> <span class="type">bool</span> { <span class="keyword">return</span> !unicode.IsLetter(r) }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// split contents into an array of words.</span></span><br><span class="line">    <span class="comment">// æ ¹æ®ä¸æ˜¯å­—æ¯çš„ç‚¹å¯¹contentsè¿›è¡Œæ‹†åˆ†ï¼Œä¹Ÿå°±æ˜¯ç©ºæ ¼å’Œå…¶ä»–ï¼Œå°†å¾—åˆ°å•è¯çš„slice</span></span><br><span class="line">    words := strings.FieldsFunc(contents, ff)</span><br><span class="line"></span><br><span class="line">    kva := []mr.KeyValue{}</span><br><span class="line">    <span class="comment">// éå†wordsåˆ‡ç‰‡ï¼Œå•è¯æ˜¯keyï¼Œvalueæ˜¯"1"ï¼›é‡å¤çš„keyåœ¨è¿™æ—¶ä¸ä¼šåˆå¹¶</span></span><br><span class="line">    <span class="keyword">for</span> _, w := <span class="keyword">range</span> words {</span><br><span class="line">        kv := mr.KeyValue{w, <span class="string">"1"</span>}</span><br><span class="line">        kva = <span class="built_in">append</span>(kva, kv)</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> kva</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Reduce</span><span class="params">(key <span class="type">string</span>, values []<span class="type">string</span>)</span></span> <span class="type">string</span> {</span><br><span class="line">    <span class="comment">// return the number of occurrences of this word.</span></span><br><span class="line">    <span class="comment">// valuesåˆ‡ç‰‡çš„é•¿åº¦å°±æ˜¯ä¸ªæ•°ç›¸åŠ ï¼Œå®ç°äº†mapä¸­åŒkeyç›¸åŠ çš„æ•ˆæœ</span></span><br><span class="line">    <span class="keyword">return</span> strconv.Itoa(<span class="built_in">len</span>(values))</span><br><span class="line">} </span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>mrsequential.go</code>çš„é€»è¾‘</p>
<ul>
<li>åˆ¤å®šè¾“å…¥çš„å‚æ•°<code>os.Args</code></li>
<li>ç”¨<code>loadPlugin(os.Args[1])</code>è¯»å–<code>mapf</code>å’Œ<code>reducef</code>ä¸¤ä¸ªä»¥åŠ¨æ€é“¾æ¥åŠ è½½çš„å‡½æ•°ï¼ˆç”¨1æ˜¯å› ä¸º0æ˜¯æ–‡ä»¶è·¯å¾„ <strong>/home/boom/go/src/6.5840/src/main/__debug_bin710355273</strong> <code>wc.so pg-being_ernest.txt pg-dorian_gray.txt pg-frankenstein.txt pg-grimm.txt pg-huckleberry_finn.txt pg-metamorphosis.txt pg-sherlock_holmes.txt pg-tom_sawyer.txt</code>ï¼Œ1æ‰æ˜¯<code>wc.so</code>ï¼‰<ul>
<li><code>p, err := plugin.Open(filename)</code>åŠ è½½æ’ä»¶</li>
<li><code>xf, err := p.Lookup("Map")å’Œp.Lookup("Reduce")</code>æ£€ç´¢ç¬¦å·ï¼ˆè¿™é‡Œçš„ç¬¦å·æ˜¯å‡½æ•°ï¼‰</li>
<li><code>f :=  xf.(func())</code>è°ƒç”¨å‡½æ•°</li>
</ul>
</li>
<li><p>åœ¨workerä¸­KeyValueçš„ç»“æ„ä½“ï¼Œç”¨è¿™ä¸ªç»“æ„ä½“å®šä¹‰æœªåˆå§‹åŒ–çš„åˆ‡ç‰‡<code>type ByKey []mr.KeyValue</code>ç”¨äº<code>intermediate := []mr.KeyValue{}</code>çš„æ’åº</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="comment">// struct is in 6.5840/mr</span></span><br><span class="line"><span class="keyword">type</span> KeyValue <span class="keyword">struct</span> {</span><br><span class="line">    Key   <span class="type">string</span></span><br><span class="line">    Value <span class="type">string</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">// for sorting by key.</span></span><br><span class="line"><span class="keyword">type</span> ByKey []mr.KeyValue</span><br><span class="line"></span><br><span class="line"><span class="comment">// for sorting by key.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a ByKey)</span></span> Len() <span class="type">int</span>           { <span class="keyword">return</span> <span class="built_in">len</span>(a) }</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a ByKey)</span></span> Swap(i, j <span class="type">int</span>)      { a[i], a[j] = a[j], a[i] }</span><br><span class="line"><span class="comment">// å®ç°äº†sortæ¥å£çš„ä¸‰ä¸ªæ–¹æ³•ä»¥å®Œæˆæ’åºï¼ŒæŒ‰ç…§é”®çš„å­—æ¯é¡ºåºæ’åºa-z</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a ByKey)</span></span> Less(i, j <span class="type">int</span>) <span class="type">bool</span> { <span class="keyword">return</span> a[i].Key &lt; a[j].Key }</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è¯»å–åç»­å„ä¸ªå‚æ•°ï¼Œopenã€readã€closeå„ä¸ªfileï¼Œä¾æ¬¡æŠŠfilenameå’Œcontentè¿›è¡Œmapï¼Œå†å­˜å…¥åˆ‡ç‰‡</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> _, filename := <span class="keyword">range</span> os.Args[<span class="number">2</span>:] {</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    file, err := os.Open(filename)</span><br><span class="line">    content, err := ioutil.ReadAll(file) <span class="comment">// åœ¨go1.16ä¹‹åç”¨io.ReadAll()</span></span><br><span class="line">    file.Close()</span><br><span class="line">    kva := mapf(filename, <span class="type">string</span>(content)) <span class="comment">// è°ƒç”¨mapfè·å–å½“å‰æ–‡æ¡£çš„æ‰€æœ‰åˆ†è¯kvçš„åˆ‡ç‰‡</span></span><br><span class="line">    intermediate = <span class="built_in">append</span>(intermediate, kva...) <span class="comment">// è¿½åŠ åˆ°ä¸­é—´æ€çš„åˆ‡ç‰‡ä¸­æš‚å­˜</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>æ’åºåˆ‡ç‰‡ï¼Œåˆ›å»ºæ–‡ä»¶</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">sort.Sort(ByKey(intermediate))</span><br><span class="line"></span><br><span class="line">oname := <span class="string">"mr-out-0"</span></span><br><span class="line">ofile, _ := os.Create(oname)</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>reduceï¼Œç„¶åå…³é—­æ–‡ä»¶</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">i := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i &lt; <span class="built_in">len</span>(intermediate) {</span><br><span class="line">        j := i + <span class="number">1</span></span><br><span class="line">        <span class="comment">// æ‰¾åˆ°æ‰€æœ‰ç›¸åŒkeyçš„ä¸‹æ ‡èŒƒå›´[i,j)</span></span><br><span class="line">        <span class="keyword">for</span> j &lt; <span class="built_in">len</span>(intermediate) &amp;&amp; intermediate[j].Key == intermediate[i].Key {</span><br><span class="line">            j++</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// æš‚å­˜è¿™äº›åŒkeyçš„æ‰€æœ‰value</span></span><br><span class="line">        values := []<span class="type">string</span>{}</span><br><span class="line">        <span class="keyword">for</span> k := i; k &lt; j; k++ {</span><br><span class="line">            values = <span class="built_in">append</span>(values, intermediate[k].Value)</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// è¿›è¡Œreduce</span></span><br><span class="line">        output := reducef(intermediate[i].Key, values)</span><br><span class="line">        <span class="comment">// å†™å…¥ä¸Šé¢åˆ›å»ºçš„ofileæ–‡ä»¶ï¼Œæ³¨æ„è¦æŒ‰ç…§è¿™ä¸ªæ ¼å¼</span></span><br><span class="line">        <span class="comment">// this is the correct format for each line of Reduce output.</span></span><br><span class="line">        fmt.Fprintf(ofile, <span class="string">"%v %v\n"</span>, intermediate[i].Key, output)</span><br><span class="line">        <span class="comment">// æ›´æ–°iï¼Œæ‰¾ä¸‹ä¸€ç»„key</span></span><br><span class="line">        i = j</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    ofile.Close()</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="å…¥å£"><a href="#å…¥å£" class="headerlink" title="å…¥å£"></a>å…¥å£</h4><ul>
<li><p>å•ä¸ªç»ˆç«¯å¯åŠ¨<code>main/mrcoordinator.go</code></p>
<ul>
<li><code>m := mr.MakeCoordinator(os.Args[1:], 10)</code>å¸¦Argsè¯»å…¥ï¼Œè¿™é‡Œçš„Argsæ˜¯æ‰€æœ‰çš„txtæ–‡æ¡£ï¼›å’Œ<code>nReduce=10</code>ï¼ˆå¯¹äº<code>map</code>ä»»åŠ¡çš„æ•°é‡ï¼Œ<strong>æ–‡ä»¶ä¸ªæ•°</strong>å°±æ˜¯<code>map</code>ä¸ªæ•°ï¼Œ<strong>æ–‡ä»¶åºå·</strong>å°±æ˜¯<code>map</code>åºå·ï¼‰<ul>
<li>ç”±<code>mr.MakeCoordinatorï¼ˆï¼‰</code>åˆå§‹åŒ–<code>Coordinator</code></li>
<li><code>c.server()</code>å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ç›‘å¬æ¥è‡ª<code>mr/worker.go</code>çš„RPCè¯·æ±‚</li>
<li><code>go c.loopRemoveTimeoutTasks()</code>å¯åŠ¨å¦ä¸€ä¸ªçº¿ç¨‹å¾ªç¯ç§»é™¤è¿‡æœŸçš„ä»»åŠ¡</li>
</ul>
</li>
<li>å‘¨æœŸæ€§è°ƒç”¨<code>Done()</code>è¯¢é—®æ˜¯å¦ç»“æŸï¼Œå¦‚æœè¿”å›<code>false</code>åˆ™åœ¨å»¶è¿Ÿ1såç»“æŸè¿›ç¨‹</li>
<li>æŠŠæ‰€æœ‰<code>files</code>æ”¾å…¥<code>c.unIssueMapTasks</code>é˜Ÿåˆ—</li>
</ul>
</li>
<li><p>å¤šä¸ªç»ˆç«¯å¯åŠ¨<code>main/mrworker.go</code></p>
<ul>
<li>åŠ è½½ä¸€ä¸ªå¯åŠ¨å‚æ•°<code>wc.so</code>åŠ¨æ€æ’ä»¶ï¼Œ<code>mapf, reducef := loadPlugin(os.Args[1])</code></li>
<li><code>mr.Worker(mapf, reducef)</code></li>
<li><p><code>Worker</code>ç»“æ„ï¼šä¸¤ä¸ªå‡½æ•°ï¼Œä»»åŠ¡å±æ€§ã€æ˜¯å¦å…¨éƒ¨ç»“æŸã€Id</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> AWorker <span class="keyword">struct</span> {</span><br><span class="line">    mapf    <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">string</span>, <span class="type">string</span>)</span></span> []KeyValue</span><br><span class="line">    reducef <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">string</span>, []<span class="type">string</span>)</span></span> <span class="type">string</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// false for map, true for reduce</span></span><br><span class="line">    mapOrReduce <span class="type">bool</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// false for not done, true for done and must exit</span></span><br><span class="line">    allDone <span class="type">bool</span></span><br><span class="line"></span><br><span class="line">    workerId <span class="type">int</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>åˆ¤å®š<code>allDone</code>ï¼Œè¿›è¡Œ<code>worker.process()</code></p>
</li>
<li>åˆ¤å®š<code>mapOrReduce</code>ï¼Œé€‰æ‹©<code>map</code>ä»»åŠ¡æˆ–è€…<code>reduce</code>ä»»åŠ¡<ul>
<li>å¦‚æœæ˜¯<code>map</code>ä»»åŠ¡<ul>
<li>è¯·æ±‚ä»»åŠ¡<code>reply := worker.askMapTask()</code></li>
<li>å¤„ç†<code>reply</code>ï¼Œå¦‚æœä¸º<code>nil</code>è¡¨ç¤º<code>map</code>ä»»åŠ¡å·²ç»å¤„ç†å®Œæˆï¼Œåˆ‡æ¢åˆ°<code>reduce</code>ä»»åŠ¡<code>worker.mapOrReduce = true</code>ï¼›å¦‚æœä¸ä¸º<code>nil</code>ï¼Œè‹¥<code>reply.FileId==-1</code>è¯´æ˜ä»»åŠ¡åˆ†é…å®Œäº†ä½†æ˜¯è¿˜æ²¡å¤„ç†å®Œï¼Œæ²¡æœ‰<code>map</code>ä»»åŠ¡å¯ä»¥ç»™å½“å‰<code>worker</code>å¤„ç†ï¼Œä»€ä¹ˆéƒ½ä¸åšï¼Œéšæœºç­‰å¾…ä¸€å°æ®µæ—¶é—´åå†è¿”å›ï¼Œé‡æ–°<code>process</code>è¯·æ±‚ï¼Œå¦åˆ™å°±æ­£å¸¸å¤„ç†<code>worker.executeMap(reply)</code></li>
</ul>
</li>
<li>å¦‚æœæ˜¯<code>reduce</code>ä»»åŠ¡<ul>
<li>è¯·æ±‚ä»»åŠ¡<code>reply := worker.askReduceTask()</code></li>
<li>å¤„ç†<code>reply</code>ï¼Œå¦‚æœä¸º<code>nil</code>åˆ™è¡¨ç¤ºå…¨éƒ¨ç»“æŸï¼Œ <code>worker.allDone = true</code>åè¿”å›ï¼Œworkerè¿›ç¨‹ä¼šé€€å‡ºï¼›å¦‚æœä¸ä¸º<code>nil</code>ï¼Œè‹¥<code>reply.RIndex==-1</code>è¯´æ˜reduceä»»åŠ¡å·²åˆ†é…å®Œä½†æ²¡å¤„ç†å®Œï¼Œå¦åˆ™å°±æ­£å¸¸å¤„ç†<code>worker.executeReduce(reply)</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="ä»»åŠ¡çš„è¯·æ±‚å’Œå¤„ç†æœºåˆ¶"><a href="#ä»»åŠ¡çš„è¯·æ±‚å’Œå¤„ç†æœºåˆ¶" class="headerlink" title="ä»»åŠ¡çš„è¯·æ±‚å’Œå¤„ç†æœºåˆ¶"></a>ä»»åŠ¡çš„è¯·æ±‚å’Œå¤„ç†æœºåˆ¶</h4><ul>
<li><code>reply := worker.askMapTask()</code></li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(worker *AWorker)</span></span> askMapTask() *MapTaskReply {</span><br><span class="line">    <span class="comment">// declare an argument structure and reply structure.</span></span><br><span class="line">    args := MapTaskArgs{WorkerId: worker.workerId}</span><br><span class="line">    reply := MapTaskReply{}</span><br><span class="line"></span><br><span class="line">    worker.logPrintf(<span class="string">"Asking map task...\n"</span>)</span><br><span class="line">    ok := call(<span class="string">"Coordinator.GiveMapTask"</span>, &amp;args, &amp;reply)</span><br><span class="line">    <span class="keyword">if</span> !ok {</span><br><span class="line">        worker.logPrintf(<span class="string">"askMapTask failed\n"</span>)</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    worker.workerId = reply.WorkerId</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> reply.FileId == <span class="number">-1</span> {</span><br><span class="line">        <span class="keyword">if</span> reply.AllDone {</span><br><span class="line">            worker.logPrintf(<span class="string">"All map tasks are done\n"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            worker.logPrintf(<span class="string">"No map task available\n"</span>)</span><br><span class="line">            <span class="keyword">return</span> &amp;reply</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    worker.logPrintf(<span class="string">"Got map task %v on file %v\n"</span>, reply.FileId, reply.FileName)</span><br><span class="line">    <span class="keyword">return</span> &amp;reply</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><ul>
<li>è¯·æ±‚ä¸»ä½“çš„ç»“æ„ï¼š<code>worker *AWorker</code></li>
<li><p>è¯·æ±‚å‚æ•°<code>args</code>ç»“æ„ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> MapTaskArgs <span class="keyword">struct</span> {</span><br><span class="line">    <span class="comment">// give -1 if no task</span></span><br><span class="line">    WorkerId <span class="type">int</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>è¿”å›å‚æ•°<code>reply</code>ç»“æ„ï¼š</li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> MapTaskReply <span class="keyword">struct</span> {</span><br><span class="line">    <span class="comment">// worker pass the file name to the os to read</span></span><br><span class="line">    FileName <span class="type">string</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// marks a unique file id for map task, give -1 if no more file</span></span><br><span class="line">    FileId <span class="type">int</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// for reduce task</span></span><br><span class="line">    NReduce <span class="type">int</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// assign the worker id to the task</span></span><br><span class="line">    WorkerId <span class="type">int</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// assign where this kind of tasks are all done</span></span><br><span class="line">    <span class="comment">// if not or FileId is -1, the worker should wait</span></span><br><span class="line">    AllDone <span class="type">bool</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ä»»åŠ¡åˆ†å‘ï¼š<code>func (c *Coordinator) GiveMapTask(args *MapTaskArgs, reply *MapTaskReply) error{}</code></p>
<ul>
<li>åˆ†å‘ä»»åŠ¡WorkerIdä¸ºå½“å‰Coordinatorçš„<code>c.curWorkerId</code>ï¼Œæ­¤å<code>curWorkerId++</code>ï¼Œå¦‚æœWorkerIdå­˜åœ¨åˆ™ä¸æ”¹å˜ã€‚</li>
<li>é€šè¿‡<code>c.issuedMapMutex.Lock()</code>è·å–Mapä»»åŠ¡çš„äº’æ–¥é”<code>issuedMapMutex  sync.Mutex</code></li>
<li>åˆ¤å®š<code>Coordinator</code>çš„<code>c.mapDone</code>å­—æ®µï¼Œmapä»»åŠ¡ç»“æŸåˆ™ç›´æ¥é‡Šæ”¾é”ã€<code>reply.FileId == -1</code>ï¼Œ<code>reply.AllDone</code>è®¾ä¸ºtrueï¼Œç„¶åè¿”å›nil</li>
<li>åˆ¤å®šæ²¡æœ‰åˆ†é…çš„mapä»»åŠ¡é˜Ÿåˆ—å’Œå¤„ç†ä¸­çš„mapä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦éƒ½ä¸ºç©ºï¼Œä¸ºç©ºåˆ™å’Œä¸Šä¸€æ¡ä¸€æ ·ï¼Œé™„åŠ è®¾ç½®<code>c.mapDone</code>ä¸º<code>true</code>ï¼Œä»¥åŠæŒ‰ç…§<code>c.nReduce</code>æ”¾å…¥reduceçš„æœªåˆ†é…é˜Ÿåˆ—</li>
<li>ä»æœªåˆ†é…mapä»»åŠ¡é˜Ÿåˆ—ä¸­<code>PopBack()</code>æ‹¿åˆ°fileIdï¼ˆæŒ‰ç…§æ–‡ä»¶æ•°é‡æ’åˆ—<code>0-len(files)-1</code>)ï¼Œä»¥æ­¤ä¹Ÿå¯ä»¥æ‹¿åˆ°æ–‡ä»¶åå¹¶å†™å…¥replyï¼Œå¹¶ä¸”ç»™<code>MapTaskState</code>è®¾ç½®å¼€å§‹æ—¶é—´ï¼Œä¸ºåç»­è¶…æ—¶åšå‡†å¤‡ã€‚</li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> MapTaskState <span class="keyword">struct</span> {</span><br><span class="line">    beginSecond <span class="type">int64</span></span><br><span class="line">    workerId    <span class="type">int</span></span><br><span class="line">    fileId      <span class="type">int</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>æ‹¿å‡ºçš„fileIdæ”¾å…¥å·²åˆ†é…æ­£åœ¨å¤„ç†çš„mapä»»åŠ¡é˜Ÿåˆ—MapSetï¼ˆå®é™…ä¸Šæ˜¯ä½¿ç”¨mapç»“æ„ï¼Œå¹¶ä¸”ç»Ÿè®¡äº†countï¼‰</li>
<li>å¤„ç†ç›¸åº”çš„è¿”å›å€¼</li>
</ul>
</li>
</ul>
</li>
<li><p><code>worker.executeMap(reply)</code></p>
</li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(worker *AWorker)</span></span> executeMap(reply *MapTaskReply) {</span><br><span class="line">    <span class="comment">// execute map task</span></span><br><span class="line">    intermediate := makeIntermediateFromFile(reply.FileName, worker.mapf)</span><br><span class="line">    <span class="comment">// write intermediate to files</span></span><br><span class="line">    worker.writeToFiles(reply.FileId, reply.NReduce, intermediate)</span><br><span class="line">    worker.joinMapTask(reply.FileId)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><ul>
<li><code>intermediate := makeIntermediateFromFile(reply.FileName, worker.mapf)</code>ä¸»è¦ç”¨<code>mapf</code>æ‰“å¼€æ–‡ä»¶ç„¶åæ–‡æ¡£ï¼Œç”Ÿæˆé”®å€¼å¯¹ï¼Œè¿”å›ä¸€ä¸ªä¸­é—´æ€çš„<code>[]KeyValue</code>åˆ‡ç‰‡</li>
<li><code>worker.writeToFiles(reply.FileId, reply.NReduce, intermediate)</code>å†™å…¥åˆ°ä¸­é—´æ–‡ä»¶ï¼Œæ±‚hashåå–<code>mod nReduce</code>å¾—åˆ°åˆ†ç»™å“ªä¸€ä¸ªreduceä»»åŠ¡ï¼Œå› ä¸ºreduceä»»åŠ¡æ•°é‡æ˜¯çŸ¥é“çš„</li>
<li>ç”¨<code>encoding/json</code>åŒ…å­˜å‚¨ä¸­é—´æ€æ–‡ä»¶ï¼Œå¯ä»¥ç›´æ¥è¢«reduceä»»åŠ¡è¯»å–</li>
<li>è¯·æ±‚<code>call("Coordinator.JoinMapTask", &amp;args, &amp;reply)</code><ul>
<li>æ‹¿åˆ°å·²åˆ†é…mapä»»åŠ¡é˜Ÿåˆ—çš„é”</li>
<li>æ£€æŸ¥æ˜¯å¦å› ä¸ºè¶…æ—¶è€Œå¯¼è‡´å½“å‰FileIdçš„ä»»åŠ¡å·²ç»ä»å·²åˆ†é…mapä»»åŠ¡é˜Ÿåˆ—ä¸­ç§»é™¤<ul>
<li>å·²ç»è¢«ç§»é™¤ï¼Œè§£é”ã€æ‰“å°ä¿¡æ¯</li>
<li>æœªè¢«ç§»é™¤ï¼Œç§»é™¤ã€è§£é”ï¼Œæ‰“å°ä¿¡æ¯</li>
<li>æœªè¢«ç§»é™¤ä¸”è¶…æ—¶ï¼Œæ”¾å…¥æœªåˆ†é…é˜Ÿåˆ—</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><code>reply := worker.askReduceTask()</code></p>
</li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(worker *AWorker)</span></span> askReduceTask() *ReduceTaskReply {</span><br><span class="line">    <span class="comment">// declare an argument structure and reply structure.</span></span><br><span class="line">    args := ReduceTaskArgs{WorkerId: worker.workerId}</span><br><span class="line">    reply := ReduceTaskReply{}</span><br><span class="line"></span><br><span class="line">    ok := call(<span class="string">"Coordinator.GiveReduceTask"</span>, &amp;args, &amp;reply)</span><br><span class="line">    <span class="keyword">if</span> !ok {</span><br><span class="line">        worker.logPrintf(<span class="string">"askReduceTask failed\n"</span>)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    worker.workerId = reply.WorkerId</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> reply.RIndex == <span class="number">-1</span> {</span><br><span class="line">        <span class="keyword">if</span> reply.AllDone {</span><br><span class="line">            worker.logPrintf(<span class="string">"All reduce tasks are done, need to terminate this worker\n"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">        } <span class="keyword">else</span> {</span><br><span class="line">            worker.logPrintf(<span class="string">"No reduce task available\n"</span>)</span><br><span class="line">            <span class="keyword">return</span> &amp;reply</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    worker.logPrintf(<span class="string">"Got reduce task %v\n"</span>, reply.RIndex)</span><br><span class="line">    <span class="keyword">return</span> &amp;reply</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><ul>
<li>è¯·æ±‚ä¸»ä½“çš„ç»“æ„ï¼š<code>worker *AWorker</code></li>
<li><p>è¯·æ±‚å‚æ•°<code>args</code>ç»“æ„ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> ReduceTaskArgs <span class="keyword">struct</span> {</span><br><span class="line">    <span class="comment">// give -1 if no task</span></span><br><span class="line">    WorkerId <span class="type">int</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è¿”å›å‚æ•°<code>reply</code>ç»“æ„ï¼š</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">type</span> ReduceTaskReply <span class="keyword">struct</span> {</span><br><span class="line">    RIndex    <span class="type">int</span></span><br><span class="line">    NReduce   <span class="type">int</span></span><br><span class="line">    FileCount <span class="type">int</span></span><br><span class="line">    WorkerId  <span class="type">int</span></span><br><span class="line">    AllDone   <span class="type">bool</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>ä»»åŠ¡åˆ†å‘<code>func (c *Coordinator) GiveReduceTask(args *ReduceTaskArgs, reply *ReduceTaskReply) error {}</code></p>
<ul>
<li>åˆ†å‘ä»»åŠ¡WorkerIdä¸ºå½“å‰Coordinatorçš„<code>c.curWorkerId</code>ï¼Œæ­¤å<code>curWorkerId++</code>ï¼Œå¦‚æœWorkerIdå­˜åœ¨åˆ™ä¸æ”¹å˜ï¼Œè¿™é‡Œç”¨çš„æ˜¯Mapä»»åŠ¡çš„åŒä¸€å¥—ç¼–å·ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸ä¼šå‡ºç°mapå’Œreduceçš„WorkerIdç›¸åŒã€‚</li>
<li>é€šè¿‡<code>c.issuedReduceMutex.Lock()</code>è·å–Reduceä»»åŠ¡çš„äº’æ–¥é”<code>issuedReducepMutex  sync.Mutex</code></li>
<li>åˆ¤å®š<code>Coordinator</code>çš„<code>c.allDone</code>å­—æ®µï¼ŒReduceä»»åŠ¡ç»“æŸåˆ™ç›´æ¥é‡Šæ”¾é”ã€<code>reply.AllDone</code>è®¾ä¸ºtrueï¼Œ<code>reply.RIndex</code>è®¾ä¸º-1ï¼Œç„¶åè¿”å›nil</li>
<li>åˆ¤å®šæ²¡æœ‰åˆ†é…çš„Reduceä»»åŠ¡é˜Ÿåˆ—å’Œå¤„ç†ä¸­çš„Reduceä»»åŠ¡é˜Ÿåˆ—æ˜¯å¦éƒ½ä¸ºç©ºï¼Œä¸ºç©ºåˆ™å’Œä¸Šä¸€æ¡ä¸€æ ·ï¼Œé™„åŠ è®¾ç½®<code>c.AllDone</code>ä¸º<code>true</code>ï¼Œå…ˆæ¯”è¾ƒè¯·æ±‚Mapï¼Œè¿™é‡Œå¤šè®¾ç½®ä¸€ä¸ªå‚æ•°<code>c.AllDone</code></li>
<li>ä»æœªåˆ†é…Redduceä»»åŠ¡é˜Ÿåˆ—ä¸­<code>PopBack()</code>æ‹¿åˆ°rIndexï¼ˆæŒ‰ç…§NReduceæ•°é‡æ’åˆ—<code>0-NReduce-1</code>)å¹¶å†™å…¥replyï¼Œå¹¶ä¸”ç»™<code>ReduceTaskState</code>è®¾ç½®å¼€å§‹æ—¶é—´ï¼Œä¸ºåç»­è¶…æ—¶åšå‡†å¤‡ã€‚</li>
</ul>
</li>
<li><p><code>worker.executeReduce(reply)</code></p>
</li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(worker *AWorker)</span></span> executeReduce(reply *ReduceTaskReply) {</span><br><span class="line">    outName := fmt.Sprintf(<span class="string">"mr-out-%v"</span>, reply.RIndex)</span><br><span class="line">    intermediate := <span class="built_in">make</span>([]KeyValue, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; reply.FileCount; i++ {</span><br><span class="line">        intermediate = <span class="built_in">append</span>(intermediate, readIntermediateFiles(i, reply.RIndex)...)</span><br><span class="line">    }</span><br><span class="line">    worker.logPrintf(<span class="string">"Total intermediate size: %v\n"</span>, <span class="built_in">len</span>(intermediate))</span><br><span class="line">    tempfile, err := os.CreateTemp(<span class="string">"."</span>, <span class="string">"mrtemp"</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">        worker.logPrintf(<span class="string">"cannot create tempfile for %v\n"</span>, outName)</span><br><span class="line">    }</span><br><span class="line">    reduceKVSlice(intermediate, worker.reducef, tempfile)</span><br><span class="line">    tempfile.Close()</span><br><span class="line">    err = os.Rename(tempfile.Name(), outName)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">        worker.logPrintf(<span class="string">"cannot rename tempfile for %v\n"</span>, outName)</span><br><span class="line">    }</span><br><span class="line">    worker.joinReduceTask(reply.RIndex)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><ul>
<li><code>outName := fmt.Sprintf("mr-out-%v", reply.RIndex)</code>ï¼Œå½“å‰<code>Reduce</code>ä»»åŠ¡çš„è¾“å‡º</li>
<li><p>ä»å½“å‰RIndexæ‰€å±çš„å„ä¸ªä¸­é—´æ€æ–‡ä»¶è¯»å–ï¼Œæ±‡åˆåˆ°intermediate</p>
<figure class="highlight go"><table><tbody><tr><td class="code"><pre><span class="line">intermediate := <span class="built_in">make</span>([]KeyValue, <span class="number">0</span>)</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; reply.FileCount; i++ {</span><br><span class="line">    worker.logPrintf(<span class="string">"Reading intermediate files on cluster %v\n"</span>, i)</span><br><span class="line">    intermediate = <span class="built_in">append</span>(intermediate, readIntermediateFiles(i, reply.RIndex)...)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><ul>
<li>é€šè¿‡<code>reduceKVSlice</code>æ’åºä»¥åŠåˆå¹¶ï¼Œç„¶åé‡å‘½åã€è¾“å‡º</li>
<li>è¯·æ±‚<code>call("Coordinator.JoinMapTask", &amp;args, &amp;reply)</code><ul>
<li>æ‹¿åˆ°å·²åˆ†é…mapä»»åŠ¡é˜Ÿåˆ—çš„é”</li>
<li>æ£€æŸ¥æ˜¯å¦å› ä¸ºè¶…æ—¶è€Œå¯¼è‡´å½“å‰FileIdçš„ä»»åŠ¡å·²ç»ä»å·²åˆ†é…mapä»»åŠ¡é˜Ÿåˆ—ä¸­ç§»é™¤<ul>
<li>å·²ç»è¢«ç§»é™¤ï¼Œè§£é”ã€æ‰“å°ä¿¡æ¯</li>
<li>æœªè¢«ç§»é™¤ï¼Œç§»é™¤ã€è§£é”ï¼Œæ‰“å°ä¿¡æ¯</li>
<li>æœªè¢«ç§»é™¤ä¸”è¶…æ—¶ï¼Œæ”¾å…¥æœªåˆ†é…é˜Ÿåˆ—</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="ä»»åŠ¡åˆ†é…æœºåˆ¶"><a href="#ä»»åŠ¡åˆ†é…æœºåˆ¶" class="headerlink" title="ä»»åŠ¡åˆ†é…æœºåˆ¶"></a>ä»»åŠ¡åˆ†é…æœºåˆ¶</h4><blockquote>
<p>ä½¿ç”¨<strong>ä»»åŠ¡é˜Ÿåˆ—</strong>ï¼Œ<code>coordinator</code> ç»´æŠ¤äº†ä¸¤ç»„ä¸¤ä¸ªä»»åŠ¡é˜Ÿåˆ—ï¼Œæœªåˆ†é…ã€å·²åˆ†é…ï¼ˆæ­£åœ¨è¿è¡Œï¼‰ï¼Œå½“ <code>worker</code> è¯·æ±‚åˆ°è¾¾æ—¶ï¼Œç»™ <code>worker</code> åˆ†é…ä¸€ä¸ªæœªåˆ†é…çš„ä»»åŠ¡ï¼Œå¹¶æŠŠè¿™ä¸ªä»»åŠ¡æ ‡è®°ä¸ºå·²åˆ†é…</p>
</blockquote>
<p>æœªåˆ†é…ä»»åŠ¡ä½¿ç”¨æœ‰é”çš„åŒå‘é˜Ÿåˆ—ï¼Œå·²åˆ†é…ä»»åŠ¡ä½¿ç”¨æ— é”çš„ Mapï¼Œæ“ä½œæ—¶åŠ é”ï¼Œæœ‰å¾…ä¼˜åŒ–</p>
<h4 id="æµ‹è¯•"><a href="#æµ‹è¯•" class="headerlink" title="æµ‹è¯•"></a>æµ‹è¯•</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">bash test-mr.sh &gt; test-mr.out</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">*** Starting wc test.</span><br><span class="line">--- wc test: PASS</span><br><span class="line">*** Starting indexer test.</span><br><span class="line">--- indexer test: PASS</span><br><span class="line">*** Starting map parallelism test.</span><br><span class="line">--- map parallelism test: PASS</span><br><span class="line">*** Starting reduce parallelism test.</span><br><span class="line">--- reduce parallelism test: PASS</span><br><span class="line">*** Starting job count test.</span><br><span class="line">--- job count test: PASS</span><br><span class="line">*** Starting early exit test.</span><br><span class="line">--- early exit test: PASS</span><br><span class="line">*** Starting crash test.</span><br><span class="line">--- crash test: PASS</span><br><span class="line">*** PASSED ALL TESTS</span><br></pre></td></tr></tbody></table></figure>
<!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Distributed Systems</tag>
        <tag>LinkedList</tag>
      </tags>
  </entry>
  <entry>
    <title>è…¾è®¯2024æš‘æœŸå®ä¹ ç¬”è¯•</title>
    <url>/2024/04/01/TencentTest20240331/</url>
    <content><![CDATA[<ol>
<li>æ‰“å¡é¢˜ç›®ï¼Œæ— å‘å›¾çš„é‚»æ¥è¡¨ï¼Œéå†åˆ¤æ–­</li>
<li>åˆ¤æ–­åˆ†æ®µæ‹¼æ¥é“¾è¡¨åï¼Œæ˜¯å¦æ•´æ®µå‡åº</li>
<li>è¿é€šå›¾ï¼Œéè¿é€šçš„å›¾å¢åŠ ä¸€æ¡è¾¹æ°å¥½è¿é€šçš„æ–¹æ¡ˆæ•°</li>
<li>å¼‚æˆ–å‰ç¼€å’Œ+åŠ¨æ€è§„åˆ’</li>
<li>éå†+å›æº¯åˆ¤æ–­çŸ©é˜µæ„æˆå­—ç¬¦ä¸²</li>
</ol>
<span id="more"></span>
<hr>
<h2 id="1-é¢˜ç›®æè¿°"><a href="#1-é¢˜ç›®æè¿°" class="headerlink" title="1. é¢˜ç›®æè¿°"></a>1. é¢˜ç›®æè¿°</h2><p>å°çº¢æ‹¿åˆ°äº†ä¸€ä¸ªæ— å‘å›¾ï¼Œå…¶ä¸­ä¸€äº›è¾¹è¢«æŸ“æˆäº†çº¢è‰²ã€‚<br>å°çº¢å®šä¹‰ä¸€ä¸ªç‚¹æ˜¯â€œå¥½ç‚¹â€ï¼Œå½“ä¸”ä»…å½“è¿™ä¸ªç‚¹çš„æ‰€æœ‰é‚»è¾¹éƒ½æ˜¯çº¢è¾¹ã€‚<br>ç°åœ¨è¯·ä½ æ±‚å‡ºè¿™ä¸ªæ— å‘å›¾â€œå¥½ç‚¹â€çš„æ•°é‡ã€‚<br>æ³¨ï¼šå¦‚æœä¸€ä¸ªèŠ‚ç‚¹æ²¡æœ‰ä»»ä½•é‚»è¾¹ï¼Œé‚£ä¹ˆå®ƒä¹Ÿæ˜¯å¥½ç‚¹ã€‚</p>
<h3 id="1-1-è¾“å…¥æè¿°"><a href="#1-1-è¾“å…¥æè¿°" class="headerlink" title="1.1 è¾“å…¥æè¿°"></a>1.1 è¾“å…¥æè¿°</h3><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°n,mï¼Œä»£è¡¨èŠ‚ç‚¹çš„æ•°é‡å’Œè¾¹çš„æ•°é‡ã€‚<br>æ¥ä¸‹æ¥çš„mè¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°u,vå’Œä¸€ä¸ªå­—ç¬¦chrï¼Œä»£è¡¨èŠ‚ç‚¹uå’ŒèŠ‚ç‚¹væœ‰ä¸€æ¡è¾¹è¿æ¥<br>å¦‚æœ chr ä¸ºâ€™Râ€™ï¼Œä»£è¡¨è¿™æ¡è¾¹è¢«æŸ“çº¢ï¼›â€™Wâ€™ä»£è¡¨æœªè¢«æŸ“è‰²ã€‚</p>
<h3 id="1-2-è¾“å‡ºæè¿°"><a href="#1-2-è¾“å‡ºæè¿°" class="headerlink" title="1.2 è¾“å‡ºæè¿°"></a>1.2 è¾“å‡ºæè¿°</h3><p>$<br>1\leq n,m \leq 10^5<br>1\leq u,v \leq n<br>$</p>
<h3 id="1-3-è¾“å…¥æ ·ä¾‹"><a href="#1-3-è¾“å…¥æ ·ä¾‹" class="headerlink" title="1.3 è¾“å…¥æ ·ä¾‹"></a>1.3 è¾“å…¥æ ·ä¾‹</h3><h4 id="1-3-1-è¾“å…¥"><a href="#1-3-1-è¾“å…¥" class="headerlink" title="1.3.1 è¾“å…¥"></a>1.3.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4 4</span><br><span class="line">1 2 R</span><br><span class="line">2 3 W</span><br><span class="line">3 4 W</span><br><span class="line">1 4 R</span><br></pre></td></tr></tbody></table></figure>
<h4 id="1-3-2-è¾“å‡º"><a href="#1-3-2-è¾“å‡º" class="headerlink" title="1.3.2 è¾“å‡º"></a>1.3.2 è¾“å‡º</h4><p>ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨â€œå¥½ç‚¹â€çš„æ•°é‡ã€‚</p>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">1</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼šåªæœ‰ 1 å·èŠ‚ç‚¹æ˜¯å¥½ç‚¹ã€‚</p>
</blockquote>
<h3 id="1-4-è§£é¢˜æ€è·¯"><a href="#1-4-è§£é¢˜æ€è·¯" class="headerlink" title="1.4 è§£é¢˜æ€è·¯"></a>1.4 è§£é¢˜æ€è·¯</h3><ul>
<li>ç”¨ä¸€ä¸ªæ— å‘å›¾<code>UndirectedGraph</code>åŒ…å«èŠ‚ç‚¹æ•°é‡<code>V</code>å’Œä¸€ä¸ª<code>Edge</code>æ³›å‹çš„<code>LinkedList</code>ï¼Œéå†è¾“å…¥çš„è¾¹é€šè¿‡<code>addEdge(int src, int dest, boolean colored)</code>åœ¨æ— å‘å›¾ä¸­åŒæ—¶åˆ†åˆ«å­˜å…¥èµ·å§‹ç‚¹<code>src</code>å’Œç»ˆç‚¹<code>dest</code>çš„è¾¹ï¼Œå¹¶ä¸”æ ‡è®°æ˜¯å¦<code>colored</code></li>
<li>é€šè¿‡<code>countGood()</code>éå†æ— å‘å›¾çš„<code>LinkedList</code>ï¼Œåˆ¤æ–­ä»¥å½“å‰èŠ‚ç‚¹ä¸ºèµ·ç‚¹æˆ–ç»ˆç‚¹çš„è¾¹æ˜¯å¦æœ‰é¢œè‰²ï¼ŒåŒæ—¶é»˜è®¤å€¼æ˜¯<code>true</code>ï¼ˆå³æ— é‚»è¾¹ï¼‰ï¼Œéƒ½æ— é¢œè‰²æˆ–æ— é‚»è¾¹åˆ™è¿”å›<code>true</code>, å³é¢˜æ„çš„å¥½ç‚¹</li>
<li>Attentionï¼š<code>boolean colored = in.next().equals("R")?true:false;</code>ï¼ŒåŒºåˆ†<code>==</code>å’Œ<code>.equals()</code></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ç±»åå¿…é¡»ä¸º Main, ä¸è¦æœ‰ä»»ä½• package xxx ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in)) {</span><br><span class="line">            <span class="comment">// æ³¨æ„ hasNext å’Œ hasNextLine çš„åŒºåˆ«</span></span><br><span class="line">            <span class="comment">// èŠ‚ç‚¹æ•°é‡</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="comment">// è¾¹çš„æ•°é‡</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="comment">//  åˆ›å»ºæ— å‘å›¾</span></span><br><span class="line">            <span class="type">UndirectedGraph</span> <span class="variable">graph</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UndirectedGraph</span>(n);</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">                <span class="type">int</span> <span class="variable">src</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">                <span class="type">int</span> <span class="variable">dest</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">                <span class="comment">// æ³¨æ„è¿™é‡Œè¦ç”¨ equals æ–¹æ³•ï¼Œä¸èƒ½ç”¨ == æ¯”è¾ƒï¼Œå› ä¸º next è¿”å›çš„æ˜¯ String å¯¹è±¡ï¼Œ== æ¯”è¾ƒçš„æ˜¯å¼•ç”¨</span></span><br><span class="line">                <span class="type">boolean</span> <span class="variable">colored</span> <span class="operator">=</span> in.next().equals(<span class="string">"R"</span>)?<span class="literal">true</span>:<span class="literal">false</span>;</span><br><span class="line">                <span class="comment">// æ·»åŠ è¾¹ï¼Œæ³¨æ„èŠ‚ç‚¹ç¼–å·ä» 1 å¼€å§‹ï¼Œè¦å‡ 1</span></span><br><span class="line">                graph.addEdge(src-<span class="number">1</span>, dest-<span class="number">1</span>, colored);</span><br><span class="line">            }</span><br><span class="line">            <span class="type">int</span> <span class="variable">goodCount</span> <span class="operator">=</span> graph.countGood();</span><br><span class="line">            System.out.print(goodCount);</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Edge</span> {</span><br><span class="line">    <span class="type">int</span> dest;</span><br><span class="line">    <span class="type">boolean</span> colored;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Edge</span><span class="params">(<span class="type">int</span> dest, <span class="type">boolean</span> colored)</span> {</span><br><span class="line">        <span class="built_in">this</span>.dest = dest;</span><br><span class="line">        <span class="built_in">this</span>.colored = colored;</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">UndirectedGraph</span> {</span><br><span class="line">    <span class="type">int</span> V;</span><br><span class="line">    LinkedList&lt;Edge&gt;[] adjListArray;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">UndirectedGraph</span><span class="params">(<span class="type">int</span> V)</span> {</span><br><span class="line">        <span class="built_in">this</span>.V = V;</span><br><span class="line">        <span class="built_in">this</span>.adjListArray = <span class="keyword">new</span> <span class="title class_">LinkedList</span>[V];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; V; i++) {</span><br><span class="line">            adjListArray[i] = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;Edge&gt;();</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">addEdge</span><span class="params">(<span class="type">int</span> src, <span class="type">int</span> dest, <span class="type">boolean</span> colored)</span> {</span><br><span class="line">        <span class="type">Edge</span> <span class="variable">edge1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Edge</span>(dest, colored);</span><br><span class="line">        adjListArray[src].add(edge1);</span><br><span class="line"></span><br><span class="line">        <span class="type">Edge</span> <span class="variable">edge2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Edge</span>(src, colored);</span><br><span class="line">        adjListArray[dest].add(edge2);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="title function_">countGood</span><span class="params">()</span>{</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> <span class="number">0</span>; v &lt; V; v++){</span><br><span class="line">            <span class="comment">// æ²¡æœ‰è¾¹çš„èŠ‚ç‚¹ä¹Ÿæ˜¯å¥½èŠ‚ç‚¹</span></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">isGood</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span>(Edge edge: adjListArray[v]){</span><br><span class="line">                <span class="keyword">if</span>(!edge.colored){</span><br><span class="line">                    isGood = <span class="literal">false</span>;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span>(isGood) count++;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> count;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="2-é¢˜ç›®æè¿°"><a href="#2-é¢˜ç›®æè¿°" class="headerlink" title="2. é¢˜ç›®æè¿°"></a>2. é¢˜ç›®æè¿°</h2><blockquote>
<p>å°çº¢æ‹¿åˆ°äº†ä¸€ä¸ªé“¾è¡¨ã€‚å¥¹å‡†å¤‡å°†è¿™ä¸ªé“¾è¡¨æ–­è£‚æˆä¸¤ä¸ªé“¾è¡¨ï¼Œå†æ‹¼æ¥åˆ°ä¸€èµ·ï¼Œä½¿å¾—é“¾è¡¨ä»å¤´èŠ‚ç‚¹åˆ°å°¾éƒ¨å‡åºã€‚ä½ èƒ½å¸®å°çº¢åˆ¤æ–­èƒ½å¦è¾¾æˆç›®çš„å—ï¼Ÿ<br>ç»™å®šçš„ä¸ºä¸€ä¸ªé“¾è¡¨æ•°ç»„ï¼Œä½ éœ€è¦å¯¹äºæ•°ç»„ä¸­æ¯ä¸ªé“¾è¡¨è¿›è¡Œä¸€æ¬¡â€œæ˜¯â€æˆ–è€…â€œå¦â€çš„ç­”æ¡ˆå›ç­”ï¼Œå¹¶è¿”å›å¸ƒå°”æ•°ç»„ã€‚<br>æ¯ä¸ªé“¾è¡¨çš„é•¿åº¦ä¸å°äº 2ï¼Œä¸”æ¯ä¸ªé“¾è¡¨ä¸­ä¸åŒ…å«ä¸¤ä¸ªç›¸ç­‰çš„å…ƒç´ ã€‚æ‰€æœ‰é“¾è¡¨çš„é•¿åº¦ä¹‹å’Œä¿è¯ä¸è¶…è¿‡10^5</p>
</blockquote>
<h3 id="2-1-è¾“å…¥æ ·ä¾‹"><a href="#2-1-è¾“å…¥æ ·ä¾‹" class="headerlink" title="2.1 è¾“å…¥æ ·ä¾‹"></a>2.1 è¾“å…¥æ ·ä¾‹</h3><h4 id="2-1-1-è¾“å…¥"><a href="#2-1-1-è¾“å…¥" class="headerlink" title="2.1.1 è¾“å…¥"></a>2.1.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">[{1,2,3},{2,3,1},{3,2,1}]</span><br></pre></td></tr></tbody></table></figure>
<h4 id="2-1-2-è¾“å‡º"><a href="#2-1-2-è¾“å‡º" class="headerlink" title="2.1.2 è¾“å‡º"></a>2.1.2 è¾“å‡º</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">[<span class="literal">true</span>,<span class="literal">true</span>,<span class="literal">false</span>]  // è¯´æ˜ï¼šç¬¬ä¸‰ä¸ªé“¾è¡¨æ— è®ºæ€ä¹ˆæ“ä½œéƒ½ä¸æ»¡è¶³æ¡ä»¶ã€‚</span><br></pre></td></tr></tbody></table></figure>
<h3 id="2-2-è§£é¢˜æ€è·¯"><a href="#2-2-è§£é¢˜æ€è·¯" class="headerlink" title="2.2 è§£é¢˜æ€è·¯"></a>2.2 è§£é¢˜æ€è·¯</h3><ul>
<li>æ–­è£‚æˆä¸¤ç«¯ï¼Œé‡æ–°æ‹¼æ¥åä»å¤´åˆ°å°¾æ˜¯å‡åºã€‚ä¸¤ç§æƒ…å†µï¼šæœ¬æ¥å°±æ˜¯ä¸€æ®µå•è°ƒå¢ï¼Œä¸æ–­å¼€ä¹Ÿå‡åºï¼›ä¸¤æ®µå•è°ƒå¢åŒºé—´ï¼Œä¸”ä¸èƒ½æœ‰é‡å åŒºé—´ä¾‹å¦‚[0, 4], [3, 6]ï¼Œè¿™æ ·å®é™…ä¸Šæœ‰ä¸€æ®µå±äºé€’å‡</li>
<li>ç”¨<code>ListNode findMaxNode(ListNode head)</code>æ‰¾åˆ°æœ€å¤§èŠ‚ç‚¹<code>maxNode</code>ï¼Œ<code>ListNode rightStart = maxNode.next;</code>æ‰¾åˆ°ç¬¬äºŒæ®µèµ·å§‹èŠ‚ç‚¹ï¼Œå¦‚æœ<code>maxNode</code>åœ¨æœ«å°¾ï¼Œåˆ™ä¸ºç¬¬ä¸€ç§æƒ…å†µå•æ®µå•è°ƒå¢ï¼Œç¬¦åˆé¢˜æ„ï¼›åˆ¤æ–­ä»<code>rightStart</code>åˆ°ç»“å°¾æ˜¯å¦éƒ½æ˜¯å•è°ƒå¢ï¼Œå¦‚æœæ˜¯å•è°ƒå¢å¹¶ä¸”<code>end.val&lt;=head.val</code>ï¼Œåˆ™ç¬¦åˆé¢˜æ„</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> * public class ListNode {</span></span><br><span class="line"><span class="comment"> *   int val;</span></span><br><span class="line"><span class="comment"> *   ListNode next = null;</span></span><br><span class="line"><span class="comment"> *   public ListNode(int val) {</span></span><br><span class="line"><span class="comment"> *     this.val = val;</span></span><br><span class="line"><span class="comment"> *   }</span></span><br><span class="line"><span class="comment"> * }</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Solution</span> {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»£ç ä¸­çš„ç±»åã€æ–¹æ³•åã€å‚æ•°åå·²ç»æŒ‡å®šï¼Œè¯·å‹¿ä¿®æ”¹ï¼Œç›´æ¥è¿”å›æ–¹æ³•è§„å®šçš„å€¼å³å¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> lists ListNodeç±»ä¸€ç»´æ•°ç»„</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> boolå¸ƒå°”å‹ä¸€ç»´æ•°ç»„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span>[] canSorted (ListNode[] lists) {</span><br><span class="line">        <span class="comment">// æœ€å¤§èŠ‚ç‚¹å·¦è¾¹æ˜¯å‡åºï¼Œæœ€å¤§èŠ‚ç‚¹å³è¾¹æ˜¯å‡åºï¼›æœ€å¤§èŠ‚ç‚¹å·¦è¾¹çš„å€¼0</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> lists.length;</span><br><span class="line">        <span class="type">boolean</span>[] ans = <span class="keyword">new</span> <span class="title class_">boolean</span>[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) {</span><br><span class="line">            ans[i] = canConcat(lists[i]);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ListNode <span class="title function_">findMaxNode</span><span class="params">(ListNode head)</span> {</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">maxNode</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">current</span> <span class="operator">=</span> head;</span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">null</span>) {</span><br><span class="line">            <span class="keyword">if</span> (current.val &gt; maxNode.val) {</span><br><span class="line">                maxNode = current;</span><br><span class="line">            }</span><br><span class="line">            current = current.next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> maxNode;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ListNode <span class="title function_">findEndOfUp</span><span class="params">(ListNode start, ListNode end)</span> {</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">current</span> <span class="operator">=</span> start;</span><br><span class="line">        <span class="comment">// ä¸ç”¨åˆ¤æ–­æœ€åä¸€ä¸ªï¼Œå› ä¸ºå·²ç»æ²¡æœ‰äº†ä¸‹ä¸€ä¸ªèŠ‚ç‚¹äº†ï¼Œæ­¤æ—¶çš„currentå·²ç»æ˜¯end</span></span><br><span class="line">        <span class="keyword">while</span> (current != <span class="literal">null</span> &amp;&amp; current.next != end) {</span><br><span class="line">            <span class="keyword">if</span> (current.val &gt; current.next.val)</span><br><span class="line">                <span class="keyword">return</span> current;</span><br><span class="line">            current = current.next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> current;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isUpping</span><span class="params">(ListNode start, ListNode end)</span> {</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">current</span> <span class="operator">=</span> start;</span><br><span class="line">        <span class="keyword">while</span> (current != end &amp;&amp; current.next!= end) {</span><br><span class="line">            <span class="keyword">if</span> (current.val &gt; current.next.val) {</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            }</span><br><span class="line">            current = current.next;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">canConcat</span><span class="params">(ListNode head)</span>{</span><br><span class="line">        <span class="comment">//  æ‰¾åˆ°æœ€å¤§èŠ‚ç‚¹ï¼Œæ˜¯ç¬¬ä¸€ä¸ªå‡åºåºåˆ—çš„æœ€åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">maxNode</span> <span class="operator">=</span> findMaxNode(head);</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">rightStart</span> <span class="operator">=</span> maxNode.next;</span><br><span class="line">        <span class="comment">// å¦‚æœæœ€å¤§èŠ‚ç‚¹æ˜¯æœ€åä¸€ä¸ªèŠ‚ç‚¹å³rightStartæ˜¯nullï¼Œé‚£ä¹ˆæ•´ä¸ªé“¾è¡¨æ˜¯å‡åºçš„</span></span><br><span class="line">        <span class="keyword">if</span>(rightStart == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">rightEnd</span> <span class="operator">=</span> findEndOfUp(rightStart, <span class="literal">null</span>);</span><br><span class="line">        <span class="comment">// ç¡®ä¿å³æ®µåºåˆ—æ˜¯å‡åºåˆ°ç»“å°¾çš„ï¼›ä»¥åŠå³æ®µçš„æœ€åä¸€ä¸ªå°äºå·¦æ®µçš„æœ€å°å€¼</span></span><br><span class="line">        <span class="comment">// return isUpping(head,leftEnd) &amp;&amp; isUpping(rightStart,null) &amp;&amp; (rightStart.val&lt;head.val);</span></span><br><span class="line">        <span class="comment">// return isUpping(rightStart,null) &amp;&amp; (rightStart.val&lt;head.val);3</span></span><br><span class="line">        <span class="keyword">return</span> isUpping(rightStart,<span class="literal">null</span>) &amp;&amp; (rightEnd.val&lt;head.val);</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="3-é¢˜ç›®æè¿°"><a href="#3-é¢˜ç›®æè¿°" class="headerlink" title="3. é¢˜ç›®æè¿°"></a>3. é¢˜ç›®æè¿°</h2><p>å°çº¢æ‹¿åˆ°äº†ä¸€ä¸ªæœ‰ n ä¸ªèŠ‚ç‚¹çš„æ— å‘å›¾ï¼Œè¿™ä¸ªå›¾åˆå§‹å¹¶ä¸æ˜¯è¿é€šå›¾ã€‚<br>ç°åœ¨å°çº¢æƒ³çŸ¥é“ï¼Œæ·»åŠ æ°å¥½ä¸€æ¡è¾¹ä½¿å¾—è¿™ä¸ªå›¾è¿é€šï¼Œæœ‰å¤šå°‘ç§ä¸åŒçš„åŠ è¾¹æ–¹æ¡ˆï¼Ÿ</p>
<h3 id="3-1-è¾“å…¥æè¿°"><a href="#3-1-è¾“å…¥æè¿°" class="headerlink" title="3.1 è¾“å…¥æè¿°"></a>3.1 è¾“å…¥æè¿°</h3><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°nï¼Œmï¼Œç”¨ç©ºæ ¼éš”å¼€ã€‚<br>æ¥ä¸‹æ¥çš„mè¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°uï¼Œvï¼Œä»£è¡¨èŠ‚ç‚¹uå’ŒèŠ‚ç‚¹vä¹‹é—´æœ‰ä¸€æ¡è¾¹è¿æ¥ã€‚<br>$1\leq n,m \leq 10^5$<br>$1\leq u,v \leq n$<br>ä¿è¯ç»™å‡ºçš„å›¾æ˜¯ä¸è¿é€šçš„ã€‚</p>
<h3 id="3-2-è¾“å‡ºæè¿°"><a href="#3-2-è¾“å‡ºæè¿°" class="headerlink" title="3.2 è¾“å‡ºæè¿°"></a>3.2 è¾“å‡ºæè¿°</h3><p>ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨åŠ è¾¹çš„æ–¹æ¡ˆæ•°ã€‚</p>
<h3 id="3-3-è¾“å…¥æ ·ä¾‹1"><a href="#3-3-è¾“å…¥æ ·ä¾‹1" class="headerlink" title="3.3 è¾“å…¥æ ·ä¾‹1"></a>3.3 è¾“å…¥æ ·ä¾‹1</h3><h4 id="3-3-1-è¾“å…¥"><a href="#3-3-1-è¾“å…¥" class="headerlink" title="3.3.1 è¾“å…¥"></a>3.3.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4 2</span><br><span class="line">1 2</span><br><span class="line">3 4</span><br></pre></td></tr></tbody></table></figure>
<h4 id="3-3-2-è¾“å‡º"><a href="#3-3-2-è¾“å‡º" class="headerlink" title="3.3.2 è¾“å‡º"></a>3.3.2 è¾“å‡º</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼šæ·»åŠ è¾¹ (1,3) æˆ–è€… (1,4) æˆ–è€… (2,3) æˆ–è€… (2,4) éƒ½æ˜¯å¯ä»¥çš„ã€‚</p>
</blockquote>
<h3 id="3-4-è¾“å…¥æ ·ä¾‹2"><a href="#3-4-è¾“å…¥æ ·ä¾‹2" class="headerlink" title="3.4 è¾“å…¥æ ·ä¾‹2"></a>3.4 è¾“å…¥æ ·ä¾‹2</h3><h4 id="3-4-1-è¾“å…¥"><a href="#3-4-1-è¾“å…¥" class="headerlink" title="3.4.1 è¾“å…¥"></a>3.4.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4 1</span><br><span class="line">1 3</span><br></pre></td></tr></tbody></table></figure>
<h4 id="3-4-2-è¾“å‡º"><a href="#3-4-2-è¾“å‡º" class="headerlink" title="3.4.2 è¾“å‡º"></a>3.4.2 è¾“å‡º</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">0</span><br></pre></td></tr></tbody></table></figure>
<h3 id="3-5-è§£é¢˜æ€è·¯"><a href="#3-5-è§£é¢˜æ€è·¯" class="headerlink" title="3.5 è§£é¢˜æ€è·¯"></a>3.5 è§£é¢˜æ€è·¯</h3><ul>
<li>DFSæ·±åº¦ä¼˜å…ˆæœç´¢+è¿é€šå›¾æ¦‚å¿µ</li>
<li>å…ˆç”¨<code>List&lt;List&lt;Integer&gt;&gt;</code>ä¿å­˜å„é‚»è¾¹çš„èŠ‚ç‚¹ä¿¡æ¯</li>
<li>å†ç”¨DFSä»ç¬¬ä¸€ä¸ªç»“ç‚¹å¼€å§‹æœç´¢ï¼Œéå†è¿‡çš„å…¨ç”¨<code>boolean[] visited</code>æ ‡è®°ï¼Œè®°å½•éå†è¿‡çš„èŠ‚ç‚¹æ•°ï¼Œç›´åˆ°DFSåœæ­¢ï¼Œè®°å½•å½“å‰è¿é€šå—å†…å«æœ‰çš„èŠ‚ç‚¹æ•°ï¼›éå†ä¸‹ä¸€ä¸ªè¿é€šå—</li>
<li><em>ä¸¤ä¸ªè¿é€šå—ï¼Œè¿”å›å„å—æ•°é‡ç›¸ä¹˜ï¼›ä¸¤ä¸ªä»¥ä¸Šè¿é€šå—ï¼Œä¸èƒ½ç”¨å¢åŠ ä¸€æ¡è¾¹çš„æ–¹å¼è¿æ¥ï¼Œè¿”å›0</em></li>
</ul>
<blockquote>
<p>è¯´æ˜ï¼šæ— è®ºæ·»åŠ å“ªæ¡è¾¹ï¼Œéƒ½ä¸å¯èƒ½ä½¿å¾—è¯¥å›¾å˜æˆè¿é€šå›¾ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ç±»åå¿…é¡»ä¸º Main, ä¸è¦æœ‰ä»»ä½• package xxx ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; graph  = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç®—æœ‰å‡ ä¸ªè¿é€šå—ï¼šä¸¤ä¸ªè¿é€šå—ï¼Œè¿”å›å„å—æ•°é‡ç›¸ä¹˜ï¼›ä¸¤ä¸ªä»¥ä¸Šè¿é€šå—ï¼Œä¸èƒ½ç”¨å¢åŠ ä¸€æ¡è¾¹çš„æ–¹å¼è¿æ¥ï¼Œè¿”å›0</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="comment">// èŠ‚ç‚¹ä¸ªæ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">        <span class="comment">// è¾¹çš„ä¸ªæ•°</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">        <span class="comment">//  åˆ›å»ºé‚»æ¥è¡¨</span></span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; graph = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) {</span><br><span class="line">            <span class="comment">// åˆå§‹åŒ–é‚»æ¥è¡¨</span></span><br><span class="line">            graph.add(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;());</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; m; i++) {</span><br><span class="line">            <span class="type">int</span> <span class="variable">src</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            <span class="type">int</span> <span class="variable">dest</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">            graph.get(src-<span class="number">1</span>).add(dest-<span class="number">1</span>);</span><br><span class="line">            graph.get(dest-<span class="number">1</span>).add(src-<span class="number">1</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// è®¡ç®—è¿é€šå—ä¸­èŠ‚ç‚¹çš„æ•°é‡  </span></span><br><span class="line">        List&lt;Integer&gt; connectedComponentSizes = calculateConnectedComponentSizes(graph);  </span><br><span class="line">  </span><br><span class="line">        <span class="comment">// ç»“æœ  </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (connectedComponentSizes.size() == <span class="number">2</span>) {  </span><br><span class="line">            result=connectedComponentSizes.get(<span class="number">0</span>) * connectedComponentSizes.get(<span class="number">1</span>);  </span><br><span class="line">        }   </span><br><span class="line">        System.out.println(result); </span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title function_">calculateConnectedComponentSizes</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; graph)</span> {</span><br><span class="line">        <span class="comment">// è®°å½•å„èŠ‚ç‚¹æ˜¯å¦è¢«è®¿é—®è¿‡ï¼Œé»˜è®¤ä¸º false</span></span><br><span class="line">        <span class="type">boolean</span>[] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[graph.size()];  </span><br><span class="line">        List&lt;Integer&gt; connectedComponentSizes = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();  </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; graph.size(); i++) {</span><br><span class="line">            <span class="comment">// å¦‚æœèŠ‚ç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œè¿›è¡Œæ·±åº¦ä¼˜å…ˆæœç´¢</span></span><br><span class="line">            <span class="keyword">if</span> (!visited[i]) {</span><br><span class="line">                <span class="comment">// è®¡ç®—è¿é€šå—ä¸­èŠ‚ç‚¹çš„æ•°é‡ï¼ŒåŠ å…¥åˆ°ç»“æœä¸­</span></span><br><span class="line">                connectedComponentSizes.add(dfs(i, visited, graph));</span><br><span class="line">            }  </span><br><span class="line">        }  </span><br><span class="line">        <span class="keyword">return</span> connectedComponentSizes;  </span><br><span class="line">    }  </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> node, <span class="type">boolean</span>[] visited, List&lt;List&lt;Integer&gt;&gt; graph)</span> {</span><br><span class="line">        <span class="comment">// æ ‡è®°å½“å‰èŠ‚ç‚¹å·²ç»è¢«è®¿é—®</span></span><br><span class="line">        visited[node] = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">// å½“å‰è¿é€šå—çš„èŠ‚ç‚¹æ•°é‡ä¸º1</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="comment">// éå†å½“å‰èŠ‚ç‚¹çš„è¾¹</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> neighbor : graph.get(node)) {</span><br><span class="line">            <span class="comment">// å¦‚æœé‚»æ¥èŠ‚ç‚¹æ²¡æœ‰è¢«è®¿é—®è¿‡ï¼Œé€’å½’è®¿é—®</span></span><br><span class="line">            <span class="keyword">if</span> (!visited[neighbor]) {  </span><br><span class="line">                size += dfs(neighbor, visited, graph);  </span><br><span class="line">            }  </span><br><span class="line">        }  </span><br><span class="line">        <span class="keyword">return</span> size;  </span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="4-é¢˜ç›®æè¿°"><a href="#4-é¢˜ç›®æè¿°" class="headerlink" title="4. é¢˜ç›®æè¿°"></a>4. é¢˜ç›®æè¿°</h2><p>å°çº¢æ‹¿åˆ°äº†ä¸€ä¸ªæ•°ç»„ï¼Œå¥¹å‡†å¤‡å°†æ•°ç»„åˆ†å‰²æˆ k æ®µï¼Œä½¿å¾—æ¯æ®µå†…éƒ¨åšæŒ‰ä½å¼‚æˆ–åï¼Œå†å…¨éƒ¨æ±‚å’Œã€‚å°çº¢å¸Œæœ›æœ€ç»ˆè¿™ä¸ªå’Œå°½å¯èƒ½å¤§ï¼Œä½ èƒ½å¸®å¸®å¥¹å—ï¼Ÿ</p>
<h3 id="4-1-è¾“å…¥æè¿°"><a href="#4-1-è¾“å…¥æè¿°" class="headerlink" title="4.1 è¾“å…¥æè¿°"></a>4.1 è¾“å…¥æè¿°</h3><p>è¾“å…¥åŒ…å«ä¸¤è¡Œã€‚<br>ç¬¬ä¸€è¡Œä¸¤ä¸ªæ­£æ•´æ•° $n, k , (1\leq k \leq n \leq 400)$ï¼Œåˆ†åˆ«è¡¨ç¤ºæ•°ç»„çš„é•¿åº¦å’Œè¦åˆ†çš„æ®µæ•°ã€‚<br>ç¬¬äºŒè¡Œ n ä¸ªæ•´æ•° $a_i (0 \leq a_i \leq 10^9)$ï¼Œè¡¨ç¤ºæ•°ç»„ a çš„å…ƒç´ ã€‚</p>
<h3 id="4-2-è¾“å‡ºæè¿°"><a href="#4-2-è¾“å‡ºæè¿°" class="headerlink" title="4.2 è¾“å‡ºæè¿°"></a>4.2 è¾“å‡ºæè¿°</h3><p>è¾“å‡ºä¸€ä¸ªæ­£æ•´æ•°ï¼Œè¡¨ç¤ºæœ€ç»ˆçš„æœ€å¤§å’Œã€‚</p>
<h3 id="4-3-è¾“å…¥æ ·ä¾‹1"><a href="#4-3-è¾“å…¥æ ·ä¾‹1" class="headerlink" title="4.3 è¾“å…¥æ ·ä¾‹1"></a>4.3 è¾“å…¥æ ·ä¾‹1</h3><h4 id="4-3-1-è¾“å…¥"><a href="#4-3-1-è¾“å…¥" class="headerlink" title="4.3.1 è¾“å…¥"></a>4.3.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">6 2</span><br><span class="line">1 1 1 2 3 4</span><br></pre></td></tr></tbody></table></figure>
<h4 id="4-3-2-è¾“å‡º"><a href="#4-3-2-è¾“å‡º" class="headerlink" title="4.3.2 è¾“å‡º"></a>4.3.2 è¾“å‡º</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">10</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜<br>å°çº¢å°†æ•°ç»„åˆ†ä¸ºäº†ï¼š<br>[1, 4] å’Œ [5, 6] è¿™ä¸¤ä¸ªåŒºé—´ï¼Œå¾—åˆ†åˆ†åˆ«ä¸ºï¼š$1 \oplus 1 \oplus 1 \oplus 2 = 3 $å’Œ $3 \oplus 4 = 7$ã€‚æ€»å¾—åˆ†ä¸º 3+7=10ã€‚<br>å¯ä»¥è¯æ˜ä¸å­˜åœ¨æ¯” 10 æ›´ä¼˜çš„åˆ†å‰²æ–¹æ¡ˆã€‚<br>æ³¨ï¼š\oplus ç¬¦å·è¡¨ç¤ºå¼‚æˆ–æ“ä½œã€‚</p>
</blockquote>
<h3 id="4-4-è¾“å…¥æ ·ä¾‹2"><a href="#4-4-è¾“å…¥æ ·ä¾‹2" class="headerlink" title="4.4 è¾“å…¥æ ·ä¾‹2"></a>4.4 è¾“å…¥æ ·ä¾‹2</h3><h4 id="4-4-1-è¾“å…¥"><a href="#4-4-1-è¾“å…¥" class="headerlink" title="4.4.1 è¾“å…¥"></a>4.4.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">5 3</span><br><span class="line">1 0 1 1 0</span><br></pre></td></tr></tbody></table></figure>
<h4 id="4-4-2-è¾“å‡º"><a href="#4-4-2-è¾“å‡º" class="headerlink" title="4.4.2 è¾“å‡º"></a>4.4.2 è¾“å‡º</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">3</span><br></pre></td></tr></tbody></table></figure>
<h3 id="4-5-è¾“å…¥æ ·ä¾‹3"><a href="#4-5-è¾“å…¥æ ·ä¾‹3" class="headerlink" title="4.5 è¾“å…¥æ ·ä¾‹3"></a>4.5 è¾“å…¥æ ·ä¾‹3</h3><h4 id="4-5-1-è¾“å…¥"><a href="#4-5-1-è¾“å…¥" class="headerlink" title="4.5.1 è¾“å…¥"></a>4.5.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">3 3</span><br><span class="line">1 1 2</span><br></pre></td></tr></tbody></table></figure>
<h4 id="4-5-2-è¾“å‡º"><a href="#4-5-2-è¾“å‡º" class="headerlink" title="4.5.2 è¾“å‡º"></a>4.5.2 è¾“å‡º</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4</span><br></pre></td></tr></tbody></table></figure>
<h3 id="4-6-è§£é¢˜æ€è·¯"><a href="#4-6-è§£é¢˜æ€è·¯" class="headerlink" title="4.6 è§£é¢˜æ€è·¯"></a>4.6 è§£é¢˜æ€è·¯</h3><ul>
<li>åŠ¨æ€è§„åˆ’ï¼Œé€’æ¨å…¬å¼ï¼š<code>dp[i][j] = max(dp[l-1][j-1] + preXor[l][i]) 1&lt;=l&lt;=i</code></li>
<li>å½“iå’Œjéƒ½å·²ç»ç¡®å®šçš„æ—¶å€™ï¼Œéå†å½“å‰åˆ†æ®µç‚¹ï¼Œå‰<code>l</code>ä¸ªç‚¹åˆ†<code>j-i</code>æ®µ+åç»­æ•°ç»„ç»„æˆä¸€æ®µçš„æœ€å¤§å€¼</li>
<li><code>preXor[i][j]</code>æ˜¯ä»å½“å‰ç‚¹<code>i</code>åˆ°ç‚¹<code>j</code>ä¸€ç›´è¿›è¡Œå¼‚æˆ–è¿ç®—</li>
<li>DPåˆå§‹åŒ–ï¼šæ¯æ¬¡éƒ½ä»æœ€å°å¼€å§‹ï¼Œ<code>dp[i][j] = Integer.MIN_VALUE;</code></li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">        <span class="type">int</span>[] nums = <span class="keyword">new</span> <span class="title class_">int</span>[n];</span><br><span class="line">        <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) </span><br><span class="line">            nums[i] = in.nextInt();</span><br><span class="line">        <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>][k+<span class="number">1</span>];</span><br><span class="line">        <span class="type">int</span>[][] preXor = <span class="keyword">new</span> <span class="title class_">int</span>[n+<span class="number">1</span>][n+<span class="number">1</span>];</span><br><span class="line">        <span class="comment">// preXor[i][j]è¡¨ç¤ºä»iåˆ°jçš„å¼‚æˆ–ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n+<span class="number">1</span>; i++){</span><br><span class="line">            preXor[i][i] =nums[i-<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i+<span class="number">1</span>; j &lt; n+<span class="number">1</span>; j++){</span><br><span class="line">                preXor[i][j] = preXor[i][j-<span class="number">1</span>] ^ nums[j-<span class="number">1</span>];</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        <span class="comment">// dp[i][j]è¡¨ç¤ºå‰iä¸ªæ•°åˆ†æˆjæ®µçš„æœ€å¤§å¼‚æˆ–å’Œ</span></span><br><span class="line">        <span class="comment">// é€’æ¨å…¬å¼ï¼šdp[i][j] = max(dp[l-1][j-1] + preXor[l][i]) 1&lt;=l&lt;=i</span></span><br><span class="line">        <span class="comment">//  lè¡¨ç¤ºåˆ†æ®µç‚¹ï¼Œdp[l-1][j-1]è¡¨ç¤ºå‰l-1ä¸ªæ•°åˆ†æˆj-1æ®µçš„æœ€å¤§å¼‚æˆ–å’Œ</span></span><br><span class="line">        <span class="comment">//  preXor[l][i]è¡¨ç¤ºä»låˆ°içš„å¼‚æˆ–ç»“æœ</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; n+<span class="number">1</span>; i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; k+<span class="number">1</span>; j++){</span><br><span class="line">                dp[i][j] = Integer.MIN_VALUE;</span><br><span class="line">                <span class="comment">// éå†æ‰€æœ‰å¯èƒ½çš„åˆ†æ®µç‚¹</span></span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">1</span>; l &lt; i+<span class="number">1</span>; l++){</span><br><span class="line">                    dp[i][j] = Math.max(dp[i][j], dp[l-<span class="number">1</span>][j-<span class="number">1</span>] + preXor[l][i]);</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.println(dp[n][k]);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="5-é¢˜ç›®æè¿°"><a href="#5-é¢˜ç›®æè¿°" class="headerlink" title="5. é¢˜ç›®æè¿°"></a>5. é¢˜ç›®æè¿°</h2><p>å°çº¢æ‹¿åˆ°äº†ä¸€ä¸ªå­—ç¬¦çŸ©é˜µï¼Œå¥¹å¯ä»¥ä»ä»»æ„ä¸€ä¸ªåœ°æ–¹å‡ºå‘ï¼Œå¸Œæœ›èµ° 6 æ­¥åæ°å¥½å½¢æˆâ€tencentâ€å­—ç¬¦ä¸²ã€‚å°çº¢æƒ³çŸ¥é“ï¼Œå…±æœ‰å¤šå°‘ç§ä¸åŒçš„è¡Œèµ°æ–¹æ¡ˆï¼Ÿ</p>
<blockquote>
<p>æ³¨ï¼šæ¯ä¸€æ­¥å¯ä»¥é€‰æ‹©ä¸Šã€ä¸‹ã€å·¦ã€å³ä¸­ä»»æ„ä¸€ä¸ªæ–¹å‘è¿›è¡Œè¡Œèµ°ã€‚ä¸å¯è¡Œèµ°åˆ°çŸ©é˜µå¤–éƒ¨ã€‚</p>
</blockquote>
<h3 id="5-1-è¾“å…¥æè¿°"><a href="#5-1-è¾“å…¥æè¿°" class="headerlink" title="5.1 è¾“å…¥æè¿°"></a>5.1 è¾“å…¥æè¿°</h3><p>ç¬¬ä¸€è¡Œè¾“å…¥ä¸¤ä¸ªæ­£æ•´æ•°n,mï¼Œä»£è¡¨çŸ©é˜µçš„è¡Œæ•°å’Œåˆ—æ•°ã€‚<br>æ¥ä¸‹æ¥çš„nè¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªé•¿åº¦ä¸ºmçš„ã€ä»…ç”±å°å†™å­—æ¯ç»„æˆçš„å­—ç¬¦ä¸²ï¼Œä»£è¡¨å°çº¢æ‹¿åˆ°çš„çŸ©é˜µã€‚<br>$ 1\leq n,m \leq 1000 $</p>
<h3 id="5-2-è¾“å‡ºæè¿°"><a href="#5-2-è¾“å‡ºæè¿°" class="headerlink" title="5.2 è¾“å‡ºæè¿°"></a>5.2 è¾“å‡ºæè¿°</h3><p>ä¸€ä¸ªæ•´æ•°ï¼Œä»£è¡¨æœ€ç»ˆåˆæ³•çš„æ–¹æ¡ˆæ•°ã€‚</p>
<h3 id="5-3-è¾“å…¥æ ·ä¾‹"><a href="#5-3-è¾“å…¥æ ·ä¾‹" class="headerlink" title="5.3 è¾“å…¥æ ·ä¾‹"></a>5.3 è¾“å…¥æ ·ä¾‹</h3><h4 id="5-3-1-è¾“å…¥"><a href="#5-3-1-è¾“å…¥" class="headerlink" title="5.3.1 è¾“å…¥"></a>5.3.1 è¾“å…¥</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">3 3</span><br><span class="line">ten</span><br><span class="line">nec</span><br><span class="line">ten</span><br></pre></td></tr></tbody></table></figure>
<h4 id="5-3-2-è¾“å‡º"><a href="#5-3-2-è¾“å‡º" class="headerlink" title="5.3.2 è¾“å‡º"></a>5.3.2 è¾“å‡º</h4><figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">4</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>è¯´æ˜ï¼š<br>ç¬¬ä¸€ä¸ªæ–¹æ¡ˆï¼Œä»å·¦ä¸Šè§’å‡ºå‘ï¼Œå³å³ä¸‹å·¦å·¦ä¸Šã€‚<br>ç¬¬äºŒä¸ªæ–¹æ¡ˆï¼Œä»å·¦ä¸Šè§’å‡ºå‘ï¼Œå³å³ä¸‹å·¦å·¦ä¸‹ã€‚<br>ç¬¬ä¸‰ä¸ªæ–¹æ¡ˆï¼Œä»å·¦ä¸‹è§’å‡ºå‘ï¼Œå³å³ä¸Šå·¦å·¦ä¸‹ã€‚<br>ç¬¬å››ä¸ªæ–¹æ¡ˆï¼Œä»å·¦ä¸Šè§’å‡ºå‘ï¼Œå³å³ä¸Šå·¦å·¦ä¸Šã€‚</p>
</blockquote>
<h3 id="5-4-è§£é¢˜æ€è·¯"><a href="#5-4-è§£é¢˜æ€è·¯" class="headerlink" title="5.4 è§£é¢˜æ€è·¯"></a>5.4 è§£é¢˜æ€è·¯</h3><ul>
<li>å…ˆå­˜åˆ°äºŒç»´æ•°ç»„ï¼š<code>map[i] = in.next().toCharArray();</code></li>
<li>é™æ€å˜é‡<code>int[][] directions</code>ç”¨äºå®šä¹‰ä¸Šä¸‹å·¦å³ç§»åŠ¨</li>
<li>éå†äºŒç»´æ•°ç»„ï¼Œä¹Ÿå°±æ˜¯ä»æ¯ä¸ªç‚¹å¼€å§‹ï¼Œæ‹¼æ¥å½“å‰å­—ç¬¦ï¼Œå†å¯¹å››ä¸ªæ–¹å‘è¿›è¡Œéå†å›æº¯</li>
<li>è¾¾åˆ°é•¿åº¦åˆ¤å®šæ˜¯å¦ç­‰äº<code>"tencent"</code>ï¼Œæ˜¯åˆ™åŠ ä¸€ä¸æ˜¯åˆ™è¿”å›</li>
<li>attentionï¼šè¦è®¾ç½®ä¸´æ—¶å˜é‡ç”¨äºæ¢å¤å­—ç¬¦ä¸²ï¼Œæ¯ä¸ªæ–¹å‘è¿”å›åéƒ½éœ€è¦æ¢å¤</li>
<li>è€ƒè™‘å‰ªæï¼šç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯<code>t</code>ç­‰</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ³¨æ„ç±»åå¿…é¡»ä¸º Main, ä¸è¦æœ‰ä»»ä½• package xxx ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> {</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[][] directions = {{<span class="number">0</span>, <span class="number">1</span>}, {<span class="number">0</span>, -<span class="number">1</span>}, {<span class="number">1</span>, <span class="number">0</span>}, {-<span class="number">1</span>, <span class="number">0</span>}};</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> {</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> in.nextInt();</span><br><span class="line">        <span class="type">char</span>[][] map = <span class="keyword">new</span> <span class="title class_">char</span>[n][m];</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">            map[i] = in.next().toCharArray();</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++){</span><br><span class="line">            <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; m; j++){</span><br><span class="line">                backTrack(i, j, map, String.valueOf(map[i][j]));</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">        System.out.print(result);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">backTrack</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j, <span class="type">char</span>[][] map, String str)</span>{</span><br><span class="line">        <span class="keyword">if</span> (str.length()==<span class="number">7</span>) {</span><br><span class="line">            <span class="keyword">if</span> (str.equals(<span class="string">"tencent"</span>)) {</span><br><span class="line">                result++;</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span>[] direction : directions){</span><br><span class="line">            <span class="type">int</span> <span class="variable">newI</span> <span class="operator">=</span> i + direction[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">newJ</span> <span class="operator">=</span> j + direction[<span class="number">1</span>];</span><br><span class="line">            <span class="keyword">if</span>(newI &gt;= <span class="number">0</span> &amp;&amp; newI &lt; map.length &amp;&amp; newJ &gt;= <span class="number">0</span> &amp;&amp; newJ &lt; map[<span class="number">0</span>].length){</span><br><span class="line">                <span class="comment">// è¦æš‚å­˜å½“å‰çš„ str, é€’å½’è¿”å›åè¦æ¢å¤</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">temp</span> <span class="operator">=</span> str;</span><br><span class="line">                str += map[newI][newJ];</span><br><span class="line">                backTrack(newI, newJ, map, str);</span><br><span class="line">                str = temp;</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>LinkedList</tag>
        <tag>UndirectedGraph</tag>
        <tag>BackTrack</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringBootçº¿ç¨‹æ± å’Œå¼‚æ­¥ä»»åŠ¡</title>
    <url>/2024/04/20/SpringBoot%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%92%8C%E5%BC%82%E6%AD%A5%E4%BB%BB%E5%8A%A1/</url>
    <content><![CDATA[<blockquote>
<p>é€šç”¨çš„SpringBooté¡¹ç›®ä¸‹çº¿ç¨‹æ± çš„é…ç½®å’Œä½¿ç”¨ï¼Œå¼‚æ­¥ä»»åŠ¡çš„åˆ›å»ºå’Œä½¿ç”¨ç­‰ã€‚</p>
</blockquote>
<span id="more"></span>
<h2 id="books-1-çº¿ç¨‹æ± é…ç½®"><a href="#books-1-çº¿ç¨‹æ± é…ç½®" class="headerlink" title=":books: 1. çº¿ç¨‹æ± é…ç½®"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 1. çº¿ç¨‹æ± é…ç½®</h2><h3 id="1-1-å‚æ•°é…ç½®"><a href="#1-1-å‚æ•°é…ç½®" class="headerlink" title="1.1. å‚æ•°é…ç½®"></a>1.1. å‚æ•°é…ç½®</h3><ul>
<li><p>resouces/appliccation.yml</p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">async:</span></span><br><span class="line"><span class="attr">executor:</span></span><br><span class="line">    <span class="attr">thread:</span></span><br><span class="line">    <span class="attr">keepAliveSeconds:</span> <span class="number">60</span></span><br><span class="line">    <span class="attr">namePrefix:</span> <span class="string">async-service-</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="1-2-å¼€å¯çº¿ç¨‹æ± "><a href="#1-2-å¼€å¯çº¿ç¨‹æ± " class="headerlink" title="1.2. å¼€å¯çº¿ç¨‹æ± "></a>1.2. å¼€å¯çº¿ç¨‹æ± </h3><ul>
<li>ä»è¿è¡Œæ—¶æ‹¿Cpuæ ¸å¿ƒæ•°ï¼Œæé«˜å¯è¿ç§»æ€§</li>
<li><code>baseServiceExecutor</code>ç”¨æ‹’ç»çš„ç­–ç•¥ï¼Œé˜²æ­¢è¯·æ±‚è¿‡è½½</li>
<li><code>downloadServiceExecutor</code>ç”¨ç­‰å¾…çš„ç­–ç•¥ï¼Œä¿è¯æ‰€æœ‰ä¸‹è½½çº¿ç¨‹éƒ½ä¼šè¢«æ‰§è¡Œ</li>
<li><p>è‹¥æœ‰å¤šä¸ªçº¿ç¨‹æ± ï¼Œæœ€å¥½å®šä¹‰ä¸€äº›Bean(name = â€œexecutorNameâ€)çš„çº¿ç¨‹æ± åå­—ï¼Œæ–¹ä¾¿åç»­ä½¿ç”¨<code>@Qualifier("executorName")</code>æŒ‡å®šçº¿ç¨‹æ± </p>
</li>
<li><p>config/ExecutorConfiguration.java</p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.xxx.xxx.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> org.springframework.boot.context.properties.ConfigurationProperties;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.PropertySourcesPlaceholderConfigurer;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.annotation.EnableAsync;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ThreadPoolExecutor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@EnableAsync</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = "async.executor.thread")</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExecutorConfiguration</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">cpuNum</span> <span class="operator">=</span> Runtime.getRuntime().availableProcessors();</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> corePoolSize;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> maxPoolSize;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> queueCapacity;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> keepAliveSeconds;</span><br><span class="line">    <span class="keyword">private</span> String namePrefix;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name = "asyncBaseServiceExecutorConfigurer")</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> PropertySourcesPlaceholderConfigurer <span class="title function_">propertySourcesPlaceholderConfigurer</span><span class="params">()</span> {</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">PropertySourcesPlaceholderConfigurer</span>();</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name = "asyncBaseServiceExecutor")</span></span><br><span class="line">    <span class="keyword">public</span> ThreadPoolTaskExecutor <span class="title function_">baseServiceExecutor</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">ThreadPoolTaskExecutor</span> <span class="variable">executor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolTaskExecutor</span>();</span><br><span class="line">        executor.setCorePoolSize(cpuNum + <span class="number">1</span>);</span><br><span class="line">        executor.setMaxPoolSize((cpuNum + <span class="number">1</span>) * <span class="number">2</span>);</span><br><span class="line">        executor.setQueueCapacity(cpuNum * <span class="number">20</span>);</span><br><span class="line">        executor.setKeepAliveSeconds(keepAliveSeconds);</span><br><span class="line">        executor.setThreadNamePrefix(namePrefix + <span class="string">"base"</span>);</span><br><span class="line">        executor.setRejectedExecutionHandler(<span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br><span class="line">        executor.initialize();</span><br><span class="line">        <span class="keyword">return</span> executor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean(name = "asyncDownloadServiceExecutor")</span></span><br><span class="line">    <span class="keyword">public</span> ThreadPoolTaskExecutor <span class="title function_">downloadServiceExecutor</span><span class="params">()</span> {</span><br><span class="line">        <span class="type">ThreadPoolTaskExecutor</span> <span class="variable">executor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolTaskExecutor</span>();</span><br><span class="line">        executor.setCorePoolSize(cpuNum * <span class="number">2</span>);</span><br><span class="line">        executor.setMaxPoolSize(cpuNum * <span class="number">4</span>);</span><br><span class="line">        executor.setQueueCapacity(cpuNum * <span class="number">20</span>);</span><br><span class="line">        executor.setKeepAliveSeconds(keepAliveSeconds);</span><br><span class="line">        executor.setThreadNamePrefix(namePrefix + <span class="string">"download"</span>);</span><br><span class="line">        executor.setRejectedExecutionHandler(<span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy());</span><br><span class="line">        executor.initialize();</span><br><span class="line">        <span class="keyword">return</span> executor;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å¯åŠ¨ç±»å¢åŠ æ”¯æŒAsyncçš„æ³¨è§£</p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@EnableAsync</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ç”¨åˆ°çº¿ç¨‹æ± çš„æœåŠ¡æ¥å£å¢åŠ æ³¨è§£ï¼Œå¹¶æ ‡è®°ä½¿ç”¨å“ªä¸ªçº¿ç¨‹æ± </p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Async("asyncBaseServiceExecutor")</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><code>Method annotated with @Async should return 'void' or "Future-like" type</code>ï¼Œå¼‚æ­¥è°ƒç”¨ä¸èƒ½æœ‰è¿”å›å€¼æˆ–è€…è¦ç”¨å¸¦<code>Future</code>çš„è¿”å›ï¼Œå¯ä»¥ç”¨<code>CompletableFuture&lt;T&gt;</code>çš„ç»“æ„å°è£…åŸæ¥çš„è¿”å›ç±»å‹<code>T</code></li>
</ul>
</li>
</ul>
<h2 id="satellite-2-æ¥å£ä¸­çš„å¼‚æ­¥ä»»åŠ¡æ”¹å†™"><a href="#satellite-2-æ¥å£ä¸­çš„å¼‚æ­¥ä»»åŠ¡æ”¹å†™" class="headerlink" title=":satellite: 2. æ¥å£ä¸­çš„å¼‚æ­¥ä»»åŠ¡æ”¹å†™"></a><span class="github-emoji"><span>ğŸ“¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4e1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 2. æ¥å£ä¸­çš„å¼‚æ­¥ä»»åŠ¡æ”¹å†™</h2><h3 id="2-1-å¼•å…¥çº¿ç¨‹æ± å’Œæ³¨å…¥"><a href="#2-1-å¼•å…¥çº¿ç¨‹æ± å’Œæ³¨å…¥" class="headerlink" title="2.1. å¼•å…¥çº¿ç¨‹æ± å’Œæ³¨å…¥"></a>2.1. å¼•å…¥çº¿ç¨‹æ± å’Œæ³¨å…¥</h3><ul>
<li><p>controller/BaseController.java</p>
  <figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> ThreadPoolTaskExecutor baseServiceExecutor;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Autowired</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">BaseController</span><span class="params">(XXX xxx, <span class="meta">@Qualifier("asyncBaseServiceExecutor")</span> ThreadPoolTaskExecutor baseServiceExecutor)</span> {</span><br><span class="line">    <span class="built_in">this</span>.xxx = xxx;</span><br><span class="line">    <span class="built_in">this</span>.baseServiceExecutor = baseServiceExecutor;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="2-2-æ¥å£å†…å¤šä»»åŠ¡çš„å¼‚æ­¥ç¼–æ’"><a href="#2-2-æ¥å£å†…å¤šä»»åŠ¡çš„å¼‚æ­¥ç¼–æ’" class="headerlink" title="2.2. æ¥å£å†…å¤šä»»åŠ¡çš„å¼‚æ­¥ç¼–æ’"></a>2.2. æ¥å£å†…å¤šä»»åŠ¡çš„å¼‚æ­¥ç¼–æ’</h3><ul>
<li>æ¥å£è¯·æ±‚æˆåŠŸé©¬ä¸Šè¿”å›ç»“æœï¼Œå¯ä»¥æ˜¯æŸ¥è¯¢çš„ç»“æœä¹Ÿå¯ä»¥æ˜¯ç©ºï¼Œæ ¹æ®éœ€æ±‚ï¼›å¦‚æœéœ€è¦è¿”å›çš„æ˜¯å¤šçº¿ç¨‹æœåŠ¡çš„æŸ¥è¯¢ï¼Œreturnçš„Resultä¹Ÿè¦ç”¨Futureç»“æ„å°è£…</li>
<li>æ‰§è¡Œå¼‚æ­¥çš„ä¸‹è½½ä»»åŠ¡ï¼Œé˜²æ­¢é˜»å¡æ¥å£çš„å“åº”</li>
<li><code>CompletableFuture</code>çš„<code>runasync()</code>å’Œ<code>supplyasync()</code>çš„åŒºåˆ«<ul>
<li><code>runasync()</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸ª<code>Runnable</code>ç±»å‹çš„å‚æ•°ï¼Œä¸ä¼šè¿”å›ä»»ä½•ç»“æœ</li>
<li><code>supplyasync()</code>æ–¹æ³•æ¥æ”¶ä¸€ä¸ª<code>Supplier</code>ç±»å‹çš„å‚æ•°ï¼Œéœ€è¦è¿”å›ç»“æœ</li>
</ul>
</li>
<li><code>CompletableFuture</code>çš„<code>thenCompose()</code>å’Œ<code>thenApply()</code>çš„åŒºåˆ«<ul>
<li><code>thenCompose()</code>ç”¨æ¥è¿æ¥ä¸¤ä¸ª<code>CompletableFuture</code>ï¼Œæ˜¯ç”Ÿæˆä¸€ä¸ªæ–°çš„<code>CompletableFuture</code></li>
<li><code>thenApply()</code>è½¬æ¢çš„æ˜¯æ³›å‹ä¸­çš„ç±»å‹ï¼Œæ˜¯åŒä¸€ä¸ª<code>CompletableFuture</code></li>
</ul>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping("/******")</span></span><br><span class="line"><span class="keyword">private</span> Result&lt;String&gt; <span class="title function_">listByTime</span><span class="params">(<span class="meta">@RequestParam(required = false)</span> String startTime,</span></span><br><span class="line"><span class="params">                                  <span class="meta">@RequestParam(required = false)</span> String endTime)</span> {</span><br><span class="line">    log.info(<span class="string">"Select all log base by time"</span>);</span><br><span class="line">    <span class="comment">// If the endTime is null, set it to the current time</span></span><br><span class="line">    endTime = Optional.ofNullable(endTime)</span><br><span class="line">                .orElseGet(() -&gt; LocalDateTime.now().format(DateTimeFormatter.ofPattern(<span class="string">"yyyy-MM-dd HH:mm:ss"</span>)));</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">finalEndTime</span> <span class="operator">=</span> endTime;</span><br><span class="line">    <span class="type">AtomicLong</span> <span class="variable">DownloadNums</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicLong</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="type">long</span> <span class="variable">startCostTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">    CompletableFuture.runAsync(() -&gt; {</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            List&lt;xxx&gt; logs = BaseService.listByTime(startTime, finalEndTime, pageNum, pageSize).get();</span><br><span class="line">            DownloadNums.getAndAdd(progressService.progressLogsAndInitiateDownloa(logs, startTime, finalEndTime, domainIdMap).get().get());</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            log.error(<span class="string">"Error initiating log download"</span>, e);</span><br><span class="line">        } <span class="keyword">finally</span> {</span><br><span class="line">            <span class="type">long</span> <span class="variable">endCostTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">            log.info(<span class="string">"Download finished, total {} files,time cost: {} ms"</span>, DownloadNums, endCostTime - startCostTime);</span><br><span class="line">        }</span><br><span class="line">    }, baseServiceExecutor);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Result.success(<span class="string">"Download is in progress in the background"</span>);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<h2 id="mag-right-3-å¹¶è¡Œä¸‹è½½è¯·æ±‚"><a href="#mag-right-3-å¹¶è¡Œä¸‹è½½è¯·æ±‚" class="headerlink" title=":mag_right: 3. å¹¶è¡Œä¸‹è½½è¯·æ±‚"></a><span class="github-emoji"><span>ğŸ”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f50e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 3. å¹¶è¡Œä¸‹è½½è¯·æ±‚</h2><ul>
<li>ç½‘ç»œè¯·æ±‚ä¸‹è½½ä»»åŠ¡è¦å…³æ³¨ä¸€äº›å¼‚å¸¸çš„æ•è·ï¼Œç›´æ¥æŠ›å‡ºå°†æ¼æ‰éƒ¨åˆ†ä¸‹è½½å†…å®¹</li>
<li>ä¸ºäº†ç»Ÿè®¡ä¸‹è½½ä»»åŠ¡æ€»æ•°ï¼Œç”¨äº†åŸå­ç±»æ¥è®¡æ•°<code>AtomicLong</code>ï¼Œå’Œä½¿ç”¨<code>CountDownLatch</code>ç»Ÿè®¡é¢„ä¼°ä¸‹è½½æ€»çº¿ç¨‹æ•°é‡ï¼Œå†ç”¨<code>latch.countDown()</code>å’Œ<code>latch.wait()</code>ç­‰å¾…æ‰€æœ‰çº¿ç¨‹ç»“æŸç»Ÿä¸€è¿”å›</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.***.***.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.slf4j.Logger;</span><br><span class="line"><span class="keyword">import</span> org.slf4j.LoggerFactory;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line"><span class="keyword">import</span> org.springframework.beans.factory.annotation.Qualifier;</span><br><span class="line"><span class="keyword">import</span> org.springframework.scheduling.concurrent.ThreadPoolTaskExecutor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.File;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.security.NoSuchAlgorithmException;</span><br><span class="line"><span class="keyword">import</span> java.util.AbstractMap;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.CountDownLatch;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.atomic.AtomicLong;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetObject</span> {</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ThreadPoolTaskExecutor downloadServiceExecutor;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setThreadPoolTaskExecutor</span><span class="params">(<span class="meta">@Qualifier("asyncDownloadServiceExecutor")</span> ThreadPoolTaskExecutor downloadServiceExecutor)</span> {</span><br><span class="line">        GetObject.downloadServiceExecutor = downloadServiceExecutor;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">log</span> <span class="operator">=</span> LoggerFactory.getLogger(GetObject.class);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> AtomicLong <span class="title function_">figDownload</span><span class="params">(Map&lt;Integer, Set&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt;&gt; domainIdFileKeysResponse, String downloadSubName, Map&lt;Integer, String&gt; domainIdMap)</span> {</span><br><span class="line">        <span class="type">String</span> <span class="variable">pathName</span> <span class="operator">=</span> <span class="string">"D:\\download\\"</span> + downloadSubName + File.separator;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(pathName);</span><br><span class="line">        <span class="keyword">if</span> (!file.exists()) {</span><br><span class="line">            <span class="type">boolean</span> <span class="variable">wasSuccessful</span> <span class="operator">=</span> file.mkdirs();</span><br><span class="line">            log.debug(<span class="string">"Create directory {} {}"</span>, pathName, wasSuccessful ? <span class="string">"succeed"</span> : <span class="string">"failed"</span>);</span><br><span class="line">        }</span><br><span class="line">        <span class="type">AtomicLong</span> <span class="variable">totalDownloadedFiles</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicLong</span>(<span class="number">0</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">totalTasks</span> <span class="operator">=</span> domainIdFileKeysResponse.values().stream().mapToInt(Set::size).sum();</span><br><span class="line">        <span class="type">CountDownLatch</span> <span class="variable">latch</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CountDownLatch</span>(totalTasks);</span><br><span class="line">        <span class="keyword">try</span> {</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;Integer, Set&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt;&gt; entry : domainIdFileKeysResponse.entrySet()) {</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">domainId</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">                <span class="type">String</span> <span class="variable">domainName</span> <span class="operator">=</span> domainIdMap.get(domainId);</span><br><span class="line">                <span class="type">File</span> <span class="variable">fileDomain</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(pathName + domainId + domainName + File.separator);</span><br><span class="line">                <span class="keyword">if</span> (!fileDomain.exists()) {</span><br><span class="line">                    <span class="type">boolean</span> <span class="variable">wasSuccessful</span> <span class="operator">=</span> fileDomain.mkdirs();</span><br><span class="line">                    log.debug(<span class="string">"Create directory {}{}{} {}"</span>, pathName, domainId, domainName, wasSuccessful ? <span class="string">"succeed"</span> : <span class="string">"failed"</span>);</span><br><span class="line">                }</span><br><span class="line">                Set&lt;AbstractMap.SimpleEntry&lt;String, String&gt;&gt; fileUrlResponses = entry.getValue();</span><br><span class="line">                <span class="keyword">for</span> (AbstractMap.SimpleEntry&lt;String, String&gt; fileUrlResponse : fileUrlResponses) {</span><br><span class="line">                    downloadServiceExecutor.execute(() -&gt; {</span><br><span class="line">                        <span class="type">String</span> <span class="variable">responseData</span> <span class="operator">=</span> fileUrlResponse.getValue();</span><br><span class="line">                        <span class="type">String</span> <span class="variable">fileUrl</span> <span class="operator">=</span> fileUrlResponse.getKey();</span><br><span class="line">                        <span class="type">String</span> <span class="variable">downloadPathPre</span> <span class="operator">=</span> pathName + domainId + domainName + File.separator;</span><br><span class="line">                        <span class="keyword">try</span> {</span><br><span class="line">                            <span class="comment">// download the picture</span></span><br><span class="line">                            <span class="type">String</span> <span class="variable">sha256Name</span> <span class="operator">=</span> ImageDownloader.downloadImgFromUrl(fileUrl, downloadPathPre);</span><br><span class="line">                                <span class="keyword">if</span> (sha256Name != <span class="literal">null</span>) {</span><br><span class="line">                                    JsonDownloader.saveStringAsJson(responseData, downloadPathPre + sha256Name.split(<span class="string">"\\."</span>)[<span class="number">0</span>] + <span class="string">".json"</span>);</span><br><span class="line">                                    totalDownloadedFiles.incrementAndGet();</span><br><span class="line">                                }</span><br><span class="line">                        }   <span class="keyword">catch</span> (IOException e) {</span><br><span class="line">                            log.error(<span class="string">"Error Message:{}, URL:{}"</span>, e.getMessage(), fileUrl);</span><br><span class="line">                        } <span class="keyword">catch</span> (NoSuchAlgorithmException e) {</span><br><span class="line">                            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">                        } <span class="keyword">finally</span> {</span><br><span class="line">                            latch.countDown();</span><br><span class="line">                        }</span><br><span class="line">                    });</span><br><span class="line">                }</span><br><span class="line">            }</span><br><span class="line">            latch.await();</span><br><span class="line">        } <span class="keyword">catch</span> (Exception e) {</span><br><span class="line">            log.error(<span class="string">"Error occurred: "</span>, e);</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> totalDownloadedFiles;</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>SprinBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>Installation for TexLive under VsCode</title>
    <url>/2023/03/27/TexLive+VsCode/</url>
    <content><![CDATA[<blockquote>
<p>Okey, letâ€™s go! I used to use <code>VsCode</code> + <code>TexLive</code>, which is more convenient, because <code>VsCode</code> has a built-in <code>LaTeX Workshop</code> extension, which can be used directly after installation. </p>
</blockquote>
<span id="more"></span>
<h2 id="books-1-Forwards"><a href="#books-1-Forwards" class="headerlink" title=":books: 1.Forwards"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 1.Forwards</h2><ul>
<li><p>$ LaTeX $ is widely used in <strong>academia</strong> for the communication and publication of scientific documents in many fields, including <strong>mathematics, computer science, engineering, physics, chemistry, economics, linguistics, quantitative psychology, philosophy, and political science</strong>. It also has a prominent role in the preparation and publication of books and articles that contain complex multilingual materials, such as Arabic and Greek. LaTeX uses the TeX typesetting program for formatting its output, and is itself written in the <strong>$TeX$ macro language</strong>.</p>
</li>
<li><p>$ LaTeX $ can be used as <strong>a standalone document preparation system</strong>, or as <strong>an intermediate format</strong>. In the latter role, for example, it is sometimes used as part of a pipeline for translating <code>DocBook</code> and <code>other XML-based formats</code> to <code>PDF</code>. The typesetting system offers programmable desktop publishing features and extensive facilities for automating most aspects of typesetting and desktop publishing, including <strong>numbering and cross-referencing of tables and figures, chapter and section headings, graphics, page layout, indexing and bibliographies</strong>.</p>
</li>
<li><p>Without further ado, letâ€™s go directly to the picture!<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/tex_example.jpg" alt="Tex example"></p>
</li>
</ul>
<h2 id="pushpin-2-VsCode-installation-and-language-configuration"><a href="#pushpin-2-VsCode-installation-and-language-configuration" class="headerlink" title=":pushpin: 2.VsCode installation and language configuration"></a><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 2.VsCode installation and language configuration</h2><blockquote>
<p>By default, everyone can install vscode and be familiar with the basic operations, so I wonâ€™t repeat it here. If you donâ€™t know how to install it, you can refer to the <a href="https://code.visualstudio.com/"> official website</a>, only list a few points here.</p>
</blockquote>
<ol>
<li>Pay attention to modifying the <strong>installation path</strong>, because more <strong>plug-ins</strong> may be installed later (not only $LaTeX$, but also other scenarios).</li>
<li>For convenience, it is recommended to create a desktop shortcut, and add the â€œOpen with Codeâ€ action to the Windows Explorer file context menu, and add it to the <code>PATH</code>.</li>
<li>å¦‚æœä½ éœ€è¦æ”¹ä¸ºä¸­æ–‡ç¯å¢ƒ<span class="github-emoji"><span>ğŸ‡¨ğŸ‡³</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f1e8-1f1f3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œå¯ä»¥å®‰è£…ä¸­æ–‡æ’ä»¶ï¼Œå¯ä»¥åœ¨å·¦è¾¹æ çš„æ‹“å±•ä¸­æœç´¢<a href="https://code.visualstudio.com/docs/getstarted/locales">Chinese (Simplified) Language Pack for Visual Studio Code</a>.</li>
</ol>
<h2 id="file-folder-3-TexLive-Download-and-Installation"><a href="#file-folder-3-TexLive-Download-and-Installation" class="headerlink" title=":file_folder: 3.TexLive Download and Installation"></a><span class="github-emoji"><span>ğŸ“</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4c1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 3.TexLive Download and Installation</h2><blockquote>
<p><code>TexLive</code> is used here, if you want to use <code>MikTex</code> or others, you can refer to other articles.</p>
</blockquote>
<ul>
<li><p>Install TexLive via <a href="https://tug.org/texlive/acquire-iso.html">ISO image</a>, you can choose download from a nearby CTAN mirror or manually choose CTAN mirror.<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/ISO_image.jpg" alt="ISO image"></p>
</li>
<li><p><span class="github-emoji"><span>ğŸ’¿</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4bf.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> You can choose a <strong>suitable mirror</strong> to download according to your network status. If the download speed is too <em>slow</em>, you can try to choose a mirror station that is closer to download. It may take about ten minutes.</p>
<ul>
<li>This directory contains the ISO image for the official TeX Live release; md5 and sha512 checksums are provided, and the sha checksum is GPG-signed. The generic names (texliveYYYY.iso and texlive.iso) are symlinks to the dated release .iso.</li>
<li>If you have problems with installation or running TeX after installation, please check your environment variables: settings, including PATH, that end up referencing previously-installed TeX systems (TeX Live or otherwise), can cause trouble, especially on Windows.</li>
</ul>
</li>
<li><p><span class="github-emoji"><span>ğŸ“‹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cb.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Wait for the download to complete, open the ISO file, and open the batch file <code>install-tl-windows.bat</code> as an administrator.</p>
<ul>
<li>If you are using Windows 10 or 11, you can right-click the ISO file and select â€œMountâ€ to mount the ISO file as a virtual disk. Then you can open the batch file as an administrator.</li>
<li>If you are using Windows 7, you can use the <a href="https://www.7-zip.org/">7-Zip</a> software to open the ISO file, and then open the batch file as an administrator.<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/open_ISO.jpg" alt="Open ISO"></li>
</ul>
</li>
<li><p>Then it <em>freezes</em> for a while, which is normal, and the GUI for installation appears.</p>
<div align="center">
<img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/installer_gui.jpg" alt="installer gui" width="30%" height="30%" text-align:center="">
</div>
</li>
<li><p><span class="github-emoji"><span>ğŸ”§</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f527.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> Modify the installation path, usually <code>Disk:/texlive/year</code>, such as<code>D:/texlive/2023</code>, and then click <code>Install</code>. It may take a while, depending on your computer performance, so take a break with a cup of coffee.</p>
</li>
<li><p>There is an Advanced option. Generally speaking, after changing <code>TEXDIR</code>, the <code>TEXMFLOCAL</code> path will also be modified. If you are not familiar with other options, donâ€™t to modify them (especially for novices).</p>
</li>
<li><p><span class="github-emoji"><span>âœ…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2705.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> After the installation is complete, click <code>Finish</code> to exit the installation interface.</p>
<div align="center">
<img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/close_gui.jpg" alt="close gui" width="50%" height="50%" text-align:center="">
</div>
</li>
<li><p>Check if the installation is successful. Use <code>xelatex -v</code> in <em>CMD</em>.<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/installation_success.jpg" alt="Installation successfully"></p>
</li>
</ul>
<h2 id="hammer-4-Extension-installation-and-environment-settings"><a href="#hammer-4-Extension-installation-and-environment-settings" class="headerlink" title=":hammer: 4. Extension installation and environment settings"></a><span class="github-emoji"><span>ğŸ”¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f528.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4. Extension installation and environment settings</h2><h3 id="nut-and-bolt-4-1-Install-LaTex-Workshop-extension-in-Vscode"><a href="#nut-and-bolt-4-1-Install-LaTex-Workshop-extension-in-Vscode" class="headerlink" title=":nut_and_bolt: 4.1 Install LaTex Workshop extension in Vscode."></a><span class="github-emoji"><span>ğŸ”©</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f529.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4.1 Install <code>LaTex Workshop</code> extension in Vscode.</h3><ul>
<li>Open the Extensions sidebar in VS Code. <code>View â†’ Extensions</code> or <code>Ctrl+Shift+X</code>.</li>
<li>Search for <code>LaTeX Workshop</code>.</li>
<li>Click Install. It will be installed into the <code>~/.vscode/extensions</code> directory.</li>
<li><p>Reload VS Code after installation.<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/install_latex_workshop.jpg" alt="Install LaTex Workshop"></p>
</li>
<li><p>If your <code>Tex Live</code> version is relatively old, additional manual configuration of environment variables may be required.</p>
</li>
</ul>
<h3 id="bookmark-tabs-4-2-Environment-settings"><a href="#bookmark-tabs-4-2-Environment-settings" class="headerlink" title=":bookmark_tabs: 4.2 Environment settings"></a><span class="github-emoji"><span>ğŸ“‘</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4.2 Environment settings</h3><ul>
<li>There are two environment configuration schemes in Vscode, one is to use buttons and option settings directly, and the other is to use <code>json</code> to set.<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/workshop_setting_1.jpg" alt="workshop_setting"></li>
<li>Click <code>Open settings (JSON)</code> in the upper right corner to use the code settings.<em><a href="https://www.json.org/json-en.html">JSON</a> is a lightweight text data format with a certain structure. If you are not familiar with it, you can spend a few minutes to understand it.</em></li>
<li><strong>Add</strong> the following settings after other settings.</li>
</ul>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"latex-workshop.latex.autoBuild.run"</span><span class="punctuation">:</span> <span class="string">"never"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.showContextMenu"</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.intellisense.package.enabled"</span><span class="punctuation">:</span> <span class="keyword">true</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.message.error.show"</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.message.warning.show"</span><span class="punctuation">:</span> <span class="keyword">false</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.latex.tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"xelatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"xelatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"-synctex=1"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-interaction=nonstopmode"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-file-line-error"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"pdflatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"pdflatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"-synctex=1"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-interaction=nonstopmode"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-file-line-error"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"latexmk"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"latexmk"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"-synctex=1"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-interaction=nonstopmode"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-file-line-error"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-pdf"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-outdir=%OUTDIR%"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"bibtex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"bibtex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.latex.recipes"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"XeLaTeX"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"xelatex"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"PDFLaTeX"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"pdflatex"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"BibTeX"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"bibtex"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"LaTeXmk"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"latexmk"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"xelatex -&gt; bibtex -&gt; xelatex*2"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"xelatex"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"bibtex"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"xelatex"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"xelatex"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"pdflatex -&gt; bibtex -&gt; pdflatex*2"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"pdflatex"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"bibtex"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"pdflatex"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"pdflatex"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.latex.clean.fileTypes"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"*.aux"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.bbl"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.blg"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.idx"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.ind"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.lof"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.lot"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.out"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.toc"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.acn"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.acr"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.alg"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.glg"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.glo"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.gls"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.ist"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.fls"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.log"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"*.fdb_latexmk"</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.latex.autoClean.run"</span><span class="punctuation">:</span> <span class="string">"onFailed"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.latex.recipe.default"</span><span class="punctuation">:</span> <span class="string">"lastUsed"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.view.pdf.internal.synctex.keybinding"</span><span class="punctuation">:</span> <span class="string">"double-click"</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="black-nib-4-3-Detailed-introduction-of-environment-configuration-parameters"><a href="#black-nib-4-3-Detailed-introduction-of-environment-configuration-parameters" class="headerlink" title=":black_nib: 4.3 Detailed introduction of environment configuration parameters"></a><span class="github-emoji"><span>âœ’</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2712.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4.3 Detailed introduction of environment configuration parameters</h3><blockquote>
<p>If you donâ€™t want to read it, you can just skip it, itâ€™s not that important.</p>
</blockquote>
<ol>
<li>Set when to automatically build <code>LaTeX</code> using the default (first) compilation chain.<ol>
<li><code>onSave</code> builds the project upon saving a tex file in vscode.</li>
<li><code>onFileChange</code> builds the project upon detecting a file change in any of the dependencies, even modified by other applications.</li>
</ol>
</li>
</ol>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">"latex-workshop.latex.autoBuild.run"</span><span class="punctuation">:</span> <span class="string">"never"</span></span><br></pre></td></tr></tbody></table></figure>
<ol>
<li>Enable contextual LaTeX menu: Right click will have <strong>two more options</strong>, more convenient.<ol>
<li>Default: <code>false</code></li>
<li><code>true</code> enables the menu.</li>
<li><code>Build LaTex project.</code> <em>(Ctrl+Alt+B)</em></li>
<li><code>SyncTex from cursor.</code> <em>(Ctrl+Alt+J)</em></li>
</ol>
</li>
</ol>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">"latex-workshop.showContextMenu"</span><span class="punctuation">:</span> <span class="keyword">true</span></span><br></pre></td></tr></tbody></table></figure>
<ol>
<li><code>"latex-workshop.intellisense.package.enabled": true</code> enables the package name completion in the <code>\usepackage{}</code> command.</li>
<li><code>"latex-workshop.message.error.show": true</code> shows the error message in the status bar.</li>
<li><code>"latex-workshop.message.warning.show": true</code> shows the warning message in the status bar.</li>
<li><code>"latex-workshop.latex.tools":[...]</code> defines default settings for the compilation.</li>
<li><code>"latex-workshop.latex.recipes": [...]</code> defines default settings and compilation order for the recipe compilation chains:<ol>
<li>Recipe: XeLaTex</li>
<li>Recipe: PDFLaTex</li>
<li>Recipe: BibTeX</li>
<li>Recipe: LaTeXmk</li>
<li>Recipe: xelatex -&gt; bibtex -&gt; xelatex*2</li>
<li>Recipe: pdflatex -&gt; bibtex -&gt; pdflatex*2</li>
</ol>
</li>
<li>Difference between XeLaTex and PDFLaTex:<ol>
<li><strong>PDFLaTeX uses TeX standard fonts</strong>, so when generating PDF, all non-TeX standard fonts will be replaced, and the generated PDF files will embed all fonts by default; and compiled with XeLaTeX, if there are many pictures or other elements in the paper If no fonts are embedded, the generated PDF.</li>
<li><strong>The XeTeX corresponding to XeLaTeX has better support for fonts</strong>, allows users to use operating system fonts instead of TeXâ€™s standard fonts, and has better support for non-Latin fonts.</li>
<li><strong>PDFLaTeX compiles faster</strong> than XeLaTeX.</li>
</ol>
</li>
<li><code>"latex-workshop.latex.clean.fileTypes"</code> It is to clear some unnecessary files in the result generated during the compilation process.</li>
<li><code>"latex-workshop.latex.autoClean.run"</code><ol>
<li><code>onFailed</code> cleans the project when compilation fails.</li>
<li><code>onBuilt</code> cleans the project when compilation is done, whether successful or failed.</li>
</ol>
</li>
<li><code>"latex-workshop.latex.recipe.default": "lastUsed"</code> sets the default compilation chain to the last used one. Get used to using the compiled chain you used last time, or you can change it to first to use the first compiled chain.</li>
<li><code>"latex-workshop.view.pdf.internal.synctex.keybinding": "double-click"</code> sets the default key binding for the SyncTex function. The default is double-click, and you can also set it to <code>ctrl+alt+j</code> or <code>ctrl+alt+click</code>.</li>
</ol>
<h2 id="notebook-5-SumatraPDF"><a href="#notebook-5-SumatraPDF" class="headerlink" title=":notebook: 5. SumatraPDF"></a><span class="github-emoji"><span>ğŸ““</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4d3.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 5. SumatraPDF</h2><blockquote>
<p>Vscodeâ€™s built-in PDF reading cannot fully satisfy large-scale use, and an external reader must be used if necessary. It is recommended to use the combination of <code>SumatraPDF</code> and $Tex$, mainly because it can be synchronized in two directions, and it is also relatively lightweight.</p>
</blockquote>
<ul>
<li><p><a href="https://www.sumatrapdfreader.org/download-free-pdf-viewer">Official download link</a></p>
</li>
<li><p>Add settings in <code>settings.json</code>. <em>Pay attention to modify the three paths below.</em></p>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="punctuation">{</span></span><br><span class="line">    <span class="attr">"latex-workshop.view.pdf.viewer"</span><span class="punctuation">:</span> <span class="string">"external"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.view.pdf.ref.viewer"</span><span class="punctuation">:</span><span class="string">"auto"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.view.pdf.external.viewer.command"</span><span class="punctuation">:</span> <span class="string">"D:/SumatraPDF/SumatraPDF.exe"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.view.pdf.external.viewer.args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"%PDF%"</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.view.pdf.external.synctex.command"</span><span class="punctuation">:</span> <span class="string">"D:/SumatraPDF/SumatraPDF.exe"</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">"latex-workshop.view.pdf.external.synctex.args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="string">"-forward-search"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"%TEX%"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"%LINE%"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"-reuse-instance"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"-inverse-search"</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"code \"D:/VSCode/resources/app/out/cli.js\" -r -g \"%f:%l\""</span><span class="punctuation">,</span></span><br><span class="line">        <span class="string">"%PDF%"</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">}</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>"latex-workshop.view.pdf.viewer": "external"</code> If you need to change the Tex PDF back to the internal reader, just change <code>external</code> to <code>tab</code>.</p>
</li>
</ul>
<!-- markdownlint-disable-file MD025 MD028 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Latex</tag>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title>Skills for TexLive under VsCode</title>
    <url>/2023/07/12/TexSkills/</url>
    <content><![CDATA[<blockquote>
<p>Record some $ LaTeX $ packages and installation and usage skills.</p>
</blockquote>
<span id="more"></span>
<h2 id="books-1-Packages"><a href="#books-1-Packages" class="headerlink" title=":books: 1. Packages"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 1. Packages</h2><h3 id="1-1-Packages-for-Code-minted"><a href="#1-1-Packages-for-Code-minted" class="headerlink" title="1.1. Packages for Code: minted"></a>1.1. Packages for Code: <code>minted</code></h3><ul>
<li>import package <code>minted</code> for code highlighting.</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">\usepackage</span>{minted}</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Before using <code>minted</code>, you should have <code>python version&gt;2.7</code> and install <code>pygments</code> first.</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">python -V</span><br><span class="line"></span><br><span class="line">pip install pygments</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>It may be show error message</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">You must invoke LaTeX with the -shell-escape flag`. </span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>The reason is that the <code>minted</code> package needs to call the <code>pygments</code> package to highlight the code, and the <code>pygments</code> package needs to call the system command. The <code>-shell-escape</code> parameter is used to allow the <code>minted</code> package to call the system command.</li>
<li>Itâ€™s necessary to add <code>-shell-escape</code> parameter to the setting file, the following json file is a part of it.</li>
</ul>
<figure class="highlight json"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">"latex-workshop.latex.tools"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"xelatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"xelatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"--shell-escape"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-synctex=1"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-interaction=nonstopmode"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-file-line-error"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"pdflatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"pdflatex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"--shell-escape"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-synctex=1"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-interaction=nonstopmode"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-file-line-error"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"latexmk"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"latexmk"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"--shell-escape"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-synctex=1"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-interaction=nonstopmode"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-file-line-error"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-pdf"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"-outdir=%OUTDIR%"</span><span class="punctuation">,</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">{</span></span><br><span class="line">            <span class="attr">"name"</span><span class="punctuation">:</span> <span class="string">"bibtex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"command"</span><span class="punctuation">:</span> <span class="string">"bibtex"</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">"args"</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">                <span class="string">"%DOCFILE%"</span></span><br><span class="line">            <span class="punctuation">]</span></span><br><span class="line">        <span class="punctuation">}</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>Then it may also show error message</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="code"><pre><span class="line">You must have `pygmentize<span class="string">' installed to use this package.</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>This is because you installed <code>pygments</code> failed or the <code>pygments</code> package is not in the system path. In windows 10 or later versions, there is a inside python version in <code>Disk C</code>.</li>
<li><p>You will find <code>pygmentize.exe</code> in path: <code>C:\Users\username\AppData\Local\Programs\Python\Python37\Scripts</code>, add the path to the system path, then it will work.</p>
</li>
<li><p>Example for <code>minted</code> package</p>
</li>
</ul>
<figure class="highlight latex"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">\begin</span>{minted}[linenos=true,frame=lines,framesep=2mm]{python}<span class="string"></span></span><br><span class="line"><span class="string">def quick_sort(arr):</span></span><br><span class="line"><span class="string">    if len(arr) &lt; 2:</span></span><br><span class="line"><span class="string">        return arr</span></span><br><span class="line"><span class="string">    else:</span></span><br><span class="line"><span class="string">        pivot = arr[0]</span></span><br><span class="line"><span class="string">        less = [i for i in arr[1:] if i &lt;= pivot]</span></span><br><span class="line"><span class="string">        greater = [i for i in arr[1:] if i &gt; pivot]</span></span><br><span class="line"><span class="string">        return quick_sort(less) + [pivot] + quick_sort(greater)</span></span><br><span class="line"><span class="string"></span><span class="keyword">\end</span>{minted}</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tex/minted.jpg" alt="minted_file"></p>
<!-- markdownlint-disable-file MD025 MD028 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Latex</tag>
        <tag>VSCode</tag>
      </tags>
  </entry>
  <entry>
    <title>Tensorflow2.4ä¿å§†çº§å®‰è£…æ•™ç¨‹</title>
    <url>/2021/01/30/Tensorflow2.4%E4%BF%9D%E5%A7%86%E7%BA%A7%E5%AE%89%E8%A3%85%E6%95%99%E7%A8%8B/</url>
    <content><![CDATA[<ul>
<li>å…ˆè£…pythonè¿˜æ˜¯å…ˆè£…anaconda?</li>
<li>Anacondaç‰ˆæœ¬é€‰æ‹©ä¸ä¸‹è½½</li>
<li>Anacondaå®‰è£…</li>
<li>æ›´æ¢condaé•œåƒæº</li>
<li>Pycharmä½¿ç”¨</li>
<li>Pycharmè™šæ‹Ÿç¯å¢ƒä»‹ç»</li>
<li>CUDAä¸cuDNN</li>
<li>TensorFlow</li>
</ul>
<span id="more"></span>
<hr>
<h2 id="ç‰ˆæœ¬ä»‹ç»"><a href="#ç‰ˆæœ¬ä»‹ç»" class="headerlink" title="ç‰ˆæœ¬ä»‹ç»"></a>ç‰ˆæœ¬ä»‹ç»</h2><blockquote>
<p>python 3.7.10<br>conda 4.5.11<br>CUDA 11.1<br>Cudatoolkit 11.1.0<br>cuDNN 11.1 v8.0.5<br>tensorflow_gpu-2.4.1<br>Pycharm Professional 2020.3.3</p>
</blockquote>
<hr>
<h2 id="å†™åœ¨æœ€å‰é¢"><a href="#å†™åœ¨æœ€å‰é¢" class="headerlink" title="å†™åœ¨æœ€å‰é¢"></a>å†™åœ¨æœ€å‰é¢</h2><blockquote>
<p>ä¸‹é¢åˆ—ä¸¾äº†ä¸€äº›å¸¸è§é—®é¢˜ï¼Œè¯·åŠ¡å¿…æ³¨æ„</p>
</blockquote>
<ul>
<li>å›½å¤–æºé€Ÿåº¦æ…¢å¯¼è‡´è¿æ¥æ–­å¼€ï¼ˆè¯·å‚è€ƒä¸‹æ–‡<strong>æ›´æ¢pipæºå’Œcondaæº</strong>ï¼‰</li>
<li>ç‰ˆæœ¬å¯¹åº”é—®é¢˜ï¼ˆè¯·å‹¿å®‰è£…è¿‡é«˜ç‰ˆæœ¬çš„Anacondaï¼Œä¼šå¯¼è‡´pythonç‰ˆæœ¬è¿‡é«˜ï¼ŒTensorflowä¸æ”¯æŒï¼Œè‡³æœ¬æ–‡å‘å¸ƒä¸ºæ­¢æœ€é«˜æ”¯æŒåˆ°python3.8ï¼ŒTensorflow_CPUçš„å®‰è£…è¾ƒä¸ºç®€å•ï¼Œæ•…æ¼”ç¤ºäº†GPU-2.4.1ï¼‰</li>
</ul>
<blockquote>
<p>ç¬”è€…åœ¨å¼€å§‹å‰å·²ç»æœ‰äº†python3.6.8ï¼Œä½†å®é™…ä¸Šå¯ä»¥ç›´æ¥è·³è¿‡ï¼Œanacondaè‡ªå¸¦python<br><a href="https://www.python.org/downloads/">Python Download</a></p>
<p>é‰´äºç›®å‰ç½‘ä¸Šæ•™ç¨‹é‡‡ç”¨çš„ç‰ˆæœ¬æ¯”è¾ƒæ··ä¹±ï¼Œæ•…æ­¤æ¬¡ä¿å§†çº§æ•™ç¨‹é‡‡ç”¨äº†è¾ƒæ–°çš„ç‰ˆæœ¬å¹¶é€šè¿‡æµ‹è¯•</p>
<p>ä¿å§†çº§æ•™ç¨‹ï¼šå°½å¯èƒ½è¯¦ç»†çš„åˆ—å‡ºå…·ä½“æ­¥éª¤ï¼Œä½†çœç•¥äº†ä¸€äº›ä½œè€…è®¤ä¸ºæ¯”è¾ƒç®€å•çš„æ“ä½œï¼šå¦‚ä½•æ‰“å¼€å‘½ä»¤è¡Œã€å‘½ä»¤è¡ŒåŸºæœ¬æ“ä½œã€å¦‚ä½•ä½¿ç”¨Pycharmã€è½¯ä»¶çš„åŸºæœ¬å®‰è£…æµç¨‹ã€ç¯å¢ƒå˜é‡çš„æ‰‹åŠ¨é…ç½®ç­‰ã€‚</p>
<p><strong>å¦‚æœä»ç„¶æ— æ³•è§£å†³æ‚¨çš„é—®é¢˜</strong><br>å»ºè®®1ï¼šè½¬èº«ç«‹é©¬é€€å‘<br>å»ºè®®2ï¼š<a href="https://www.google.com.hk/">ç‚¹å‡»è¿™é‡Œ</a></p>
</blockquote>
<hr>
<h2 id="1-å‰è¨€ï¼šå…ˆè£…pythonè¿˜æ˜¯å…ˆè£…anaconda"><a href="#1-å‰è¨€ï¼šå…ˆè£…pythonè¿˜æ˜¯å…ˆè£…anaconda" class="headerlink" title="1.å‰è¨€ï¼šå…ˆè£…pythonè¿˜æ˜¯å…ˆè£…anaconda"></a>1.å‰è¨€ï¼šå…ˆè£…pythonè¿˜æ˜¯å…ˆè£…anaconda</h2><blockquote>
<p><strong>è£…anacondaï¼Œå°±ä¸éœ€è¦å•ç‹¬è£…pythonäº†</strong></p>
<p>anaconda æ˜¯ä¸€ä¸ªpythonçš„å‘è¡Œç‰ˆï¼ŒåŒ…æ‹¬äº†pythonå’Œå¾ˆå¤šå¸¸è§çš„è½¯ä»¶åº“,å’Œä¸€ä¸ªåŒ…ç®¡ç†å™¨condaï¼Œé›†æˆäº†å¾ˆå¤šå…³äºpythonç§‘å­¦è®¡ç®—çš„ç¬¬ä¸‰æ–¹åº“ï¼Œä¸»è¦æ˜¯å®‰è£…æ–¹ä¾¿ï¼Œè€Œpythonæ˜¯ä¸€ä¸ªç¼–è¯‘å™¨ï¼Œå¦‚æœä¸ä½¿ç”¨anacondaï¼Œé‚£ä¹ˆå®‰è£…èµ·æ¥ä¼šæ¯”è¾ƒç—›è‹¦ï¼Œå„ä¸ªåº“ä¹‹é—´çš„ä¾èµ–æ€§å°±å¾ˆéš¾è¿æ¥çš„å¾ˆå¥½ã€‚</p>
</blockquote>
<h2 id="2-Anacondaç‰ˆæœ¬é€‰æ‹©ä¸ä¸‹è½½"><a href="#2-Anacondaç‰ˆæœ¬é€‰æ‹©ä¸ä¸‹è½½" class="headerlink" title="2.Anacondaç‰ˆæœ¬é€‰æ‹©ä¸ä¸‹è½½"></a>2.Anacondaç‰ˆæœ¬é€‰æ‹©ä¸ä¸‹è½½</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><blockquote>
<p><strong>å®˜ç½‘ä¸‹è½½:</strong> ä¸æ¨èï¼Œä¸ä¼šå¼€é£æœºçš„è¯é€Ÿåº¦æ…¢å¹¶ä¸”å®¹æ˜“æ–­<br><a href="https://www.anaconda.com/products/individual">Anacondaå®˜ç½‘</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Anaconda.png" alt="Anacondaå®˜ç½‘"></p>
</blockquote>
<h3 id="æ–¹æ³•äºŒ"><a href="#æ–¹æ³•äºŒ" class="headerlink" title="æ–¹æ³•äºŒ"></a>æ–¹æ³•äºŒ</h3><blockquote>
<p><strong>å›½å†…é•œåƒæº:</strong> å¯ä»¥ç”¨æ¸…åæºã€ä¸­ç§‘å¤§æºâ€¦â€¦<br><a href="https://mirrors.tuna.tsinghua.edu.cn/anaconda/archive">Anacondaæ¸…åæº</a></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Anaconda_tsinghua.png" alt="Anacondaæ¸…åæº"></p>
</blockquote>
<h3 id="ç‰ˆæœ¬é€‰æ‹©"><a href="#ç‰ˆæœ¬é€‰æ‹©" class="headerlink" title="ç‰ˆæœ¬é€‰æ‹©"></a>ç‰ˆæœ¬é€‰æ‹©</h3><p> <img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Anaconda_python.png" alt="è¯·è¾“å…¥å›¾ç‰‡æè¿°"></p>
<h2 id="3-Anacondaå®‰è£…"><a href="#3-Anacondaå®‰è£…" class="headerlink" title="3.Anacondaå®‰è£…"></a>3.Anacondaå®‰è£…</h2><blockquote>
<p><strong>æ¯”è¾ƒå®¹æ˜“</strong>ï¼Œä¸€è·¯nextå’Œskipï¼ŒåŒ…æ‹¬è‡ªåŠ¨æ·»åŠ åˆ°ç¯å¢ƒå˜é‡ç­‰æ“ä½œï¼Œå¯ä»¥ç›´æ¥è£…åˆ°Cç›˜å¯ä»¥é¿å…ä¸€äº›åç»­é—®é¢˜ï¼Œç¬”è€…è¿™é‡Œé€‰æ‹©è£…åˆ°äº†E://Anaconda3 <strong>ç­‰å¾…å®‰è£…å®Œæ¯•å³å¯</strong><br>è‹¥æ²¡æœ‰å‹¾é€‰<code>Add Anaconda to the system Path environment variable</code>ï¼Œéœ€è¦æ‰‹åŠ¨æ·»åŠ ç¯å¢ƒå˜é‡ï¼Œæ¯”è¾ƒç®€å•ï¼›æ­¤å¤„å‹¾é€‰äº†æ‰€ä»¥å¿½ç•¥</p>
</blockquote>
<h3 id="éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆ-conda-info"><a href="#éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆ-conda-info" class="headerlink" title="éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆ conda info"></a>éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆ conda info</h3><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Anaconda_complete.png" alt="éªŒè¯æ˜¯å¦å®‰è£…å®Œæˆ conda info"></p>
<h3 id="Anaconda-Navigatoræ˜¯å¦å¯ç”¨"><a href="#Anaconda-Navigatoræ˜¯å¦å¯ç”¨" class="headerlink" title="Anaconda Navigatoræ˜¯å¦å¯ç”¨"></a>Anaconda Navigatoræ˜¯å¦å¯ç”¨</h3><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Anaconda_navigator.png" alt="Anaconda Navigatoræ˜¯å¦å¯ç”¨"></p>
<blockquote>
<p>è‡³æ­¤ï¼ŒPython 3.7.0 + Anaconda3-5.3.1å®‰è£…å®Œæˆ</p>
</blockquote>
<hr>
<h2 id="4-æ›´æ¢condaé•œåƒæº"><a href="#4-æ›´æ¢condaé•œåƒæº" class="headerlink" title="4.æ›´æ¢condaé•œåƒæº"></a>4.æ›´æ¢condaé•œåƒæº</h2><ul>
<li>å¯ä»¥åœ¨Anaconda Navigatorä¸­çš„channelç›´æ¥æ›´æ¢</li>
<li><p>ä¹Ÿå¯ä»¥åœ¨Anaconda Promptä¸­æ›´æ¢é•œåƒæº<br>  <code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/</code><br>  <code>conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/</code><br>  <code>conda config --set show_channel_urls yes</code></p>
</li>
<li><p>æŸ¥çœ‹æ˜¯å¦å·²ç»æ›´æ¢å¥½é€šé“<br>  <code>conda config --show channels</code><br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Change_channel.png" alt="Change_channel"></p>
</li>
</ul>
<h2 id="5-Pycharmä½¿ç”¨"><a href="#5-Pycharmä½¿ç”¨" class="headerlink" title="5.Pycharmä½¿ç”¨"></a>5.Pycharmä½¿ç”¨</h2><blockquote>
<p>Jetbrainså…¨å®¶æ¡¶ï¼šUS $649.00/Yearï¼Œå½“ç„¶å»ºè®®ä½¿ç”¨edué‚®ç®±è·å–ï¼Œç”³è¯·æ•™è‚²ç‰ˆé‚®ç®±è®¤è¯å³å¯ï¼ˆå¯èƒ½éœ€è¦ä¸å®šæ—¶éªŒè¯ä¿¡æ¯ï¼‰ï¼Œå»ºè®®å®‰è£…<strong>Toolbox</strong>æ–¹ä¾¿æ›´æ–°ä»¥åŠä½¿ç”¨</p>
<p><a href="https://www.jetbrains.com">é™„ä¸Š<strong>Jetbrains</strong>é“¾æ¥</a></p>
<p><em>é’ˆå¯¹æµ™å·¥å¤§å­¦ç”Ÿé‚®ç®±ï¼šJetbrainsçš„éªŒè¯é‚®ä»¶å®¹æ˜“å‡ºç°åœ¨eé‚®çš„<strong>æ‹¦æˆªé˜Ÿåˆ—</strong>ä¸­ï¼Œæ”¶ä¸åˆ°confirm emailå¯ä»¥åœ¨æ‹¦æˆªé˜Ÿåˆ—ä¸­æ‰¾åˆ°</em></p>
<p>å¦‚æœæ¯”è¾ƒå›°éš¾ï¼Œå¯ä»¥å°è¯•è£…ä¸­æ–‡æ’ä»¶ File-&gt;Settings-&gt;Plugins-&gt;Chinese (Simplified) Language Pack EAP  å½“ç„¶<strong>ä¸å»ºè®®</strong>è¿™æ ·ä½¿ç”¨ï¼Œ<strong>æ±‰åŒ–</strong>çš„ç¿»è¯‘å¯èƒ½å­˜åœ¨åå·®</p>
</blockquote>
<h2 id="6-Pycharmè™šæ‹Ÿç¯å¢ƒä»‹ç»"><a href="#6-Pycharmè™šæ‹Ÿç¯å¢ƒä»‹ç»" class="headerlink" title="6. Pycharmè™šæ‹Ÿç¯å¢ƒä»‹ç»"></a>6. Pycharmè™šæ‹Ÿç¯å¢ƒä»‹ç»</h2><blockquote>
<p>Pycharmé‡‡ç”¨è™šæ‹Ÿçš„ç¯å¢ƒï¼Œé…ç½®æ˜¯å¯ä»¥é‡‡ç”¨ä¸ºé¡¹ç›®æ–°å»ºPythonè§£é‡Šå™¨æˆ–è€…ä½¿ç”¨åŸæœ‰çš„ç¯å¢ƒ</p>
</blockquote>
<ol>
<li>Inherit global site-packages<br>ç»§æ‰¿æœ¬åœ°çš„åº“ï¼Œå¦‚æœéœ€è¦é‡å¤å®‰è£…ç¬¬ä¸‰æ–¹åº“ï¼Œå¯ä»¥å‹¾ä¸Šè¿™ä¸ª</li>
<li>Make available to all projects<br>å¯ä»¥ä½¿åˆ«çš„å·¥ç¨‹é¡¹ç›®å¯ä»¥ä½¿ç”¨æ­¤å·¥ç¨‹çš„ç¯å¢ƒ</li>
</ol>
<blockquote>
<p>åŒºåˆ«ï¼šåˆ›å»ºVirtualenv Environment æˆ–è€… Conda Environment<br>è‹¥è¦åœ¨æœåŠ¡å™¨ä¸Šè¿œç¨‹è¿è¡Œï¼Œé…ç½®SSH interpreterï¼Œå¹¶ä¸”åœ¨Tools-&gt;Deploment-&gt;Configurationä¸­é…ç½®ä¸»æœºå³å¯ï¼Œåç»­æœ‰æœºä¼šå†è¯¦ç»†å±•å¼€â€¦â€¦</p>
</blockquote>
<h2 id="7-CUDAå’ŒcuDNN"><a href="#7-CUDAå’ŒcuDNN" class="headerlink" title="7. CUDAå’ŒcuDNN"></a>7. CUDAå’ŒcuDNN</h2><blockquote>
<p>æ£€æµ‹ç›®å‰å®‰è£…äº†å“ªäº›ç¯å¢ƒ<br>cmd: <code>conda info --envs</code></p>
<p>æ£€æŸ¥ç›®å‰æœ‰å“ªäº›ç‰ˆæœ¬çš„pythonå¯ä»¥å®‰è£…<br>cmdï¼š<code>conda search --full-name python</code></p>
<p>æ£€æŸ¥ç›®å‰æœ‰å“ªäº›ç‰ˆæœ¬çš„Tensorflowå¯ä»¥å®‰è£…<br>cmdï¼š<code>conda search --full -name tensorflow</code></p>
<p>æŸ¥çœ‹ä¾èµ–å…³ç³»<br>cmdï¼š<code>conda info tensorflow</code></p>
<p><strong>åœ¨è¿™ä¹‹å‰ï¼Œæ£€æŸ¥Nvidiaé©±åŠ¨æ”¯æŒçš„CUDAç‰ˆæœ¬ï¼Œæ­¤å¤„å®‰è£…çš„æ˜¯Tensorflow2.4.1ï¼Œéœ€è¦CUDA11.0æˆ–åŠä»¥ä¸Šç‰ˆæœ¬</strong></p>
</blockquote>
<ul>
<li><a href="https://tensorflow.google.cn/install/source_windows?hl=cn#gpu">æŸ¥çœ‹Tensorflowå’ŒCUDAå¯¹åº”ç‰ˆæœ¬</a>ï¼ˆç‰ˆæœ¬ä¸€å®šè¦å¯¹åº”ï¼‰</li>
</ul>
<blockquote>
<p><code>nvidia-smi</code>å‘½ä»¤è¡ŒæŸ¥çœ‹CUDA Version ï¼ˆå½“å‰æ˜¾å¡é©±åŠ¨æœ€é«˜æ”¯æŒçš„CUDAç‰ˆæœ¬ï¼‰</p>
</blockquote>
<ul>
<li><a href="https://developer.nvidia.com/cuda-toolkit-archive">Nvidiaå®˜ç½‘ä¸‹è½½Cudatoolkit</a>ï¼ˆä¸‹è½½é€Ÿåº¦æ…¢å¯ä»¥å¤åˆ¶é“¾æ¥åˆ°è¿…é›·ä¸‹è½½ï¼‰</li>
</ul>
<blockquote>
<p>ä¸€è·¯å®‰è£…ä¸‹æ¥å³å¯ï¼Œå®‰è£…è¿‡ç¨‹ä¸­å·²ç»è‡ªåŠ¨æ·»åŠ äº†ç¯å¢ƒå˜é‡<br>cmdï¼š<code>nvcc -V</code>è¿”å›CUDAç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚æœ<strong>nvccå‘½ä»¤æ— æ³•è¯†åˆ«åˆ™è¡¨ç¤ºå®‰è£…å¤±è´¥</strong></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/nvcc%20-V.png" alt="CUDAç‰ˆæœ¬ä¿¡æ¯"></p>
<ul>
<li><a href="https://developer.nvidia.com/rdp/cudnn-archive">Nvidiaå®˜ç½‘ä¸‹è½½cuDNN</a>ï¼ˆä¸‹è½½é€Ÿåº¦æ…¢å¯ä»¥å¤åˆ¶é“¾æ¥åˆ°è¿…é›·ä¸‹è½½ï¼‰</li>
</ul>
<blockquote>
<p>åªè¦æŠŠcuDNNæ–‡ä»¶å¤åˆ¶åˆ°CUDAçš„å¯¹åº”æ–‡ä»¶å¤¹é‡Œå°±å¯ä»¥ï¼Œå³æ‰€è°“çš„æ’å…¥å¼è®¾è®¡ï¼ŒcuDNNæ˜¯CUDAçš„æ‰©å±•è®¡ç®—åº“ï¼Œä¸ä¼šå¯¹CUDAé€ æˆå…¶ä»–å½±å“ã€‚<br>å¤åˆ¶åï¼Œæ‰‹åŠ¨å°†CUDAç›¸å¯¹è·¯å¾„ä¸‹çš„/binå’Œ/lib/x64æ·»åŠ åˆ°ç¯å¢ƒå˜é‡CUDA_PATH</p>
</blockquote>
<ul>
<li><strong>æµ‹è¯•CUDA</strong></li>
</ul>
<blockquote>
<p>cmdï¼š<code>cd /d C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.1\extras\demo_suite</code></p>
</blockquote>
<ul>
<li><strong>æµ‹è¯•<code>deviceQuery.exe</code></strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/CUDA_test0.png" alt="CUDA_deviceQuery"></p>
<ul>
<li><strong>æµ‹è¯•<code>bandwidthTest.exe</code></strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/CUDA_test1.png" alt="CUDA_bandwidthTest"></p>
<blockquote>
<p>éƒ½è¿”å›Result = PASS<br>Thatâ€™s all OK.</p>
</blockquote>
<h2 id="8-TensorFlow"><a href="#8-TensorFlow" class="headerlink" title="8. TensorFlow"></a>8. TensorFlow</h2><h3 id="8-1-åˆ›å»ºç¯å¢ƒ"><a href="#8-1-åˆ›å»ºç¯å¢ƒ" class="headerlink" title="8.1 åˆ›å»ºç¯å¢ƒ"></a>8.1 åˆ›å»ºç¯å¢ƒ</h3><pre><code>conda create --name tfenv python=3.7.0
</code></pre><blockquote>
<p>ç”±äºä¹‹å‰å·²ç»æ›´æ¢äº†æ¸…åæºï¼Œç”±äºç½‘ç»œé—®é¢˜é€ æˆçš„é”™è¯¯ç‡å¤§å¤§é™ä½ï¼Œä½†ä»ç„¶å¯èƒ½è¢«ä¸­æ–­<br>ç”¨<code>conda info --envs</code>æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦è£…å¥½äº†tfenvç¯å¢ƒ</p>
</blockquote>
<h3 id="8-2-æ¿€æ´»ç¯å¢ƒ"><a href="#8-2-æ¿€æ´»ç¯å¢ƒ" class="headerlink" title="8.2 æ¿€æ´»ç¯å¢ƒ"></a>8.2 æ¿€æ´»ç¯å¢ƒ</h3><pre><code>conda activate tfenv
</code></pre><blockquote>
<p>é€€å‡ºç¯å¢ƒ<code>conda deactivate</code></p>
</blockquote>
<h3 id="8-3-æ¿€æ´»åå®‰è£…Tensorflow"><a href="#8-3-æ¿€æ´»åå®‰è£…Tensorflow" class="headerlink" title="8.3 æ¿€æ´»åå®‰è£…Tensorflow"></a>8.3 æ¿€æ´»åå®‰è£…Tensorflow</h3><ul>
<li><p>æ›´æ¢tfenvç¯å¢ƒçš„pipæº ğŸ‘‰<a href="https://mirrors.tuna.tsinghua.edu.cn/help/pypi/">æ›´æ¢pipæ¸…åæºå‚è€ƒæ–¹æ³•</a></p>
</li>
<li><p>pip config set global.index-url <a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></p>
</li>
<li>pip install -U tensorflow-gpu -i <a href="https://pypi.tuna.tsinghua.edu.cn/simple">https://pypi.tuna.tsinghua.edu.cn/simple</a></li>
</ul>
<blockquote>
<p>æ­¤å¤„æœªæŒ‡å®šç‰ˆæœ¬ï¼Œä¼šé€‰æ‹©æœ€é«˜çš„gpuç‰ˆæœ¬å®‰è£…ï¼Œè‹¥è¦ç½®é¡¶ç‰ˆæœ¬ï¼Œ<code>tensorflow-gpu==2.x.x</code><br>è™½ç„¶å·²ç»æ¢æºï¼Œä½†è¿˜æ˜¯å¯èƒ½å‡ºç°<code>These Packages Do Not Match The Hashes From The Requirements File.</code><br>è§£å†³æ–¹æ¡ˆï¼šåœ¨pipæ—¶ï¼Œæ·»åŠ â€â€“upgradeâ€å‚æ•°ï¼ˆ<strong>å®æµ‹æœ‰æ•ˆ</strong>ï¼‰ã€‚<br>å‡ åˆ†é’ŸåğŸ‘‰<strong>å®‰è£…æˆåŠŸ</strong></p>
</blockquote>
<h3 id="8-4-æ¿€æ´»åæµ‹è¯•Tensorflow"><a href="#8-4-æ¿€æ´»åæµ‹è¯•Tensorflow" class="headerlink" title="8.4 æ¿€æ´»åæµ‹è¯•Tensorflow"></a>8.4 æ¿€æ´»åæµ‹è¯•Tensorflow</h3><ul>
<li><p>è¾“å‡ºåŒ…å«GPUä¿¡æ¯çš„æ—¥å¿—</p>
<p>  import tensorflow as tf<br>  tf.test.is_gpu_available()<br>  tf.test.gpu_device_name()</p>
</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Prompt_test.png" alt="Prompt_test"></p>
<h3 id="8-5-Pycharmæµ‹è¯•Tensorflow"><a href="#8-5-Pycharmæµ‹è¯•Tensorflow" class="headerlink" title="8.5 Pycharmæµ‹è¯•Tensorflow"></a>8.5 Pycharmæµ‹è¯•Tensorflow</h3><ul>
<li>æ·»åŠ å®‰è£…æœ‰Tensorflowçš„ç¯å¢ƒä½œä¸ºå·¥ç¨‹çš„pythonè§£é‡Šå™¨</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Pycharm_test0.png" alt="Anacondaå®˜ç½‘.png"></p>
<pre><code>import tensorflow as tf
tf.compat.v1.disable_eager_execution()
greeting = tf.constant('Hello Tensorflow!')
sess = tf.compat.v1.Session()
result = sess.run(greeting)
print(result)
sess.close()
</code></pre><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Python/Pycharm_test1.png" alt="Pycharmä¸­æµ‹è¯•"></p>
<hr>
<blockquote>
<p>è‡³æ­¤ï¼Œæ‰€æœ‰å®‰è£…å’Œé…ç½®å®Œæˆï¼Œ<strong>ç‰ˆæœ¬å¯¹åº”</strong>é—®é¢˜éå¸¸é‡è¦ï¼Œå¦‚æœå‡ºç°è£…é”™äº†ç‰ˆæœ¬è¯·å°è¯•<strong>å½»åº•å¸è½½</strong>åé‡è£…<br>ä¸ºäº†æ›´æœ‰é’ˆå¯¹æ€§ï¼Œæœ¬æ–‡é‡‡ç”¨äº†è¾ƒæ–°çš„ç‰ˆæœ¬ï¼Œè¯·åŠ¡å¿…åœ¨å®‰è£…å‰é€‰æ‹©<strong>åˆé€‚çš„ç‰ˆæœ¬</strong><br>å¦‚æœæç¤ºç¡®å®dllåŠ¨æ€é“¾æ¥åº“ï¼Œè¯·å°è¯•æ‰‹åŠ¨ä¸‹è½½ï¼Œè²Œä¼¼é‡‡ç”¨CUDA11.1å¯èƒ½ä¼šé‡åˆ°è¿™ç§æƒ…å†µï¼Œå¹¶ä¸”æœ‰éƒ¨åˆ†äººè®¤ä¸º11.1ä¸­æœ‰æœªçŸ¥é”™è¯¯å¹¶ä¸”ä¸æ¨èä½¿ç”¨ï¼Œä½†åœ¨å®‰è£…è¿‡ç¨‹ä¸­å¹¶æœªå‘ç°ï¼Œæˆ–è®¸ä¹‹åé‡åˆ°äº†ä¼šç»§ç»­è¡¥å……</p>
</blockquote>
<hr>
<h2 id="Update-2021-08-10"><a href="#Update-2021-08-10" class="headerlink" title="Update 2021.08.10"></a>Update 2021.08.10</h2><ul>
<li>è€ƒè™‘åˆ°å¤§å¤šæ•°æ¨¡å‹è¿˜æ˜¯ä½¿ç”¨<code>f1.x</code>æ„å»ºçš„ï¼Œå¹¶ä¸”ä¸<code>2.x</code>åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæœ‰æ‰€åŒºåˆ«ï¼Œæ•…å†³å®šå¢åŠ <code>tensorflow1.8.0</code>ç¯å¢ƒã€‚</li>
</ul>
<h3 id="æ³¨æ„äº‹é¡¹ï¼ˆä¸ä¸Šæ–‡ç›¸åŒï¼Œæœ‰ç©ºåŠ å›¾ï¼‰"><a href="#æ³¨æ„äº‹é¡¹ï¼ˆä¸ä¸Šæ–‡ç›¸åŒï¼Œæœ‰ç©ºåŠ å›¾ï¼‰" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼ˆä¸ä¸Šæ–‡ç›¸åŒï¼Œæœ‰ç©ºåŠ å›¾ï¼‰"></a>æ³¨æ„äº‹é¡¹ï¼ˆä¸ä¸Šæ–‡ç›¸åŒï¼Œæœ‰ç©ºåŠ å›¾ï¼‰</h3><ol>
<li>CUDAã€cuDNNä¸Tensorflowç‰ˆæœ¬å·å¯¹åº”ï¼Œ<a href="https://tensorflow.google.cn/install/source_windows?hl=en#gpu">ç‚¹å‡»æŸ¥çœ‹åŸæ–‡æ¡£å¯¹åº”å…³ç³»</a></li>
<li>Pythonç‰ˆæœ¬é€‚ç”¨ï¼Œä¸å»ºè®®ç”¨è¿‡é«˜ç‰ˆæœ¬</li>
<li>æ˜¾å¡é©±åŠ¨ä¸é€‚é…ï¼ˆæ˜¾å¡é©±åŠ¨å†³å®šå¯æ”¯æŒçš„CUDAæœ€é«˜ç‰ˆæœ¬ï¼Œå·²æœ‰2.xç‰ˆæœ¬çš„å›ºé©±åŠ¨åŸºæœ¬ä¸ä¼šå‡ºé—®é¢˜ï¼‰ï¼Œ<a href="https://docs.nvidia.com/cuda/cuda-toolkit-release-notes/index.html">ç‚¹å‡»æŸ¥çœ‹åŸæ–‡æ¡£å¯¹åº”å…³ç³»</a></li>
<li>ä¸¤ä¸ªç‰ˆæœ¬çš„CUDAå…¼å®¹æ€§é—®é¢˜</li>
</ol>
<p><strong>å¤šç‰ˆæœ¬çš„CUDAå…¼å®¹é—®é¢˜æœ€éº»çƒ¦ï¼ˆå¤šæ¬¡å°è¯•åå·²è§£å†³ï¼‰</strong></p>
<ul>
<li>CUDAå®‰è£…<ul>
<li>è‹¥é‡‡ç”¨<strong>ç²¾ç®€å®‰è£…</strong>ï¼Œå…ˆå®‰è£…ä½ç‰ˆæœ¬çš„ï¼Œåœ¨å®‰è£…é«˜ç‰ˆæœ¬çš„ï¼Œä¼šè¦†ç›–å…¼å®¹ï¼Œæš‚æœªå‘ç°é—®é¢˜</li>
<li>è‹¥ç°æœ‰é«˜ç‰ˆæœ¬ï¼ˆå¦‚æœ¬æ–‡é¡ºåºç°æœ‰tf2.4.1å†åŠ 1.8.0ï¼‰ï¼Œéœ€ä½¿ç”¨<strong>è‡ªå®šä¹‰å®‰è£…</strong>ï¼Œé©±åŠ¨ç»„ä»¶åªéœ€é€‰æ‹©CUDAä¸‹çš„<code>Develpoment</code>ã€<code>Documentation</code>ã€<code>Visual Studio Intergration</code>ã€<code>Sanples</code>ã€<code>Runtime</code>å…±äº”ä¸ªå³å¯ï¼Œ<code>Nsight compute</code>ä»¥åŠ<code>Driver components</code>å’Œ<code>other components</code>å–æ¶ˆå‹¾é€‰ï¼Œå¦åˆ™ä¼šå¯¼è‡´ä¸¤ä¸ªç‰ˆæœ¬å†²çªéƒ½æ— æ³•ä½¿ç”¨</li>
<li>è·¯å¾„æ·»åŠ <ul>
<li>å®‰è£…å®Œæˆä¹‹åï¼Œé»˜è®¤<code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA</code>ä¼šå‡ºç°<code>v9.0</code>æ–‡ä»¶å¤¹ï¼ŒåŸæ¥å·²ç»æœ‰<code>v11.1</code></li>
<li>æ­¤æ—¶å·²å¯ç”¨<code>nvcc -V</code>æŸ¥çœ‹CUDAç‰ˆæœ¬ä¸ºæœ€è¿‘å®‰è£…çš„ç‰ˆæœ¬</li>
<li><a href="https://developer.nvidia.com/rdp/cudnn-archive">cuDNNç»„ä»¶ä¸‹è½½æ›¿æ¢</a></li>
</ul>
</li>
</ul>
</li>
<li><p>ç‰ˆæœ¬åˆ‡æ¢(ç¯å¢ƒå˜é‡)</p>
<ul>
<li>åªéœ€å°†PATHä¸‹éœ€è¦ä½¿ç”¨çš„ç‰ˆæœ¬<code>bin</code>å’Œ<code>libnvvp</code>ä¸¤ä¸ªè·¯å¾„ç§»åŠ¨è‡³å…¶ä»–ç‰ˆæœ¬ä¹‹å‰å³å¯,CUDA_PATHæ— éœ€ä¿®æ”¹ï¼Œ<code>nvcc -V</code>å¯æŸ¥çœ‹å½“å‰CUDAç‰ˆæœ¬å·²æ›´æ”¹</li>
<li><code>CUDA_PATH C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.1</code></li>
<li><code>CUDA_PATH_V11.1 C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.1</code></li>
<li><code>CUDA_PHTH_V9.0 C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0</code></li>
<li>PATH<ul>
<li><code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.1\bin</code></li>
<li><code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v11.1\libnvvp</code></li>
<li><code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0\bin</code></li>
<li><code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v9.0\libnvvp</code></li>
</ul>
</li>
</ul>
</li>
<li><p>ç»è¿‡æµ‹è¯•å¤šç‰ˆæœ¬tensorflowæ— å†²çªï¼Œç‰ˆæœ¬è‡ªç”±åˆ‡æ¢æ­£å¸¸ï¼Œæ—¶é—´åŸå› è¯¦ç»†æ­¥éª¤ä¸æˆªå›¾ï¼Œæ­¤å¤„è®°ä¸‹ä»¥å¤‡ä¹‹åè¿ç§»ç¯å¢ƒæ—¶å‚è€ƒç”¨</p>
</li>
</ul>
<h3 id="Tensorflow-GPUç‰ˆæœ¬ä¿¡æ¯"><a href="#Tensorflow-GPUç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="Tensorflow-GPUç‰ˆæœ¬ä¿¡æ¯"></a>Tensorflow-GPUç‰ˆæœ¬ä¿¡æ¯</h3><ul>
<li>tensorflow_gpu-2.4.1<blockquote>
<p>python 3.7.10<br>CUDA 11.1<br>cuDNN 11.1 v8.0.5</p>
</blockquote>
</li>
<li>tensorflow_gpu-1.8.0<blockquote>
<p>python 3.6.13<br>CUDA 9.0<br>cuDNN 9.0 v7.6.5</p>
</blockquote>
</li>
</ul>
<hr>
<h2 id="Update-2021-12-26"><a href="#Update-2021-12-26" class="headerlink" title="Update 2021.12.26"></a>Update 2021.12.26</h2><ul>
<li>ç”±äºä¹‹åçš„ç ”ç©¶å½±å“ï¼Œéƒ¨åˆ†æ¨¡å‹å¯èƒ½éœ€è¦ç”¨åˆ°Pytorchï¼Œå°½ç®¡ä¸ªäººå€¾å‘äºä½¿ç”¨å‰è€…å»ºæ¨¡ï¼Œä½†åœ¨å¤ç°å·²æœ‰çš„æ¨¡å‹æ—¶ä¸å¯å¿…è¦è¦çœ‹æ‡‚å¹¶ä¸”è¿ç§»Pytorchæ¨¡å‹ï¼Œæ•…å†³å®šå¢åŠ <code>Pytorch1.8.0</code>ç¯å¢ƒã€‚</li>
</ul>
<h3 id="è¯¦ç»†æ­¥éª¤ï¼ˆæœ‰ç©ºåŠ å›¾ï¼‰"><a href="#è¯¦ç»†æ­¥éª¤ï¼ˆæœ‰ç©ºåŠ å›¾ï¼‰" class="headerlink" title="è¯¦ç»†æ­¥éª¤ï¼ˆæœ‰ç©ºåŠ å›¾ï¼‰"></a>è¯¦ç»†æ­¥éª¤ï¼ˆæœ‰ç©ºåŠ å›¾ï¼‰</h3><ol>
<li>Anacondaè™šæ‹Ÿç¯å¢ƒï¼Œ<code>conda create -n torch1.8.0 python=3.7.0</code>ç­‰å¾…åˆ›å»ºå®Œæ¯•</li>
<li>pipå®‰è£…æˆ–condaå®‰è£…torch</li>
<li>åŒæ ·ä¹Ÿéœ€è¦æ³¨æ„CUDAç‰ˆæœ¬å¯¹åº”ï¼Œç”±äºä¹‹å‰å·²æœ‰CUDA11.1ï¼Œæ•…æ‰¾äº†ä¸ªä¸ä¹‹é€‚é…çš„torchç‰ˆæœ¬ä½¿ç”¨</li>
</ol>
<ul>
<li>æœ¬æ–‡ä½¿ç”¨condaå®‰è£…ï¼Œæœ‰ç©ºè¯¦ç»†å±•å¼€å¹¶ä¸”åŠ ä¸Špipå®‰è£…æµç¨‹<ul>
<li><a href="https://pytorch.org/get-started/previous-versions/">æŸ¥æ‰¾å†å²ç‰ˆæœ¬</a></li>
<li>ä½¿ç”¨condaå‘½ä»¤ç­‰å¾…å®‰è£…å®Œæ¯•å³å¯ï¼Œè‹¥ä¸‹è½½å—é™è¯·å‚ç…§ä¸Šæ–‡ä¿®æ”¹é•œåƒæº</li>
</ul>
</li>
<li>ä¸€èˆ¬é€Ÿåº¦è¾ƒå¿«ï¼Œè‹¥é•¿æ—¶é—´æ— ååº”è¯·è€ƒè™‘æ˜¯å¦è¢«å¢™ï¼ˆæ¢æºï¼‰æˆ–è€…æ— å¯¹åº”ç‰ˆæœ¬ï¼ˆå‚ç…§æ–‡æ¡£ï¼‰</li>
<li>æœ¬æ–‡ä½¿ç”¨<code>conda install pytorch==1.8.0 torchvision==0.9.0 torchaudio==0.8.0 cudatoolkit=11.1 -c pytorch -c conda-forge</code></li>
</ul>
<h3 id="Pytorch-GPUç‰ˆæœ¬ä¿¡æ¯"><a href="#Pytorch-GPUç‰ˆæœ¬ä¿¡æ¯" class="headerlink" title="Pytorch-GPUç‰ˆæœ¬ä¿¡æ¯"></a>Pytorch-GPUç‰ˆæœ¬ä¿¡æ¯</h3><ul>
<li>pytorch 1.8.0<blockquote>
<p>torchvision 0.9.0<br>torchaudio 0.8.0<br>python 3.7.0<br>CUDA 11.1<br>cuDNN 11.1 v8.0.5</p>
</blockquote>
</li>
</ul>
<hr>
<!-- markdownlint-disable-file MD036 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Tutorial</tag>
        <tag>Tensorflow</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°å­¦åŸºç¡€çŸ¥è¯†</title>
    <url>/2021/08/25/mathBasic/</url>
    <content><![CDATA[<ul>
<li>æ•°å­¦åŸºç¡€çŸ¥è¯†ï¼Œç¨å¾®åšä¸€ä¸ªæ•´ç†<span id="more"></span>
</li>
</ul>
<h3 id="é«˜ç­‰æ•°å­¦"><a href="#é«˜ç­‰æ•°å­¦" class="headerlink" title="é«˜ç­‰æ•°å­¦"></a>é«˜ç­‰æ•°å­¦</h3><h4 id="1-å¯¼æ•°çš„å®šä¹‰"><a href="#1-å¯¼æ•°çš„å®šä¹‰" class="headerlink" title="1.å¯¼æ•°çš„å®šä¹‰"></a>1.å¯¼æ•°çš„å®šä¹‰</h4><p>å¯¼æ•°å’Œå¾®åˆ†çš„æ¦‚å¿µ</p>
<p>$fâ€™({{x}_{0}})=\underset{\Delta x\to 0}{\mathop{\lim }}\,\frac{f({{x}_{0}}+\Delta x)-f({{x}_{0}})}{\Delta x}$    ï¼ˆ1ï¼‰</p>
<p>æˆ–è€…ï¼š</p>
<p>$fâ€™({{x}_{0}})=\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{f(x)-f({{x}_{0}})}{x-{{x}_{0}}}$           ï¼ˆ2ï¼‰</p>
<h4 id="2-å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰"><a href="#2-å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰" class="headerlink" title="2.å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰"></a>2.å·¦å³å¯¼æ•°å¯¼æ•°çš„å‡ ä½•æ„ä¹‰å’Œç‰©ç†æ„ä¹‰</h4><p>å‡½æ•°$f(x)$åœ¨$x_0$å¤„çš„å·¦ã€å³å¯¼æ•°åˆ†åˆ«å®šä¹‰ä¸ºï¼š</p>
<p>å·¦å¯¼æ•°ï¼š${{f'}_{-}}({{x}_{0}})=\underset{\Delta x\to {{0}^{-}}}{\mathop{\lim }}\,\frac{f({{x}_{0}}+\Delta x)-f({{x}_{0}})}{\Delta x}=\underset{x\to x_{0}^{-}}{\mathop{\lim }}\,\frac{f(x)-f({{x}_{0}})}{x-{{x}_{0}}},(x={{x}_{0}}+\Delta x)$</p>
<p>å³å¯¼æ•°ï¼š${{f'}_{+}}({{x}_{0}})=\underset{\Delta x\to {{0}^{+}}}{\mathop{\lim }}\,\frac{f({{x}_{0}}+\Delta x)-f({{x}_{0}})}{\Delta x}=\underset{x\to x_{0}^{+}}{\mathop{\lim }}\,\frac{f(x)-f({{x}_{0}})}{x-{{x}_{0}}}$</p>
<h4 id="3-å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»"><a href="#3-å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»" class="headerlink" title="3.å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»"></a>3.å‡½æ•°çš„å¯å¯¼æ€§ä¸è¿ç»­æ€§ä¹‹é—´çš„å…³ç³»</h4><p><strong>Th1:</strong> å‡½æ•°$f(x)$åœ¨$x_0$å¤„å¯å¾®$\Leftrightarrow f(x)$åœ¨$x_0$å¤„å¯å¯¼</p>
<p><strong>Th2:</strong> è‹¥å‡½æ•°åœ¨ç‚¹$x_0$å¤„å¯å¯¼ï¼Œåˆ™$y=f(x)$åœ¨ç‚¹$x_0$å¤„è¿ç»­ï¼Œåä¹‹åˆ™ä¸æˆç«‹(å³å‡½æ•°è¿ç»­ä¸ä¸€å®šå¯å¯¼)</p>
<p><strong>Th3:</strong> ${f}â€™({{x}_{0}})$å­˜åœ¨$\Leftrightarrow {{f'}_{-}}({{x}_{0}})={{f'}_{+}}({{x}_{0}})$</p>
<h4 id="4-å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿"><a href="#4-å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿" class="headerlink" title="4.å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿"></a>4.å¹³é¢æ›²çº¿çš„åˆ‡çº¿å’Œæ³•çº¿</h4><p>åˆ‡çº¿æ–¹ç¨‹ : $y-{{y}_{0}}=fâ€™({{x}_{0}})(x-{{x}_{0}})$<br>æ³•çº¿æ–¹ç¨‹ï¼š$y-{{y}_{0}}=-\frac{1}{fâ€™({{x}_{0}})}(x-{{x}_{0}}),fâ€™({{x}_{0}})\ne 0$</p>
<h4 id="5-å››åˆ™è¿ç®—æ³•åˆ™"><a href="#5-å››åˆ™è¿ç®—æ³•åˆ™" class="headerlink" title="5.å››åˆ™è¿ç®—æ³•åˆ™"></a>5.å››åˆ™è¿ç®—æ³•åˆ™</h4><p>è®¾å‡½æ•°$ u=u(x)ï¼Œv=v(x) $åœ¨ç‚¹$ x $å¯å¯¼åˆ™<br>(1) $ (u \pm v)â€™={u}â€™\pm {vâ€™} $ï¼Œ$ d(u\pm v)=du\pm dv $<br>(2) $ (uv)â€™=uvâ€™+vuâ€™ $ï¼Œ$ d(uv)=udv+vdu $<br>(3) $ {(\frac{u}{v})}â€™=\frac{v{u}â€™-u{v}â€™}{{v^2}}(v\ne 0) $ï¼Œ$ d(\frac{u}{v})=\frac{vdu-udv}{{v}^{2}} $</p>
<h4 id="6-åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨"><a href="#6-åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨" class="headerlink" title="6.åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨"></a>6.åŸºæœ¬å¯¼æ•°ä¸å¾®åˆ†è¡¨</h4><p>(1) $y=c$ï¼ˆå¸¸æ•°ï¼‰ï¼Œ       ${y}â€™=0$ï¼Œï¼Œ        $dy=0$</p>
<p>(2) $y={{x}^{\alpha }}$($\alpha $ä¸ºå®æ•°)ï¼Œ       ${y}â€™=\alpha {{x}^{\alpha -1}}$ï¼Œ       $dy=\alpha {{x}^{\alpha -1}}dx$</p>
<p>(3) $y={{a}^{x}}$ï¼Œ       ${y}â€™={{a}^{x}}\ln a$ï¼Œ       $dy={{a}^{x}}\ln adx$</p>
<p>  ç‰¹ä¾‹:   ${({e}^{x})â€™}={{e}^{x}}$ï¼Œ       $ d({e}^{x})={{e}^{x}}dx $</p>
<p>(4) $y={{\log }_{a}}x$ï¼Œ       ${y}â€™=\frac{1}{x\ln a}$ï¼Œ$dy=\frac{1}{x\ln a}dx$</p>
<p>  ç‰¹ä¾‹:$y=\ln x$ï¼Œ       $(\ln x{)}â€™=\frac{1}{x}$ï¼Œ       $d(\ln x)=\frac{1}{x}dx$</p>
<p>(5) $y=\sin x$</p>
<p>${y}â€™=\cos x$ï¼Œ       $d(\sin x)=\cos xdx$</p>
<p>(6) $y=\cos x$</p>
<p>${y}â€™=-\sin x$ï¼Œ       $d(\cos x)=-\sin xdx$</p>
<p>(7) $y=\tan x$  </p>
<p>${y}â€™=\frac{1}{{{\cos }^{2}}x}={{\sec }^{2}}x$ï¼Œ       $d(\tan x)={{\sec }^{2}}xdx$</p>
<p>(8) $y=\cot x$ ${y}â€™=-\frac{1}{{{\sin }^{2}}x}=-{{\csc }^{2}}x$ï¼Œ       $d(\cot x)=-{{\csc }^{2}}xdx$</p>
<p>(9) $y=\sec x$ï¼Œ       ${y}â€™=\sec x\tan x$</p>
<p> $d(\sec x)=\sec x\tan xdx$</p>
<p>(10) $y=\csc x$ï¼Œ       ${y}â€™=-\csc x\cot x$</p>
<p>$d(\csc x)=-\csc x\cot xdx$</p>
<p>(11) $y=\arcsin x$  </p>
<p>${y}â€™=\frac{1}{\sqrt{1-{{x}^{2}}}}$</p>
<p>$d(\arcsin x)=\frac{1}{\sqrt{1-{{x}^{2}}}}dx$</p>
<p>(12) $y=\arccos x$</p>
<p>${y}â€™=-\frac{1}{\sqrt{1-{{x}^{2}}}}$     $d(\arccos x)=-\frac{1}{\sqrt{1-{{x}^{2}}}}dx$</p>
<p>(13) $y=\arctan x$</p>
<p>${y}â€™=\frac{1}{1+{{x}^{2}}}$     $d(\arctan x)=\frac{1}{1+{{x}^{2}}}dx$</p>
<p>(14) $y=\operatorname{arc}\cot x$</p>
<p>${y}â€™=-\frac{1}{1+{{x}^{2}}}$</p>
<p>$d(\operatorname{arc}\cot x)=-\frac{1}{1+{{x}^{2}}}dx$</p>
<p>(15) $y=shx$</p>
<p>${y}â€™=chx$       $d(shx)=chxdx$</p>
<p>(16) $y=chx$</p>
<p>${y}â€™=shx$       $d(chx)=shxdx$</p>
<h4 id="7-å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†"><a href="#7-å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†" class="headerlink" title="7.å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†"></a>7.å¤åˆå‡½æ•°ï¼Œåå‡½æ•°ï¼Œéšå‡½æ•°ä»¥åŠå‚æ•°æ–¹ç¨‹æ‰€ç¡®å®šçš„å‡½æ•°çš„å¾®åˆ†</h4><p>(1) åå‡½æ•°çš„è¿ç®—æ³•åˆ™: è®¾$y=f(x)$åœ¨ç‚¹$x$çš„æŸé‚»åŸŸå†…å•è°ƒè¿ç»­ï¼Œåœ¨ç‚¹$x$å¤„å¯å¯¼ä¸”${f}â€™(x)\ne 0$ï¼Œåˆ™å…¶åå‡½æ•°åœ¨ç‚¹$x$æ‰€å¯¹åº”çš„$y$å¤„å¯å¯¼ï¼Œå¹¶ä¸”æœ‰$\frac{dy}{dx}=\frac{1}{\frac{dx}{dy}}$</p>
<p>(2) å¤åˆå‡½æ•°çš„è¿ç®—æ³•åˆ™ï¼šè‹¥$\mu =\varphi (x)$åœ¨ç‚¹$x$å¯å¯¼ï¼Œè€Œ$y=f(\mu )$åœ¨å¯¹åº”ç‚¹$\mu $($\mu =\varphi (x)$)å¯å¯¼ï¼Œåˆ™å¤åˆå‡½æ•°$y=f(\varphi (x))$åœ¨ç‚¹$x$å¯å¯¼ï¼Œä¸”${yâ€™}={fâ€™}(\mu )\cdot {\varphi }â€™(x)$</p>
<p>(3) éšå‡½æ•°å¯¼æ•°$\frac{dy}{dx}$çš„æ±‚æ³•ä¸€èˆ¬æœ‰ä¸‰ç§æ–¹æ³•ï¼š</p>
<ul>
<li>1)æ–¹ç¨‹ä¸¤è¾¹å¯¹$x$æ±‚å¯¼ï¼Œè¦è®°ä½$y$æ˜¯$x$çš„å‡½æ•°ï¼Œåˆ™$y$çš„å‡½æ•°æ˜¯$x$çš„å¤åˆå‡½æ•°ã€‚ä¾‹å¦‚$\frac{1}{y}$ï¼Œ${{y}^{2}}$ï¼Œ$ln y$ï¼Œ${{{e}}^{y}}$ç­‰å‡æ˜¯$x$çš„å¤åˆå‡½æ•°ï¼Œå¯¹$x$æ±‚å¯¼åº”æŒ‰å¤åˆå‡½æ•°è¿é”æ³•åˆ™åš</li>
<li>2)å…¬å¼æ³•ï¼šç”±$F(x,y)=0$çŸ¥ $\frac{dy}{dx}=-\frac{{F'_{x}}(x,y)}{{F'_{y}}(x,y)}$ï¼Œå…¶ä¸­ï¼Œ${Fâ€™_x}(x,y)$ï¼Œ<br>${Fâ€™_y}(x,y)$åˆ†åˆ«è¡¨ç¤º$F(x,y)$å¯¹$x$å’Œ$y$çš„åå¯¼æ•°</li>
<li>3)åˆ©ç”¨å¾®åˆ†å½¢å¼ä¸å˜æ€§</li>
</ul>
<h4 id="8-å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼"><a href="#8-å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼" class="headerlink" title="8.å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼"></a>8.å¸¸ç”¨é«˜é˜¶å¯¼æ•°å…¬å¼</h4><blockquote>
<p>å¸¸ç”¨å‡ ä¸ªä½æ¬¡å…¬å¼è¦ç†Ÿè®°äºå¿ƒ</p>
</blockquote>
<p>ï¼ˆ1ï¼‰$({{a}^{x}}){{\,}^{(n)}}={{a}^{x}}{{\ln }^{n}}a\quad (a&gt;{0})\quad  ({{{e}}^{x}}){{\,}^{(n)}}={e}{{\,}^{x}}$<br>ï¼ˆ2ï¼‰$(\sin kx{)}{{\,}^{(n)}}={{k}^{n}}\sin (kx+n\cdot \frac{\pi }{{2}})$<br>ï¼ˆ3ï¼‰$(\cos kx{)}{{\,}^{(n)}}={{k}^{n}}\cos (kx+n\cdot \frac{\pi }{{2}})$<br>ï¼ˆ4ï¼‰$({{x}^{m}}){{\,}^{(n)}}=m(m-1)\cdots (m-n+1){{x}^{m-n}}$<br>ï¼ˆ5ï¼‰$(\ln x){{\,}^{(n)}}={{(-{1})}^{(n-{1})}}\frac{(n-{1})!}{{{x}^{n}}}$<br>ï¼ˆ6ï¼‰è±å¸ƒå°¼å…¹å…¬å¼ï¼š<br>è‹¥$u(x),v(x)$å‡$n$é˜¶å¯å¯¼ï¼Œåˆ™${{(uv)}^{(n)}}=\sum\limits_{i={0}}^{n}{{c}_{n}^{i}{u}^{i}{v^{n-i}}}$ï¼Œå…¶ä¸­${{u}^{({0})}}=u$ï¼Œ${{v}^{({0})}}=v$</p>
<h4 id="9-å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼"><a href="#9-å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼" class="headerlink" title="9.å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼"></a>9.å¾®åˆ†ä¸­å€¼å®šç†ï¼Œæ³°å‹’å…¬å¼</h4><p><strong>Th1:</strong> è´¹é©¬å¼•ç†</p>
<p>è‹¥å‡½æ•°$f(x)$æ»¡è¶³æ¡ä»¶ï¼š<br>(1)å‡½æ•°$f(x)$åœ¨${{x}_{0}}$çš„æŸé‚»åŸŸå†…æœ‰å®šä¹‰ï¼Œå¹¶ä¸”åœ¨æ­¤é‚»åŸŸå†…æ’æœ‰<br>$f(x)\le f({{x}_{0}})$æˆ–$f(x)\ge f({{x}_{0}})$<br>(2) $f(x)$åœ¨${{x}_{0}}$å¤„å¯å¯¼<br>åˆ™æœ‰ ${f}â€™({{x}_{0}})=0$</p>
<p><strong>Th2:</strong> ç½—å°”å®šç†</p>
<p>è®¾å‡½æ•°$f(x)$æ»¡è¶³æ¡ä»¶ï¼š<br>(1)åœ¨é—­åŒºé—´$[a,b]$ä¸Šè¿ç»­<br>(2)åœ¨$(a,b)$å†…å¯å¯¼<br>(3)$f(a)=f(b)$<br>åˆ™åœ¨$(a,b)$å†…ä¸€å­˜åœ¨ä¸ª$\xi $ï¼Œä½¿  ${f}â€™(\xi )=0$</p>
<p><strong>Th3:</strong> æ‹‰æ ¼æœ—æ—¥ä¸­å€¼å®šç†</p>
<p>è®¾å‡½æ•°$f(x)$æ»¡è¶³æ¡ä»¶ï¼š<br>(1)åœ¨$[a,b]$ä¸Šè¿ç»­<br>(2)åœ¨$(a,b)$å†…å¯å¯¼<br>åˆ™åœ¨$(a,b)$å†…ä¸€å­˜åœ¨ä¸ª$\xi $ï¼Œä½¿  $\frac{f(b)-f(a)}{b-a}={f}â€™(\xi )$</p>
<p><strong>Th4:</strong> æŸ¯è¥¿ä¸­å€¼å®šç†</p>
<p>è®¾å‡½æ•°$f(x)$ï¼Œ$g(x)$æ»¡è¶³æ¡ä»¶ï¼š<br>(1) åœ¨$[a,b]$ä¸Šè¿ç»­<br>(2) åœ¨$(a,b)$å†…å¯å¯¼ä¸”${f}â€™(x)$ï¼Œ${g}â€™(x)$å‡å­˜åœ¨ï¼Œä¸”${g}â€™(x)\ne 0$<br>åˆ™åœ¨$(a,b)$å†…å­˜åœ¨ä¸€ä¸ª$\xi $ï¼Œä½¿${\frac{f(b)-f(a)}{g(b)-g(a)}}={\frac{{f}'(\xi )}{{g}'(\xi )}}$</p>
<h4 id="10-æ´›å¿…è¾¾æ³•åˆ™"><a href="#10-æ´›å¿…è¾¾æ³•åˆ™" class="headerlink" title="10.æ´›å¿…è¾¾æ³•åˆ™"></a>10.æ´›å¿…è¾¾æ³•åˆ™</h4><p><strong>æ³•åˆ™â…  ($\frac{0}{0}$å‹)</strong></p>
<p>è®¾å‡½æ•°$f\left( x \right),g\left( x \right)$æ»¡è¶³æ¡ä»¶ï¼š</p>
<p>$\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,f\left( x \right)=0,\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,g\left( x \right)=0$<br>$f\left( x \right),g\left( x \right)$åœ¨${{x}_{0}}$çš„é‚»åŸŸå†…å¯å¯¼ï¼Œ(åœ¨${{x}_{0}}$å¤„å¯é™¤å¤–)ä¸”${g}â€™\left( x \right)\ne 0$<br>$\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{{f}'\left( x \right)}{{g}'\left( x \right)}$å­˜åœ¨(æˆ–$\infty $)

åˆ™:
${\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{f\left( x \right)}{g\left( x \right)}=\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{{f}'\left( x \right)}{{g}'\left( x \right)}}$</p>
<p><strong>æ³•åˆ™â… â€™ ($\frac{0}{0}$å‹)</strong></p>
<p>è®¾å‡½æ•°$f\left( x \right),g\left( x \right)$æ»¡è¶³æ¡ä»¶ï¼š</p>
<p>$\underset{x\to \infty }{\mathop{\lim }}\,f\left( x \right)=0,\underset{x\to \infty }{\mathop{\lim }}\,g\left( x \right)=0$<br>å­˜åœ¨ä¸€ä¸ª$X&gt;0$,å½“$\left| x \right|&gt;X$æ—¶ï¼Œ$f\left( x \right),g\left( x \right)$å¯å¯¼ï¼Œä¸”${g}â€™\left( x \right)\ne 0$<br>$\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{{f}'\left( x \right)}{{g}'\left( x \right)}$å­˜åœ¨(æˆ–$\infty $)

åˆ™:${\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{f\left( x \right)}{g\left( x \right)}=\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{{f}'\left( x \right)}{{g}'\left( x \right)}}$</p>
<p><strong>æ³•åˆ™â…¡ ($\frac{\infty }{\infty }$å‹)</strong></p>
<p>è®¾å‡½æ•°$f\left( x \right),g\left( x \right)$æ»¡è¶³æ¡ä»¶ï¼š</p>
<p>$\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,f\left( x \right)=\infty ,\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,g\left( x \right)=\infty $<br>$f\left( x \right),g\left( x \right)$åœ¨${{x}_{0}}$ çš„é‚»åŸŸå†…å¯å¯¼(åœ¨${{x}_{0}}$å¤„å¯é™¤å¤–)ä¸”${g}â€™\left( x \right)\ne 0$<br>$\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{{f}'\left( x \right)}{{g}'\left( x \right)}$å­˜åœ¨(æˆ–$\infty $)

åˆ™:
${\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{f\left( x \right)}{g\left( x \right)}}={\underset{x\to {{x}_{0}}}{\mathop{\lim }}\,\frac{{f}'\left( x \right)}{{g}'\left( x \right)}}$</p>
<p><strong>åŒç†æ³•åˆ™â…¡â€™ ($\frac{\infty }{\infty }$å‹)ä»¿æ³•åˆ™â… â€™ å¯å†™å‡º</strong></p>
<h4 id="11-æ³°å‹’å…¬å¼"><a href="#11-æ³°å‹’å…¬å¼" class="headerlink" title="11.æ³°å‹’å…¬å¼"></a>11.æ³°å‹’å…¬å¼</h4><p>è®¾å‡½æ•°$f(x)$åœ¨ç‚¹${{x}_{0}}$å¤„çš„æŸé‚»åŸŸå†…å…·æœ‰$n+1$é˜¶å¯¼æ•°ï¼Œåˆ™å¯¹è¯¥é‚»åŸŸå†…å¼‚äº${{x}_{0}}$çš„ä»»æ„ç‚¹$x$ï¼Œåœ¨${{x}_{0}}$ä¸$x$ä¹‹é—´è‡³å°‘å­˜åœ¨ä¸€ä¸ª$\xi$ï¼Œä½¿å¾—:</p>
<p>$f(x)=f({{x}_{0}})+{f}â€™({{x}_{0}})(x-{{x}_{0}})+\frac{1}{2!}{f}â€™â€™({{x}_{0}}){{(x-{{x}_{0}})}^{2}}+\cdots +\frac{{{f}^{(n)}}({{x}_{0}})}{n!}{{(x-{{x}_{0}})}^{n}}+{{R}_{n}}(x)$</p>
<p> å…¶ä¸­ ${{R}_{n}}(x)=\frac{{{f}^{(n+1)}}(\xi )}{(n+1)!}{{(x-{{x}_{0}})}^{n+1}}$ ç§°ä¸º $f(x)$ åœ¨ç‚¹ ${{x}_{0}}$ å¤„çš„ $n$ é˜¶æ³°å‹’ä½™é¡¹ã€‚</p>
<p>ä»¤${{x}_{0}}=0$ï¼Œåˆ™$n$é˜¶æ³°å‹’å…¬å¼ <strong>(éº¦å…‹åŠ³æ—å…¬å¼):</strong></p>
<p>$f(x)=f(0)+{f}â€™(0)x+\frac{1}{2!}{f}â€™â€™(0){{x}^{2}}+\cdots +\frac{{{f}^{(n)}}(0)}{n!}{{x}^{n}}+{{R}_{n}}(x)$</p>
<p>å…¶ä¸­ ${{R}_{n}}(x)=\frac{{{f}^{(n+1)}}(\xi )}{(n+1)!}{{x}^{n+1}}$ï¼Œ$\xi $åœ¨0ä¸$x$ä¹‹é—´</p>
<p><strong>å¸¸ç”¨äº”ç§å‡½æ•°åœ¨${{x}_{0}}=0$å¤„çš„æ³°å‹’å…¬å¼</strong></p>
<p>(1) ${{{e}}^{x}}=1+x+\frac{1}{2!}{{x}^{2}}+\cdots +\frac{1}{n!}{{x}^{n}}+o({{x}^{n}})$</p>
<p>(2) $\sin x=x-\frac{1}{3!}{{x}^{3}}+\cdots +\frac{{{x}^{n}}}{n!}\sin \frac{n\pi }{2}+o({{x}^{n}})$</p>
<p>(3) $\cos x=1-\frac{1}{2!}{{x}^{2}}+\cdots +\frac{{{x}^{n}}}{n!}\cos \frac{n\pi }{2}+o({{x}^{n}})$</p>
<p>(4) $\ln (1+x)=x-\frac{1}{2}{{x}^{2}}+\frac{1}{3}{{x}^{3}}-\cdots +{{(-1)}^{n-1}}\frac{{{x}^{n}}}{n}+o({{x}^{n}})$</p>
<p>(5) ${{(1+x)}^{m}}=1+mx+\frac{m(m-1)}{2!}{{x}^{2}}+\cdots $ $+\frac{m(m-1)\cdots (m-n+1)}{n!}{{x}^{n}}+o({{x}^{n}})$</p>
<h4 id="12-å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­"><a href="#12-å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­" class="headerlink" title="12.å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­"></a>12.å‡½æ•°å•è°ƒæ€§çš„åˆ¤æ–­</h4><p><strong>Th1:</strong>  è®¾å‡½æ•°$f(x)$åœ¨$(a,b)$åŒºé—´å†…å¯å¯¼ï¼Œå¦‚æœå¯¹$\forall x\in (a,b)$ï¼Œéƒ½æœ‰$fâ€™(x)&gt;0$ï¼ˆæˆ–$fâ€™(x)&lt;0$ï¼‰ï¼Œåˆ™å‡½æ•°$f(x)$åœ¨$(a,b)$å†…æ˜¯å•è°ƒå¢åŠ çš„ï¼ˆæˆ–å•è°ƒå‡å°‘ï¼‰</p>
<p><strong>Th2:</strong> ï¼ˆå–æå€¼çš„å¿…è¦æ¡ä»¶ï¼‰è®¾å‡½æ•°$f(x)$åœ¨${{x}_{0}}$å¤„å¯å¯¼ï¼Œä¸”åœ¨${{x}_{0}}$å¤„å–æå€¼ï¼Œåˆ™$fâ€™({{x}_{0}})=0$ã€‚</p>
<p><strong>Th3:</strong> ï¼ˆå–æå€¼çš„ç¬¬ä¸€å……åˆ†æ¡ä»¶ï¼‰è®¾å‡½æ•°$f(x)$åœ¨${{x}_{0}}$çš„æŸä¸€é‚»åŸŸå†…å¯å¾®ï¼Œä¸”$fâ€™({{x}_{0}})=0$ï¼ˆæˆ–$f(x)$åœ¨${{x}_{0}}$å¤„è¿ç»­ï¼Œä½†$fâ€™({{x}_{0}})$ä¸å­˜åœ¨ã€‚ï¼‰</p>
<blockquote>
<p>(1)è‹¥å½“$x$ç»è¿‡${{x}_{0}}$æ—¶ï¼Œ$fâ€™(x)$ç”±â€œ+â€å˜â€œ-â€ï¼Œåˆ™$f({{x}_{0}})$ä¸ºæå¤§å€¼<br>(2)è‹¥å½“$x$ç»è¿‡${{x}_{0}}$æ—¶ï¼Œ$fâ€™(x)$ç”±â€œ-â€å˜â€œ+â€ï¼Œåˆ™$f({{x}_{0}})$ä¸ºæå°å€¼<br>(3)è‹¥$fâ€™(x)$ç»è¿‡$x={{x}_{0}}$çš„ä¸¤ä¾§ä¸å˜å·ï¼Œåˆ™$f({{x}_{0}})$ä¸æ˜¯æå€¼</p>
</blockquote>
<p><strong>Th4:</strong> ï¼ˆå–æå€¼çš„ç¬¬äºŒå……åˆ†æ¡ä»¶ï¼‰è®¾$f(x)$åœ¨ç‚¹${{x}_{0}}$å¤„æœ‰$fâ€™â€™(x)\ne 0$ï¼Œä¸”$fâ€™({{x}_{0}})=0$ï¼Œåˆ™ï¼š</p>
<blockquote>
<p>å½“$fâ€™â€™({{x}_{0}})&lt;0$æ—¶ï¼Œ$f({{x}_{0}})$ä¸ºæå¤§å€¼<br>å½“$fâ€™â€™({{x}_{0}})&gt;0$æ—¶ï¼Œ$f({{x}_{0}})$ä¸ºæå°å€¼<br>å¦‚æœ$fâ€™â€™({{x}_{0}})=0$ï¼Œå¤±æ•ˆ</p>
</blockquote>
<h4 id="13-æ¸è¿‘çº¿çš„æ±‚æ³•"><a href="#13-æ¸è¿‘çº¿çš„æ±‚æ³•" class="headerlink" title="13.æ¸è¿‘çº¿çš„æ±‚æ³•"></a>13.æ¸è¿‘çº¿çš„æ±‚æ³•</h4><p>(1)æ°´å¹³æ¸è¿‘çº¿   è‹¥$\underset{x\to +\infty }{\mathop{\lim }}\,f(x)=b$ï¼Œæˆ–$\underset{x\to -\infty }{\mathop{\lim }}\,f(x)=b$ï¼Œåˆ™</p>
<p>$y=b$ç§°ä¸ºå‡½æ•°$y=f(x)$çš„æ°´å¹³æ¸è¿‘çº¿ã€‚</p>
<p>(2)é“…ç›´æ¸è¿‘çº¿   è‹¥$\underset{x\to x<em>{0}^{-}}{\mathop{\lim }}\,f(x)=\infty $ï¼Œæˆ–$\underset{x\to x</em>{0}^{+}}{\mathop{\lim }}\,f(x)=\infty $ï¼Œåˆ™</p>
<p>$x={{x}_{0}}$ç§°ä¸º$y=f(x)$çš„é“…ç›´æ¸è¿‘çº¿ã€‚</p>
<p>(3)æ–œæ¸è¿‘çº¿   è‹¥$a=\underset{x\to \infty }{\mathop{\lim }}\,\frac{f(x)}{x},\quad b=\underset{x\to \infty }{\mathop{\lim }}\,[f(x)-ax]$ï¼Œåˆ™<br>$y=ax+b$ç§°ä¸º$y=f(x)$çš„æ–œæ¸è¿‘çº¿ã€‚</p>
<h4 id="14-å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­"><a href="#14-å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­" class="headerlink" title="14.å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­"></a>14.å‡½æ•°å‡¹å‡¸æ€§çš„åˆ¤æ–­</h4><p><strong>Th1:</strong> ï¼ˆå‡¹å‡¸æ€§çš„åˆ¤åˆ«å®šç†ï¼‰è‹¥åœ¨Iä¸Š$f{â€˜â€™}(x)&lt;0$ï¼ˆæˆ–$f''(x)&gt;0$ï¼‰ï¼Œåˆ™$f(x)$åœ¨Iä¸Šæ˜¯å‡¸çš„ï¼ˆæˆ–å‡¹çš„ï¼‰ï¼ˆå‡¹å‡¸æ˜¯ç›¸å¯¹äºæ­£æ–¹å‘è€Œè¨€çš„ï¼‰</p>
<p><strong>Th2:</strong> ï¼ˆæ‹ç‚¹çš„åˆ¤åˆ«å®šç†1ï¼‰è‹¥åœ¨${{x}_{0}}$å¤„$fâ€™â€™(x)=0$ï¼Œï¼ˆæˆ–$fâ€™â€™(x)$ä¸å­˜åœ¨ï¼‰ï¼Œå½“$x$å˜åŠ¨ç»è¿‡${{x}_{0}}$æ—¶ï¼Œ$fâ€™â€™(x)$å˜å·ï¼Œåˆ™$({{x}_{0}},f({{x}_{0}}))$ä¸ºæ‹ç‚¹</p>
<p><strong>Th3:</strong> ï¼ˆæ‹ç‚¹çš„åˆ¤åˆ«ç†2ï¼‰è®¾$f(x)$åœ¨${{x}_{0}}$ç‚¹çš„æŸé‚»åŸŸå†…æœ‰ä¸‰é˜¶å¯¼æ•°ï¼Œä¸”$fâ€™â€™(x)=0$ï¼Œ$fâ€™â€™â€™(x)\ne 0$ï¼Œåˆ™$({{x}_{0}},f({{x}_{0}}))$ä¸ºæ‹ç‚¹</p>
<blockquote>
<p><del>æœ‰ç©ºæ›´æ–°çº¿æ€§ä»£æ•°å’Œæ¦‚ç‡è®ºéƒ¨åˆ†ï¼Œä½†å…¬å¼æ¯”è¾ƒå¤æ‚ï¼Œæ¶‰åŠçŸ©é˜µå’Œè¡Œåˆ—å¼ç­‰ï¼ŒHexoæ¸²æŸ“ä¸æ–¹ä¾¿ï¼Œå¤§æ¦‚ç‡é¸½äº†</del><br><a href="https://www.lingzhicheng.cn/usr/file/mathBasic.md">å®Œæ•´Markdownä¸‹è½½</a></p>
</blockquote>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Mathematics</tag>
      </tags>
  </entry>
  <entry>
    <title>debug Gitalk 403</title>
    <url>/2022/01/02/debug%20Gitalk%20403/</url>
    <content><![CDATA[<ul>
<li>ç•™è¨€ç³»ç»Ÿä½¿ç”¨Gitalkï¼Œæœ€è¿‘å‘ç°æ— æ³•ä½¿ç”¨GitHubè´¦å·ç™»é™†ï¼Œå‡ºç°403</li>
<li>Error: Request failed with status code 403</li>
</ul>
<h3 id="Headers"><a href="#Headers" class="headerlink" title="Headers"></a>Headers</h3><blockquote>
<p>ç½‘ç»œè¯·æ±‚403ï¼Œæ‹¿ä¸åˆ°tokenï¼Œå¯¼è‡´ç™»é™†ä¸ä¸Š<br>Request URLï¼š<a href="https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token">https://cors-anywhere.herokuapp.com/https://github.com/login/oauth/access_token</a></p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Missing required request header. Must specify one of: origin,x-requested-with</span><br></pre></td></tr></tbody></table></figure>
</blockquote>
<span id="more"></span>
<h3 id="cors-anywhere"><a href="#cors-anywhere" class="headerlink" title="cors-anywhere"></a>cors-anywhere</h3><blockquote>
<p>å¼€æºæ¡†æ¶è§£å†³è·¨åŸŸé—®é¢˜çš„åå‘ä»£ç†</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">CORS Anywhere is a NodeJS proxy which adds CORS headers to the proxied request.</span><br><span class="line"></span><br><span class="line">The url to proxy is literally taken from the path, validated and proxied. The protocol part of the proxied URI is optional, and defaults to "http". If port 443 is specified, the protocol defaults to "https".</span><br><span class="line"></span><br><span class="line">This package does not put any restrictions on the http methods or headers, except for cookies. Requesting user credentials is disallowed. The app can be configured to require a header for proxying a request, for example to avoid a direct visit from the browser.</span><br></pre></td></tr></tbody></table></figure>
</blockquote>
<h3 id="more"><a href="#more" class="headerlink" title="more"></a>more</h3><blockquote>
<p>çœ‹ä¸Šå»åƒæ˜¯è¢«æ»¥ç”¨ï¼Œç„¶åä»2021.1.31åç”¨æˆ·å¿…é¡»æ‰‹åŠ¨è·å¾—è¿™ä¸ªç½‘ç«™çš„è®¿é—®æƒé™åæ‰èƒ½ä½¿ç”¨ï¼Œè¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆæœ€è¿‘ç™»é™†ä¸ä¸Šäº†</p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">Public demo server (cors-anywhere.herokuapp.com) will be very limited by January 2021, 31st</span><br><span class="line">The demo server of CORS Anywhere (cors-anywhere.herokuapp.com) is meant to be a demo of this project. But abuse has become so common that the platform where the demo is hosted (Heroku) has asked me to shut down the server, despite efforts to counter the abuse (rate limits in #45 and #164, and blocking other forms of requests). Downtime becomes increasingly frequent (e.g. recently #300, #299, #295, #294, #287) due to abuse and its popularity.</span><br></pre></td></tr></tbody></table></figure>
</blockquote>
<h3 id="Gitalk-Document"><a href="#Gitalk-Document" class="headerlink" title="Gitalk Document"></a>Gitalk Document</h3><blockquote>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">&gt;const gitalk = new Gitalk({</span><br><span class="line"> clientID: 'GitHub Application Client ID',</span><br><span class="line"> clientSecret: 'GitHub Application Client Secret',</span><br><span class="line"> repo: 'GitHub repo',      // The repository of store comments,</span><br><span class="line"> owner: 'GitHub repo owner',</span><br><span class="line"> admin: ['GitHub repo owner and collaborators, only these guys can initialize github issues'],</span><br><span class="line"> id: location.pathname,      // Ensure uniqueness and length less than 50</span><br><span class="line"> distractionFreeMode: false  // Facebook-like distraction free mode</span><br><span class="line">&gt;})</span><br><span class="line"></span><br><span class="line">&gt;gitalk.render('gitalk-container')</span><br></pre></td></tr></tbody></table></figure>
</blockquote>
<h3 id="add"><a href="#add" class="headerlink" title="add"></a>add</h3><blockquote>
<p>åœ¨gitalkç›¸åº”jsæ–‡ä»¶ä¸­æ·»åŠ </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">proxy: '&lt;%- theme.gitalk.proxy %&gt;'</span><br></pre></td></tr></tbody></table></figure>
<p>åœ¨é…ç½®æ–‡ä»¶ä¸­æ·»åŠ </p>
<figure class="highlight plaintext"><table><tbody><tr><td class="code"><pre><span class="line">proxy: https://netnr-proxy.cloudno.de/https://github.com/login/oauth/access_token</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>é‡æ–°éƒ¨ç½²</p>
</blockquote>
<p>æš‚æ—¶é‡‡ç”¨äº†Issueä¸­æ‰¾åˆ°çš„å¯æ›¿ä»£çš„corsï¼Œè¡¨ç¤ºæ„Ÿè°¢.</p>
<hr>
<h3 id="Update-2022-01-02"><a href="#Update-2022-01-02" class="headerlink" title="Update 2022.01.02"></a>Update 2022.01.02</h3><ul>
<li>å¾ˆä¹…æ²¡æ›´æ–°blogäº†ï¼Œè¶è¿™æ¬¡æœ‰æ—¶é—´ç´¢æ€§æŠŠç§¯æ”’ä¸‹æ¥çš„é—®é¢˜ä¸€èµ·è§£å†³<span class="github-emoji"><span>ğŸ‘‹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f44b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
<li>è¿™æ¬¡è¿˜æ˜¯Gitalkçš„é—®é¢˜ï¼Œ<del>è™½ç„¶å¯ä»¥ä½¿ç”¨å…¶ä»–è¯„è®ºæ’ä»¶ï¼Œ</del> ä½†è¿˜æ˜¯æ›´åŠ å–œæ¬¢Gitalkçš„UI</li>
<li>ä¸Šæ–‡å·²ç»è§£å†³äº†<code>403</code>çš„é—®é¢˜ï¼Œæ˜¯é‡‡ç”¨äº†ä¸€ä¸ªIssueé‡Œçš„æ–¹æ³•ï¼Œä½¿ç”¨äº†çƒ­å¿ƒç½‘å‹çš„ä»£</li>
<li>ä½†æ˜¯å‘ç°å®é™…ä¸Šåªç”¨äº†ä¸‰å››ä¸ªæœˆå·¦å³å°±ç”±äºä½¿ç”¨äººæ•°è¿‡å¤šï¼Œæ‰€æœ‰è®¿é—®éƒ½è¿›äº†è¿™ä¸ªä»£ç†ï¼Œåæ¥åº”è¯¥æ˜¯ç½‘å‹å–æ¶ˆäº†ï¼Œä¸å¾—è€ŒçŸ¥ï¼Œå‡ºç°äº†å¥½å‡ ä¸ªæœˆçš„<code>Error:Net error</code></li>
<li>ç»§ç»­æ‰¾é—®é¢˜ä¼šå‘ç°åˆæœ‰ç½‘å‹æå‡ºäº†ä¸Šé¢è¿™ä¸ªæ–¹æ³•ï¼ˆ<strong>å¥½å®¶ä¼™æè¿™å„¿è½¬åœˆåœˆå‘¢</strong>ï¼‰</li>
<li>å¾ˆæœºæ™ºçš„æŠŠ<code>_config.yml</code>é‡Œçš„ä»£ç†æ¸…äº†ï¼Œå‘ç°æœ‰å¸Œæœ›ï¼Œä¸å†æ˜¯ç›´æ¥<code>error</code>äº†ï¼Œæœ‰ç™»å½•éªŒè¯ç•Œé¢ï¼Œä½†å˜æˆ<code>405</code>äº†å¥½å®¶ä¼™ã€‚</li>
<li>å¥½åœ¨æœ‰ä¸ªTaiwançš„ç½‘å‹Kalin Lai<a href="https://github.com/gitalk/gitalk/issues/437">å‘ç°äº†é—®é¢˜</a>ï¼Œæ˜¯gitalk.ejsä¸­çš„ä»£ç†æ²¡åˆ å¹²å‡€ï¼Œæ‰‹åŠ¨ç‹—å¤´ã€‚</li>
<li>åˆ å¹²å‡€åé‡æ–°å‡ºç°äº†<code>403</code>ï¼Œç»§ç»­æ‰¾æ–‡æ¡£ï¼ŒloadingÂ·Â·Â·</li>
<li>æœ€åç»ˆäºæ‰¾åˆ°äº†ï¼Œå¿™æ´»ä¸€ä¸ªå°æ—¶æˆåŠŸè§£å†³ï¼Œåƒé¥­å»äº†</li>
</ul>
<blockquote>
<p>é’ˆå¯¹403çš„é—®é¢˜ï¼ŒGitalkå¼€å‘å›¢é˜Ÿå·²ç»åšäº†ä¿®å¤ï¼Œè§£å†³æ–¹æ³•å¦‚ä¸‹ï¼šæ›´æ–°ç‰ˆæœ¬åˆ° 1.7.2 æˆ–è€…ä¿®æ”¹é…ç½®å¢åŠ <code>proxy: https://cors-anywhere.azm.workers.dev/https://github.com/login/oauth/access_token</code><br>å½“ç„¶ä¹Ÿå¯ä»¥é‡æ–°é…ç½®ä¸ªäººä»£ç†ï¼Œæœ‰æœºä¼šè¯•ä¸€ä¸‹ï¼Œè¿™é‡Œæ’ä¸ªçœ¼</p>
</blockquote>
<h3 id="Update-2022-01-07"><a href="#Update-2022-01-07" class="headerlink" title="Update 2022.01.07"></a>Update 2022.01.07</h3><ul>
<li>æ¥æ›´æ–°äº†ï¼Œè¯•äº†ç”¨Cloudflareåˆ›å»ºä»£ç†</li>
<li>æœ‰å…è´¹çš„ç‰ˆæœ¬ï¼Œæ¯å¤©åä¸‡æ¡ï¼Œæ¯ååˆ†é’Ÿä¸€åƒæ¡è®°å½•</li>
<li>ä½†æ˜¯å‘ç°ä»£ç†åæ•´ä¸ªç½‘ç«™é€Ÿåº¦å—åˆ°å½±å“æ¯”è¾ƒå¤§ï¼Œæ•…æ”¾å¼ƒä½¿ç”¨ï¼Œé€‰æ‹©ç”¨Gitalkå›¢é˜Ÿçš„å®˜æ–¹ä»£ç†ï¼Œç»“æŸã€‚</li>
</ul>
]]></content>
      <categories>
        <category>Gitalk</category>
      </categories>
      <tags>
        <tag>debug</tag>
      </tags>
  </entry>
  <entry>
    <title>application ymlé…ç½®</title>
    <url>/2024/04/12/application%20yml%E9%85%8D%E7%BD%AE/</url>
    <content><![CDATA[<blockquote>
<p><code>SpringBoot</code>å¸¸ç”¨é…ç½®æ–‡ä»¶<code>application.properties</code>æˆ–<code>application.yml</code>è¿›è¡Œå…¨å±€é…ç½®ï¼Œ<code>start.spring.io</code>çš„é»˜è®¤æ˜¯ç”¨<code>properties</code>ï¼Œåªè¦æ”¹æˆ<code>yml</code>æ–‡ä»¶å³å¯ï¼Œä¸ªäººè®¤ä¸ºè¯­æ³•æ›´èˆ’é€‚ï¼Œåœ¨è¿™ç¯‡è®°å½•ä¸€äº›å¸¸ç”¨çš„è®¾ç½®ä»¥åŠå¸¸ç”¨çš„ä¸€äº›åŒ…çš„å‚æ•°ï¼Œä»¥ä¾¿åç»­å¼€å‘è¿‡ç¨‹ä¸­åŠæ—¶ç¿»é˜…ï¼ŒæŒç»­æ›´æ–°ã€‚</p>
</blockquote>
<span id="more"></span>
<h2 id="books-1-applicationé…ç½®æ–‡ä»¶"><a href="#books-1-applicationé…ç½®æ–‡ä»¶" class="headerlink" title=":books: 1. applicationé…ç½®æ–‡ä»¶"></a><span class="github-emoji"><span>ğŸ“š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4da.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 1. applicationé…ç½®æ–‡ä»¶</h2><h3 id="1-1-å…¨å±€é…ç½®æ–‡ä»¶"><a href="#1-1-å…¨å±€é…ç½®æ–‡ä»¶" class="headerlink" title="1.1. å…¨å±€é…ç½®æ–‡ä»¶"></a>1.1. å…¨å±€é…ç½®æ–‡ä»¶</h3><blockquote>
<p>å¯åŠ¨ç±»ä¸‹çš„å…¨å±€é…ç½®ï¼Œä¿®æ”¹<code>SpringBoot</code>åœ¨åº•å±‚çš„é»˜è®¤å€¼</p>
</blockquote>
<ul>
<li><code>application.properties</code></li>
<li><code>application.yml</code></li>
</ul>
<h3 id="1-2-Protertieså’ŒYMLä»¥åŠXMLåŒºåˆ«"><a href="#1-2-Protertieså’ŒYMLä»¥åŠXMLåŒºåˆ«" class="headerlink" title="1.2. Protertieså’ŒYMLä»¥åŠXMLåŒºåˆ«"></a>1.2. Protertieså’ŒYMLä»¥åŠXMLåŒºåˆ«</h3><ul>
<li><p><code>Properties</code></p>
  <figure class="highlight properties"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">server.port</span>=<span class="string">8080</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>YAML</code></p>
  <figure class="highlight yaml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">server:</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">8080</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p><code>XML</code></p>
  <figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">server</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">port</span>&gt;</span>8080<span class="tag">&lt;/<span class="name">port</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="satellite-2-YAMLè¯­æ³•"><a href="#satellite-2-YAMLè¯­æ³•" class="headerlink" title=":satellite: 2. YAMLè¯­æ³•"></a><span class="github-emoji"><span>ğŸ“¡</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4e1.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 2. YAMLè¯­æ³•</h2><h3 id="2-1-åŸºæœ¬è¯­æ³•"><a href="#2-1-åŸºæœ¬è¯­æ³•" class="headerlink" title="2.1. åŸºæœ¬è¯­æ³•"></a>2.1. åŸºæœ¬è¯­æ³•</h3><ul>
<li>KVé”®å€¼å¯¹ï¼Œç©ºæ ¼ç¼©è¿›ï¼ˆä¸€èˆ¬2æ ¼ï¼‰ï¼Œå·¦å¯¹é½çš„ä¸ºåŒä¸€å±‚çº§</li>
<li>å±æ€§å’Œå€¼å¤§å°å†™æ•æ„Ÿï¼Œå€¼ä¸èƒ½ç©ºç€</li>
</ul>
<h3 id="2-2-å­—é¢é‡"><a href="#2-2-å­—é¢é‡" class="headerlink" title="2.2. å­—é¢é‡"></a>2.2. å­—é¢é‡</h3><ul>
<li>å­—ç¬¦ä¸²ï¼Œé»˜è®¤ä¸éœ€è¦ä½¿ç”¨å¼•å·<ul>
<li>å•å¼•å·ï¼Œä¸ä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ä¾‹å¦‚â€™aaa \n bbbâ€™ä¸ä¼šè¾“å‡ºæ¢è¡Œ</li>
<li>åŒå¼•å·ï¼Œä¼šè½¬ä¹‰ç‰¹æ®Šå­—ç¬¦ä¾‹å¦‚â€aaa \n bbbâ€ä¼šè¾“å‡ºæ¢è¡Œ</li>
</ul>
</li>
<li>å¸ƒå°”ï¼Œ<code>True</code>æˆ–<code>true</code>ï¼Œ<code>Flase</code>æˆ–<code>false</code></li>
<li>æ•´æ•°ï¼Œ<code>123</code>æˆ–<code>0b1010_0111_0100_1010_1110</code></li>
<li>æµ®ç‚¹æ•°ï¼Œ<code>0.123</code>æˆ–è€…ç§‘å­¦è®¡æ•°<code>6.85e+5</code></li>
<li><code>NULL</code>ï¼Œå¯ç”¨<code>~</code>è¡¨ç¤º<code>null</code></li>
<li>æ—¥æœŸï¼Œ2024-07-12`ï¼Œæ—¥æœŸä½¿ç”¨ISO 8601æ ¼å¼ï¼Œyyyy-MM-dd</li>
<li>æ—¶é—´ï¼Œ<code>2024-07-12T14:31:00+08:00</code>ï¼Œæ—¶é—´ä½¿ç”¨ISO 8601æ ¼å¼ï¼Œæ—¶é—´å’Œæ—¥æœŸä¹‹é—´ä½¿ç”¨Tè¿æ¥ï¼Œæœ€åä½¿ç”¨+ä»£è¡¨æ—¶åŒº</li>
</ul>
<h3 id="2-3-å¯¹è±¡"><a href="#2-3-å¯¹è±¡" class="headerlink" title="2.3. å¯¹è±¡"></a>2.3. å¯¹è±¡</h3><ul>
<li><p>æ™®é€šçš„ç¼©è¿›è¡¨ç¤ºå±‚çº§è”ç³»</p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">redis:</span></span><br><span class="line">  <span class="attr">host:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.111</span></span><br><span class="line">  <span class="attr">port:</span> <span class="number">6379</span></span><br><span class="line">  <span class="attr">password:</span> <span class="number">123456</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è¡Œå†…å†™æ³•</p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">redis:</span> {<span class="attr">host:</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.111</span>,<span class="attr">port:</span> <span class="number">6379</span>,<span class="attr">password:</span> <span class="number">123456</span>}</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="2-4-æ•°ç»„"><a href="#2-4-æ•°ç»„" class="headerlink" title="2.4. æ•°ç»„"></a>2.4. æ•°ç»„</h3><ul>
<li><p>æ™®é€šå†™æ³•ï¼Œç”¨<code>-</code>è¡¨ç¤º</p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">persons:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">zhangsan</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">lisi</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">wangwu</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>è¡Œå†…å†™æ³•ï¼Œç”¨<code>[]</code></p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">persons:</span> [<span class="string">zhangsan</span>,<span class="string">lisi</span>,<span class="string">wangwu</span>]</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h3 id="2-5-é”šç‚¹"><a href="#2-5-é”šç‚¹" class="headerlink" title="2.5. é”šç‚¹"></a>2.5. é”šç‚¹</h3><ul>
<li><p>ç”¨<code>&amp;</code>å»ºç«‹é”šç‚¹ï¼Œç”¨<code>&lt;&lt;</code>åˆå¹¶æ•°æ®ï¼Œç”¨<code>*</code>å¼•ç”¨é”šç‚¹å†…å®¹</p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">defaults:</span> <span class="meta">&amp;defaults</span></span><br><span class="line">  <span class="attr">host:</span>  <span class="number">192.168</span><span class="number">.1</span><span class="number">.129</span></span><br><span class="line">  <span class="attr">port:</span>  <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="attr">dev:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">dev_db</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*defaults</span></span><br><span class="line"></span><br><span class="line"><span class="attr">prod:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">prod_db</span></span><br><span class="line">  <span class="string">&lt;&lt;:</span> <span class="meta">*defaults</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ç›¸å½“äº</span></span><br><span class="line"><span class="comment"># defaults: </span></span><br><span class="line"><span class="comment">#   host:  192.168.1.111</span></span><br><span class="line"><span class="comment">#   port:  6379</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># dev:</span></span><br><span class="line"><span class="comment">#   database: dev_db</span></span><br><span class="line"><span class="comment">#   host:  192.168.1.111</span></span><br><span class="line"><span class="comment">#   port:  6379</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># prod:</span></span><br><span class="line"><span class="comment">#   database: prod_db</span></span><br><span class="line"><span class="comment">#   host:  192.168.1.111</span></span><br><span class="line"><span class="comment">#   port:  6379</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ç›´æ¥åœ¨é”®åè®¾ç½®é”šç‚¹ï¼ŒåŠ ç©ºæ ¼åç´§è·Ÿå€¼ï¼Œé”šç‚¹åè‡ªå®šä¹‰ï¼Œå¼•ç”¨åŒæ ·ç”¨<code>*</code></p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">defaults:</span> </span><br><span class="line">  <span class="attr">host:</span>  <span class="string">&amp;host</span> <span class="number">192.168</span><span class="number">.1</span><span class="number">.129</span></span><br><span class="line">  <span class="attr">port:</span>  <span class="string">&amp;port</span> <span class="number">8080</span></span><br><span class="line"></span><br><span class="line"><span class="attr">dev:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">dev_db</span></span><br><span class="line">  <span class="attr">host:</span>  <span class="meta">*host</span></span><br><span class="line">  <span class="attr">port:</span>  <span class="meta">*port</span></span><br><span class="line"></span><br><span class="line"><span class="attr">prod:</span></span><br><span class="line">  <span class="attr">database:</span> <span class="string">prod_db</span></span><br><span class="line">  <span class="attr">host:</span>  <span class="meta">*host</span></span><br><span class="line">  <span class="attr">port:</span>  <span class="meta">*port</span></span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
<h2 id="mag-right-3-é…ç½®æ–‡ä»¶æ³¨å…¥"><a href="#mag-right-3-é…ç½®æ–‡ä»¶æ³¨å…¥" class="headerlink" title=":mag_right: 3. é…ç½®æ–‡ä»¶æ³¨å…¥"></a><span class="github-emoji"><span>ğŸ”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f50e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 3. é…ç½®æ–‡ä»¶æ³¨å…¥</h2><ul>
<li>ä¸€èˆ¬ç”¨æ³¨è§£<code>@ConfigurationProperties(prefix = "async.executor.thread")</code>ï¼ŒåŠ ä¸Š<code>@Data</code>æ³¨è§£æˆ–è‡ªå·±å†™<code>getter</code>å’Œ<code>setter</code>æ–¹æ³•<ul>
<li>é…åˆ<code>@Component</code>å®šä¹‰ç»„ä»¶ï¼Œæ¥å®šä¹‰é…ç½®æ•°æ®çš„ç»“æ„Properties</li>
<li>å†é…åˆ<code>@Configuration</code>ä½¿ç”¨ï¼Œç”¨äºå®šä¹‰é…ç½®ç±»ï¼Œå†åœ¨é…ç½®ç±»ä¸­æ³¨å…¥é…ç½®æ–‡ä»¶çš„ç»“æ„Propertiesï¼Œå½“ç„¶ä¹Ÿå¯åˆå¹¶æˆä¸€æ­¥</li>
</ul>
</li>
<li>åªæœ‰å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰èƒ½æä¾›<code>@ConfigurationProperties</code>åŠŸèƒ½</li>
<li><p><code>prefix = "xxx.xxx"</code>æ˜¯æ˜ å°„è¯¥è·¯å¾„ä¸‹çš„é…ç½®æ–‡ä»¶ï¼Œè¿™é‡Œå®šä¹‰å¥½<code>getter</code>å’Œ<code>setter</code>æ–¹æ³•å°±èƒ½ç›´æ¥è°ƒç”¨<code>setKeepAliveSeconds(int keepAliveSeconds)</code>ç­‰æ–¹æ³•</p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">async:</span></span><br><span class="line"><span class="attr">executor:</span></span><br><span class="line">    <span class="attr">thread:</span></span><br><span class="line">    <span class="attr">keepAliveSeconds:</span> <span class="number">60</span></span><br><span class="line">    <span class="attr">namePrefix:</span> <span class="string">async-service-</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å¯èƒ½éœ€è¦<code>@ComponentScan(basePackages = {"com.***", "com.***"})</code>ï¼Œæ‰«æç»„ä»¶æ‰€åœ¨çš„<code>module</code></p>
</li>
<li><p>å¯é€‰å¯¼å…¥é…ç½®æ–‡ä»¶å†²å¤„ç†å™¨ï¼Œè¿™æ ·ä¼šæœ‰æç¤º</p>
  <figure class="highlight xml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">optional</span>&gt;</span>true<span class="tag">&lt;/<span class="name">optional</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å¯é€‰ç”¨@Valueé…ç½®</p>
<ul>
<li><p>è‹¥è¦åœ¨æŸä¸ªä¸šåŠ¡é€»è¾‘ä¸­è¦ç”¨åˆ°é…ç½®çš„å€¼ï¼Œå¯ä»¥ç”¨<code>@Value</code>ï¼Œè‹¥å·²ç»æ•´ä½“è®¾è®¡äº†é…ç½®ç±»çš„ç»„ä»¶ï¼Œåˆ™å»ºè®®ç”¨<code>@ConfigurationProperties</code>æ‰¹é‡æ³¨å…¥</p>
<figure class="highlight java"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta">@Value("${thread.keepAliveSeconds}")</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> keepAliveSeconds;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>ä¸æ”¯æŒæ¾æ•£ç»‘å®š(Relaxed bindiing)ï¼Œæ‰¹é‡æ³¨å…¥æ”¯æŒï¼Œ<code>firstName</code>å’Œ<code>first-name</code>å’Œ<code>first_name</code></p>
</li>
<li>æ”¯æŒSPELï¼Œæ‰¹é‡æ³¨å…¥ä¸æ”¯æŒ</li>
<li>ä¸æŒæ”¯mapã€å¯¹è±¡ç­‰å¤æ‚ç±»å‹ä»¥åŠJSR303æ ¡éªŒ</li>
</ul>
</li>
</ul>
<h2 id="zzz-4-å¤šç¯å¢ƒæ”¯æŒ"><a href="#zzz-4-å¤šç¯å¢ƒæ”¯æŒ" class="headerlink" title=":zzz: 4. å¤šç¯å¢ƒæ”¯æŒ"></a><span class="github-emoji"><span>ğŸ’¤</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a4.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span> 4. å¤šç¯å¢ƒæ”¯æŒ</h2><ul>
<li><code>application-{profile}.properties/yml</code>åœ¨æµ‹è¯•ç¯å¢ƒå’Œç”Ÿæˆç¯å¢ƒç”¨ä¸åŒçš„é…ç½®ï¼ŒåŒ…æ‹¬ä¸€äº›<code>id</code>å’Œ<code>key</code>ç­‰é‡è¦çš„ä¿¡æ¯åˆ‡æ¢ï¼Œä¾‹å¦‚<code>application-dev.yml</code>å’Œ<code>application-prod.yml</code>ï¼Œå†ç”¨<code>${xxx.xxx.driver-class-name}</code>åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸­å¼•å…¥ä¸åŒç¯å¢ƒçš„é…ç½®å‚æ•°</li>
<li><code>properties</code>ä¼˜å…ˆçº§å¤§äºåŒçº§åˆ«çš„<code>yml</code>ï¼Œè¦ä¹ˆåˆ æ‰è¦ä¹ˆç¡®ä¿å†…æœ‰ç›¸åŒå†…å®¹è¢«æŒ‡å®š</li>
<li><p>æŒ‡å®šæµ‹è¯•æˆ–ç”Ÿäº§ç¯å¢ƒï¼Œå¯ä»¥åœ¨<code>application.yml</code>ä¸­æŒ‡å®šï¼Œæˆ–è€…æ‰“åŒ…jaræ—¶é…ç½®å¯åŠ¨å‚æ•°<code>Program arguments</code>ä¸º<code>--spring.profiles.active=dev</code>æˆ–è€…é…ç½®è™šæ‹Ÿæœºå‚æ•°<code>VM options</code>ä¸º<code>-Dspring.profiles.active=dev</code></p>
  <figure class="highlight yml"><table><tbody><tr><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">profiles:</span></span><br><span class="line">    <span class="attr">active:</span> <span class="string">"dev"</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>åŠ è½½é¡ºåº</p>
  <figure class="highlight md"><table><tbody><tr><td class="code"><pre><span class="line">â€“file:./config/ï¼ˆæ ¹ç›®å½•ä¸‹çš„configæ–‡ä»¶å¤¹ï¼‰</span><br><span class="line"></span><br><span class="line">â€“file:./ï¼ˆæ ¹ç›®å½•ä¸‹ï¼‰</span><br><span class="line"></span><br><span class="line">â€“classpath:/config/ï¼ˆresources/configï¼‰</span><br><span class="line"></span><br><span class="line">â€“classpath:/ï¼ˆresourcesï¼‰</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>å¯åŠ¨ç±»å¼€å¯<code>@EnableAutoConfiguration</code>ï¼ˆ<code>@SpringBootApplication</code>å·²ç»å¼•å…¥ï¼Œä¸ç”¨é‡å¤ï¼‰</p>
</li>
</ul>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>SprinBoot</tag>
        <tag>application</tag>
      </tags>
  </entry>
  <entry>
    <title>VS2019ä»£ç æç¤ºå»¶è¿Ÿå¾ˆé«˜ï¼Œéƒ¨åˆ†å¿«æ·é”®æ— æ³•ä½¿ç”¨çš„é—®é¢˜</title>
    <url>/2021/02/26/Visual%20Studio%E5%87%BA%E7%8E%B0%E4%BB%A3%E7%A0%81%E6%8F%90%E7%A4%BA%E5%BB%B6%E8%BF%9F%EF%BC%8C%E9%83%A8%E5%88%86%E5%BF%AB%E6%8D%B7%E9%94%AE%E6%97%A0%E6%B3%95%E4%BD%BF%E7%94%A8/</url>
    <content><![CDATA[<h3 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h3><ul>
<li>Visual Studio ä¸Nvidia CUDA NSightVSEå†²çª</li>
</ul>
<h3 id="ç°è±¡"><a href="#ç°è±¡" class="headerlink" title="ç°è±¡"></a>ç°è±¡</h3><ul>
<li>Tabã€Ctrlâ€™+C ã€ Ctrlâ€™+K ç­‰å¿«æ·é”®å¤±æ•ˆï¼Œæ™ºèƒ½ä»£ç æç¤ºä¸èƒ½æ­£å¸¸æ˜¾ç¤ºï¼Œæœ‰æ—¶ä¸ä¼šå‡ºç°ï¼Œæœ‰æ—¶è¦ç­‰å››äº”ç§’ï¼Œéå¸¸ä¸æ­£å¸¸</li>
</ul>
<blockquote>
<p>Settingä¸­æ£€æŸ¥è®¾ç½®æ— è¯¯ï¼Œå°è¯•è¿‡é‡å¯ã€é‡ç½®ä¸ªäººé…ç½®ã€é‡è£…ç­‰å‡æ— æ•ˆ<br>å¾ˆé•¿ä¸€æ®µæ—¶é—´æ²¡æœ‰ä½¿ç”¨è¿‡vsï¼Œä¹‹å‰è£…äº†æ¯”è¾ƒæ–°çš„Nvidia CUDAï¼ŒåŒæ—¶é™„å¸¦çš„æœ‰NSightVSEï¼Œä¹Ÿå°±æ˜¯è®¾è®¡vsçš„æ‹“å±•ï¼Œé—®é¢˜å‡ºåœ¨è¿™é‡Œ</p>
</blockquote>
<span id="more"></span>
<h3 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h3><blockquote>
<p>å¸è½½NSightVSEæˆ–è€…å…¶ä»–Nvidiaå’Œvsç›¸å…³çš„æ‹“å±•ï¼Œé‡å¯vsåç”Ÿæ•ˆ<br>æ­£å¸¸æƒ…å†µæœç´¢NsightVSEä¼šå‡ºç°å››ä¸ªï¼Œä¿ç•™ä¸‹åˆ—ä¸‰ä¸ªå³å¯ï¼Œç‰ˆæœ¬ä»…ä¾›å‚è€ƒï¼Œå¯èƒ½å…¶ä»–ç‰ˆæœ¬ä¸ä¼šå‡ºç°å¦‚ä¸Šé—®é¢˜ã€‚<br>Nvidia CUDA Nsight NVTX 11.1<br>Nvidia Nsight Compute 2020.2.0<br>Nvidia Nsight Systems 2020.3.4</p>
</blockquote>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Debug</tag>
        <tag>Nvidia CUDA</tag>
        <tag>Visual Studio</tag>
      </tags>
  </entry>
  <entry>
    <title>Hexo_begin</title>
    <url>/2021/01/31/hexo_begin/</url>
    <content><![CDATA[<h2 id="æœºåˆ¶ä»‹ç»"><a href="#æœºåˆ¶ä»‹ç»" class="headerlink" title="æœºåˆ¶ä»‹ç»"></a>æœºåˆ¶ä»‹ç»</h2><p><code>hexo d</code>ä¸Šä¼ éƒ¨ç½²åˆ°Githubçš„å…¶å®æ˜¯hexoç¼–è¯‘åçš„æ–‡ä»¶é™æ€æ–‡ä»¶ï¼Œç”¨äºç”Ÿæˆç½‘é¡µï¼Œä¸åŒ…å«æºæ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¸Šä¼ <code>.deploy_git</code>ä¸­çš„æ–‡ä»¶ï¼Œå…¶ä»–æ–‡ä»¶ï¼ŒåŒ…æ‹¬<code>source</code>é‡Œé¢çš„å’Œä¸€äº›é…ç½®ã€ä¸»é¢˜æ–‡ä»¶éƒ½ä¸ä¼šä¸Šä¼ åˆ°GitHubï¼Œè€ƒè™‘åˆ°å¯èƒ½ä¼šåœ¨ä¸åŒä¸»æœºå‘å¸ƒï¼Œå› æ­¤å°†<code>hexo d</code>æ“ä½œä¸ä¼šä¸Šä¼ çš„æ–‡ä»¶ä¸»åŠ¨<code>git</code>åˆ°å¦ä¸€ä¸ªåˆ†æ”¯ã€‚</p>
<span id="more"></span>
<hr>
<h2 id="æ–°å»ºå¤‡ä»½åˆ†æ”¯"><a href="#æ–°å»ºå¤‡ä»½åˆ†æ”¯" class="headerlink" title="æ–°å»ºå¤‡ä»½åˆ†æ”¯"></a>æ–°å»ºå¤‡ä»½åˆ†æ”¯</h2><ol>
<li><p>é¦–å…ˆåœ¨Githubä¸Šæ–°å»ºä¸€ä¸ª<code>hexo_backup</code>åˆ†æ”¯å¹¶ä¸”è®¾ç½®ä¸ºé»˜è®¤åˆ†æ”¯ï¼Œä»¥ä¾¿åœ¨æ¯æ¬¡åŒæ­¥çš„æ—¶å€™ä¸ç”¨æŒ‡å®šåˆ†æ”¯ï¼Œæ¯”è¾ƒæ–¹ä¾¿ï¼Œç”¨äºå¤‡ä»½æºæ–‡ä»¶ã€‚</p>
</li>
<li><p>åœ¨æœ¬åœ°<code>blog_local</code>ç›®å½•ä¸‹<code>git clone git@github.com:boom1999/boom1999.github.io.git</code>,æ­¤æ—¶ç”±äºé»˜è®¤åˆ†æ”¯ä¸ºhexo_backupï¼Œæ‰€ä»¥åªæ˜¯cloneäº†hexo_backupã€‚åœ¨cloneä¸‹çš„ç›®å½•é‡Œå°†<code>.git</code>ä»¥å¤–çš„æ–‡ä»¶å…¨éƒ¨åˆ é™¤ï¼Œå°†æºæ–‡ä»¶ï¼ˆåŒ…æ‹¬<code>.gitignore</code>ï¼‰å…¨éƒ¨å¤åˆ¶è¿‡æ¥ã€‚ï¼ˆ<code>.deploy_git</code>ä¸éœ€è¦ï¼Œè¿™æ˜¯ç”Ÿæˆçš„é™æ€æ–‡ä»¶ï¼Œä¹Ÿå°±æ˜¯ä¼špushåˆ°masteråˆ†æ”¯ä¸­çš„æ–‡ä»¶ï¼‰ã€‚å¦‚æœæ²¡æœ‰<code>.gitignore</code>ï¼Œå¿½ç•¥pushè¿™éƒ¨åˆ†æ–‡ä»¶ï¼Œè¯·æ‰‹åŠ¨æ·»åŠ ï¼š</p>
<pre><code> .DS_Store
 Thumbs.db
 db.json
 *.log
 node_modules/
 public/
 .deploy*/
</code></pre></li>
<li><p>å°†æºæ–‡ä»¶pushåˆ°hexo_backupåˆ†æ”¯,ä¸Šä¼ åGitHubä¸Šçš„hexo_backupåˆ†æ”¯å¤‡ä»½å®Œæˆ</p>
<pre><code> git add .
 git commit â€“m "your commit"
 git push 
</code></pre></li>
</ol>
<hr>
<h2 id="æ›´æ¢ç¯å¢ƒæ“ä½œ"><a href="#æ›´æ¢ç¯å¢ƒæ“ä½œ" class="headerlink" title="æ›´æ¢ç¯å¢ƒæ“ä½œ"></a>æ›´æ¢ç¯å¢ƒæ“ä½œ</h2><ul>
<li>åˆ›å»ºä¸€ä¸ªæ–°çš„<code>blog_local</code>æ–‡ä»¶å¤¹</li>
<li>å®‰è£…<code>git</code>å’Œ<code>nodejs</code></li>
<li><p>è®¾ç½®gitå…¨å±€é‚®ç®±å’Œç”¨æˆ·å</p>
<pre><code>  git config --global user.name "yourgithubname"
  git config --global user.email "yourgithubemail"
</code></pre></li>
<li><p>è®¾ç½®<code>ssh key</code></p>
<pre><code>  ssh-keygen -t rsa -C "youremail"
  #ç”Ÿæˆåå…¬é’¥æ·»åŠ åˆ°GitHubä»“åº“ä¸­
  #éªŒè¯æ˜¯å¦æˆåŠŸ
  ssh -T git@github.com
</code></pre></li>
<li><p>å®‰è£…hexoï¼ˆä¸éœ€è¦hexo initï¼Œå› ä¸ºæ•´ä½“æ¡†æ¶ä¼šè¢«cloneä¸‹æ¥ï¼‰</p>
<pre><code>  npm install hexo-cli -g
  #æˆ–è€…å±€éƒ¨å®‰è£…
  npm install hexo
</code></pre></li>
<li><p><code>clone</code>åˆ°æœ¬åœ°æ“ä½œ</p>
<pre><code>  git clone git@github.com:boom1999/boom1999.github.io.git
</code></pre></li>
<li><p>è¿›å…¥æœ¬åœ°æ–‡ä»¶</p>
<pre><code>  cd boom1999.github.io
  npm install
</code></pre></li>
<li><p>å®‰è£…åä¸º<code>hexo-deployer-git</code>çš„éƒ¨ç½²å™¨æ’ä»¶ï¼Œé€šè¿‡è¯¥æ’ä»¶å°±èƒ½å®ç°ä¸€é”®éƒ¨ç½²</p>
<pre><code>  npm install hexo-deployer-git --save
</code></pre></li>
<li><p>æ·»åŠ æ–°æ–‡ä»¶<code>source/_posts</code>ï¼Œç”Ÿæˆï¼Œéƒ¨ç½²</p>
<pre><code>  hexo g
  hexo d
</code></pre></li>
</ul>
<h3 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h3><ul>
<li><p>æ¯æ¬¡å†™å®Œä¸è¦å¿˜äº†å¤‡ä»½æºæ–‡ä»¶</p>
<pre><code>  git add .
  git commit â€“m "your commit"
  git push 
</code></pre></li>
<li>å¦‚æœæ˜¯åœ¨å·²ç»ç›®å‰ä½¿ç”¨çš„æœºå™¨ï¼Œå¦‚åœ¨å…¶ä»–æœºå™¨ä¸Šæ›´æ–°è¿‡ï¼Œæ¯æ¬¡<strong>ä½¿ç”¨å‰</strong>åªè¦è¿œç«¯åŒæ­¥ä¸€ä¸‹å°±è¡Œ<code>git pull</code></li>
</ul>
<hr>
<ul>
<li><code>2021/01/30æµ‹è¯•é€šè¿‡</code></li>
<li>ä¸‹ä¸€æ­¥å‡†å¤‡éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ï¼ŒGitHubä½œå¤‡ä»½ç”¨</li>
</ul>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
      </tags>
  </entry>
  <entry>
    <title>åŸºäºWebhookçš„åŒæ­¥éƒ¨ç½²</title>
    <url>/2024/04/01/%E5%88%A9%E7%94%A8Webhook%E5%B0%86Hexo%E5%8D%9A%E5%AE%A2%E5%90%8C%E6%AD%A5%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/</url>
    <content><![CDATA[<blockquote>
<p>å¯„äººç¯±ä¸‹ä¸æ˜¯é•¿ä¹…ä¹‹è®¡ï¼Œä¸‹æ–‡å±•å¼€ä»‹ç»åˆ©ç”¨Webhookå°†Hexoåšå®¢éƒ¨ç½²åˆ°è‡ªå·±çš„æœåŠ¡å™¨ä¸Šï¼ŒåŒæ—¶github-pegesä½œä¸ºé•œåƒç«™ä½¿ç”¨ï¼Œæ¥ä¸Šä¸€ç¯‡ï¼Œé»˜è®¤åˆ†æ”¯hexo_backupä½œä¸ºæºæ–‡ä»¶å¤‡ä»½ï¼Œmasterä½œä¸»é¡µ</p>
</blockquote>
<span id="more"></span>
<ul>
<li>å‰ææ¡ä»¶ï¼šå·²æœ‰github.ioä»“åº“ï¼Œhexoåšå®¢å·²ç»ä¸Šçº¿æµ‹è¯•å¯ä»¥ä½¿ç”¨ï¼Œå·²æœ‰<code>nginx</code>ã€<code>git</code>ã€<code>node</code>ç­‰åŸºç¡€ï¼Œå¯å‚è€ƒä¸Šä¸€ç¯‡ç¬”è®°</li>
<li>çœç•¥äº†ä¸€äº›æ¬¡è¦æ­¥éª¤ï¼ŒåŸŸåè§£æã€å¤‡æ¡ˆç­‰</li>
</ul>
<hr>
<h2 id="æœåŠ¡å™¨Webhookéƒ¨åˆ†-2021-02-01"><a href="#æœåŠ¡å™¨Webhookéƒ¨åˆ†-2021-02-01" class="headerlink" title="æœåŠ¡å™¨Webhookéƒ¨åˆ†: 2021-02-01"></a>æœåŠ¡å™¨Webhookéƒ¨åˆ†: 2021-02-01</h2><ul>
<li>åˆ©ç”¨å®å¡”å¹³å°çš„Webhookæ’ä»¶</li>
</ul>
<blockquote>
<p>åç§°éšæ„ï¼Œå®ä¾‹è„šæœ¬å¦‚ä¸‹<br>gitPath=â€/www/wwwroot/YourWebsiteLocation/â€œ<br>gitHttp=â€<a href="https://github.com/YourGithubName/xxxxxxxx.github.io.git">https://github.com/YourGithubName/xxxxxxxx.github.io.git</a>â€œ<br>è‹¥å¤±è´¥ï¼Œå¯è€ƒè™‘åŠ ä¸Š<code>sudo</code>ä½¿ç”¨ç®¡ç†å‘˜æƒé™</p>
</blockquote>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo ""</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¾“å‡ºå½“å‰æ—¶é—´</span></span><br><span class="line">date --date='0 days ago' "+%Y-%m-%d %H:%M:%S"</span><br><span class="line">echo "Start"</span><br><span class="line">    </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">gité¡¹ç›®è·¯å¾„</span></span><br><span class="line">gitPath=" "</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">git ç½‘å€</span></span><br><span class="line">gitHttp=" "</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">å»¶è¿Ÿé«˜å¯ä»¥åŠ https://ghproxy.com/ä»£ç†</span></span><br><span class="line"></span><br><span class="line">echo "Webç«™ç‚¹è·¯å¾„ï¼š$gitPath"</span><br><span class="line">     </span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ¤æ–­é¡¹ç›®è·¯å¾„æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">if [ -d "$gitPath" ]; then</span><br><span class="line">    cd $gitPath</span><br><span class="line">    #åˆ¤æ–­æ˜¯å¦å­˜åœ¨gitç›®å½•</span><br><span class="line">    if [ ! -d ".git" ]; then</span><br><span class="line">            echo "åœ¨è¯¥ç›®å½•ä¸‹å…‹éš† git"</span><br><span class="line">            sudo git clone $gitHttp gittemp</span><br><span class="line">            sudo mv gittemp/.git .</span><br><span class="line">            sudo rm -rf gittemp</span><br><span class="line">    fi</span><br><span class="line">    echo"æ‹‰å–æœ€æ–°çš„é¡¹ç›®æ–‡ä»¶"</span><br><span class="line">    sudo git reset --hard origin/master</span><br><span class="line">    sudo git pull origin master</span><br><span class="line">    echo"è®¾ç½®ç›®å½•æƒé™"</span><br><span class="line">    sudo chown -R www:www $gitPath</span><br><span class="line">    date --date='0 days ago' "+%Y-%m-%d %H:%M:%S"</span><br><span class="line">    echo "End"</span><br><span class="line">    exit</span><br><span class="line">else</span><br><span class="line">    echo "è¯¥é¡¹ç›®è·¯å¾„ä¸å­˜åœ¨"</span><br><span class="line">    echo "End"</span><br><span class="line">    exit</span><br><span class="line">fi</span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Hexo_synchronization/Webhook01.png" alt="å®å¡”Webhook"></p>
<h2 id="Githubè®¾ç½®Webhook"><a href="#Githubè®¾ç½®Webhook" class="headerlink" title="Githubè®¾ç½®Webhook"></a>Githubè®¾ç½®Webhook</h2><ul>
<li><p>æŸ¥çœ‹å¯†é’¥<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Hexo_synchronization/Webhook02.png" alt="å®å¡”WebhookæŸ¥çœ‹å¯†é’¥"></p>
</li>
<li><p>åˆ‡æ¢åˆ°Githubé¡¹ç›®çš„Settings-Webhooks</p>
</li>
<li><p>Add Webhook</p>
</li>
</ul>
<blockquote>
<p><strong>Payload URL:</strong> <code>http://æœåŠ¡å™¨ip:8888?hook?access_key=xxxxx</code><br><strong>Content type:</strong> <code>application/json</code><br><strong>Secret:</strong> <code>Key</code><br><strong>Which events would you like to trigger this webhook?</strong><br>chooseï¼šJust the push event.<br>âˆš<strong>Active</strong></p>
</blockquote>
<ul>
<li>æµ‹è¯•ï¼Œæœ¬åœ°æ›´æ”¹sourceså<code>hexo g</code>+<code>hexo d</code></li>
<li>ç¬¬ä¸€æ¬¡çº¢äº†æ˜¯å› ä¸ºå°†Githubä¸­Webhookçš„Content typeè®¾ç½®æˆäº†<code>application/x-www-form-urlencoded</code>ï¼Œæ”¹æˆ<code>application/json</code>é€šè¿‡<br><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/Hexo_synchronization/Webhook03.png" alt="Webhookæµ‹è¯•"></li>
</ul>
<hr>
<h2 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h2><ol>
<li>æœåŠ¡å™¨éœ€è¦å¼€æ”¾8888ç«¯å£ï¼Œå¦‚æœä½¿ç”¨å…¶ä»–ç«¯å£åŒæ ·éœ€è¦æ‰“å¼€</li>
<li>ä¸¤è€…éƒ½æ˜¯è¡¨å•æ•°æ®å‘é€æ—¶çš„ç¼–ç ç±»å‹<br> application/x-www-form-urlencoded â€”&gt; key=value&amp;key=value</li>
<li>ä¸€èˆ¬æƒ…å†µä¸‹éƒ½ä¼šæ­£å¸¸åŒæ­¥ï¼Œå¦‚æœé•¿æ—¶é—´æœªupdateï¼Œå¯èƒ½æ˜¯DNSçš„é—®é¢˜ï¼Œå¯ä»¥è€ƒè™‘é€‰æ‹©ä¸€ä¸ªè¿æ¥é€Ÿåº¦è¾ƒå¿«çš„GitHubçš„ipæ·»åŠ åˆ°/etc/hostså¹¶ä¸”åˆ·æ–°</li>
</ol>
<hr>
<h2 id="Update-20240401"><a href="#Update-20240401" class="headerlink" title="Update: 20240401"></a>Update: 20240401</h2><blockquote>
<p><a href="https://mirror.ghproxy.com/">åŸæœ‰çš„ä»£ç†å–œæGFWï¼Œæ”¹ç”¨å¤‡ç”¨ç«™ç‚¹</a></p>
</blockquote>
<p>ç›¸åº”çš„ï¼ŒWebHookéƒ¨åˆ†é€‚å½“ä¿®æ”¹</p>
<figure class="highlight shell"><table><tbody><tr><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">!/bin/bash</span></span><br><span class="line">echo ""</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">è¾“å‡ºå½“å‰æ—¶é—´</span></span><br><span class="line">date --date='0 days ago' "+%Y-%m-%d %H:%M:%S"</span><br><span class="line">echo "Start"</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">gité¡¹ç›®è·¯å¾„</span></span><br><span class="line">gitPath=" "</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">git ç½‘å€</span></span><br><span class="line">gitSSH="https://mirror.ghproxy.com/https://github.com/username/repo"</span><br><span class="line"> </span><br><span class="line">echo "Webç«™ç‚¹è·¯å¾„ï¼š$gitPath"</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">åˆ¤æ–­é¡¹ç›®è·¯å¾„æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">if [ -d "$gitPath" ]; then</span><br><span class="line">    cd $gitPath</span><br><span class="line">    #åˆ¤æ–­æ˜¯å¦å­˜åœ¨gitç›®å½•</span><br><span class="line"> if [ ! -d ".git" ]; then  </span><br><span class="line">        echo "Cloning the git repository into the directory"  </span><br><span class="line">        sudo git clone $gitSSH .  </span><br><span class="line">    fi</span><br><span class="line">    echo "æ‹‰å–æœ€æ–°çš„é¡¹ç›®æ–‡ä»¶"</span><br><span class="line">    sudo git reset -- hard origin/master</span><br><span class="line">    sudo git pull origin master</span><br><span class="line">    </span><br><span class="line">    echo "è®¾ç½®ç›®å½•æƒé™"</span><br><span class="line">    sudo chown -R www:www $gitPath</span><br><span class="line"> date --date='0 days ago' "+%Y-%m-%d %H:%M:%S"</span><br><span class="line">    echo "End"</span><br><span class="line">    exit</span><br><span class="line">else</span><br><span class="line">    echo "è¯¥é¡¹ç›®è·¯å¾„ä¸å­˜åœ¨"</span><br><span class="line">    echo "End"</span><br><span class="line">    exit</span><br><span class="line">fi</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Blog</category>
      </categories>
      <tags>
        <tag>Hexo</tag>
        <tag>Webhook</tag>
      </tags>
  </entry>
  <entry>
    <title>UAV Track Planning Algorithms</title>
    <url>/2022/11/24/UAV%20Track%20Planning%20Algorithms/</url>
    <content><![CDATA[<p><strong>æ‘˜è¦</strong>ï¼šæ— äººæœº(Unmanned Aerial Vehicle, UAV)æ˜¯æŒ‡èƒ½å¤Ÿåœ¨è„±ç¦»äººå‘˜çš„ä¸»åŠ¨å¹²é¢„ä¸‹ï¼Œä¾æ®è‡ªèº«å¯¹å‘¨å›´ç¯å¢ƒè¿›è¡Œæ„ŸçŸ¥ã€ç†è§£å¹¶è¿›è¡Œè‡ªä¸»é£è¡Œæ§åˆ¶çš„é£è¡Œå™¨ã€‚æ— äººæœºå› å…¶å…·å¤‡ä½æˆæœ¬ã€é€‚ç”¨åœºæ™¯å¤šã€æ— äººå‘˜ä¼¤äº¡ç­‰ä¼˜ç‚¹ï¼Œå·²æˆä¸ºä¸–ç•Œå„å›½ä¸ºé€‚åº”æœªæ¥æˆ˜åœºéœ€è¦è€Œé‡ç‚¹ç ”ç©¶çš„å†…å®¹ã€‚éšç€èˆªç©ºæŠ€æœ¯çš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„æ— äººæœºæ›¿ä»£é£è¡Œå‘˜æ‰§è¡Œé«˜å±é™©å’Œé«˜å¼ºåº¦çš„å†›äº‹ä¾¦å¯Ÿæ‰“å‡»ã€æ°‘ç”¨å·¡æ£€æœæ•‘ç­‰ä»»åŠ¡ï¼Œæ— äººæœºçš„èˆªè¿¹è§„åˆ’é—®é¢˜æ—¥ç›Šå—åˆ°é‡è§†ã€‚èˆªè¿¹è§„åˆ’é—®é¢˜èµ·æºäºæœºå™¨äººçš„è¿åŠ¨è§„åˆ’ï¼Œèˆªè¿¹è§„åˆ’å°±ç®—ç»¼åˆè€ƒè™‘ç¯å¢ƒå’Œç›®æ ‡ä»»åŠ¡è§„åˆ’æœ€ä¼˜çš„é£è¡Œè·¯å¾„ï¼Œæœ¬è´¨ä¸ºå¤šçº¦æŸæ¡ä»¶ä¸‹çš„æœ€ä¼˜åŒ–é—®é¢˜ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯å»ºç«‹ç›®æ ‡å‡½æ•°æ¨¡å‹ï¼Œæœ‰æ•ˆå¤„ç†å„é¡¹çº¦æŸï¼Œè€Œæ— äººæœºé£è¡Œæ¶‰åŠçš„çº¦æŸæ¡ä»¶ä¼—å¤šï¼Œç›®å‰å¤§å¤šæ•°å­¦è€…é¦–å…ˆé€šè¿‡æ±‚è§£å…¨å±€æœ€ä¼˜è·¯å¾„ï¼Œåœ¨å¯¹å±€éƒ¨çº¦æŸè¿›è¡Œèˆªè¿¹åŠ¨æ€ä¼˜åŒ–ã€‚å®é™…ç¯å¢ƒç¬æ¯ä¸‡å˜ï¼Œå¤æ‚çš„ç”µç£å¹²æ‰°ç­‰é—®é¢˜éšæ—¶éƒ½ä¼šå½±å“æ— äººæœºçš„é£è¡Œï¼Œæ— äººæœºèˆªè¿¹è§„åˆ’éœ€è¦æ™ºèƒ½ã€å®æ—¶æ€§é«˜ã€å¯é æ€§å¼ºçš„ä¼˜ç§€ç®—æ³•ä½œä¸ºæ”¯æ’‘ã€‚</p>
<p><strong>å…³é”®è¯</strong>ï¼šæ— äººæœºã€èˆªè¿¹è§„åˆ’</p>
<span id="more"></span>
<h2 id="1-ç»ªè®º"><a href="#1-ç»ªè®º" class="headerlink" title="1  ç»ªè®º"></a>1  ç»ªè®º</h2><p>æ— äººæœº(Unmanned Aerial Vehicle, UAV)æ˜¯æŒ‡èƒ½å¤Ÿåœ¨è„±ç¦»äººå‘˜çš„ä¸»åŠ¨å¹²é¢„ä¸‹ï¼Œä¾æ®è‡ªèº«å¯¹å‘¨å›´ç¯å¢ƒè¿›è¡Œæ„ŸçŸ¥ã€ç†è§£å¹¶è¿›è¡Œè‡ªä¸»é£è¡Œæ§åˆ¶çš„é£è¡Œå™¨ã€‚æ— äººæœºå› å…¶å…·å¤‡ä½æˆæœ¬ã€é€‚ç”¨åœºæ™¯å¤šã€æ— äººå‘˜ä¼¤äº¡ç­‰ä¼˜ç‚¹ï¼Œå·²æˆä¸ºä¸–ç•Œå„å›½ä¸ºé€‚åº”æœªæ¥æˆ˜åœºéœ€è¦è€Œé‡ç‚¹ç ”ç©¶çš„å†…å®¹ã€‚</p>
<p>éšç€èˆªç©ºæŠ€æœ¯çš„å‘å±•ï¼Œè¶Šæ¥è¶Šå¤šçš„æ— äººæœºæ›¿ä»£é£è¡Œå‘˜æ‰§è¡Œé«˜å±é™©å’Œé«˜å¼ºåº¦çš„å†›äº‹ä¾¦å¯Ÿæ‰“å‡»ã€æ°‘ç”¨å·¡æ£€æœæ•‘ç­‰ä»»åŠ¡ï¼Œæ— äººæœºçš„èˆªè¿¹è§„åˆ’é—®é¢˜æ—¥ç›Šå—åˆ°é‡è§†ã€‚èˆªè¿¹è§„åˆ’é—®é¢˜èµ·æºäºæœºå™¨äººçš„è¿åŠ¨è§„åˆ’ï¼Œèˆªè¿¹è§„åˆ’å°±ç®—ç»¼åˆè€ƒè™‘ç¯å¢ƒå’Œç›®æ ‡ä»»åŠ¡è§„åˆ’æœ€ä¼˜çš„é£è¡Œè·¯å¾„ï¼Œæœ¬è´¨ä¸ºå¤šçº¦æŸæ¡ä»¶ä¸‹çš„æœ€ä¼˜åŒ–é—®é¢˜[1]ï¼Œæ ¸å¿ƒæ€æƒ³å°±æ˜¯å»ºç«‹ç›®æ ‡å‡½æ•°æ¨¡å‹ï¼Œæœ‰æ•ˆå¤„ç†å„é¡¹çº¦æŸï¼Œè€Œæ— äººæœºé£è¡Œæ¶‰åŠçš„çº¦æŸæ¡ä»¶ä¼—å¤šï¼Œç›®å‰å¤§å¤šæ•°å­¦è€…é¦–å…ˆé€šè¿‡æ±‚è§£å…¨å±€æœ€ä¼˜è·¯å¾„ï¼Œåœ¨å¯¹å±€éƒ¨çº¦æŸè¿›è¡Œèˆªè¿¹åŠ¨æ€ä¼˜åŒ–[2]ã€‚å®é™…ç¯å¢ƒç¬æ¯ä¸‡å˜ï¼Œå¤æ‚çš„ç”µç£å¹²æ‰°ç­‰é—®é¢˜éšæ—¶éƒ½ä¼šå½±å“æ— äººæœºçš„é£è¡Œï¼Œæ— äººæœºèˆªè¿¹è§„åˆ’éœ€è¦æ™ºèƒ½ã€å®æ—¶æ€§é«˜ã€å¯é æ€§å¼ºçš„ä¼˜ç§€ç®—æ³•ä½œä¸ºæ”¯æ’‘ã€‚</p>
<p>ç°å®ç©ºé—´æ˜¯ä¸‰ç»´çš„ï¼Œå›½å†…å¤–é’ˆå¯¹æ— äººæœºèˆªè¿¹è§„åˆ’çš„ç ”ç©¶ï¼Œä¸»è¦é›†ä¸­åœ¨ç°å®ä¸‰ç»´ç©ºé—´ï¼Œä¸‰ç»´èˆªè¿¹è§„åˆ’é—®é¢˜åº”ç”¨èŒƒå›´å¹¿ï¼Œå®ç”¨ä»·å€¼é«˜ã€‚åœ¨ä¸è€ƒè™‘é«˜åº¦çš„æƒ…å†µä¸‹ï¼Œå°†ä¸‰ç»´ç©ºé—´ä¸­çš„ç‰©ä½“æŠ•å½±åˆ°äºŒç»´å¹³é¢ï¼Œå¯ä»¥å°†ä¸‰ç»´èˆªè¿¹è§„åˆ’é—®é¢˜é™ç»´åˆ°äºŒç»´ï¼Œä»è€Œå¯ä»¥ç”¨æ …æ ¼æ³•è§„åˆ’ç©ºé—´ä»¥ç®€åŒ–é—®é¢˜æ±‚è§£ï¼Œä½†åœ¨å®é™…åº”ç”¨è¿‡ç¨‹ä¸­ï¼Œå¤æ‚çš„åœ°å½¢ç­‰åœ¨é«˜åº¦ä¸Šéƒ½ä¼šæå¤§çš„å½±å“æ— äººæœºçš„é£è¡Œè·¯å¾„ï¼Œå› æ­¤è‹¥æ— ç‰¹å®šè¯´æ˜ï¼Œä¸‹æ–‡æ‰€æŒ‡çš„æ— äººæœºèˆªè¿¹è§„åˆ’å‡æŒ‡ä¸‰ç»´ç©ºé—´ä¸‹çš„æ— äººæœºèˆªè¿¹è§„åˆ’ã€‚</p>
<p>é’ˆå¯¹æ— äººæœºèˆªè¿¹è§„åˆ’é—®é¢˜ï¼Œä¸»è¦å¯ä»¥åˆ†ä¸ºä¼ ç»Ÿèˆªè¿¹è§„åˆ’ç®—æ³•å’Œç°ä»£æ™ºèƒ½èˆªè¿¹è§„åˆ’ç®—æ³•[3]ä»¥åŠæ–°å‡ºç°çš„æœºå™¨å­¦ä¹ ç®—æ³•ã€‚ä¼ ç»Ÿèˆªè¿¹è§„åˆ’ç®—æ³•ä¸»è¦æœ‰äººå·¥åŠ¿åœºæ³•(Artificial Potential Field, APF)ã€è¿ªæ°æ–¯ç‰¹æ‹‰ç®—æ³•(Dijkstra Algorithm)ã€æ¨¡æ‹Ÿé€€ç«æ³•(Simulated Annealing Algorithm, SAA)å’Œ$A\ast$ç®—æ³•(A Star Algorithm)ç­‰ï¼Œç°ä»£æ™ºèƒ½èˆªè¿¹è§„åˆ’ç®—æ³•ä¸»è¦æœ‰é—ä¼ ç®—æ³•(Genetic Algorithm, GA)ã€èšç¾¤ä¼˜åŒ–(Ant Colony Optimization, ACO)ç®—æ³•å’Œç²’å­ç¾¤ä¼˜åŒ–(Particle Swarm Optimization, PSO)ç®—æ³•ç­‰ã€‚</p>
<h2 id="2-é—®é¢˜æè¿°"><a href="#2-é—®é¢˜æè¿°" class="headerlink" title="2  é—®é¢˜æè¿°"></a>2  é—®é¢˜æè¿°</h2><p>æ— äººæœºèˆªè¿¹è§„åˆ’é—®é¢˜æ˜¯æŒ‡è§„åˆ’æ— äººæœºåœ¨ç»¼åˆè€ƒè™‘ç¯å¢ƒã€æ—¶é—´æ¶ˆè€—ã€å®‰å…¨æ€§ã€éšœç¢ç‰©ç­‰å› ç´ æ¡ä»¶ä¸‹ï¼Œå®ŒæˆæŒ‡å®šé£è¡Œä»»åŠ¡ï¼Œå…¶ä¸­ä¸»è¦çš„å› ç´ æ˜¯é£è¡Œèˆªè¿¹çŸ­ã€æ¶ˆè€—æ—¶é—´å°‘ã€‚æ— äººæœºèˆªè¿¹è§„åˆ’é—®é¢˜å¯ä»¥ä»ç©ºé—´è§„åˆ’ã€çº¦æŸæ¡ä»¶å’Œç®—æ³•è§„åˆ’ç­‰å‡ ä¸ªæ–¹é¢è¿›è¡Œç ”ç©¶ã€‚</p>
<p>ç©ºé—´è§„åˆ’æ˜¯æŒ‡å¦‚ä½•å°†å®é™…ç¯å¢ƒä¼˜åŒ–å»ºæ¨¡ï¼Œé™ä½æ±‚è§£éš¾åº¦ï¼Œå¦‚å¯¹ä¸åŒç±»å‹çš„éšœç¢ç‰©è¿›è¡Œè¿‘ä¼¼çš„ä¼˜åŒ–è®¡ç®—ï¼Œåœ¨ç‰¹å®šç¯å¢ƒä¸‹å°†ä¸‰ç»´ç©ºé—´æŠ•å½±è‡³äºŒç»´ç©ºé—´å‡å°‘çº¦æŸæ¡ä»¶ç­‰ã€‚åœ¨æ— äººæœºèˆªè¿¹è§„åˆ’çš„çº¦æŸæ¡ä»¶ä¸­ï¼Œæ—¢æœ‰æ¥è‡ªæ— äººæœºæœ¬èº«çš„å†…åœ¨çº¦æŸæ¡ä»¶ï¼Œå³æ— äººæœºæ€§èƒ½ï¼Œæ¶‰åŠåˆ°æœ€å°è½¬å¼¯åŠå¾„ã€æœ€å¤§ä¿¯ä»°è§’ã€æœ€å¤§é£è¡Œæ—¶é•¿å’Œé£è¡Œé«˜åº¦ç­‰é™åˆ¶æ— äººæœºè‡ªèº«é£è¡ŒåŠ¨ä½œçš„å› ç´ ï¼ŒåŒæ—¶ä¹ŸåŒ…æ‹¬æ¥åœ¨ç¯å¢ƒçš„çº¦æŸæ¡ä»¶ï¼Œå¦‚å¤æ‚åœ°å½¢ã€ç”µç£åœºå¹²æ‰°ã€æ— äººæœºé›†ç¾¤å¹²æ‰°ç¢°æ’ã€å†›äº‹å¨èƒã€éšœç¢ç‰©å¹²æ‰°ç­‰çº¦æŸæ¡ä»¶ã€‚æ— äººæœºèˆªè¿¹è§„åˆ’çš„æ ¸å¿ƒé—®é¢˜æ˜¯è§„åˆ’ç®—æ³•ï¼Œè§„åˆ’ç®—æ³•å¯ä»¥è¿½æº¯åˆ°æœºå™¨äººçš„è¿åŠ¨è§„åˆ’ã€‚åœ¨ç‰¹å®šçš„ç¯å¢ƒå’Œæ— äººæœºç§ç±»ä¹ƒè‡³ä¸åŒçš„ä»»åŠ¡è¦æ±‚ä¸‹ï¼Œå¯¹è§„åˆ’ç®—æ³•çš„è¦æ±‚ä¹Ÿä¸å°½ç›¸åŒã€‚ç°å®ç¯å¢ƒæ—¶åˆ»éƒ½åœ¨å‘ç”Ÿå˜åŒ–ï¼Œæ–°çš„ç¯å¢ƒå¹²æ‰°å› ç´ åœ¨ä¸æ–­å¢åŠ ï¼Œç°æœ‰çš„è§„åˆ’ç®—æ³•è¿Ÿæ—©ä¼šæœ‰éš¾ä»¥æ»¡è¶³é£è¡Œä»»åŠ¡çš„æ—¶å€™ï¼Œéœ€è¦å¯¹ç°æœ‰ç®—æ³•è¿›è¡Œæ”¹è¿›æˆ–è€…åœ¨æ­¤åŸºç¡€ä¸Šè¿›è¡Œåˆ›æ–°ï¼Œæ›´å…·å®é™…çš„è§„åˆ’é—®é¢˜é‡‡ç”¨é€‚åˆè§„åˆ’ç®—æ³•ï¼Œæ‰èƒ½å¤Ÿä½¿æ— äººæœºé«˜æ•ˆè€Œå®‰å…¨åœ°å®Œæˆé£è¡Œä»»åŠ¡ã€‚</p>
<h2 id="3-å‘å±•ç°çŠ¶"><a href="#3-å‘å±•ç°çŠ¶" class="headerlink" title="3  å‘å±•ç°çŠ¶"></a>3  å‘å±•ç°çŠ¶</h2><h3 id="3-1-ä¼ ç»Ÿç»å…¸ç®—æ³•"><a href="#3-1-ä¼ ç»Ÿç»å…¸ç®—æ³•" class="headerlink" title="3.1  ä¼ ç»Ÿç»å…¸ç®—æ³•"></a>3.1  ä¼ ç»Ÿç»å…¸ç®—æ³•</h3><p>ä¼ ç»Ÿèˆªè¿¹è§„åˆ’ç®—æ³•ä¸»è¦æœ‰äººå·¥åŠ¿åœºæ³•ã€Dijkstraç®—æ³•ã€æ¨¡æ‹Ÿé€€ç«æ³•å’Œ$A\ast$ç®—æ³•ç­‰ã€‚</p>
<h3 id="3-1-1-äººå·¥åŠ¿åœºæ³•"><a href="#3-1-1-äººå·¥åŠ¿åœºæ³•" class="headerlink" title="3.1.1  äººå·¥åŠ¿åœºæ³•"></a>3.1.1  äººå·¥åŠ¿åœºæ³•</h3><p>äººå·¥åŠ¿åœºæ³•æ˜¯ä¸€ç§æ¨¡æ‹Ÿç”µåŠ¿åœºåˆ†å¸ƒçš„æ–¹æ³•ï¼Œå°†ç©ºé—´å‡è®¾ä¸ºäººå·¥åŠ¿åœºï¼ŒåŠ¿åœºç”±å¼•åŠ›åœºå’Œæ–¥åŠ›åœºç»„æˆï¼Œç›®æ ‡ç‚¹å¯¹ç‰©ä½“è¡¨ç°ä¸ºå¼•åŠ›ï¼Œå¨èƒæºå¯¹ç‰©ä½“è¡¨ç°ä¸ºæ–¥åŠ›ï¼Œç‰©ä½“çš„ç§»åŠ¨æ˜¯ç”±å¼•åŠ›å’Œæ–¥åŠ›çš„åˆåŠ›æ¥æ§åˆ¶ã€‚ä¼ ç»Ÿäººå·¥åŠ¿åœºæ³•å®šä¹‰å¦‚ä¸‹ã€‚</p>
<p>èˆªè¿¹ç‚¹Xçš„å¼•åŠ›åŠ¿å‡½æ•°å’Œæ–¥åŠ›åŠ¿å‡½æ•°åˆ†åˆ«ä¸ºï¼š</p>
<p>â€‹<script type="math/tex">{U_{att}}\left( X \right) = {1 \over 2}{K_{att}}{\rho ^2}\left( {X,{X_G}} \right) \tag{3.1.1}</script></p>
<script type="math/tex; mode=display">{U_{rep}}\left( X \right) = \left\{
\begin{array}{lrl}
   {{1 \over 2}{K_{rep}}{{\left[ {{1 \over {\rho \left( {X,{X_O}} \right)}} - {1 \over {{\rho _O}}}} \right]}^2}} & & {\rho \left( {X,{X_O}} \right) \le {\rho _O}} \\
   0 & & {\rho \left( {X,{X_O}} \right) > {\rho _O}}
\end{array}
\right. \tag{3.1.2}</script><p>å…¶ä¸­${K<em>{att}}$å’Œ${K</em>{rep}}$åˆ†åˆ«ä¸ºå¼•åŠ›å’Œæ–¥åŠ›å¢ç›Šç³»æ•°ä¸”å‡ä¸ºæ­£å¸¸æ•°ï¼›$\rho \left( {X,{X_G}} \right)$ä¸ºèˆªè¿¹ç‚¹$X$ä¸ç›®æ ‡ç‚¹${X_G}$ä¹‹é—´çš„è·ç¦»ï¼›$\rho \left( {X,{X_O}} \right)$ä¸ºèˆªè¿¹ç‚¹$X$ä¸å¨èƒæº${X_O}$ä¹‹é—´çš„è·ç¦»ï¼›${\rho _O}$ä¸ºå¨èƒæºå½±å“çš„æœ€å¤§è·ç¦»ï¼Œè¶…è¿‡${\rho _O}$è¡¨ç¤ºè¯¥å¨èƒæºä¸èƒ½å¯¹é£è¡Œå™¨äº§ç”Ÿå½±å“ã€‚</p>
<p>æ— äººæœºåœ¨èˆªè¿¹ç‚¹ æ”¶åˆ°çš„å¼•åŠ›å’Œæ–¥åŠ›åˆ†åˆ«ä¸ºç›¸åº”åŠ¿å‡½æ•°çš„è´Ÿæ¢¯åº¦ï¼š</p>
<script type="math/tex; mode=display">{F_{att}} =  - \nabla {U_{att}}\left( X \right) =  - {K_{att}}\rho \left( {X,{X_G}} \right) \tag{3.1.3}</script><script type="math/tex; mode=display">{F_{rep}} = \left\{
\begin{array}{lrl}
   {{K_{rep}}\left[ {{1 \over {\rho \left( {X,{X_O}} \right)}} - {1 \over {{\rho _O}}}} \right]{1 \over {{\rho ^2}\left( {X,{X_O}} \right)}}} & & {\rho \left( {X,{X_O}} \right) \le {\rho _O}} \\ 
   0 & & {\rho \left( {X,{X_O}} \right) > {\rho _O}} \\ 
\end{array}
\right. \tag{3.1.4}</script><p>æ€»åŠ¿åœºåŠ›ä¸ºç›®æ ‡ç‚¹å¯¹èˆªè¿¹ç‚¹$X$äº§ç”Ÿçš„å¼•åŠ›å’Œæ‰€æœ‰å¨èƒæºäº§ç”Ÿçš„æ–¥åŠ›çš„çŸ¢é‡å’Œï¼š</p>
<script type="math/tex; mode=display">{F_{total}} = {F_{att}} + \sum {{F_{rep}}} \tag{3.1.5}</script><p>äººå·¥åŠ¿åœºæ³•æœ‰ç€ç®—æ³•ç®€æ˜ã€å®æ—¶æ€§å¥½ã€è§„åˆ’é€Ÿåº¦å¿«çš„ä¼˜ç‚¹ï¼Œé€‚ç”¨äºå±€éƒ¨çš„å®æ—¶èˆªè¿¹è§„åˆ’åº”ç”¨ã€‚ä½†å…¶ç¼ºç‚¹æ˜¯å½“ç¯å¢ƒæ¯”è¾ƒå¤æ‚æ—¶ï¼Œç”±äºäººå·¥åŠ¿åœºä¼šä¾èµ–å±€éƒ¨åŠ¿åœºï¼Œä¼šä½¿é—®é¢˜é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ï¼Œä½¿ç®—æ³•å‡ºç°åœæ»ï¼Œä¼šåœ¨å±é™©æºé™„è¿‘åå¤æŠ–åŠ¨ï¼šå½“æ— äººæœºç¦»ç›®æ ‡ç‚¹è¾ƒè¿œæ—¶ï¼ŒåˆåŠ›æ–¹å‘æ›´è¶‹è¿‘äºç›®æ ‡ç‚¹ï¼Œå®¹æ˜“ä½¿å¾—æ— äººæœºè¿›å…¥å¨èƒæºåŒºåŸŸï¼›å½“ç›®æ ‡ç‚¹é™„è¿‘æœ‰å±é™©æºæ—¶ï¼Œæ–¥åŠ›éå¸¸å¤§è€Œå¼•åŠ›è¾ƒå°ï¼Œè¿™æ ·ä¼šä½¿æ— äººæœºè¿œç¦»ç›®æ ‡ç‚¹ä»è€Œæ— æ³•åˆ°è¾¾ã€‚</p>
<p>é’ˆå¯¹ä¸Šè¿°ç¼ºé™·ï¼Œä¼—å¤šå­¦è€…ç»“åˆæ— äººæœºèˆªè¿¹è§„åˆ’ç‰¹ç‚¹å¯¹äººå·¥åŠ¿åœºæ³•è¿›è¡Œäº†æ”¹è¿›ï¼Œæå‡ºäº†è®¸å¤šä¼˜ç§€çš„ç®—æ³•ã€‚Kathibåœ¨ç¼©å°å¨èƒæœç´¢ç©ºé—´çš„åŸºç¡€ä¸Šå¯¹èˆªè¿¹ç‚¹é¢„è§„åˆ’å¯»æ‰¾èµ·å§‹ç‚¹å’Œç›®æ ‡ç‚¹ä¹‹é—´çš„è·¯å¾„ï¼Œå®ç°äº†å…¨å±€è§„åˆ’ï¼Œå¼¥è¡¥äº†äººå·¥åŠ¿åœºå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜çš„ç¼ºé™·ï¼›å¹¶æ”¹è¿›äº†äººå·¥åŠ¿åœºä¸­çš„å¼•åŠ›ç®—æ³•ï¼Œæœ‰æ•ˆè§£å†³äº†äººå·¥åŠ¿åœºæ³•å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜çš„é—®é¢˜ï¼Œæé«˜äº†ç®—æ³•çš„æ•ˆç‡å’Œé€‚åº”æ€§[4]ã€‚Chen Xiaç­‰äºº[5]åœ¨æ–¥åŠ›åŠ¿å‡½æ•°ä¸­åŠ å…¥æ— äººæœºä¸ç›®æ ‡ç‚¹çš„è·ç¦»ï¼Œå‡å°æ–¥åŠ›ï¼Œæ”¹å–„éšœç¢ç‰©åœ¨ç›®æ ‡é™„è¿‘æ—¶ç›®æ ‡ä¸å¯è¾¾çš„é—®é¢˜ã€‚è®¾ç½®å¼•å¯¼ç‚¹ä¸ºæ— äººæœºæä¾›æ–¹å‘éšæœºçš„åŠ¿åœºåŠ›ï¼Œè§£å†³å±€éƒ¨æå°å€¼å’Œéœ‡è¡é—®é¢˜ã€‚ç‹å¼ºç­‰äºº[6]åœ¨äººå·¥åŠ¿åœºæ³•æœç´¢é™·å…¥å¨èƒåŒºæ—¶ï¼Œæ„é€ æƒ©ç½šåŠ¿å‡½æ•°æ›¿ä»£æ–¥åŠ›åŠ¿å‡½æ•°ï¼Œå¹¶ä½¿ç”¨æ¨¡æ‹Ÿé€€ç«ç®—æ³•å–ä»£è™šæ‹ŸåŠ›å¼•å¯¼çš„æ–¹æ³•æœç´¢é€ƒç¦»ä½ç½®ï¼Œæ•ˆé¿å…äº†å±€éƒ¨æå°å€¼å’ŒæŠ–åŠ¨ç°è±¡ã€‚å§šè¿œç­‰äºº[7]ä½¿ç”¨ç›¸å¯¹é€Ÿåº¦æ–¥åŠ›åŠ¿åœºå’Œæ–¥åŠ›å¢ç›Šæ¨¡ç³Šæ§åˆ¶å™¨å®ç°äººå·¥åŠ¿åœºæ³•çš„åŠ¨æ€é¿éšœï¼Œé¿å…äº†å±€éƒ¨æå°å€¼ã€‚</p>
<h3 id="3-1-2-Dijkstraç®—æ³•"><a href="#3-1-2-Dijkstraç®—æ³•" class="headerlink" title="3.1.2  Dijkstraç®—æ³•"></a>3.1.2  Dijkstraç®—æ³•</h3><p>åœ¨å›¾è®ºä¸­ï¼Œæ±‚è§£æœ€çŸ­è·¯å¾„å¸¸ç”¨Dijkstraç®—æ³•æ¥å®ç°ï¼ŒåŸºäºè´ªå¿ƒç®—æ³•ã€å¹¿åº¦ä¼˜å…ˆæœç´¢å’ŒåŠ¨æ€è§„åˆ’æ¥å®ç°ã€‚åœ¨æ— äººæœºèˆªè¿¹è§„åˆ’é—®é¢˜ä¸­ï¼Œä½¿ç”¨Dijkstraç®—æ³•æ„å»ºå¸¦æœ‰æƒå€¼çš„å›¾ï¼Œå…¶é¡¶ç‚¹ä»£è¡¨èˆªè¿¹ç‚¹ï¼Œè¾¹ä»£è¡¨æ‰€æœ‰å¯è¡Œèˆªè¿¹ï¼Œæ±‚è§£å¾—åˆ°è¿™äº›èˆªè¿¹ä¸­çš„æœ€ä¼˜èˆªè¿¹ã€‚ä½¿ç”¨Dijkstraç®—æ³•è¿›è¡Œèˆªè¿¹è§„åˆ’å®ç°æ¯”è¾ƒç®€å•ï¼Œä½†ç®—æ³•çš„æ—¶ç©ºå¤æ‚åº¦å‡ä¸º$O\left( {{n^2}} \right)$ï¼Œä¸ç©ºé—´ä¸­çš„ç‚¹æ•°å¹³æ–¹æˆæ­£æ¯”ï¼Œå³åœ¨é«˜ç»´ç©ºé—´ä¸­çš„æœç´¢æ—¶é—´æ›´é•¿ï¼Œå¯¹å†…å­˜çš„è¦æ±‚ä¹Ÿæ›´é«˜ï¼Œå› æ­¤åœ¨äºŒç»´å’Œä¸‰ç»´èˆªè¿¹è§„åˆ’ä¸­æœ‰ç€è¾ƒå¤§çš„æ€§èƒ½å·®å¼‚ï¼Œå¸¸ç”¨äºäºŒç»´ç©ºé—´çš„èˆªè¿¹è§„åˆ’[8,9]ã€‚å› æ­¤ä½¿ç”¨Dijkstra ç®—æ³•è¿›è¡Œèˆªè¿¹è§„åˆ’çš„å…³é”®é—®é¢˜ä¸ºå¦‚ä½•åœ¨å¤§èŒƒå›´ç©ºé—´å†…åˆç†é€‰å–èˆªè¿¹ç‚¹ï¼Œå°½å¯èƒ½å‡ä½æ—¶ç©ºå¤æ‚åº¦ã€‚é‡‡ç”¨Voronoiå›¾çš„æ–¹å¼[8]ï¼Œé€‰å–å„ä¸ªå¨èƒæºè¿çº¿çš„ä¸­å‚çº¿çš„äº¤ç‚¹ä¸ºèˆªè¿¹ç‚¹ï¼Œèƒ½å¤Ÿæœ€å¤§åŒ–é¿å…å¨èƒï¼Œä½†ä»£ä»·æ˜¯èˆªè¿¹è¾ƒé•¿ï¼Œå¹¶ä¸”å—é™äºæ— äººæœºå®é™…çš„è½¬å¼¯è§’ï¼Œä¸ä¸€å®šå¯è¡Œã€‚</p>
<h3 id="3-1-3-æ¨¡æ‹Ÿé€€ç«æ³•"><a href="#3-1-3-æ¨¡æ‹Ÿé€€ç«æ³•" class="headerlink" title="3.1.3  æ¨¡æ‹Ÿé€€ç«æ³•"></a>3.1.3  æ¨¡æ‹Ÿé€€ç«æ³•</h3><p>æ¨¡æ‹Ÿé€€ç«æ³•æ˜¯ä¸€ç§å¯å‘å¼éšå³æœç´¢ç®—æ³•ï¼ŒåŸºäºè’™ç‰¹å¡æ´›è¿­ä»£ï¼Œå®é™…ä¸Šæ˜¯æ¨¡æ‹Ÿå›ºä½“ç‰©è´¨çš„é€€ç«è¿‡ç¨‹ï¼šåœ¨æŸä¸€åˆå§‹æ¸©åº¦ä¸‹ï¼Œä¼´éšæ¸©åº¦æ§åˆ¶å‚æ•°æŒ‰ç…§é™æ¸©å‡½æ•°ä¸æ–­ä¸‹é™ï¼Œç»“åˆæ¦‚ç‡ç‰¹æ€§åœ¨è§£ç©ºé—´ä¸­å¯»æ‰¾ç›®æ ‡å‡½æ•°çš„å…¨å±€æœ€ä¼˜è§£ï¼Œä¹Ÿå°±æ˜¯èƒ½æœ‰æœºä¼šè·³å‡ºå±€éƒ¨æœ€ä¼˜è§£å¾—åˆ°å…¨å±€æœ€ä¼˜è§£ã€‚å…¶ä¼˜ç‚¹æ˜¯ç®—æ³•æ±‚å¾—çš„è§£ä¸åˆå§‹çŠ¶æ€æ— å…³ï¼Œå…·æœ‰æ¸è¿›æ”¶æ•›æ€§ï¼Œå±€éƒ¨æœç´¢èƒ½åŠ›å¼ºï¼Œä½†å…¶ç¼ºç‚¹ä¹Ÿæ¯”è¾ƒæ˜æ˜¾ï¼Œè§£çš„è´¨é‡éå¸¸ä¾èµ–ä¸å‚æ•°ï¼Œå…¨å±€æœç´¢èƒ½åŠ›è¾ƒå·®ã€‚åœ¨èˆªè¿¹è§„åˆ’ä¸­ï¼Œæ¨¡æ‹Ÿé€€ç«æ³•çš„æ¯ä¸€ä¸ªè§£éƒ½ä»£è¡¨ä¸€æ¡æ— äººæœºèˆªè¿¹ï¼Œç›®æ ‡å‡½æ•°åˆ™æ˜¯ä»£ä»·å‡½æ•°ï¼Œä½†å¸¸å¸¸å› ä¸ºæ²¡æœ‰è€ƒè™‘æ— äººæœºæœ¬èº«çš„æ€§èƒ½çº¦æŸï¼Œå¯¼è‡´å¾—åˆ°çš„èˆªè¿¹å¯è¡Œæ€§ä¸é«˜ã€‚å½“ç„¶ï¼Œå¦‚æœå…è®¸é€‚å½“å¢åŠ è¿ç®—é‡ï¼Œæ¨¡æ‹Ÿé€€ç«ç®—æ³•ä¹Ÿå¯ä¸æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜è§£çš„ç®—æ³•ç›¸ç»“åˆå¸®åŠ©å…¶è·³å‡ºå±€éƒ¨æœ€ä¼˜æ‰¾åˆ°å…¨å±€æœ€ä¼˜è§£ï¼Œå¦‚é—ä¼ æ¨¡æ‹Ÿé€€ç«ç®—æ³•[10]ï¼Œåœ¨äº¤å‰å’Œå˜å¼‚è¿‡ç¨‹ä¸­ä½¿ç”¨Metropoliså‡†åˆ™åˆ¤æ–­æ˜¯å¦æ¥æ–°è§£ã€‚</p>
<h3 id="3-1-4-A-ast-ç®—æ³•"><a href="#3-1-4-A-ast-ç®—æ³•" class="headerlink" title="3.1.4  $A\ast$ç®—æ³•"></a>3.1.4  $A\ast$ç®—æ³•</h3><p>åœ¨æ— äººæœºèˆªè¿¹è§„åˆ’ä¸­ï¼Œ$A\ast$ç®—æ³•å°†æœç´¢ç©ºé—´è¡¨ç¤ºä¸ºç½‘æ ¼çš„å½¢å¼ï¼Œç½‘æ ¼çš„é¡¶ç‚¹ä½œä¸ºèˆªè¿¹ç‚¹ï¼Œé€šè¿‡æœç´¢é‚»åŸŸå†…ä»£ä»·å‡½æ•°æœ€å°çš„èˆªè¿¹ç‚¹ï¼Œé€æ­¥æœç´¢è‡³ç›®æ ‡ç‚¹ï¼Œç„¶åé€šè¿‡å›æº¯å¾—åˆ°æœ€ä¼˜èˆªè¿¹ã€‚é‡‡ç”¨OPENè¡¨å’ŒCLOSEè¡¨åˆ†åˆ«å­˜å‚¨å¾…æ‰©å±•èˆªè¿¹ç‚¹å’Œå·²æ‰©å±•èˆªè¿¹ç‚¹ï¼Œå…¶ä¸­ä»£ä»·å‡½æ•°ä¸ºï¼š</p>
<script type="math/tex; mode=display">f\left( x \right) = g\left( x \right) + h\left( x \right) \tag{3.1.6}</script><p>å…¶ä¸­$g\left( x \right)$ä¸ºèµ·å§‹ç‚¹åˆ°å½“å‰èˆªè¿¹ç‚¹çš„å®é™…ä»£ä»·ï¼Œ$h\left( x \right)$ä¸ºå¯å‘å‡½æ•°ï¼Œä»£è¡¨å½“å‰èˆªè¿¹ç‚¹åˆ°ç›®æ ‡ç‚¹çš„ä¼°ç®—ä»£ä»·ï¼Œå¸¸ç”¨æ¬§æ°è·ç¦»ã€æ›¼å“ˆé¡¿è·ç¦»ç­‰ï¼Œè€Œ$A\ast$ç®—æ³•çš„æ ¸å¿ƒå°±æ˜¯å¯å‘å‡½æ•°ï¼Œé€‰å–åˆé€‚çš„å¯å‘å‡½æ•°ï¼Œå¹³è¡¡è®¡ç®—æ—¶é—´å’Œæœ€ä¼˜è§£çš„é€‰å–ï¼Œèƒ½æœ‰æ•ˆæé«˜èˆªè¿¹è§„åˆ’æ€§èƒ½ï¼Œè‹¥$h\left( x \right)$å§‹ç»ˆç­‰äºå®é™…ä»£ä»·ï¼Œæ­¤æ—¶$A\ast$ç®—æ³•ä¸¥æ ¼éµå®ˆæœ€ä¼˜è·¯å¾„æœç´¢ï¼Œæœç´¢æ•ˆç‡ä¹Ÿæœ€é«˜ã€‚</p>
<p>$A\ast$ä½œä¸ºç›´æ¥æœç´¢ç®—æ³•ï¼Œæœç´¢æ€§èƒ½å¥½ã€å‡†ç¡®åº¦é«˜ï¼›ä½†éšç€æœç´¢ç©ºé—´çš„å¢å¤§ï¼Œèˆªè¿¹ç‚¹ä¸æ–­å¢å¤šï¼Œè®¡ç®—æ—¶é—´å‘ˆæŒ‡æ•°ä¸Šå‡ï¼Œè§„åˆ’æ—¶é—´å¤§å¹…å¢åŠ ï¼Œä¸é€‚ç”¨äºå®æ—¶è§„åˆ’ã€‚åœ¨èˆªè¿¹è§„åˆ’é—®é¢˜ä¸­ï¼Œå¦‚ä½•æé«˜$A\ast$ç®—æ³•çš„è®¡ç®—é€Ÿåº¦ï¼Œæ˜¯ç ”ç©¶çš„é‡ç‚¹å†…å®¹ï¼Œå‡ºç°ä¼—å¤šåŸºäº$A\ast$ç®—æ³•çš„æ”¹è¿›æ–¹æ³•è¿ç”¨äºæ— äººæœºèˆªè¿¹è§„åˆ’ã€‚ä½¿ç”¨2.5ç»´ç½‘æ ¼æ¨¡å‹æè¿°ä¸‰ç»´è§„åˆ’ç©ºé—´[11]ï¼Œç®€åŒ–ä¸‰ç»´ç©ºé—´çš„åæ ‡è¡¨ç¤ºï¼Œæ”¹è¿›åçš„æ•ˆç‡è¦è¿œå¤§äºä¸‰ç»´ç½‘æ ¼åˆ’åˆ†æ–¹å¼ã€‚åŒæ ·ä¹Ÿå¯å°†ä¸‰ç»´èˆªè¿¹è§„åˆ’åˆ†è§£ä¸ºäºŒç»´è§„åˆ’å’Œé«˜åº¦è§„åˆ’[12]ï¼Œä½¿ç”¨åŠ¨æ€æ—¶é—´è§„æ•´(Dynamic Time Warping, DTW)è·ç¦»ä½œä¸º$A\ast$ç®—æ³•çš„å¯å‘å‡½æ•°è¿›è¡ŒäºŒç»´è§„åˆ’ï¼Œå†ç”±äºŒç»´èˆªè¿¹ç»“åˆé«˜ç¨‹æ•°å­—åœ°å›¾ï¼Œåˆ©ç”¨ç²’å­æ²‰é™æ³•èµ‹äºˆæ¯ä¸ªèˆªè¿¹ç‚¹é«˜åº¦ä¿¡æ¯ï¼Œç”Ÿæˆä¸‰ç»´èˆªè¿¹ï¼Œèƒ½å¤Ÿåœ¨ä¸æ”¹å˜æœç´¢ç©ºé—´çš„æ¡ä»¶ä¸‹ï¼Œå¤§å¤§å‡å°‘æœç´¢çš„èˆªè¿¹ç‚¹æ•°é‡ï¼Œç¼©çŸ­è§„åˆ’æ—¶é—´ã€‚ä½†èˆªè¿¹è§„åˆ’é—®é¢˜çš„å¤æ‚æ€§ï¼Œè™½ç„¶å­¦è€…ä»¬é€šè¿‡å„ç§æ”¹è¿›æ–¹æ³•æé«˜äº†$A\ast$ç®—æ³•çš„æœç´¢æ•ˆç‡ï¼Œä»æ²¡æœ‰æ‰¾åˆ°å€¼æ’ç­‰äºä»å½“å‰èŠ‚ç‚¹åˆ°ç›®æ ‡ç‚¹çœŸå®ä»£ä»·çš„å¯å‘å‡½æ•°ï¼Œå®ç°$A\ast$ç®—æ³•çš„é«˜æ•ˆæœ€ä¼˜æœç´¢ã€‚</p>
<h2 id="3-2-ç°ä»£æ™ºèƒ½ç®—æ³•"><a href="#3-2-ç°ä»£æ™ºèƒ½ç®—æ³•" class="headerlink" title="3.2  ç°ä»£æ™ºèƒ½ç®—æ³•"></a>3.2  ç°ä»£æ™ºèƒ½ç®—æ³•</h2><p>å—åˆ°è‡ªç„¶ç•Œçš„ç”Ÿç‰©è§„å¾‹å¯å‘ï¼Œå‡ºç°çš„è®¸å¤šæ™ºèƒ½ç®—æ³•ä¹Ÿè¢«å¹¿æ³›åº”ç”¨äºæ— äººæœºèˆªè¿¹è§„åˆ’é—®é¢˜ã€‚ç°ä»£æ™ºèƒ½èˆªè¿¹è§„åˆ’ç®—æ³•ä¸»è¦æœ‰ã€é—ä¼ ç®—æ³•ã€èšç¾¤ä¼˜åŒ–ç®—æ³•å’Œç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•ç­‰ã€‚</p>
<h3 id="3-2-1-èšç¾¤ä¼˜åŒ–ç®—æ³•"><a href="#3-2-1-èšç¾¤ä¼˜åŒ–ç®—æ³•" class="headerlink" title="3.2.1  èšç¾¤ä¼˜åŒ–ç®—æ³•"></a>3.2.1  èšç¾¤ä¼˜åŒ–ç®—æ³•</h3><p>èš‚èšåœ¨è§…é£Ÿè¿‡ç¨‹ä¸­ä¼šé‡Šæ”¾ä¿¡æ¯ç´ æ¥æ ‡è®°è‡ªå·±çš„è·¯å¾„ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œä¿¡æ¯ç´ å›è¶Šæ¥è¶Šå¤šï¼ŒåŒæ ·ä¹Ÿä¼šå­˜åœ¨ç€æŒ¥å‘ä½¿å…¶å‡å°‘ï¼Œå…¶ä»–èš‚èšåˆ©ç”¨å‰©ä½™çš„ä¿¡æ¯ç´ æ¥å¯»æ‰¾é£Ÿç‰©ï¼Œè¿™å°±æ˜¯èšç¾¤ç®—æ³•çš„ç”Ÿç‰©åŸç†ã€‚èšç¾¤ç®—æ³•æ­£æ˜¯ä½¿ç”¨è¿™ç§åŸç†ï¼Œé‡‡å–æ­£åé¦ˆæœºåˆ¶ä½¿æœç´¢è¿‡ç¨‹ä¸æ–­é€¼è¿‘æœ€ä¼˜è§£ã€‚</p>
<p>ä¸‹é¢æ˜¯å…³äºèšç¾¤ç®—æ³•çš„ç›¸å…³å®šä¹‰ï¼Œå…¶ä¸­$T$æ—¶åˆ»èš‚èš$n$ä»èŠ‚ç‚¹$a$è½¬ç§»åˆ°èŠ‚ç‚¹$b$çš„æ¦‚ç‡å¯ä»¥è¡¨ç¤ºä¸º</p>
<script type="math/tex; mode=display">P_{ab}^n\left( t \right) = \left\{
\begin{array}{lrl}
   {{{\left( {{\tau _{ab}}} \right)}^\alpha }{{\left( {{\eta _{ab}}} \right)}^\beta }} \over {\sum\limits_{b \in S_a^n} {{{\left( {{\tau _{ab}}} \right)}^\alpha }{{\left( {{\eta _{ab}}} \right)}^\beta }}} & & {b \in S_a^n}  \\
   0 &  & {Otherwise} 
\end{array}
\right. \tag{3.2.1}</script><p>å…¶ä¸­${{\tau _{ab}}}$ä¸ºèŠ‚ç‚¹$b$ä¸Šçš„ä¿¡æ¯ç´ æµ“åº¦ï¼›${{\eta _{ab}}}$ä¸ºèŠ‚ç‚¹$a$ä¸èŠ‚ç‚¹$b$ä¹‹é—´çš„å¯å‘å‡½æ•°ï¼Œå¯ä»¥è¯´è·ç¦»å¼€é”€æˆ–è€…å…¶ä»–ç»„åˆå¦‚é«˜åº¦ã€å®‰å…¨åº¦ç­‰ï¼›$\alpha $ã€$\beta $ä¸º${{\tau _{ab}}}$å’Œ${{\eta _{ab}}}$çš„ç›¸å¯¹é‡è¦æ€§æƒé‡ï¼›$S_a^n$ä¸ºèŠ‚ç‚¹$a$çš„æ‰€æœ‰é‚»å±…èŠ‚ç‚¹çš„é›†åˆã€‚</p>
<p>é’ˆå¯¹ä¿¡æ¯ç´ éšç€æ—¶é—´ä¼šæŒ¥å‘çš„ç°è±¡ï¼Œé‡‡ç”¨å±€éƒ¨æ›´æ–°å’Œå…¨å±€æ›´æ–°çš„æ–¹å¼æ›´æ–°ä¿¡æ¯ç´ çš„æµ“åº¦ã€‚</p>
<p>å±€éƒ¨æ›´æ–°æ˜¯æŒ‡å½“èš‚èšå®Œæˆä¸€ä¸ªèˆªè¿¹ç‚¹çš„é€‰æ‹©åï¼Œé™ä½æ¬¡ç‚¹å¯¹å…¶ä»–èš‚èšçš„å¸å¼•ç¨‹åº¦ï¼Œä»¥é¿å…é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ï¼Œæ›´æ–°å…¬å¼ä¸º</p>
<script type="math/tex; mode=display">{\tau _{ab}}\left( {t + 1} \right) = \left( {1 - \xi } \right){\tau _{ab}}\left( t \right) \tag{3.2.2}</script><p>å¼ä¸­$\xi $ä¸ºå±€éƒ¨ä¿¡æ¯ç´ æŒ¥å‘å› å­ï¼Œç”¨äºå‡å°‘æ­¤èˆªè¿¹ç‚¹çš„å¸å¼•ç¨‹åº¦ã€‚</p>
<p>å…¨å±€æ›´æ–°æ˜¯æŒ‡ç»è¿‡$m$æ—¶åˆ»åï¼Œå¯¹èš‚èšå®Œæˆä¸€æ®µèˆªè¿¹ä¸Šæ‰€æœ‰çš„èˆªè¿¹ç‚¹è¿›è¡Œä¿¡æ¯ç´ æŒ¥å‘ï¼Œæ›´æ–°å…¬å¼ä¸º</p>
<script type="math/tex; mode=display">{\tau _{ab}}\left( {t + m} \right) = \left( {1 - \rho } \right){\tau _{ab}}\left( t \right) + \rho \Delta {\tau _{ab}} \tag{3.2.3}</script><script type="math/tex; mode=display">\Delta {\tau _{ab}} = Q/J \tag{3.2.4}</script><p>å¼ä¸­$\rho $ä¸ºå…¨å±€ä¿¡æ¯ç´ æŒ¥å‘å› å­ï¼›$J$ä¸ºæ­¤æ¡èˆªè¿¹çš„æ€§èƒ½æŒ‡æ ‡ï¼Œ$Q$ä¸ºæ€§èƒ½æŒ‡æ ‡å¯¹äºä¿¡æ¯ç´ æ›´æ–°çš„è´¡çŒ®æ¯”ä¾‹ã€‚</p>
<p>èšç¾¤ä¼˜åŒ–ç®—æ³•åªè¦å¯¹æ¨¡å‹ç¨åŠ ä¿®æ”¹å°±èƒ½åº”ç”¨äºä¸åŒçš„è§„åˆ’åœºæ™¯ï¼Œå…·æœ‰è¾ƒå¼ºçš„é²æ£’æ€§ï¼ŒåŒæ ·ä¹Ÿæ˜¯åŸºäºç§ç¾¤çš„ç®—æ³•ï¼Œå…·æœ‰è‰¯å¥½çš„å¹¶è¡Œæ€§ã€‚ä½†å…¶åˆå§‹ä¿¡æ¯ç´ åŒ®ä¹ï¼Œåˆå§‹çš„å‰è¿›æ–¹å‘å…·æœ‰ç›²ç›®æ€§ï¼Œæœç´¢æ—¶é—´è¾ƒé•¿ï¼Œå¹¶ä¸”å®¹æ˜“å‡ºç°åœæ»çŠ¶å†µï¼Œåœ¨å±€éƒ¨æœ€ä¼˜è§£åœç•™è€Œæ— æ±‚å¾—å…¨å±€æœ€ä¼˜è§£ã€‚åŸºäºæ— äººæœºèˆªè¿¹è§„åˆ’åœ¨ä¸åŒç¯å¢ƒä¸‹çš„ç‰¹ç‚¹ï¼Œå­¦è€…é€šå¸¸ä»ä»¥ä¸Šç¼ºé™·å…¥æ‰‹å¯¹èšç¾¤ä¼˜åŒ–ç®—æ³•è¿›è¡Œæ”¹è¿›ã€‚é™ˆä¾ ç­‰äºº[13]é‡‡ç”¨å‡ ä½•ä¼˜åŒ–ç®—æ³•æ¶ˆé™¤äº†ä¼ ç»Ÿèšç¾¤ç®—æ³•æœç´¢éšæœºæ€§å¯¼è‡´æœ€åç»“æœå¹¶éæœ€ä¼˜è§£é—®é¢˜ï¼Œé‡‡ç”¨æŒ‡æ ‡å‡½æ•°å’Œè‡ªé€‚åº”å‚æ•°åˆ†åˆ«è§£å†³äº†èˆªè¿¹ä¸å¹³æ»‘å’Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜é—®é¢˜ã€‚ä½¿ç”¨å·®åˆ†è¿›åŒ–ç®—æ³•å¯¹ä¿¡æ¯ç´ æµ“åº¦çš„æ›´æ–°è¿›è¡Œä¿®æ”¹ï¼Œåˆç†åˆ†é…ä¿¡æ¯ç´ ä»¥å…æŸä¸€è·¯å¾„ä¸Šçš„ä¿¡æ¯ç´ æµ“åº¦è¿‡é«˜è€Œå¯¼è‡´é™·å…¥åœ¨å±€éƒ¨æœ€ä¼˜è§£[14]ï¼Œæ­¤ç§æ”¹è¿›åœ¨ä¸å½±å“èšç¾¤ç®—æ³•ä¼˜ç‚¹çš„åŒæ—¶åˆèƒ½å¤ŸåŠ å¿«ç®—æ³•æ”¶æ•›ï¼Œä½†ä¼šå¯¼è‡´èˆªè¿¹é•¿åº¦æ˜æ˜¾å¢åŠ ã€‚åŒæ ·ä¹Ÿæ˜¯åŸºäºä¿¡æ¯ç´ æµ“åº¦è¿‡å¤§æˆ–è¿‡å°ä¼šäº§ç”Ÿå½±å“ï¼Œåœ¨ä¿¡æ¯ç´ è°ƒæ•´è§„åˆ™ä¸­å¼•å…¥èˆªè¿¹è¯„ä»·æŒ‡æ ‡ï¼Œå¹¶ä¸”å°†èµ·å§‹ç‚¹å’Œç›®æ ‡ç‚¹ä¹‹é—´çš„è¿çº¿è¿™ä¸€æœ€çŸ­èˆªè¿¹ä¿¡æ¯åé¦ˆåˆ°ç³»ç»Ÿä¸­ä½œä¸ºæœç´¢çš„æŒ‡å¯¼ä¿¡å·[15]ï¼Œæœ‰æ•ˆé™ä½äº†ç®—æ³•å¯»æ‰¾èˆªè¿¹çš„ç›²ç›®æ€§ï¼ŒåŠ å¿«äº†æœç´¢æ•ˆç‡ã€‚</p>
<h3 id="3-2-2-é—ä¼ ç®—æ³•"><a href="#3-2-2-é—ä¼ ç®—æ³•" class="headerlink" title="3.2.2  é—ä¼ ç®—æ³•"></a>3.2.2  é—ä¼ ç®—æ³•</h3><p>â€œé€‚è€…ç”Ÿå­˜â€çš„åŸåˆ™è®©ç”Ÿç‰©åœ¨è‡ªç„¶ç•Œçš„é€‰æ‹©ä¸‹é€æ¸å‘æ›´é€‚åˆç”Ÿå­˜çš„æ–¹å‘è¿›åŒ–å’Œå˜å¼‚ï¼Œé—ä¼ ç®—æ³•ä¹Ÿæ˜¯åŸºäºè¿™ç§åŸç†è¯ç”Ÿçš„å¯å‘å¼æœç´¢ç®—æ³•ã€‚å…¶æ€æƒ³å€Ÿé‰´ç”Ÿç‰©çš„è¿›åŒ–ï¼Œæ ¹æ®æŸ“è‰²ä½“å¯¹åº”ä¸ªä½“é€‚åº”åº¦è¶Šé«˜è¶Šå®¹æ˜“è¢«é€‰æ‹©çš„åŸåˆ™ï¼Œä»æ•´ä¸ªç§ç¾¤ä¸­é€‰æ‹©ä¸€ä¸ªçˆ¶æ–¹å’Œä¸€ä¸ªæ¯æ–¹ï¼Œå¯¹çˆ¶æ–¹å’Œæ¯æ–¹æŠ½å–æŸ“è‰²ä½“äº¤å‰äº§ç”Ÿçš„åä»£æŸ“è‰²ä½“è¿›è¡Œå˜å¼‚ï¼Œç„¶åæŒ‰ç…§ä¹‹å‰æ­¥éª¤é€‰æ‹©æ–°çš„çˆ¶æ–¹å’Œæ¯æ–¹å¹¶å¯¹æ–°äº§ç”Ÿçš„å­ä»£æŸ“è‰²ä½“è¿›è¡Œå˜å¼‚ï¼Œç›´åˆ°äº§ç”Ÿæ–°çš„ç§ç¾¤ã€‚åœ¨æ— äººæœºèˆªè¿¹è§„åˆ’é—®é¢˜ä¸­ï¼Œé—ä¼ ç®—æ³•çš„æ¯æ¡æŸ“è‰²ä½“ä»£è¡¨æ— äººæœºçš„ä¸€æ¡èˆªè¿¹ï¼ŒåŸºå› çš„ç¼–ç æ–¹å¼ä¹Ÿå°±æ˜¯èˆªè¿¹èŠ‚ç‚¹çš„ç¼–ç æ–¹å¼ã€‚åŸºäºæ¦‚ç‡çš„é—ä¼ ç®—æ³•æœ‰ç€ä¼˜ç§€çš„æ€§èƒ½ï¼Œæœ‰ç€è¾ƒå¼ºçš„é²æ£’æ€§ï¼Œæ˜¯ä¸€ç§é«˜æ•ˆã€å¹¶è¡Œä¸”å…¨å±€çš„æœç´¢æ–¹æ³•ï¼Œé€‚ç”¨äºä¸‰ç»´çš„å…¨å±€èˆªè¿¹è§„åˆ’ï¼Œä½†æ”¶æ•›é€Ÿåº¦æ…¢ï¼Œç®—æ³•æ•ˆç‡ä½ï¼Œå®¹æ˜“è¿‡æ—©æ”¶æ•›ã€‚</p>
<p>é’ˆå¯¹ä»¥ä¸Šé—®é¢˜ï¼Œéƒ¨åˆ†å­¦è€…å¯¹é—ä¼ ç®—æ³•è¿›è¡Œäº†ç®—æ³•çš„æ”¹è¿›ã€‚é’ˆå¯¹é—ä¼ ç®—æ³•åˆå§‹ç§ç¾¤çš„å•ä¸€æ€§é—®é¢˜ï¼Œå¼•å…¥æŒ‰ç…§æ¦‚ç‡åˆ’åˆ†çš„å°ç”Ÿå­˜ç¯å¢ƒååŒè¿›åŒ–ç­–ç•¥[16]å¹¶å¯¹ç§ç¾¤è¿›è¡ŒåŠ¨æ€è°ƒæ•´ï¼Œé‡‡ç”¨ç²¾è‹±æœºåˆ¶ä¿ç•™å„ä»£æœ€ä¼˜ä¸ªä½“è¿›è¡Œæ›´æ–°ï¼Œæœ‰æ•ˆæé«˜äº†é—ä¼ ç®—æ³•çš„ç¨³å®šæ€§å’Œç²¾åº¦ã€‚ç—…æ¯’é—ä¼ ç®—æ³•[17]é‡‡ç”¨å®šé•¿å®å€¼å’Œå˜é•¿å®å€¼ä¸¤ç§ç¼–ç æ–¹å¼åˆ†åˆ«ä¸ºæŸ“è‰²ä½“å’Œç—…æ¯’ä¸ªä½“ç¼–ç ï¼Œé€šè¿‡é‡‡ç”¨åè½¬å½•å’Œè½¬å¯¼è¿™ä¸¤ç§ç—…æ¯’æ„ŸæŸ“æ“ä½œå®ç°ä¸¤ä¸ªç§ç¾¤é—´æ¨¡å—çš„ä¿¡æ¯äº¤æ¢ï¼Œä½¿è¿›åŒ–ä¿¡æ¯åœ¨ç§ç¾¤å†…è¿…é€Ÿã€å®šå‘åœ°ä¼ æ’­ï¼Œæ¶ˆé™¤äº†å¯»ä¼˜è¿‡ç¨‹çš„ç›²ç›®æ€§ï¼Œæ”¹å–„äº†é—ä¼ ç®—æ³•æ—©ç†Ÿå’Œå±€éƒ¨æ”¶æ•›æ…¢çš„é—®é¢˜ï¼Œæé«˜äº†æ”¶æ•›é€Ÿåº¦ã€‚</p>
<h3 id="3-2-3-ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•"><a href="#3-2-3-ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•" class="headerlink" title="3.2.3  ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•"></a>3.2.3  ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•</h3><p>å°†æ— äººæœºèˆªè¿¹è§„åˆ’æ¯”ä½œé¸Ÿç¾¤åœ¨æ£®æ—ä¸­æœç´¢é£Ÿç‰©ï¼Œç›®æ ‡ç‚¹å°±æ˜¯è¦æ‰¾åˆ°é£Ÿç‰©æœ€å¤šçš„åœ°æ–¹ï¼Œæ‰€æœ‰çš„é¸Ÿéƒ½ä¸çŸ¥é“é£Ÿç‰©å…·ä½“åœ¨å“ªä¸ªä½ç½®ï¼Œåªèƒ½æ„Ÿå—åˆ°é£Ÿç‰©å¤§æ¦‚åœ¨å“ªä¸ªæ–¹å‘ã€‚æ¯åªé¸Ÿæ²¿ç€è‡ªå·±åˆ¤å®šçš„æ–¹å‘è¿›è¡Œæœç´¢ï¼Œå¹¶åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­è®°å½•è‡ªå·±æ›¾ç»æ‰¾åˆ°è¿‡é£Ÿç‰©ä¸”é‡æœ€å¤šçš„ä½ç½®ï¼ŒåŒæ—¶æ‰€æœ‰çš„é¸Ÿéƒ½å…±äº«è‡ªå·±æ¯ä¸€æ¬¡å‘ç°é£Ÿç‰©çš„ä½ç½®ä»¥åŠé£Ÿç‰©çš„é‡ï¼Œè¿™æ ·é¸Ÿç¾¤å°±çŸ¥é“å½“å‰åœ¨å“ªä¸ªä½ç½®é£Ÿç‰©çš„é‡æœ€å¤šã€‚åœ¨æœç´¢çš„è¿‡ç¨‹ä¸­æ¯åªé¸Ÿéƒ½ä¼šæ ¹æ®è‡ªå·±è®°å¿†ä¸­é£Ÿç‰©é‡æœ€å¤šçš„ä½ç½®å’Œå½“å‰é¸Ÿç¾¤è®°å½•çš„é£Ÿç‰©é‡æœ€å¤šçš„ä½ç½®è°ƒæ•´è‡ªå·±æ¥ä¸‹æ¥æœç´¢çš„æ–¹å‘ã€‚ç»è¿‡ä¸€æ®µæ—¶é—´åé¸Ÿç¾¤å°±å¯ä»¥ç¡®å®šæ£®æ—ä¸­é£Ÿç‰©æœ€å¤šçš„åœ°æ–¹ä¹Ÿå°±æ˜¯æ‰¾åˆ°äº†å…¨å±€çš„æœ€ä¼˜è§£ã€‚</p>
<p>ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•å°±æ˜¯æ¨¡æ‹Ÿé¸Ÿç¾¤é£è¡Œæ•é£Ÿè¡Œä¸ºï¼ŒæŠŠæ¯ä¸ªç²’å­çœ‹ä½œä¼˜åŒ–é—®é¢˜çš„ä¸€ä¸ªå¯è¡Œè§£ï¼Œæ¯ä¸ªç²’å­é€šè¿‡è·Ÿè¸ªæœ¬èº«æ‰¾åˆ°çš„å±€éƒ¨æœ€ä¼˜è§£å’Œç§ç¾¤ä¸­å…¶ä»–ä¾‹å­æ‰¾åˆ°çš„å…¨å±€æœ€ä¼˜è§£æ¥ç¡®å®šä¸‹ä¸€æ­¥æœç´¢åŒºåŸŸã€‚</p>
<p>ç²’å­ç¾¤ç®—æ³•çš„é€Ÿåº¦å’Œä½ç½®æ›´æ–°æ–¹å¼åˆ†åˆ«ä¸º</p>
<script type="math/tex; mode=display">{v_{ij}}\left( {k + 1} \right) = w{v_{ij}}\left( k \right) + {c_1}{r_1}\left( {{p_{ij}}\left( k \right) - {x_{ij}}\left( k \right)} \right) + {c_2}{r_2}\left( {{g_{ij}}\left( k \right) - {x_{ij}}\left( k \right)} \right) \tag{3.2.5}</script><script type="math/tex; mode=display">{x_{ij}}\left( {k + 1} \right) = {x_{ij}}\left( k \right) + {v_{ij}}\left( k \right) \tag{3.2.6}</script><p>å¼ä¸­ä¸‹æ ‡$i$ã€$j$ã€$k$åˆ†åˆ«ä»£è¡¨ç¬¬$i$ä¸ªç²’å­ã€ç¬¬$j$ç»´ç©ºé—´ã€ç¬¬$k$ä»£ç²’å­ï¼›$w$ä¸ºæƒ¯æ€§æƒé‡ï¼Œæè¿°äº†ç²’å­å¯¹ä¹‹å‰é€Ÿåº¦çš„â€œç»§æ‰¿â€ï¼›${c_1}$ã€${c_2}$ä¸ºå­¦ä¹ å› å­ï¼Œæç°ç²’å­å‘å…¨å±€æœ€ä¼˜ç²’å­å­¦ä¹ çš„ç‰¹æ€§ï¼›${r_1}$ã€${r_1}$ä¸º$\left( {0,1} \right)$çš„éšæœºæ•°ã€‚</p>
<p>ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•ä¸å…¶ä»–æ™ºèƒ½ç®—æ³•ç›¸æ¯”ï¼Œæœ€æ˜¾è‘—çš„ç‰¹ç‚¹å°±æ˜¯æ²¡æœ‰â€œä¼˜èƒœåŠ£æ±°â€çš„æœºåˆ¶ï¼Œæ‰€æœ‰ç²’å­åœ¨è¿­ä»£è¿‡ç¨‹ä¸­éƒ½ä¼šä½œä¸ºç§ç¾¤çš„æˆå‘˜ä¿ç•™ã€‚ç²’å­ç¾¤ç®—æ³•çš„ä¼˜ç‚¹å°±æ˜¯å…·æœ‰è¾ƒå¼ºçš„é²æ£’æ€§ï¼Œå¯¹ç§ç¾¤çš„å¤§å°æ•æ„Ÿåº¦ä¸é«˜ï¼Œå‚æ•°å°‘ï¼Œæ”¶æ•›é€Ÿåº¦å¿«ï¼Œä½†ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ï¼Œåèµ·æ”¶æ•›é€Ÿåº¦æ…¢ï¼Œå®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜è§£ï¼Œé€šå¸¸å­¦è€…å¯¹ç²’å­ç¾¤ç®—æ³•çš„æ”¹è¿›é›†ä¸­åœ¨æé«˜ç§ç¾¤å¤šæ ·æ€§æ¥é¿å…å±€éƒ¨æœ€ä¼˜é—®é¢˜ã€‚åœ¨åŸºæœ¬PSOç®—æ³•ä¸­å¼•å…¥ç—…æ¯’ç§ç¾¤[18]å¯ä»¥å¢å¼ºä¸»ç¾¤ä½“ç²’å­çš„å¤šæ ·æ€§ï¼Œæé«˜å±€éƒ¨æœç´¢èƒ½åŠ›ï¼Œè§£å†³åŸºæœ¬PSOç®—æ³•å®¹æ˜“é™·å…¥å±€éƒ¨æœ€ä¼˜ã€æ”¶æ•›é€Ÿåº¦æ…¢çš„é—®é¢˜ã€‚</p>
<h2 id="3-3-æœºå™¨å­¦ä¹ ç®—æ³•"><a href="#3-3-æœºå™¨å­¦ä¹ ç®—æ³•" class="headerlink" title="3.3  æœºå™¨å­¦ä¹ ç®—æ³•"></a>3.3  æœºå™¨å­¦ä¹ ç®—æ³•</h2><p>éšç€äººå·¥æ™ºèƒ½æŠ€æœ¯çš„å‘å±•ï¼Œåœ¨æ— äººæœºèˆªè¿¹è§„åˆ’ä¸è·Ÿè¸ªé¢†åŸŸéƒ½å‡ºç°äº†ä¸€ç³»åˆ—åŸºäºæœºå™¨å­¦ä¹ çš„æ¨¡å‹ã€‚åŸºäºæ·±åº¦å¼ºåŒ–å­¦ä¹ ç†è®ºå‡ºç°äº†å¤§é‡çš„ååŒèˆªè¿¹è§„åˆ’æ–¹æ³•ï¼Œä½†æœ‰éƒ¨åˆ†å­˜åœ¨æ±‚è§£æ—¶é—´è¿‡é•¿ï¼Œä¸é€‚ç”¨äºåœ¨çº¿åº”ç”¨çš„é—®é¢˜ï¼Œè€Œæ— äººæœºé£è¡Œçš„å®æ—¶æ€§ä¹Ÿæ˜¯ä¸€ä¸ªé‡è¦é—®é¢˜ã€‚åŸºäºæ•°æ®é©±åŠ¨çš„éå‚æ•°æ¨¡å‹å…·æœ‰è¾ƒå¼ºçš„éçº¿æ€§å»ºæ¨¡èƒ½åŠ›ï¼Œåœ¨å¯¹ä¸ç¡®å®šæ€§ç›®æ ‡çš„è·Ÿè¸ªä¸­æœ‰ç€è¾ƒå¥½çš„é¢„æµ‹æ€§èƒ½ã€‚</p>
<h3 id="3-3-1-åŸºäºQå­¦ä¹ çš„æ— äººæœºèˆªè¿¹è§„åˆ’ç®—æ³•"><a href="#3-3-1-åŸºäºQå­¦ä¹ çš„æ— äººæœºèˆªè¿¹è§„åˆ’ç®—æ³•" class="headerlink" title="3.3.1  åŸºäºQå­¦ä¹ çš„æ— äººæœºèˆªè¿¹è§„åˆ’ç®—æ³•"></a>3.3.1  åŸºäºQå­¦ä¹ çš„æ— äººæœºèˆªè¿¹è§„åˆ’ç®—æ³•</h3><p>Qå­¦ä¹ ï¼ˆQ-learningï¼‰ç®—æ³•æ˜¯ä¸€ç§ä¸æ¨¡å‹æ— å…³çš„å¼ºåŒ–å­¦ä¹ ç®—æ³•ï¼Œä»¥é©¬å°”ç§‘å¤«å†³ç­–è¿‡ç¨‹ï¼ˆMarkov Decision Processes, MDPsï¼‰ä¸ºç†è®ºåŸºç¡€ã€‚æ ‡å‡†çš„é©¬å°”å¯å¤«æ¨¡å‹å†³ç­–è¿‡ç¨‹å¯ç”¨ä¸€ä¸ªäº”å…ƒç»„$\left\langle {S,A,P,R,\gamma } \right\rangle $æ¥è¡¨ç¤ºï¼Œå…¶ä¸­ï¼š$S$ä»£è¡¨ç¦»æ•£æœ‰ç•Œçš„çŠ¶æ€ç©ºé—´ï¼Œ$A$ä»£è¡¨ç¦»æ•£çš„åŠ¨ä½œç©ºé—´ï¼Œ$P$ä¸ºçŠ¶æ€è½¬ç§»æ¦‚ç‡å‡½æ•°ï¼Œ$R$ä¸ºå›æŠ¥å‡½æ•°ï¼Œ$\gamma $æ˜¯æŠ˜æ‰£å› å­ï¼Œç”¨äºç¡®å®šå»¶è¿Ÿå›æŠ¥å’Œç«‹å³å›æŠ¥çš„ç›¸å¯¹æ¯”ä¾‹ï¼Œè¶Šå¤§è¡¨ç¤ºå»¶è¿Ÿå›æŠ¥çš„é‡è¦ç¨‹åº¦è¶Šé«˜ã€‚ååŒèˆªè¿¹è§„åˆ’é—®é¢˜å°±æ˜¯åŸºäºé©¬å°”å¯å¤«æ¨¡å‹ï¼Œé‡‡å–åŠ¨ä½œèƒ½å¤Ÿè·å¾—æ”¶ç›Šï¼Œå½“å‰ç¯å¢ƒæ ¹æ®é£è¡Œå™¨çš„åŠ¨ä½œåé¦ˆç›¸åº”çš„å›æŠ¥ï¼Œç®—æ³•çš„ä¸»è¦æ€æƒ³å°±æ˜¯é€‰å–èƒ½å¤Ÿè·å¾—é•¿æœŸç§¯ç´¯å€¼${V^\pi }\left( {{s_t},{a_t}} \right) = E\left[ {\sum\limits<em>{i = 0}^\infty  {{\gamma ^i}r\left( {{s_{i + t}},{a</em>{i + t}}} \right)} } \right]$æ•°å­¦æœŸæœ›æœ€å¤§å€¼ï¼Œå…¶ä¸­ç­–ç•¥$\pi $åªå’ŒçŠ¶æ€æœ‰å…³è€Œä¸äº‹ä»¶æ— å…³ï¼Œ${s<em>t}$æ˜¯$t$æ—¶åˆ»çš„ç¯å¢ƒçŠ¶æ€ï¼Œ$a</em>{t}$æ˜¯$t$æ—¶åˆ»é€‰æ‹©çš„åŠ¨ä½œã€‚</p>
<p>æ ¹æ®è´å°”æ›¼Bellmanæ–¹ç¨‹ï¼Œå¾—åˆ°æœ€ä¼˜ç­–ç•¥æŒ‡æ ‡ï¼š${V^ * }\left( x \right) = \mathop {\max }\limits<em>{a \in A} \left[ {R\left( {s,a} \right) + \gamma \sum\limits</em>{{S^{'}} \in S} {{P_{s,a}}\left( {s^{â€˜}} \right)V\left( {s^{â€˜}} \right)} } \right]$ï¼Œå…¶ä¸­$R\left( {s,a} \right)$æ˜¯$r\left( {{s_t},{a_t}} \right)$çš„æ•°å­¦æœŸæœ›${P_{s,a}}\left( {s^{â€˜}} \right)$æ˜¯çŠ¶æ€$s$ä¸‹é€‰å–åŠ¨ä½œ$a$åè½¬ç§»åˆ°ä¸‹ä¸€çŠ¶æ€$s^{â€˜}$çš„æ¦‚ç‡ï¼Œè€Œæœ‰äº›ç¯å¢ƒä¸­çŠ¶æ€ä¹‹é—´çš„è½¬ç§»æ¦‚ç‡$P$è¾ƒéš¾è·å¾—ï¼Œè€ŒQå­¦ä¹ ä¸éœ€è¦è·å–è½¬ç§»æ¦‚ç‡$P$ï¼Œå› è€Œå¯ç”¨æ¥è§£å†³å…·æœ‰é©¬å°”å¯å¤«æ€§è´¨çš„é—®é¢˜ã€‚</p>
<p>Qå­¦ä¹ æ˜¯ä¸€ç§åŸºäºæ•°å€¼è¿­ä»£çš„åŠ¨æ€è§„åˆ’ç®—æ³•ï¼Œä¸ç¯å¢ƒæ— å…³ã€‚å®šä¹‰Qå‡½æ•°ä½œä¸ºè¯„ä¼°å‡½æ•°ï¼š$Q\left( {s,a} \right) = R\left( {s,a} \right) + \gamma {V^ \ast }$ï¼Œå³ä»çŠ¶æ€$s$å¼€å§‹é€‰æ‹©ç¬¬ä¸€ä¸ªåŠ¨ä½œ$a$æ‰§è¡Œåè·å¾—çš„æœ€å¤§ç´¯ç§¯å›æŠ¥çš„æŠ˜ç®—å€¼ï¼Œä¹Ÿå°±æ˜¯ç«‹å³å›æŠ¥å€¼$R\left( {s,a} \right)$åŠ ä¸Šéµå¾ªæœ€ä¼˜ç­–ç•¥çš„æŠ˜ç®—å€¼ï¼Œæ­¤æ—¶æœ€ä¼˜ç­–ç•¥å¯ä»¥å†™æˆ${\pi ^ {\ast} }\left( s \right) = \arg \mathop {\max }\limits_A Q\left( {{s_{t}},a} \right)$ï¼Œä¹Ÿå°±æ˜¯è¯´å¦‚æœagentç”¨Qå‡½æ•°æ›¿ä»£${V^\pi }$å°±å¯ä»¥ä¸è€ƒè™‘è½¬ç§»æ¦‚ç‡$P$ï¼Œè€Œåªè€ƒè™‘å½“å‰çŠ¶æ€$s$çš„æ‰€æœ‰å¯ä¾›é€‰æ‹©çŠ¶æ€$a$ï¼Œä»ä¸­é€‰å‡ºä½¿$Q\left( {{s_{t}},a} \right)$æœ€å¤§çš„åŠ¨ä½œï¼Œå³agentå¯¹å½“å‰çŠ¶æ€çš„éƒ¨åˆ†Qå€¼åšå‡ºå¤šæ¬¡ååº”ï¼Œå°±èƒ½å¤Ÿé€‰å‡ºåŠ¨ä½œåºåˆ—ä½¿å¾—å…¨å±€æœ€ä¼˜ã€‚</p>
<p>Qå­¦ä¹ é€šè¿‡å¯¹ç¯å¢ƒçš„ä¸æ–­æ¢ç´¢ï¼Œç§¯ç´¯å†å²ç»éªŒï¼Œagenté€šè¿‡ä¸æ–­è¯•é”™æ¥å¼ºåŒ–è‡ªèº«ï¼Œæœ€ç»ˆå¯ä»¥è¾¾åˆ°è‡ªä¸»é€‰æ‹©æœ€ä¼˜åŠ¨ä½œçš„ç›®æ ‡ï¼Œå³ä¸è®ºå‡ºäºä½•ç§çŠ¶æ€ï¼Œéƒ½å¯ç»™å‡ºåˆ°è¾¾ç›®æ ‡çŠ¶æ€çš„æœ€ä¼˜é€‰æ‹©è·¯å¾„ï¼Œè¯¥ç®—æ³•ä¸­ç¯å¢ƒå’ŒåŠ¨ä½œç›¸äº’å½±å“ï¼ŒåŠ¨ä½œçš„é€‰æ‹©å½±å“ç¯å¢ƒçŠ¶æ€ï¼Œç¯å¢ƒä¹Ÿå¯ä»¥é€šè¿‡å¼ºåŒ–å›æŠ¥å‡½æ•°æ¥åé¦ˆåŠ¨ä½œçš„ä¼˜åŠ£æ€§ï¼Œå½±å“åŠ¨ä½œçš„é€‰æ‹©ã€‚</p>
<h3 id="3-3-2-åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„æ— äººæœºèˆªè¿¹è·Ÿè¸ªç®—æ³•"><a href="#3-3-2-åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„æ— äººæœºèˆªè¿¹è·Ÿè¸ªç®—æ³•" class="headerlink" title="3.3.2  åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„æ— äººæœºèˆªè¿¹è·Ÿè¸ªç®—æ³•"></a>3.3.2  åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„æ— äººæœºèˆªè¿¹è·Ÿè¸ªç®—æ³•</h3><p>ä¼ ç»Ÿçš„ç¥ç»ç½‘ç»œä¸­ï¼Œè¾“å…¥å’Œè¾“å‡ºå½¼æ­¤ç‹¬ç«‹ï¼Œå¾ªç¯ç¥ç»ç½‘ç»œï¼ˆRecurrent Neural Network, RNNï¼‰å¯ä»¥æœ‰æ•ˆå¤„ç†åºåˆ—æ•°æ®ï¼Œé€‚åˆå¤„ç†ä¸æ—¶åºç›¸å…³çš„é—®é¢˜ï¼Œæ— äººæœºç›®æ ‡è·Ÿè¸ªé—®é¢˜ä¹Ÿæ˜¯å…¶ä½ç½®éšç€æ—¶é—´åŠ¨æ€å˜åŒ–çš„é—®é¢˜ï¼Œå¯ä»¥ç®€åŒ–ä¸ºåæ ‡ã€é€Ÿåº¦ã€åŠ é€Ÿå¯¹éšæ—¶é—´åŠ¨æ€å˜åŒ–ï¼Œé‡‡ç”¨å¾ªç¯ç¥ç»ç½‘ç»œå¯¹å…¶ä¸‹ä¸€æ—¶åˆ»çš„å„å‚é‡è¿›è¡Œé¢„æµ‹ï¼Œç»“åˆä¼ ç»Ÿçš„ç›®æ ‡è·Ÿè¸ªæ¨¡å‹ï¼Œèƒ½å¤Ÿæœ‰æ•ˆæé«˜è·Ÿè¸ªå‡†ç¡®ç‡ã€‚</p>
<p>åœ¨è®­ç»ƒæ¨¡å‹æ—¶å°†ç›®æ ‡çš„ç»å¯¹åæ ‡è¾“å…¥ï¼Œå°†æœŸæœ›è¾“å‡ºç›®æ ‡çš„ç»å¯¹åæ ‡ä½œä¸ºæ ‡ç­¾å®ç°é¢„æµ‹ï¼Œä½†è¿™æ ·çš„æ–¹æ³•åº”ç”¨åˆ°å®é™…åœºæ™¯ä¸­éš¾ä»¥åˆ°è¾¾è¾ƒé«˜çš„é¢„æµ‹ç²¾åº¦ï¼Œå› ä¸ºæ¨¡æ‹Ÿåœºæ™¯çš„åæ ‡é›†ä¸ºæœ‰é™é›†ï¼Œè€Œå®é™…åœºæ™¯çš„åæ ‡é›†ä¸ºæ— é™é›†ï¼Œæ— æ³•è®­ç»ƒæ‰€æœ‰å®é™…åœºæ™¯ä¸­çš„åæ ‡ã€‚å°†åŸºäºå¾ªç¯ç¥ç»ç½‘ç»œçš„ç®—æ³•ç”¨äºä¼ ç»Ÿçš„åŸºäºKFæ»¤æ³¢ç®—æ³•çš„è¿åŠ¨æ¨¡å‹é¢„æµ‹ï¼Œåˆ©ç”¨å¾ªç¯ç¥ç»ç½‘ç»œå¯¹$k$æ—¶åˆ»å’Œ$k-1$æ—¶åˆ»çš„å¹³å‡é€Ÿåº¦å’Œ æ—¶åˆ»ç¬æ—¶é€Ÿåº¦è¿›è¡Œè®¡ç®—ï¼Œè·å–ç›®æ ‡çš„ç»å¯¹åæ ‡ï¼Œå¯ä»¥æœ‰æ•ˆé¿å…è¯¥é—®é¢˜ã€‚</p>
<p>è®°ç›®æ ‡è¿åŠ¨è½¨è¿¹é•¿åº¦ä¸º$N$ï¼Œä»¤$ L_{1:N}^i = \left{ {{c_{r,k}},k = 1:N} \right} $</p>
<p>ç”±äºæœŸæœ›è¾“å‡ºçš„ç›®æ ‡$k-1$æ—¶åˆ»å’Œ$k$æ—¶åˆ»ä¹‹é—´å¹³å‡é€Ÿåº¦${\bar v_{r,k|k - 1}}$ä¸åæ ‡æ•°æ®æ²¡æœ‰æ—¶åºå…³è”ï¼Œä½¿ç”¨ä¸‹å¼å¯¹åæ ‡æ•°æ®è¿›è¡Œå·®åˆ†å¤„ç†ï¼Œå°†è¾“å…¥åæ ‡è½¬åŒ–ä¸ºå¹³å‡é€Ÿåº¦ï¼š</p>
<script type="math/tex; mode=display">{\bar v_{r,k|k - 1}} = {c_{r,k}} - {c_{r,k - 1}} \tag{3.3.1}</script><p>ç”±äºç›®æ ‡çš„ç¬æ—¶é€Ÿåº¦ä¸æœŸæœ›è¾“å‡ºçš„å¹³å‡é€Ÿåº¦å­˜åœ¨æ—¶åºè”ç³»ï¼Œå°†ç¬æ—¶é€Ÿåº¦ä½œä¸ºè¾“å…¥å¢åŠ ä¸€ç»´ä¿¡æ¯ä»¥æé«˜é¢„æµ‹ç²¾åº¦ï¼Œæ­¤æ—¶é¢„æµ‹å¹³å‡é€Ÿåº¦çš„LSTMç¬¬$j$ä¸ªè¾“å…¥å‘é‡ä¸ºï¼š</p>
<script type="math/tex; mode=display">{\bar I_{L,j}} = \left\{ {{{\bar v}_{r,k|k - 1}},{v_{r,k}},k = j:{W_L} + j - 1} \right\} \tag{3.3.2}</script><p>å¯¹åº”æ ‡ç­¾ä¸º${\bar v_{r,{W_L} + j|{W_L} + j - 1}}$</p>
<p>ç›¸ä¼¼çš„ï¼Œä½¿ç”¨æ»‘åŠ¨çª—å£ä»é€Ÿåº¦é›†$V_{1:N}^i$æå–é•¿åº¦ä¸º${W_V}$çš„é€Ÿåº¦æ•°æ®ï¼Œå¾—é¢„æµ‹ç¬æ—¶é€Ÿåº¦çš„LSTMæ¨¡å‹ç¬¬$j$ä¸ªè¾“å…¥åˆ†é‡ä¸ºï¼š</p>
<script type="math/tex; mode=display">{I_{V,j}} = \left\{ {{v_{r,k}},k = j:{W_V} + j - 1} \right\} \tag{3.3.3}</script><p>å¯¹åº”æ ‡ç­¾ä¸º${v_{r,{W_V} + j|{W_V} + j - 1}}$ã€‚è€ƒè™‘åˆ°$k$æ—¶åˆ»ä»¥å‰çš„å‡ ä¸ªæ—¶åˆ»çš„ç¬æ—¶é€Ÿåº¦å­˜åœ¨ä¸æœŸæœ›è¾“å‡ºçš„$k$æ—¶åˆ»ç¬æ—¶é¢„æµ‹é€Ÿåº¦å­˜åœ¨æ—¶åºå…³è”æ€§ï¼Œæ— éœ€é¢å¤–å¤„ç†ç›´æ¥ä½¿ç”¨LSTMå»ºç«‹æ˜ å°„å…³ç³»ã€‚</p>
<p>ç»è¿‡LSTMæ¨¡å‹çš„è®­ç»ƒï¼Œå¯¹ç›®æ ‡çš„å¹³å‡é€Ÿåº¦å’Œç¬æ—¶é€Ÿåº¦è¿›è¡Œé¢„æµ‹ï¼Œå°†å¾—åˆ°çš„é¢„æµ‹å€¼è¾“å…¥ä¼ ç»Ÿçš„KFæ»¤æ³¢æ¨¡å‹å¾—åˆ°æœ€ç»ˆçš„æœ€ç»ˆä¼°è®¡å’Œé€Ÿåº¦ä¼°è®¡ï¼Œé‡å¤æ¯ä¸ªåæ ‡ç‚¹çš„æ­¥éª¤æœ€ç»ˆå¾—åˆ°å¯¹ç›®æ ‡çš„è¿ç»­è·Ÿè¸ªã€‚</p>
<h2 id="4-æœªæ¥å±•æœ›"><a href="#4-æœªæ¥å±•æœ›" class="headerlink" title="4  æœªæ¥å±•æœ›"></a>4  æœªæ¥å±•æœ›</h2><p>åœ¨æ— äººæœºèˆªè¿¹è§„åˆ’ç ”ç©¶é¢†åŸŸï¼Œä¸»è¦çš„ç ”ç©¶åŒ…æ‹¬æ–°ç®—æ³•çš„æå‡ºï¼Œå·²æœ‰ç®—æ³•çš„æ”¹è¿›ï¼Œå¤šç®—æ³•èåˆä»¥åŠå¤§è§„æ¨¡å¤šæ— äººæœºååŒç­‰æ–¹é¢ã€‚ç»è¿‡å¤šå¹´çš„å‘å±•ï¼Œå¯¹ç°æœ‰ç®—æ³•çš„æ”¹è¿›å·²ç»è¾ƒä¸ºæˆç†Ÿï¼Œæ–°å‡ºç°çš„ç®—æ³•å¤šé›†ä¸­äºå—ç”Ÿç‰©è§„å¾‹å¯å‘çš„æ™ºèƒ½ç®—æ³•å·²ç»äººå·¥æ™ºèƒ½é¢†åŸŸç®—æ³•çš„åº”ç”¨ã€‚</p>
<h3 id="4-1-å¤šæ— äººæœºååŒèˆªè¿¹è§„åˆ’"><a href="#4-1-å¤šæ— äººæœºååŒèˆªè¿¹è§„åˆ’" class="headerlink" title="4.1  å¤šæ— äººæœºååŒèˆªè¿¹è§„åˆ’"></a>4.1  å¤šæ— äººæœºååŒèˆªè¿¹è§„åˆ’</h3><p>å¤šæ¶æ— äººæœºä¹‹é—´ååŒè¿›è¡Œçš„èˆªè¿¹è§„åˆ’ä¸åŒäºå•æ— äººæœºä½“ç³»ï¼Œçº¦æŸæ¡ä»¶å¤§ä¸ºå¢åŠ ï¼Œç¾¤ä½“ä¹‹é—´çš„æ—¶ç©ºååŒæ€§å°¤ä¸ºå…³é”®ã€‚é™¤äº†å•æ— äººæœºä½“ç³»éœ€è¦è€ƒè™‘çš„å¨èƒæºã€ç¯å¢ƒéšœç¢ï¼Œå¤šæ— äººæœºä½“ç³»è¿˜å¢åŠ äº†æœºç¾¤ç¢°æ’å¤„ç†ã€å¤šæœºååŒé€šä¿¡ç­‰æ£˜æ‰‹é—®é¢˜ã€‚ç›¸è¾ƒäºå•æ— äººæœºï¼Œå¤šæ— äººæœºååŒæ‰§è¡Œé£è¡Œä»»åŠ¡æ•ˆç‡æ›´é«˜ï¼Œèƒ½æ›´å¥½åœ°å¤„ç†çªå‘äº‹ä»¶ï¼Œå¤šæ— äººæœºé›†ç¾¤åœ¨å…¶ä¸­éƒ¨åˆ†æ— äººæœºæ— æ³•ç»§ç»­æ‰§è¡Œä»»åŠ¡éœ€è¦è¿”èˆªæ—¶æ—¶ï¼Œä»ç„¶èƒ½å¤Ÿç»§ç»­å®Œæˆä»»åŠ¡ã€‚å°½ç®¡å¤šæ— äººæœºååŒèˆªè¿¹è§„åˆ’å°†é—®é¢˜å¸¦åˆ°äº†ä¸€ä¸ªæ–°çš„é«˜åº¦ï¼Œä½†å¤šæœºååŒèƒ½å¤Ÿå¸¦æ¥ä¼—å¤šä¼˜åŠ¿ï¼Œæ­¤å¿…å°†æ˜¯æœªæ¥å‘å±•çš„å¤§è¶‹åŠ¿ã€‚</p>
<h3 id="4-2-å¤šç®—æ³•èåˆ"><a href="#4-2-å¤šç®—æ³•èåˆ" class="headerlink" title="4.2  å¤šç®—æ³•èåˆ"></a>4.2  å¤šç®—æ³•èåˆ</h3><p>å„ç§ç»å…¸ç®—æ³•å’Œæ™ºèƒ½ç®—æ³•éƒ½æœ‰å…¶ä¼˜åŠ¿å’Œä¸è¶³ï¼Œå¤šç®—æ³•èåˆèƒ½å¤Ÿå°†ç°æœ‰ç®—æ³•è¿›è¡Œèåˆä½¿ç”¨ï¼Œæœ‰æ•ˆå¼¥è¡¥æ‰€èåˆç®—æ³•çš„ç¼ºé™·ã€‚ä¾‹å¦‚ä½¿ç”¨é—ä¼ ç®—æ³•å’Œç¨€ç–$A\ast$ç®—æ³•èåˆçš„æ–¹æ³•åœ¨çº¿è§„åˆ’èˆªè¿¹ï¼Œæ”¹è¿›çš„é—ä¼ ç®—æ³•ç”¨äºå…¨å±€è§„åˆ’ï¼Œç¨€ç–$A\ast$ç®—æ³•ç”¨äºåº”å¯¹çªå‘æƒ…å†µï¼Œï¼Œç»“åˆä¸¤è€…çš„ä¼˜åŠ¿ï¼Œèƒ½å¤Ÿå¾ˆå¥½çš„åšåˆ°ç³»ç»Ÿä»»åŠ¡çš„å…¼å®¹ã€‚åˆä¾‹å¦‚ä½¿ç”¨$A\ast$ç®—æ³•å¼¥è¡¥æ¨¡æ‹Ÿé€€ç«ç®—æ³•è€—æ—¶å¤ªé•¿çš„é—®é¢˜ï¼Œè¿›ä¸€æ­¥ç»“åˆæ”¹å–„æ±‚è§£è´¨é‡ã€‚å¤šç®—æ³•èåˆçš„ç›®çš„å°±æ˜¯ä¸ºäº†å°†å¤šç§ç®—æ³•ç›¸ç»“åˆï¼Œå–é•¿è¡¥çŸ­å¼¥è¡¥ä¸è¶³ï¼Œå¾€å¾€æ¯”æå‡ºæ–°ç®—æ³•æ¥çš„æ›´ä¾¿æ·ä¸”æœ‰æ•ˆï¼Œä»è€Œæ›´å¥½åœ°è§„åˆ’æ— äººæœºèˆªè¿¹ã€‚</p>
<h2 id="bell-å‚è€ƒæ–‡çŒ®"><a href="#bell-å‚è€ƒæ–‡çŒ®" class="headerlink" title=":bell:å‚è€ƒæ–‡çŒ®"></a><span class="github-emoji"><span>ğŸ””</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f514.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å‚è€ƒæ–‡çŒ®</h2><p>[1] è·¯æ™¶, å²å®‡, å¼ ä¹¦ç•…, é‚“åŠ²ç¤¼. æ— äººæœºèˆªè¿¹è§„åˆ’ç®—æ³•ç»¼è¿°[J]. èˆªç©ºè®¡ç®—æŠ€æœ¯, 2022, 52(04): 131-134.</p>
<p>[2] éŸ©æ”€, é™ˆè°‹, é™ˆå“¨ä¸œç­‰. åŸºäºæ”¹è¿›èšç¾¤ç®—æ³•çš„æ— äººæœºèˆªè¿¹è§„åˆ’[J]. å‰æ—å¤§å­¦å­¦æŠ¥: ä¿¡æ¯ç§‘å­¦ç‰ˆ, 2013, 31(1): 66-72.</p>
<p>[3] èƒ¡ä¸­å, èµµæ•, å§šæ•ç­‰. æ— äººæœºèˆªè¿¹è§„åˆ’æŠ€æœ¯ç ”ç©¶åŠå‘å±•è¶‹åŠ¿[J]. èˆªç©ºç”µå­æŠ€æœ¯, 2009, 40(2): 24-29.</p>
<p>[4] Kathib O. Real-time Obstacle Avoidance for Manipulators and Mobile Robots[M]. New York: Springer New York, 1986.</p>
<p>[5] CHEN X, ZHANG J. The Three-Dimension Path Planning of UAV Based on Improved Artificial Potential Field in Dynamic Environment[C] International Conference on Intelligent Human-Machine Systems and Cybernetics. Tlemcen, Algeria: IEEE, 2013: 144-147.</p>
<p>[6] ç‹å¼º, å¼ å®‰, å´å¿ æ°. æ”¹è¿›äººå·¥åŠ¿åœºæ³•ä¸æ¨¡æ‹Ÿé€€ç«ç®—æ³•çš„æ— äººæœºèˆªè·¯è§„åˆ’[J]. ç«åŠ›ä¸æŒ‡æŒ¥æ§åˆ¶, 2014(8): 70-73.</p>
<p>[7] å§šè¿œ, å‘¨å…´ç¤¾, å¼ å‡¯é¾™ç­‰. åŸºäºç¨€ç–Aâˆ—æœç´¢å’Œæ”¹è¿›äººå·¥åŠ¿åœºçš„æ— äººæœºåŠ¨æ€èˆªè¿¹è§„åˆ’[J]. æ§åˆ¶ç†è®ºä¸åº”ç”¨, 2010, 27(7): 953-959.</p>
<p>[8] DONG S, ZHU X, LONG G. Cooperative Planning Method For Swarm UAVs Based on Hierarchical Strategy[C] International Conference on System Science, Engineering Design and Manufacturing Informatization. Pacific Grove, CA, USA: IEEE, 2012: 304-307.</p>
<p>[9] MAINI P, SUJIT P B. Path Planning for a UAV with Kinematic Constraints in the Presence of Polygonal Obstacles[C] International Conference on Unmanned Aircraft Systems. Arlington, VA, USA: IEEE, 2016: 62-67.</p>
<p>[10]é‚±ç¦ç”Ÿ, æ¨å»ºå¹³, é‚µç»ªå¨. åŸºäºé—ä¼ æ¨¡æ‹Ÿé€€ç«ç®—æ³•çš„æ— äººæœºèˆªè¿¹è§„åˆ’[J]. æ²ˆé˜³èˆªç©ºèˆªå¤©å¤§å­¦å­¦æŠ¥, 2014, 31(1): 16-19.</p>
<p>[11]å ä¼Ÿä¼Ÿ, ç‹ä¼Ÿ, é™ˆèƒ½æˆç­‰. ä¸€ç§åˆ©ç”¨æ”¹è¿›Aâˆ—ç®—æ³•çš„æ— äººæœºèˆªè¿¹è§„åˆ’[J]. æ­¦æ±‰å¤§å­¦å­¦æŠ¥: ä¿¡æ¯ç§‘å­¦ç‰ˆ, 2015, 40(3): 315-320.</p>
<p>[12]æ¨æ¶¦æ´², ä¸å‹‡, å¼ æ‰¿æœ. åŸºäºDTW çš„æ”¹è¿›Aâˆ—ç®—æ³•åœ¨èˆªè¿¹è§„åˆ’ä¸­çš„åº”ç”¨[J]. ç”µå…‰ä¸æ§åˆ¶, 2016, 23(6): 5-10.</p>
<p>[13]é™ˆä¾ ï¼Œè‰¾å®‡è¿ªï¼Œæ¢çº¢åˆ©ï¼ åŸºäºæ”¹è¿›èšç¾¤ç®—æ³•çš„æ— äººæœºä¸‰ç»´èˆªè¿¹è§„åˆ’ç ”ç©¶ï¼»ï¼ªï¼½ï¼ æˆ˜æœ¯å¯¼å¼¹æŠ€æœ¯ï¼Œ 2019(2): 59-66. </p>
<p>[14]DUAN H, YU Y, ZHANG X, et al. Three-Dimension Path Planning for UCAV Using Hybrid Meta-Heuristic ACO-DE Algorithm[J]. Simulation Modelling Practice &amp; Theory, 2010, 18(8): 1104-1115.</p>
<p>[15]TAO J, WANG Y, YANG H, et al. Three-Dimensional Path Planning of Unmanned Aerial Vehicle under Complicated Environment[C] Control and Decision Conference. Big Sky, MT, USA: IEEE, 2016: 6377-6382.</p>
<p>[16]é±¼ä½³æ¬£, æåˆš, æä¸œæ¶›ç­‰. æ”¹è¿›é‡å­é—ä¼ ç®—æ³•åœ¨æ— äººæœºèˆªè¿¹è§„åˆ’ä¸­çš„åº”ç”¨[J]. è®¡ç®—æœºä»¿çœŸ, 2015, 32(5): 106-109.</p>
<p>[17]ä¿çª, åˆ˜æ–°, å‘¨æˆå¹³ç­‰. åŸºäºç—…æ¯’é—ä¼ ç®—æ³•çš„å¿«é€Ÿèˆªè¿¹è§„åˆ’æ–¹æ³•[J]. å®‡èˆªå­¦æŠ¥, 2011, 32(4): 756-761.</p>
<p>[18]å´å¤©çˆ±, å´äº‘ç‰, åˆ«æ™“å³°. é‡‡ç”¨ç—…æ¯’ç²’å­ç¾¤ä¼˜åŒ–ç®—æ³•çš„é£è¡Œå™¨èˆªè¿¹è§„åˆ’[J]. ç”µå…‰ä¸æ§åˆ¶, 2014, 21(8): 102-105.</p>
]]></content>
      <categories>
        <category>Literature review</category>
      </categories>
      <tags>
        <tag>UAV</tag>
        <tag>Track Planning</tag>
      </tags>
  </entry>
  <entry>
    <title>æ¯•ä¸šæ€»ç»“</title>
    <url>/2022/06/22/%E6%AF%95%E4%B8%9A%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<ul>
<li>å¤è¿æ²³ç•”åˆ°å±å³°å±±ä¸‹ï¼Œè¿™é‡Œæ˜¯<code>Heisenberg</code>çš„æœ¬ç§‘æ¯•ä¸šæ€»ç»“<span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
<li>æ„Ÿè°¢æ‰€æœ‰æ›¾ç»å¸®åŠ©è¿‡æˆ‘çš„å¤§æœ‹å‹å’Œå°æœ‹å‹ä»¬ï¼Œæ¯•ä¸šå¿«ä¹ï¼Œæ­¤å»ä¸€åˆ«ï¼Œæ±Ÿæ¹–å†è§<span class="github-emoji"><span>ğŸ‘‹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f44b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span id="more"></span>
</li>
</ul>
<hr>
<h3 id="åºè¨€"><a href="#åºè¨€" class="headerlink" title="åºè¨€"></a>åºè¨€</h3><blockquote>
<p>è¿™å››å¹´ï¼Œå…¥å­¦çš„æ‡µæ‡‚æ— çŸ¥å’Œå¿å¿‘ä¸å®‰å·²ç„¶æ¶ˆå¤±ï¼Œå‰©ä¸‹çš„æ˜¯æ¯•ä¸šçš„è§£è„±å’Œé‡Šç„¶ã€‚å¹³æ—¶æ€»è§‰å¾—æ— æ‰€è°“ï¼Œä¹‹åè¿˜æœ‰æœºä¼šè§é¢ï¼ŒçœŸæ­£é©¶ç¦»æ ¡é—¨åï¼Œè¿™äº›éƒ½æˆäº†çº¦å®šã€‚å¾…åœ¨ç²¾å¼˜<span class="github-emoji"><span>ğŸ…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f345.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>çš„ä¸‰å¹´å¤šï¼Œåœ¨è¿™é‡Œç»“è¯†äº†å¤§å¤šæ•°æœ‹å‹ï¼›ä¸¤æ¬¡ç‰¹æ®Šçš„å®ä¹ ç»å†ï¼Œæå‰ä½“éªŒäº†å›½ä¼å’Œäº‹ä¸šç¼–ï¼›æ‹¿ç€å¥–å­¦é‡‘å’Œå®ä¹ å·¥èµ„æ¢äº†å¹³æ¿ã€æ‰‹æœºå’Œç”µè„‘ï¼Œå»è‡ªå·±æƒ³å»çš„åœ°æ–¹ï¼›æ¥ä¸‹æ¥å‡ å¹´çš„å­¦ä¹ å’Œç”Ÿæ´»ä¹Ÿæœ‰äº†æ–¹å‘ï¼Œå»å—äº¬å¼¥è¡¥ä¹‹å‰æ²¡èƒ½èµ°å‡ºå»çš„é—æ†¾ã€‚</p>
</blockquote>
<pre><code>æœ‰ä¸€äº›å†…å®¹éš¾å…å¸¦ç€æƒ…ç»ªï¼Œæœ‰å¯èƒ½è§†æƒ…å†µé™åˆ¶è®¿é—®ï¼Œæœ‰äº›åå­—è¿›è¡Œé€‚å½“å¤„ç†
æ–‡ç¬”ä¸å¥½ï¼Œæµæ°´è´¦å½¢å¼çš„è®°å½•ï¼Œæ²¡æœ‰å•¥å…ˆåæ’åº
</code></pre><h3 id="é‚£å››å¹´é‡åˆ°çš„äºº"><a href="#é‚£å››å¹´é‡åˆ°çš„äºº" class="headerlink" title="é‚£å››å¹´é‡åˆ°çš„äºº"></a>é‚£å››å¹´é‡åˆ°çš„äºº</h3><p>æ€»çš„æ¥è¯´ï¼Œèƒ½é‡åˆ°å¯çˆ±çš„å„ä½ï¼Œè¿˜æ˜¯å¾ˆå¹¸è¿çš„ã€‚</p>
<h5 id="åœ¨ç²¾å¼˜çš„åŠå…¬å®¤å’Œä¼šé•¿å›¢"><a href="#åœ¨ç²¾å¼˜çš„åŠå…¬å®¤å’Œä¼šé•¿å›¢" class="headerlink" title="åœ¨ç²¾å¼˜çš„åŠå…¬å®¤å’Œä¼šé•¿å›¢"></a>åœ¨ç²¾å¼˜çš„åŠå…¬å®¤å’Œä¼šé•¿å›¢</h5><ul>
<li>æœ€æ—©è®¤è¯†çš„å¤§å®¶ï¼Œæ˜¯é‡‘åº“çš„å¤§è€æ¿<code>æ–‡é–(QWJ)</code>å’ŒäºŒè€æ¿<code>å‡¯(ZK)</code>ï¼Œæ˜¯å°æµ£ç†Š<code>lcq</code>å’Œ<code>wcf</code>ï¼Œæ˜¯<code>æ¥·æ·‡(ZKQ)</code>å’Œ<code>æºæ–Œ(BKB)</code>ï¼Œæ˜¯<code>æ³¢æ³¢</code>ã€<code>æ—ç«¥</code>ã€<code>æ™“æ´(WXJ)</code>å’Œ<code>è€æ°(WYJ)</code>ã€‚</li>
<li>ä¹Ÿåœ¨è¿™é‡Œé‡åˆ°äº†<code>ç²¥ç²¥</code>è¿˜æœ‰<code>bqå§</code>ã€‚</li>
<li><code>æœ±å“¥</code>ã€<code>æµ©ç”·</code>ã€<code>CC</code>ã€<code>å°æˆ</code>ã€<code>å°å‡¯</code>è¿˜æœ‰è®¸å¤šåœ¨é»‘å¤œå’Œçƒˆæ—¥ä¸‹ç”¨çƒ­è¯šè¿æ¥æŒ‘æˆ˜çš„æœ‹å‹ä»¬ã€‚</li>
<li><span class="github-emoji"><span>ğŸŒ²</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f332.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><code>æ¶µè¹</code>ã€æœªæ¥çš„å±€é•¿<code>ly</code>ã€è·³åŠ¨ç€çš„<code>åŠ›å“¥</code>ã€åŒä¸ºå±€é•¿çš„<code>æœ±å“¥</code>å’Œæ•¢äºè¿½æ¢¦çš„ç¼–å‰§<code>åä¹</code>ã€‚</li>
<li>ç¾¤æœ‰ä¸€è¾…å¯¼å‘˜å¦‚æœ‰ä¸€å®çš„<span class="github-emoji"><span>ğŸ¼</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f43c.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><code>Panda</code>ã€æ‰˜ä»˜ä»¥é‡ä»»çš„å°½èŒå°½è´£çš„<code>ç¿€</code>ã€å‹¤å‹¤æ³æ³çš„æµ·é²œå¤§äº¨<code>æ¬§</code>ã€è¿˜æœ‰ä¸€ç›´å‚¬æˆ‘ä¹°æˆ¿ä¹°è½¦ä¹°é£æœºçš„<code>ç¿æ•</code>å’Œ<code>00</code>ï¼Œçƒ­çˆ±å¥èº«çš„é«˜å†·çš„<code>å°éª†</code>ã€‚</li>
<li>è¿˜æœ‰å¾ˆå¤šå°æœ‹å‹ï¼Œä¼¼ä¹æœ‰çš„éƒ½è¿˜ä¸æ›¾è§é¢ï¼Œå°±å·²é“åˆ«ã€‚</li>
<li>æ„¿æˆ‘ä»¬åœ¨æ¼«æ¼«é•¿è·¯ä¸Šï¼Œä¸ç•é»‘å¤œå¯’å†¬ï¼Œåœ¨é¡¶å³°ç›¸è§<span class="github-emoji"><span>ğŸ˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60e.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
</ul>
<h5 id="åœ¨ç²¾å¼˜çš„äº§å“å¼€å‘éƒ¨"><a href="#åœ¨ç²¾å¼˜çš„äº§å“å¼€å‘éƒ¨" class="headerlink" title="åœ¨ç²¾å¼˜çš„äº§å“å¼€å‘éƒ¨"></a>åœ¨ç²¾å¼˜çš„äº§å“å¼€å‘éƒ¨</h5><ul>
<li>â€˜é»‘æ¶åŠ¿åŠ›â€™<code>zdl</code>ã€ä¸Šç­ç¤¾æ­»è­¦å‘Šçš„<code>å°è¯ºå§</code>ã€å…¨èƒ½çš„<code>yy</code>ã€ç”œç”œçš„<code>å¾€å¾€ä¸</code>å’Œ<code>å°èŠ±ä»™</code>ã€äººé—´æ¸…é†’çš„<code>Congb19</code>ã€å¸…æ°”å¤šé‡‘çš„<code>hxy</code>ã€IOSå¤§ä½¬<code>hyh</code>ã€éª¨ç˜¦å¦‚æŸ´çš„<code>xyy</code>ã€æ–¹æ–¹çš„å…¨æ ˆ<code>zw</code>è¿˜æœ‰æ¶¦æ•™å¸ˆå²—çš„<code>Xå”</code>ã€‚</li>
<li><code>ä½å¤§å¸ˆ</code>çš„ç¾å‘³çƒ§çƒ¤ã€å°æµ£ç†Š<code>lcq</code>ã€æ°”è´¨å‹ç”·<code>leo</code>ã€ç´ æœ‰å·¥å¤§hclç§°å·çš„<code>hcl</code>ã€<code>hhr</code>å’Œ<code>wcf</code>åœ¨çš„åœ°æ–¹æ€»ä¼šgayèµ·æ¥ã€æ‰‹æ„Ÿæä½³çš„<code>cl</code>ã€åŒå­¦é™¢çš„æœ¬æ ¡è€ƒç ”çš„ç¡¬ä»¶å¤§ä½¬<code>wyb</code>ã€å¥è¡Œå¤§ä½¬NPLä¹‹æ˜Ÿ<code>zyl</code>å’Œé‡å­è®¡ç®—<code>yx</code>ã€ç¾¤å‹æ°›å›´å¤§å¸ˆ<code>fyl</code>ã€æ‰‹å†²å’–å•¡å¤§å¸ˆ<code>zky</code>ã€æ¯æ¬¡å‘è¨€éƒ½å¾ˆç²¾è¾Ÿçš„<code>ç« è¿œ</code>ï¼Œè¿˜æœ‰ä¸è¯´éƒ½ä¸çŸ¥é“æ¯”æˆ‘ä»¬å°ä¸€å±Šçš„<code>å°å†œ(NJS)</code>ã€‚</li>
<li>è¿˜æœ‰ä¸€äº›æ²‰é»˜çš„ç¾¤å‹ï¼Œç”±äºå„ç§åŸå› ç¦»å¼€çš„ç¾¤å‹ã€‚</li>
</ul>
<h5 id="åœ¨é€šä¿¡1803å’Œä¿¡æ¯å­¦é™¢"><a href="#åœ¨é€šä¿¡1803å’Œä¿¡æ¯å­¦é™¢" class="headerlink" title="åœ¨é€šä¿¡1803å’Œä¿¡æ¯å­¦é™¢"></a>åœ¨é€šä¿¡1803å’Œä¿¡æ¯å­¦é™¢</h5><ul>
<li>â€˜è™¹æ¡¥æ¶éœ¸â€™<code>ç«¹ançº¸(lch)</code>ã€æ°¸å˜‰çŸ¿ä¸»å„¿å­<code>___é›¨ã€è½ã€‚(XJ)</code>ã€å¼€æ´¾å¯¹çš„<code>é’Ÿå°çº¢(ZZH)</code>è¿˜æœ‰<code>ç’‹å“¥(PJZ)</code>å’Œ<code>åˆ˜æŸ(LPY)</code></li>
<li>è¾…å¯¼å‘˜<code>è¶…å“¥</code>ã€åŠ©ç­<code>ç†Šå§</code>ã€å‹¤å‹¤æ³æ³çš„<code>è„–å­(LYB)</code>ã€å’Œä¿ç ”å¤±ä¹‹äº¤è‡‚çš„<code>è±ªå®‡(SHY)</code>ã€é«˜å†·ç”·ç¥<code>é«˜èˆª(SGH)</code>ã€å¿—åŒé“åˆçš„<code>æ¥å­å“¥(DJL)</code>ã€ä¸æ‹˜ä¸€æ ¼çš„å‡Œä¹±çš„ç»å¸¸å€Ÿèºä¸åˆ€çš„<code>SHX</code>ã€æ‰“ç‰Œæ¨ªè¡Œéœ¸é“çš„<code>å¼ 'China'(ZZH)</code>ã€‚</li>
<li>å†›è®­å¸¦äº†åŠä¸ªå¹´çº§è®­ç»ƒï¼Œåœ¨ç­é‡Œå’Œå­¦é™¢é‡Œè®¤è¯†çš„äººå¾ˆå¤šï¼Œä½†å¯ä»¥è¯´å…¶å®å¾ˆå¤šéƒ½ä¸å¤ªç†Ÿæ‚‰ã€‚</li>
</ul>
<h3 id="å§‹äºæˆŠæˆŒå¹´åˆç§‹ï¼Œç»ˆäºå£¬å¯…å¹´ç››å¤"><a href="#å§‹äºæˆŠæˆŒå¹´åˆç§‹ï¼Œç»ˆäºå£¬å¯…å¹´ç››å¤" class="headerlink" title="å§‹äºæˆŠæˆŒå¹´åˆç§‹ï¼Œç»ˆäºå£¬å¯…å¹´ç››å¤"></a>å§‹äºæˆŠæˆŒå¹´åˆç§‹ï¼Œç»ˆäºå£¬å¯…å¹´ç››å¤</h3><ul>
<li>å…¥å­¦å‰çš„é‚£ä¸ª<strong>æš‘å‡</strong>ï¼Œæœºç¼˜å·§åˆåˆè¯†å¼€å‘éƒ¨çš„å„ä½ï¼Œ<code>ç®å“¥</code>å’Œ<code>æœ±å¤§ä½¬</code>æ™šé—´æˆè¯¾ï¼Œåœ¨æ±Ÿè¾¹å¹ç€é£ï¼Œæ€‚æ¿ç€<code>å°èŠ±ä»™å­¦å§</code>åœ¨ç¾¤é‡Œå”±æ­Œã€‚</li>
<li>è¿ç€æœéœï¼Œå¥”èµ´<strong>æ½®ç‹è·¯</strong>ï¼Œåˆåä¸‹äº†<strong>æš´é›¨</strong>ã€‚</li>
<li>å†’ç€å¤§é›¨ç©¿ç€æ‹–é‹èµ¶å»äº†å¼€å‘éƒ¨çš„<strong>å®£è®²ä¼š</strong>ï¼Œç¬¬ä¸€æ¬¡å’Œç¾¤å‹çº¿ä¸‹è§é¢ã€‚</li>
<li>å±…ç„¶å»ç«é€‰ç­é•¿äº†ï¼Œå¹¸å¥½æœ‰è¿™ä¹ˆå¤šäººå’Œæˆ‘ç«äº‰ï¼Œè¦ä¸ç„¶å°±å½“ä¸Šäº†<span class="github-emoji"><span>ğŸ˜…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f605.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</li>
<li><code>Xå”</code>å¤§è€è¿œè·‘æ¥å­¦æ ¡ç»™å¼€å‘éƒ¨ä¸Šè¯¾ã€‚</li>
<li>ä¸€è¨€ä¸åˆå°±å’Œå½“æ—¶çš„å®¤å‹åŒ—é—¨<strong>æ–°å‡¯æ—‹</strong>ï¼Œç¾Šéª¨æ±¤æ˜¯çœŸçš„å¥½å–ã€‚</li>
<li>ä¸“ä¸šç¡®è®¤ï¼Œä¸€å¿—æ„¿é€šä¿¡å·¥ç¨‹ï¼ŒäºŒå¿—æ„¿è½¯ä»¶å·¥ç¨‹ï¼Œä¸‰ç©ºç™½ã€‚</li>
<li>åœ¨é‡‘åº“è€æ¿ä»¬çš„å¸¦é¢†ä¸‹ç¬¬ä¸€æ¬¡å»æµ·åº•æï¼Œæ’ç»ƒå¹´ä¼šçš„<strong>æ»‘ç¨½è„¸</strong>èŠ‚ç›®ï¼Œå»å±å³°å’Œå¦ä¸€ç¾¤å°ä¼™ä¼´è½°è¶´ã€‚</li>
<li>æ¯å¤©æ—©èµ·åƒä¸€ç¢—ç²¾å¼˜é£Ÿå ‚çš„æ‹Œé¢ï¼Œå»æ“åœºæ—©æ‰“å¡çš„è·¯ä¸Šå·èš‚èšæ£®æ—ï¼Œç„¶åå»å›¾ä¹¦é¦†é¢„ä¹ é«˜æ•°ï¼Œæœ€å–œæ¬¢<strong>æœæ™–å›¾ä¹¦é¦†</strong>ä¸‰æ¥¼å‘é˜³é çª—çš„ä½ç½®ã€‚</li>
<li>åœ¨é‚£ä¸ªé˜´é›¨ç»µç»µå¤æ—¥ï¼Œæ¬ç¦»äº†å°š5çš„419å¯å®¤ï¼Œæ¥åˆ°äº†ä¸œ2çš„506ã€‚</li>
<li>å’Œ<code>æ–‡é–(QWJ)</code>ä¸<code>å‡¯(ZK)</code>è¿˜æœ‰<code>æ™“æ´(WXJ)</code>å»ä¸½æ°´ç¤¾ä¼šå®è·µï¼Œçƒ­ã€èšŠå­å’Œé£æ™¯ã€‚</li>
<li>å†›è®­å’Œå¤§å¤šæ•°äººä¸åŒï¼Œæ˜¯æ®µç‰¹æ®Šçš„ç»å†ã€‚</li>
<li>è£˜å§é«˜è€ƒç»“æŸäº†ï¼Œæ€ä¹ˆä¼šæœ‰äººæ‹¿å†œå¤«å±±æ³‰å½“æ¸…æ±¤é”…åº•ã€‚</li>
<li>è®¡åˆ’ç€è¿›<code>æ½˜è€å¸ˆ(PQ)</code>çš„åŒ»å­¦å½±åƒå¤„ç†é¡¹ç›®ç»„ï¼Œåæ¥å—åˆ°ç–«æƒ…çš„å½±å“åŠ ä¸Šå­¦ç”Ÿå·¥ä½œçš„äº‹æƒ…ï¼Œæ…¢æ…¢å°±é¸½æ‰äº†è¿™è¾¹ï¼Œè¿˜æ˜¯æœ‰ç‚¹æ„§ç–šçš„<span class="github-emoji"><span>ğŸ˜¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f625.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</li>
<li>æ¥è¿‡<strong>ç²¾å¼˜</strong>çš„æ¥åŠ›æ£’ï¼Œå»é‡‘åå’Œä¹‰ä¹Œç¤¾ä¼šå®è·µï¼Œç¬¬ä¸€æ¬¡å¸¦è¿™ä¹ˆå¤šå°æœ‹å‹ï¼Œæ¿€åŠ¨åˆå±€ä¿ƒï¼Œæ…¢æ…¢æ”¹æ‰äº†ç¤¾æï¼Œæ‰›èµ·æ¯…è¡Œçš„å¤§æ——ã€‚å„ä¸ªæ–¹é¢ç²¾å¼˜éƒ½å¤„äºç“¶é¢ˆæœŸï¼Œéœ€è¦å†æ¬¡å‡ºç°ç²¾å¼˜ä¹‹å…‰ï¼Œæˆ‘ä»¬æ— æ³•æ”¹å˜å¤§å½¢åŠ¿å’ŒæŒ‡å¯¼è€å¸ˆï¼Œä½†åœ¨ä½è°·æœŸæˆ‘ä»¬è¦çš„æ˜¯æœ‰åŸåˆ™æœ‰åº•çº¿ï¼Œæœ‰ä¸»è§æœ‰éª¨æ°”ï¼Œåœ¨è¿™é‡Œå°±æ˜¯ä¸€å®¶äººã€‚æŒ¥ä¸€æŒ¥æ‰‹<span class="github-emoji"><span>ğŸ™Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f64c.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œç°åœ¨ä¹Ÿæ˜¯æ—¶å€™å’Œç²¾å¼˜è¯´å†è§äº†ã€‚</li>
<li>å¼€å‘éƒ¨çš„<strong>è‰¯æ¸šæ˜¥æ¸¸</strong>ã€æ¬¢é€å­¦é•¿å­¦å§çš„é…’å±€<span class="github-emoji"><span>ğŸ»</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f37b.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</li>
<li>ä¹Ÿæœ‰å¹¸åœ¨æ˜“ç­çš„ç»„ç»‡ä¸‹ï¼Œåœ¨æˆéƒ½å’Œä¸Šæµ·ç»“è¯†äº†ä¸€äº›æ¥è‡ªå¤©å—æµ·åŒ—çš„æœ‹å‹ï¼Œå°½ç®¡å¾ˆå¤šæ¨¡å¼å¹¶ä¸é€‚ç”¨ï¼Œäº’ç›¸äº¤æµè¿˜æ˜¯å—ç›ŠåŒªæµ…ã€‚</li>
<li>å¤§ä¸‰è€ƒè¯•ç»“æŸï¼Œä¸´æ—¶èµ·æ„ï¼Œå’Œå®¤å‹è¯´èµ°å°±èµ°å»äº†å˜‰å…´å—æ¹–ã€‚</li>
<li>æŠ±ç€è¯•è¯•çš„å¿ƒæ€æŠ•äº†ä¸€äº›<strong>æš‘æœŸå®ä¹ </strong>ï¼Œæœ€åå»äº†<strong>æ­å·CMCC</strong>çš„æŠ€æœ¯å²—ã€‚è¿™é‡Œè¦æ„Ÿè°¢<code>å¨Ÿå§(YJ)</code>çš„æ¨èï¼Œè¿‡å»å‘ç°åŒè¡Œçš„éƒ½æ˜¯ç ”ç©¶ç”Ÿ<span class="github-emoji"><span>ğŸ˜§</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f627.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚å…è´¹é£Ÿå ‚å¾ˆå¥½åƒï¼Œè™½ç„¶æ²¡æœ‰æ˜ç¡®çš„åŸ¹å…»è®¡åˆ’ï¼Œä¸åƒäº’è”ç½‘å¤§å‚é‚£ä¹ˆå®Œå–„çš„å®ä¹ ç”Ÿä½“ç³»ï¼Œä½†å´å¤šäº†å‡ åˆ†äººæ€§åŒ–ï¼Œåœ¨è¿™é‡Œèµšåˆ°äº†ç¬¬ä¸€æ¡¶é‡‘ï¼Œæ„Ÿè°¢<code>å†¯è¾°å‡¯</code>ä»¥åŠç›¸å¤„ä¸€ä¸ªå¤šæœˆçš„å‰è¾ˆä»¬åƒå°æœ‹å‹ä¸€æ ·ç…§é¡¾æˆ‘ï¼Œæ›´åŠ æ¸…æ¥šåœ°è®¤è¯†åˆ°è¿™ä¸ªè¡Œä¸šã€‚</li>
<li><strong>ä¿ç ”</strong>æ˜¯ä¸€åœºæ¶æˆ˜ï¼Œç›®ç¹äº†è¾¹ç¼˜äººå¤§èµ·å¤§è½ï¼Œèº«è¾¹ä¹Ÿæœ‰å¥½å‡ ä¸ªæœ‹å‹å› ç”µè®¾å›½èµ›å»¶æœŸé”™å¤±æœºä¼šï¼Œæ­å–œä¸”ç¾¡æ…•é‚£äº›å¤šå¹´çš„æœ‹å‹èƒ½å¤Ÿå†²åˆ°é¡¶å°–åæ ¡ã€‚åˆšå¼€å§‹è¿˜æ˜¯æŒºå¼€å¿ƒçš„ä¸ç”¨å¤ä¹ è€ƒç ”ï¼Œçœ‹ç€ä»–ä»¬æ—©å‡ºæ™šå½’å¾ˆæŠ˜ç£¨ï¼Œä½†æ…¢æ…¢åœ°æ„Ÿè§‰åˆ°ç‰¹åˆ«æ˜¯åœ¨èº«è¾¹å¥½å¤šäººè€ƒç ”ç»“æŸåï¼Œåå€’æ˜¯æœ‰ä¸€ç§å¿ƒç†è½å·®ã€‚å¾ˆå¹¸è¿èƒ½å¤Ÿæ‰¾åˆ°å–œæ¬¢çš„æ–¹å‘ï¼Œä¸é”™çš„å¯¼å¸ˆï¼Œèˆªç©ºæŠ¥å›½å¾è¾ˆä¹‰ä¸å®¹è¾ã€‚è°¢è°¢åœ¨ç„¦è™‘çš„è·¯ä¸Šä¸€èµ·åæ§½ã€åˆ†äº«å’Œé¼“åŠ±çš„<code>æ¶µè¹</code>ï¼Œå¾ˆåº†å¹¸èƒ½é‡åˆ°ä½ <span class="github-emoji"><span>âœŒ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/270c.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</li>
<li>ä¿ç ”ç»“æŸå»äº†é•¿æ²™ï¼Œæ²¡æœ‰ä»»ä½•è§„åˆ’ï¼Œå¡å­è¡—æ´¾å‡ºæ‰€éš”å£çš„æ·±å¤œç½‘å§ï¼Œæ— æ‹˜æ— æŸçš„æ—…è¡Œæ‰æ˜¯æˆ‘æƒ³è¦çš„ã€‚</li>
<li>åœ¨<strong>æŸäº‹ä¸šå•ä½</strong>å®ä¹ äº”ä¸ªæœˆï¼Œ<code>æ²ˆä¸»ä»»(SXQ)</code>ã€<code>é¥¶ä¸»ä»»(RX)</code>ï¼Œ<code>é™ˆè€å¸ˆ(CLH)</code>ï¼Œ<code>å½­è€å¸ˆ(PYH)</code>ï¼Œ<code>ç¿è€å¸ˆ(QT)</code>ï¼Œ<code>è‘›è€å¸ˆ(GX)</code>éƒ½åƒå¯¹å¾…å­©å­ä¸€æ ·å¯¹å¾…æˆ‘ä»¬ï¼Œä¼šè¯·æˆ‘ä»¬å–å¥¶èŒ¶ï¼Œå¸¦æˆ‘ä»¬å‡ºå»åƒé¥­å»çœ‹å±•ï¼Œä¹Ÿæ›¾ç†¬å¤œåŠ ç­ï¼Œå‘¨æœ«æ”¹éœ€æ±‚ï¼Œåœ¨<strong>193è·¯å…¬äº¤è½¦</strong>ä¸Šçœ‹ç€æ—¥è½å’Œæ™šéœã€‚</li>
<li><p>å…¶å®ä»å‰ä¸€å¹´èµ·ï¼Œèº«è¾¹å¼€å§‹æœ‰é™†ç»­æ¯•ä¸š<strong>å¥”èµ´å„åœ°</strong>å‡å­¦æˆ–æ˜¯å·¥ä½œã€‚è¿™é‡Œå°¤å…¶è¦æ„Ÿè°¢<code>ç²¥ç²¥</code>äººç”Ÿæ€åº¦å’Œä¸ºäººå¤„ä¸–å½±å“äº†å¾ˆå¤šï¼Œè¦è®°å¾—å¤šè¿åŠ¨å‡è‚¥ï¼Œ<code>bq</code>å¸¦ç€æ‹…èµ·é‡ä»»ï¼Œæœ‰ç©ºè®°å¾—å¤šçº¦æ°é¥­ï¼Œ<code>zdl</code>è™½ç„¶ä¸€ç›´åœ¨è°ƒä¾ƒä½†ç¡®å®æ˜¯å¤§å­¦æœŸé—´æœ€ä½©æœçš„äººï¼Œé‚£å¤©æ“åœºé‡åˆ°ä¸€èµ·èµ°äº†å¾ˆå¤šåœˆèŠäº†å¾ˆå¤šï¼Œ<code>yy</code>åƒè‹¦è€åŠ³çš„å¥½éƒ¨é•¿cbdå¿ å®ç²‰ä¸ï¼Œ<code>å°èŠ±ä»™</code>åœ¨æˆ‘è¿·èŒ«çš„æ—¶å€™æŒ‡å¼•äº†å¾ˆå¤šï¼Œ<code>Congb19</code>ç¼–ç¨‹å¯è’™å¯¼å¸ˆï¼Œä»¥åŠå¾ˆå¤šÂ·Â·Â·è™½ç„¶æœ‰çš„ä¸æ€ä¹ˆè”ç³»äº†ï¼Œæ— è®ºåœ¨ä½•å¤„ï¼Œé¡ºåˆ©ä¸å¦ï¼Œæ¯æ¬¡çœ‹è§å¤§å®¶åˆ†äº«çš„ç”Ÿæ´»éƒ½æœ‰ç§ç‰¹æ®Šçš„äº²åˆ‡ã€‚</p>
</li>
<li><p>æ¯•è®¾é€‰äº†<code>é™ˆè€å¸ˆ(CJY)</code>å’Œ<code>æ–½è€å¸ˆ(SZX)</code>çš„ä¸€ä¸ªNLPé¡¹ç›®ï¼Œå¾ˆæœ‰æ„æ€ä½†å®è¯å®è¯´æˆ‘æ²¡æœ‰å…¨èº«å¿ƒæŠ•å…¥å»åšï¼Œå› ä¸ºæ‡’æ²¡æœ‰å»å®éªŒå®¤ï¼Œå€Ÿç€Colabå’Œ1050æ•´å¤©é£æ‰‡å—¡å—¡ã€‚åŸå§‹æ•°æ®ç¼ºå¤±ï¼Œä»å¤´å¼€å§‹åšï¼Œå°½ç®¡æœ€åå‹‰å‹‰å¼ºå¼ºå®Œæˆäº†ï¼Œä½†è¿˜æœ‰å¾ˆå¤šéœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œå‚¬ç€æˆ‘å‘è®ºæ–‡å’Œä¸“åˆ©ï¼Œæ€å¿–å†ä¸‰è¿˜æ˜¯å†³å®šä¸å‘ï¼Œæ„Ÿè§‰å®Œæ•´æ€§ä¸å¤Ÿåˆ›æ–°æ€§ä¸è¶³ï¼Œæ•°æ®éªŒè¯ä¸å……åˆ†ï¼Œå¾ˆæ„Ÿè°¢ä¸¤ä½è€å¸ˆçš„å€¾å¿ƒæŒ‡å¯¼ã€‚</p>
</li>
</ul>
<h3 id="æ¯•ä¸šå‰æœ€åå‡ å¤©"><a href="#æ¯•ä¸šå‰æœ€åå‡ å¤©" class="headerlink" title="æ¯•ä¸šå‰æœ€åå‡ å¤©"></a>æ¯•ä¸šå‰æœ€åå‡ å¤©</h3><ul>
<li>å»å¤œçˆ¬äº†<strong>å®çŸ³å±±</strong>çœ‹è¥¿æ¹–å¤œæ™¯ï¼Œæœ€åä¸€æ¬¡å»<strong>è«å¹²å±±æ ¡åŒº</strong>çœ‹äº†å¤å­£é£ï¼Œå’Œ<strong>ç²¾å¼˜åèŠ±å›­</strong>ã€<strong>æ–°åª’ä½“æ°¸ä¸ä¸‹ç­</strong>è¿˜æœ‰<strong>è€å¹´æ£‹ç‰Œå®¤</strong>çš„æœ‹å‹ä»¬çº¦é¥­çº¦æ‹ç…§<span class="github-emoji"><span>ğŸ“·</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4f7.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</li>
<li>åä¸Šäº†<strong>ä¸‰å·çº¿</strong>åé€šæ®µï¼Œå‰å¾€æµ™æ±Ÿå·¥ä¸šå¤§å­¦å±å³°æ ¡åŒºçš„ä¹˜å®¢è¯·åœ¨æ­¤ç«™ä¸‹è½¦ã€‚</li>
<li>ç‹¬è‡ªä¸€äººå¤œçˆ¬<strong>åŒ—é«˜å³°</strong>çœ‹æ—¥å‡º<span class="github-emoji"><span>ğŸŒ…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f305.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</li>
<li>æ”¶åˆ°äº†å°æœ‹å‹ä»¬é€çš„èŠ±èŠ±<span class="github-emoji"><span>ğŸŒ¸</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f338.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œè¿˜æ˜¯æŒºé«˜å…´å’Œæ¿€åŠ¨çš„<span class="github-emoji"><span>ğŸ˜†</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f606.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</li>
<li>æ¯•ä¸šå…¸ç¤¼é‚£å¤©ï¼Œå»åƒäº†å…»è´¤çš„<strong>åƒå…¶å†œå®¶é¢</strong>ï¼Œé˜¿å§¨é—®æˆ‘æ˜¯ä¸æ˜¯æ¯•ä¸šäº†ï¼Œæœ‰äº›æ„ŸåŠ¨ï¼Œé‚£å¤©çš„é¢ç‰¹åˆ«å¤šã€‚ä¸€ç›´åœ¨è¿™åƒäº†ä¸‰å¹´ï¼Œä¸­åˆä¸‹è¯¾ï¼Œå›¾ä¹¦é¦†å­¦ä¹ å›æ¥åˆæˆ–æ˜¯å‘¨æœ«ï¼Œæ¯æ¬¡è¿‡æ¥é˜¿å§¨éƒ½çŸ¥é“æˆ‘è¦åƒè‚¥ç‰›æ‹Œå·ã€‚</li>
<li>ä¸‹åˆä¸€èµ·æ‹äº†å¾ˆå¤šå¾ˆå¤šæ¯•ä¸šç…§<span class="github-emoji"><span>ğŸ˜™</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f619.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></li>
<li>æœ€åä¸€æ™šå»å…»è´¤314ï¼Œå‡ºé—¨æ—¶ç¢°åˆ°ä¸€ä¸ªè®¸ä¹…æœªè§çš„å°æœ‹å‹<code>WHW</code>ï¼Œè¿˜æ˜¯é‚£ä¹ˆç†Ÿæ‚‰å’Œäº²åˆ‡ï¼Œä»–ç¥æˆ‘æ¯•ä¸šå¿«ä¹ï¼Œæˆ‘å’Œä»–è¯´ä»¥åä¹Ÿè¦åŠ æ²¹ã€‚ååº”è¿‡æ¥æœ€ååŒ†åŒ†å¿™å¿™ï¼Œå¾ˆå¤šäººéƒ½è¿˜æ¥ä¸åŠé“åˆ«ï¼Œé‚£ä¹ˆå°±åœ¨è¿™é‡Œè¯´ä¸€å£°åä¼šæœ‰æœŸå§ï¼Œå¤§å®¶éƒ½è¦å¥½å¥½çš„ã€‚</li>
<li>ä¼šè®°å¾—ä»æœæ™–çš„ä¸‰æ¥¼åˆ°å±å³°çš„å››æ¥¼ï¼Œä¼´éšç€å›¾ä¹¦é¦†é—­é¦†é“ƒå£°çš„å“èµ·ï¼Œæ”¶æ‹¾ä¹¦åŒ…ç»“æŸä¸€å¤©çš„å­¦ä¹ ã€‚</li>
<li>ä¼šè®°å¾—ä»å°š12åˆ°æœºæ¢°æ¥¼B108å†åˆ°å…»è´¤314å’Œå¾·10C108çš„æ¯ä¸€æ¬¡ç›¸èšã€‚</li>
<li>ä¼šè®°å¾—å¤è¿æ²³ç•”çš„çƒˆæ—¥ä¸åˆæ½®å±±çš„åˆºéª¨å¯’é£ã€‚</li>
</ul>
<h3 id="æ¯•ä¸šæ—…è¡Œ"><a href="#æ¯•ä¸šæ—…è¡Œ" class="headerlink" title="æ¯•ä¸šæ—…è¡Œ"></a>æ¯•ä¸šæ—…è¡Œ</h3><p><a href="https://www.lingzhicheng.cn/">æœ‰äº›å¾…åŠéœ€è¦å…ˆè§£å†³ï¼Œè¿˜åœ¨è®¡åˆ’ä¸­ï¼Œé¢„è®¡ä¸ƒæœˆåº•å…«æœˆåˆ</a></p>
<h3 id="ä»¥åæ€ä¹ˆèµ°"><a href="#ä»¥åæ€ä¹ˆèµ°" class="headerlink" title="ä»¥åæ€ä¹ˆèµ°"></a>ä»¥åæ€ä¹ˆèµ°</h3><ul>
<li>ç›®å‰é¡ºåˆ©ä»å·¥å¤§æ¯•ä¸šå•¦ï¼Œè¿˜æœ‰å¾ˆå¤šæ–°ä¸œè¥¿è¦å­¦ï¼Œæ—§çŸ¥è¯†ä¹Ÿè¦æŠ“ç´§é‡æ–°æ‹¾èµ·ï¼Œå¸Œæœ›å¯¼å¸ˆå’Œå¸ˆå…„å¸ˆå§å¤šå¸¦å¸¦ã€‚</li>
<li>è¿˜æœ‰å¾ˆå¤šåœ°æ–¹æƒ³å»ï¼Œäº‘å—ã€è¥¿å®‰ã€é‡åº†ã€ä¸‰äºšÂ·Â·Â·åƒçš„å’Œé£åœŸäººæƒ…ï¼Œæœ‰å…´è¶£ä¸€èµ·å¯ä»¥è”ç³»æˆ‘ã€‚</li>
<li>ç»ˆæç›®æ ‡æ˜¯DJIç®—æ³•å²—ï¼Œé•¿è·¯æ¼«æ¼«ï¼Œå“ªæ€•åœ¨æ·±åœ³å’Œä¸Šæµ·ä¹Ÿå¯ä»¥ï¼›æˆ–è€…æœ‰å¹¸å‚ä¸æŸæœºå‹<span class="github-emoji"><span>âœˆ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2708.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>çš„é¢„ç ”ï¼Œå–œæ¬¢é¹°å‡»é•¿ç©ºçš„æ°”æ¦‚ï¼›è¿˜åœ¨è€ƒè™‘è¦ä¸è¦è½¬åšï¼Œä»æœ€å¼€å§‹çš„<span class="github-emoji"><span>ğŸ¶</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f436.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>éƒ½ä¸è¯»ï¼Œåˆ°ç°åœ¨å…¶å®æœ‰äº›åŠ¨æ‘‡äº†ã€‚</li>
</ul>
<h3 id="ZJUTå†è§"><a href="#ZJUTå†è§" class="headerlink" title="ZJUTå†è§"></a>ZJUTå†è§</h3><ul>
<li>é‚£ä¹ˆå°±å†™åˆ°è¿™é‡Œå§ï¼Œæ¯ä¸€å¹´éƒ½å¾ˆç²¾å½©ï¼Œä»Šå¹´ä¹Ÿä¼šï¼Œæ˜å¹´ä¹Ÿä¼šã€‚</li>
<li>æˆ‘å¾ˆç†æ€§ï¼Œä½†çˆ±æ†åˆ†æ˜ï¼Œæ­£ç›´è€Œå¦ç™½ï¼Œèµ°è‡ªå·±çš„è·¯ï¼Œè¯´æƒ³è¯´çš„è¯ï¼Œç•™ä½æ›´å¤šç¾å¥½çš„ä¸œè¥¿</li>
<li>é¹åŒ—æµ·ï¼Œé£æœé˜³ã€‚åˆæºä¹¦å‰‘è·¯èŒ«èŒ«ã€‚</li>
<li>çºµæœ‰åƒå¤ï¼Œæ¨ªæœ‰å…«è’ï¼›å‰é€”ä¼¼æµ·ï¼Œæ¥æ—¥æ–¹é•¿ã€‚</li>
</ul>
<blockquote>
<p>æœ€åä¿®æ”¹äº2022/06/27</p>
</blockquote>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
  </entry>
  <entry>
    <title>åŸºäºå·ç§¯ç¥ç»ç½‘ç»œçš„å›¾ç‰‡éªŒè¯ç è¯†åˆ«</title>
    <url>/2021/08/16/%E5%9F%BA%E4%BA%8E%E5%8D%B7%E7%A7%AF%E7%A5%9E%E7%BB%8F%E7%BD%91%E7%BB%9C%E7%9A%84%E5%9B%BE%E7%89%87%E9%AA%8C%E8%AF%81%E7%A0%81%E8%AF%86%E5%88%AB/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<ul>
<li>åŸºäºå·ç§¯ç¥ç»ç½‘ç»œè®­ç»ƒæ¨¡å‹è¯†åˆ«å›¾ç‰‡éªŒè¯ç ï¼Œ0~9æ•°å­—å’Œ26ä¸ªå­—æ¯å¤§å†™å’Œå°å†™ç»„åˆè¯†åˆ«</li>
<li>PILæ¨¡å—ç”ŸæˆéªŒè¯ç è®­ç»ƒé›†å’Œæµ‹è¯•é›†ï¼Œæ·»åŠ å¹²æ‰°ç‚¹å’Œå¹²æ‰°çº¿æ¥æ¨¡æ‹Ÿå®é™…å¤æ‚ç¯å¢ƒï¼Œosä¿å­˜ä»¥åŠè¯»å–ï¼Œé€šè¿‡å»å™ªä»¥åŠç°åº¦åŒ–å¤„ç†æé«˜è¯†åˆ«ç‡ï¼Œé€šè¿‡å·ç§¯ç¥ç»ç½‘ç»œæ± åŒ–åå…¨è¿æ¥å±‚å¤„ç†ï¼Œè¯†åˆ«æˆåŠŸç‡è¾¾åˆ°çº¦96%<br><span class="github-emoji"><span>ğŸ’¨</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4a8.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•¥</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f565.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span id="more"></span>
</li>
</ul>
<h2 id="ç”Ÿæˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†"><a href="#ç”Ÿæˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†" class="headerlink" title="ç”Ÿæˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†"></a>ç”Ÿæˆè®­ç»ƒé›†å’Œæµ‹è¯•é›†</h2><h3 id="è®¾ç½®æ•°å­—å’Œå­—æ¯"><a href="#è®¾ç½®æ•°å­—å’Œå­—æ¯" class="headerlink" title="è®¾ç½®æ•°å­—å’Œå­—æ¯"></a>è®¾ç½®æ•°å­—å’Œå­—æ¯</h3><ul>
<li><code>random_num</code>éšæœºäº§ç”Ÿæ•°å­—ï¼Œ<code>random_upper</code>éšæœºäº§ç”Ÿå¤§å†™å­—æ¯ï¼Œ<code>random_lower</code>éšæœºäº§ç”Ÿå°å†™å­—æ¯</li>
<li><code>random.choice()</code>éšæœºé€‰æ‹©ä¸‰ç§æƒ…å†µ</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getRandomChar</span>():</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    chr(i) return the Unicode of i</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    random_num = <span class="built_in">str</span>(random.randint(<span class="number">0</span>, <span class="number">9</span>))  <span class="comment"># 0~9</span></span><br><span class="line">    random_upper = <span class="built_in">chr</span>(random.randint(<span class="number">65</span>, <span class="number">90</span>))  <span class="comment"># A~Z</span></span><br><span class="line">    random_lower = <span class="built_in">chr</span>(random.randint(<span class="number">97</span>, <span class="number">122</span>))  <span class="comment"># a~z</span></span><br><span class="line">    random_char = random.choice([random_num, random_upper, random_lower])</span><br><span class="line">    <span class="keyword">return</span> random_char</span><br></pre></td></tr></tbody></table></figure>
<h3 id="è®¾ç½®éšæœºé¢œè‰²"><a href="#è®¾ç½®éšæœºé¢œè‰²" class="headerlink" title="è®¾ç½®éšæœºé¢œè‰²"></a>è®¾ç½®éšæœºé¢œè‰²</h3><ul>
<li><code>is_light</code>æ˜¯é¢œè‰²æ·±æµ…çš„æ ‡ç­¾</li>
<li>æ€»çš„æ¥è¯´RGBå€¼&gt;127çš„é¢œè‰²è¾ƒæ·±ï¼ŒTrueä»£è¡¨æµ…è‰²ï¼ŒFalseä»£è¡¨æ·±è‰²</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">getRandomColor</span>(<span class="params">is_light=<span class="literal">True</span></span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Generate colors, default light color</span></span><br><span class="line"><span class="string">    :param is_light: Distinguish between light and dark colors</span></span><br><span class="line"><span class="string">    :return: r, g, b</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    r = random.randint(<span class="number">0</span>, <span class="number">127</span>) + <span class="built_in">int</span>(is_light) * <span class="number">128</span></span><br><span class="line">    g = random.randint(<span class="number">0</span>, <span class="number">127</span>) + <span class="built_in">int</span>(is_light) * <span class="number">128</span></span><br><span class="line">    b = random.randint(<span class="number">0</span>, <span class="number">127</span>) + <span class="built_in">int</span>(is_light) * <span class="number">128</span></span><br><span class="line">    <span class="keyword">return</span> r, g, b</span><br></pre></td></tr></tbody></table></figure>
<h3 id="è®¾ç½®å¹²æ‰°"><a href="#è®¾ç½®å¹²æ‰°" class="headerlink" title="è®¾ç½®å¹²æ‰°"></a>è®¾ç½®å¹²æ‰°</h3><ul>
<li>è®¾ç½®å¹²æ‰°çº¿ï¼Œéšæœºäº§ç”Ÿèµ·ç‚¹å’Œç»ˆç‚¹çš„åæ ‡ï¼Œ<code>is_light</code>è®¾ç½®ä¸º<code>True</code>ï¼Œå¹²æ‰°çº¿æµ…è‰²</li>
<li>è®¾ç½®å¹²æ‰°ç‚¹ï¼Œéšæœºäº§ç”Ÿå¹²æ‰°ç‚¹çš„åæ ‡ï¼Œ<code>is_light</code>è®¾ç½®ä¸º<code>True</code>ï¼Œå¹²æ‰°ç‚¹æµ…è‰²</li>
<li><code>numLine</code>å’Œ<code>nunmPoint</code>è‡ªç”±è®¾ç½®ï¼Œå¹²æ‰°çº¿å’Œå¹²æ‰°ç‚¹æ•°é‡è¶Šå¤§ï¼ŒåæœŸè¯†åˆ«æˆåŠŸç‡è¶Šä½</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">drawLine</span>(<span class="params">draw</span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Draw interference lines, numLine feels free</span></span><br><span class="line"><span class="string">    x1,x2,y1,y2: The begin point and the end point of the line</span></span><br><span class="line"><span class="string">    :param draw:</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    numLine = <span class="number">5</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numLine):</span><br><span class="line">        x1 = random.randint(<span class="number">0</span>, width)</span><br><span class="line">        x2 = random.randint(<span class="number">0</span>, width)</span><br><span class="line">        y1 = random.randint(<span class="number">0</span>, height)</span><br><span class="line">        y2 = random.randint(<span class="number">0</span>, height)</span><br><span class="line">        draw.line((x1, y1, x2, y2), fill=getRandomColor(is_light=<span class="literal">True</span>))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">drawPoint</span>(<span class="params">draw</span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Draw interference points, numPoint feels free</span></span><br><span class="line"><span class="string">    :param draw:</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    numPoint = <span class="number">50</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numPoint):</span><br><span class="line">        x = random.randint(<span class="number">0</span>, width)</span><br><span class="line">        y = random.randint(<span class="number">0</span>, height)</span><br><span class="line">        draw.point((x, y), fill=getRandomColor(is_light=<span class="literal">True</span>))</span><br></pre></td></tr></tbody></table></figure>
<h3 id="ä¿å­˜éªŒè¯ç "><a href="#ä¿å­˜éªŒè¯ç " class="headerlink" title="ä¿å­˜éªŒè¯ç "></a>ä¿å­˜éªŒè¯ç </h3><ul>
<li>ä½¿ç”¨<code>PIL</code>çš„<code>Image</code>ã€<code>ImageDraw</code>ã€<code>ImageFont</code>çš„æ¨¡å—ï¼ˆç”±äº<code>PIL</code>ä¸å†é€‚é…é«˜ç‰ˆæœ¬Pythonï¼Œå®‰è£…éœ€è¦ç”¨<code>pip install pillow</code>ï¼‰</li>
<li>ä¿å­˜éªŒè¯ç <code>label.png</code>ï¼Œç›´æ¥æ‰“ä¸Šæ ‡ç­¾ï¼Œä¸ç”¨ä¹‹æ‰‹æ‰‹åŠ¨æ‰“æ ‡ç­¾</li>
<li>èƒŒæ™¯é‡‡ç”¨æµ…è‰²ï¼Œ<code>numOfNum=4</code>éªŒè¯ç é•¿åº¦ä¸º4</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">createImg</span>(<span class="params">folder</span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Use drawPoint(), drawLine(), getRandomColor(), getRandomChar() to generate an Img by random</span></span><br><span class="line"><span class="string">    :param folder: train or test folder</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># Generate background color by random</span></span><br><span class="line">    bg_color = getRandomColor(is_light=<span class="literal">True</span>)</span><br><span class="line">    <span class="comment"># Generate a Img</span></span><br><span class="line">    img = Image.new(mode=<span class="string">"RGB"</span>, size=(width, height), color=bg_color)</span><br><span class="line">    <span class="comment"># Get picture brush</span></span><br><span class="line">    draw = ImageDraw.Draw(img)</span><br><span class="line">    <span class="comment"># Set the font</span></span><br><span class="line">    font = ImageFont.truetype(font=<span class="string">"C:/Users/lingz/AppData/Local/Microsoft/Windows/Fonts/Monaco.ttf"</span>, size=<span class="number">16</span>)</span><br><span class="line">    <span class="comment"># Set the Img name</span></span><br><span class="line">    file_name = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># Generate number or char, set the numOfNum to change the number of it</span></span><br><span class="line">    numOfNum = <span class="number">4</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(numOfNum):</span><br><span class="line">        random_txt = getRandomChar()</span><br><span class="line">        <span class="comment"># Default: the bk_color is light, the txt_color is dark</span></span><br><span class="line">        txt_color = getRandomColor(is_light=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># Avoid the text color == the background color, re-generate txt_color</span></span><br><span class="line">        <span class="keyword">while</span> txt_color == bg_color:</span><br><span class="line">            txt_color = getRandomColor(is_light=<span class="literal">False</span>)</span><br><span class="line">        <span class="comment"># Fill the txt, the first para is the coordinates of the upper left corner</span></span><br><span class="line">        <span class="comment"># If numOfNum = 4, then (15,0),(30,0),(45,0),(60,0), four nums of chars</span></span><br><span class="line">        draw.text((<span class="number">15</span> + <span class="number">15</span> * i, <span class="number">0</span>), text=random_txt, fill=txt_color, font=font)</span><br><span class="line">        file_name += random_txt</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Draw interference lines and points</span></span><br><span class="line">    drawLine(draw)</span><br><span class="line">    drawPoint(draw)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Save the Img</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">"./{}/{}.png"</span>.<span class="built_in">format</span>(folder, file_name), <span class="string">"wb"</span>) <span class="keyword">as</span> train:</span><br><span class="line">        img.save(train, <span class="built_in">format</span>=<span class="string">"png"</span>)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><img src="https://www.lingzhicheng.cn/usr/file/picture/CodeIdVerify/DataSet.png" alt="Fig.1 äº§ç”Ÿæ•°æ®é›†"></p>
<center><font size="2">Fig.1 äº§ç”Ÿæ•°æ®é›†</font></center>

<h3 id="è‡ªåŠ¨åˆ é™¤æ–‡ä»¶"><a href="#è‡ªåŠ¨åˆ é™¤æ–‡ä»¶" class="headerlink" title="è‡ªåŠ¨åˆ é™¤æ–‡ä»¶"></a>è‡ªåŠ¨åˆ é™¤æ–‡ä»¶</h3><ul>
<li>ç”¨äºæ¯æ¬¡ç”Ÿæˆæ•°æ®æ—¶è‡ªåŠ¨æ¸…ç©ºåŸæœ‰æ•°æ®</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">creat_del_file</span>(<span class="params">path_data</span>):</span><br><span class="line">    os.path.exists(path_data) <span class="keyword">or</span> os.makedirs(path_data)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> os.listdir(path_data):</span><br><span class="line">        file_data = path_data + <span class="string">"\\"</span> + i</span><br><span class="line">        os.remove(file_data)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Original %s set is deleted."</span> % path_data)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="å·ç§¯ç¥ç»ç½‘ç»œè®­ç»ƒå’Œè¯†åˆ«"><a href="#å·ç§¯ç¥ç»ç½‘ç»œè®­ç»ƒå’Œè¯†åˆ«" class="headerlink" title="å·ç§¯ç¥ç»ç½‘ç»œè®­ç»ƒå’Œè¯†åˆ«"></a>å·ç§¯ç¥ç»ç½‘ç»œè®­ç»ƒå’Œè¯†åˆ«</h2><h3 id="ç¼–ç å‡†å¤‡å·¥ä½œ"><a href="#ç¼–ç å‡†å¤‡å·¥ä½œ" class="headerlink" title="ç¼–ç å‡†å¤‡å·¥ä½œ"></a>ç¼–ç å‡†å¤‡å·¥ä½œ</h3><ul>
<li><code>model_dir</code>å­˜æ”¾è®­ç»ƒåçš„æ¨¡å‹</li>
<li><code>char_set</code>å’Œ<code>alphabet</code>å­˜æ”¾å­—ç¬¦é›†ç”¨äºæ•°æ®è¯»å–</li>
<li><code>char_to_int</code>ç”¨äºè·å–å­—å…¸ä¸­çš„ä¸‹æ ‡ï¼Œç”¨äºä¹‹åçš„<code>one_hot</code>ç¼–ç </li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">model_dir = <span class="string">r'model.h5'</span></span><br><span class="line">char_set = [<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>] + [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>, <span class="string">'k'</span>,</span><br><span class="line">                                                                 <span class="string">'l'</span>, <span class="string">'m'</span>, <span class="string">'n'</span>, <span class="string">'o'</span>, <span class="string">'p'</span>, <span class="string">'q'</span>, <span class="string">'r'</span>, <span class="string">'s'</span>, <span class="string">'t'</span>, <span class="string">'u'</span>, <span class="string">'v'</span>,</span><br><span class="line">                                                                 <span class="string">'w'</span>, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>] + [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>,</span><br><span class="line">                                                                                        <span class="string">'G'</span>, <span class="string">'H'</span>, <span class="string">'I'</span>, <span class="string">'J'</span>, <span class="string">'K'</span>, <span class="string">'L'</span>,</span><br><span class="line">                                                                                        <span class="string">'M'</span>, <span class="string">'N'</span>, <span class="string">'O'</span>, <span class="string">'P'</span>, <span class="string">'Q'</span>, <span class="string">'R'</span>,</span><br><span class="line">                                                                                        <span class="string">'S'</span>, <span class="string">'T'</span>, <span class="string">'U'</span>, <span class="string">'V'</span>, <span class="string">'W'</span>, <span class="string">'X'</span>,</span><br><span class="line">                                                                                        <span class="string">'Y'</span>, <span class="string">'Z'</span>]</span><br><span class="line">alphabet = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>, <span class="string">'j'</span>, <span class="string">'k'</span>,</span><br><span class="line">            <span class="string">'l'</span>, <span class="string">'m'</span>, <span class="string">'n'</span>, <span class="string">'o'</span>, <span class="string">'p'</span>, <span class="string">'q'</span>, <span class="string">'r'</span>, <span class="string">'s'</span>, <span class="string">'t'</span>, <span class="string">'u'</span>, <span class="string">'v'</span>,</span><br><span class="line">            <span class="string">'w'</span>, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>] + [<span class="string">'A'</span>, <span class="string">'B'</span>, <span class="string">'C'</span>, <span class="string">'D'</span>, <span class="string">'E'</span>, <span class="string">'F'</span>,</span><br><span class="line">                                   <span class="string">'G'</span>, <span class="string">'H'</span>, <span class="string">'I'</span>, <span class="string">'J'</span>, <span class="string">'K'</span>, <span class="string">'L'</span>,</span><br><span class="line">                                   <span class="string">'M'</span>, <span class="string">'N'</span>, <span class="string">'O'</span>, <span class="string">'P'</span>, <span class="string">'Q'</span>, <span class="string">'R'</span>,</span><br><span class="line">                                   <span class="string">'S'</span>, <span class="string">'T'</span>, <span class="string">'U'</span>, <span class="string">'V'</span>, <span class="string">'W'</span>, <span class="string">'X'</span>,</span><br><span class="line">                                   <span class="string">'Y'</span>, <span class="string">'Z'</span>]</span><br><span class="line">char_to_int = <span class="built_in">dict</span>((c, i) <span class="keyword">for</span> i, c <span class="keyword">in</span> <span class="built_in">enumerate</span>(char_set))</span><br></pre></td></tr></tbody></table></figure>
<h3 id="è¯»å–å›¾ç‰‡å¤„ç†æ•°æ®"><a href="#è¯»å–å›¾ç‰‡å¤„ç†æ•°æ®" class="headerlink" title="è¯»å–å›¾ç‰‡å¤„ç†æ•°æ®"></a>è¯»å–å›¾ç‰‡å¤„ç†æ•°æ®</h3><ul>
<li><code>x_data</code>æ•°æ®ï¼Œ<code>y_data</code>æ ‡ç­¾</li>
<li>å¾ªç¯å¯¼å…¥éªŒè¯ç ï¼Œç»è¿‡<code>deNoising()</code>é™å™ªå’Œç°åº¦åŒ–å¤„ç†ï¼Œè½¬åŒ–æˆnpåå­˜å…¥<code>x_data</code>ï¼Œå¹¶ä¸”ä½¿ç”¨æŒ‰ç…§<code>.</code>åˆ‡å‰²ä»¥è·å–éªŒè¯ç çš„æ ‡ç­¾å€¼å­˜å…¥<code>y_data</code></li>
<li><code>unicode_to_int</code>å’Œ<code>unicode_to_int_index</code>æ¥æš‚å­˜unicodeå’Œå­—å…¸ä¸‹æ ‡çš„è½¬åŒ–ï¼Œnpä¸­è¯»å–åˆ°çš„æ•°æ®æ˜¯<code>unicode</code>ï¼Œè‹¥è¦ä½¿ç”¨<code>one_hot</code>ç¼–ç å¤„ç†æœ€å¥½è½¬åŒ–æˆ<code>np.int</code>ï¼Œæ‰€ä»¥å…ˆåˆ¤æ–­æ¯ä¸ªå­—ç¬¦é›†æ˜¯å¦åœ¨<code>alphabet_list</code>ä¸­ï¼Œè‹¥åœ¨åˆ™å…ˆæš‚å­˜ï¼Œç”¨<code>np.int</code>çš„<code>0</code>å…¨éƒ¨æ›¿æ¢ï¼Œå†ç”¨<code>y_data = y_data.astype(np.int)</code>è½¬æ¢ç±»å‹ï¼Œæœ€ååœ¨è¿›è¡Œä¸€æ¬¡éå†ï¼Œä»æš‚å­˜åˆ—è¡¨ä¸­å–å‡º<code>index</code>å’Œ<code>value</code>å®Œæˆè½¬æ¢</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">generateTrainData</span>(<span class="params">filePath</span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Generate data set, 0~9, a~z, A~Z turn to 0~61</span></span><br><span class="line"><span class="string">    :param filePath: The Img in this folder need to be processed</span></span><br><span class="line"><span class="string">    :return: x_data is data, shape=(num, 20, 80)</span></span><br><span class="line"><span class="string">             y_data is label, shape=(num, 4)</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># os.listdir(filePath) return list of files and folders</span></span><br><span class="line">    <span class="comment"># If the path has Chinese characters, it will be garbled, deal with unicode()</span></span><br><span class="line">    train_file_name_list = os.listdir(filePath)</span><br><span class="line">    x_data = []</span><br><span class="line">    y_data = []</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Process each Img</span></span><br><span class="line">    <span class="keyword">for</span> selected_train_file_name <span class="keyword">in</span> train_file_name_list:</span><br><span class="line">        <span class="keyword">if</span> selected_train_file_name.endswith(<span class="string">'.png'</span>):</span><br><span class="line">            <span class="comment"># Get Img object, os.path.join(PathA, PathB) return PathA\PathB</span></span><br><span class="line">            captcha_image = Image.<span class="built_in">open</span>(os.path.join(filePath, selected_train_file_name))</span><br><span class="line">            <span class="comment"># deNoising</span></span><br><span class="line">            captcha_image = deNoising(captcha_image)</span><br><span class="line"></span><br><span class="line">            captcha_image_np = np.array(captcha_image)</span><br><span class="line"></span><br><span class="line">            img_np = np.array(captcha_image_np)</span><br><span class="line">            x_data.append(img_np)</span><br><span class="line">            <span class="comment"># split('.')[0] to get label from label.png</span></span><br><span class="line">            y_data.append(np.array(<span class="built_in">list</span>(selected_train_file_name.split(<span class="string">'.'</span>)[<span class="number">0</span>])))</span><br><span class="line"></span><br><span class="line">    x_data = np.array(x_data).astype(np.<span class="built_in">float</span>)</span><br><span class="line">    y_data = np.array(y_data)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Temporarily store letters into array</span></span><br><span class="line">    unicode_to_int = [<span class="string">'x'</span>]</span><br><span class="line">    unicode_to_int_index = [<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> index_0, alphabet_list <span class="keyword">in</span> <span class="built_in">enumerate</span>(y_data):</span><br><span class="line">        <span class="keyword">for</span> index_1, value <span class="keyword">in</span> <span class="built_in">enumerate</span>(alphabet_list):</span><br><span class="line">            <span class="keyword">if</span> (alphabet_list[index_1]) <span class="keyword">in</span> alphabet:</span><br><span class="line">                unicode_to_int.append(alphabet_list[index_1])</span><br><span class="line">                alphabet_list[index_1] = <span class="number">0</span></span><br><span class="line">                unicode_to_int_index.append(index_0)</span><br><span class="line">                unicode_to_int_index.append(index_1)</span><br><span class="line">    y_data = y_data.astype(np.<span class="built_in">int</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">del</span> (unicode_to_int[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">del</span> (unicode_to_int_index[<span class="number">0</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(unicode_to_int)):</span><br><span class="line">        y_data[unicode_to_int_index[<span class="number">2</span> * i]][unicode_to_int_index[<span class="number">2</span> * i + <span class="number">1</span>]] = char_to_int.get(unicode_to_int[i])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> x_data, y_data</span><br></pre></td></tr></tbody></table></figure>
<h3 id="å»å™ªå’Œç°åº¦åŒ–å¤„ç†"><a href="#å»å™ªå’Œç°åº¦åŒ–å¤„ç†" class="headerlink" title="å»å™ªå’Œç°åº¦åŒ–å¤„ç†"></a>å»å™ªå’Œç°åº¦åŒ–å¤„ç†</h3><ul>
<li>é˜ˆå€¼<code>threshold</code>è®¾ç½®ä¸º128ç”¨æ¥åŒºåˆ†RGBæ·±æµ…ï¼Œå’Œä¹‹å‰çš„æµ…è‰²èƒŒæ™¯ã€æµ…è‰²å¹²æ‰°ã€æ·±è‰²éªŒè¯ç ç›¸å¯¹åº”</li>
<li>è‹¥å¤§äºé˜ˆå€¼ï¼Œç›´æ¥å˜æˆç™½è‰²<code>(255,255,255)</code>ï¼Œå…¶ä»–å˜æˆé»‘è‰²<code>(0ï¼Œ0ï¼Œ0)</code></li>
<li><code>convert('L')</code>ç›´æ¥è½¬åŒ–ä¸ºäºŒå€¼å›¾åƒï¼Œæ¯ä¸ªåƒç´ ç‚¹å…«ä¸ªbit</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">deNoising</span>(<span class="params">image</span>):</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    image.getpixel((x,y)):get RGB,return (*,*,*)</span></span><br><span class="line"><span class="string">    :param image: RGB Img</span></span><br><span class="line"><span class="string">    :return: Grayscale Img</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># Set threshold to filter</span></span><br><span class="line">    threshold = <span class="number">128</span></span><br><span class="line">    <span class="comment"># Change to Grayscale</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(image.width):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(image.height):</span><br><span class="line">            r, g, b = image.getpixel((i, j))</span><br><span class="line">            <span class="comment"># For each pixel, if rgb&gt;threshold,equals to light color==&gt;bk_pixel,then set white(255,255,255)</span></span><br><span class="line">            <span class="keyword">if</span> r &gt; threshold <span class="keyword">or</span> g &gt; threshold <span class="keyword">or</span> b &gt; threshold:</span><br><span class="line">                r = <span class="number">255</span></span><br><span class="line">                g = <span class="number">255</span></span><br><span class="line">                b = <span class="number">255</span></span><br><span class="line">                image.putpixel((i, j), (r, g, b))</span><br><span class="line">            <span class="comment"># else,equals to dark color==&gt;txt_pixel,set black(0,0,0)</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = <span class="number">0</span></span><br><span class="line">                g = <span class="number">0</span></span><br><span class="line">                b = <span class="number">0</span></span><br><span class="line">                image.putpixel((i, j), (r, g, b))</span><br><span class="line">    <span class="comment"># Turn to grayscale Img</span></span><br><span class="line">    image = image.convert(<span class="string">'L'</span>)</span><br><span class="line">    <span class="keyword">return</span> image</span><br></pre></td></tr></tbody></table></figure>
<h3 id="å·ç§¯æ¨¡å‹"><a href="#å·ç§¯æ¨¡å‹" class="headerlink" title="å·ç§¯æ¨¡å‹"></a>å·ç§¯æ¨¡å‹</h3><ul>
<li>ä½¿ç”¨Tensorflow2ç‰ˆæœ¬ä¼šç®€å•è®¸å¤š</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line">tf.summary.trace_on(graph=<span class="literal">True</span>, profiler=<span class="literal">True</span>)</span><br><span class="line">model = Sequential([</span><br><span class="line">    layers.Conv2D(<span class="number">32</span>, kernel_size=[<span class="number">3</span>, <span class="number">3</span>], padding=<span class="string">"same"</span>, activation=tf.nn.relu),</span><br><span class="line">    layers.MaxPool2D(pool_size=[<span class="number">2</span>, <span class="number">2</span>], strides=<span class="number">2</span>, padding=<span class="string">'same'</span>),</span><br><span class="line">    layers.Dropout(<span class="number">0.5</span>),</span><br><span class="line">    layers.Conv2D(<span class="number">64</span>, kernel_size=[<span class="number">3</span>, <span class="number">3</span>], padding=<span class="string">"same"</span>, activation=tf.nn.relu),</span><br><span class="line">    layers.MaxPool2D(pool_size=[<span class="number">2</span>, <span class="number">2</span>], strides=<span class="number">2</span>, padding=<span class="string">'same'</span>),</span><br><span class="line">    layers.Dropout(<span class="number">0.3</span>),</span><br><span class="line">    layers.Conv2D(<span class="number">64</span>, kernel_size=[<span class="number">3</span>, <span class="number">3</span>], padding=<span class="string">"same"</span>, activation=tf.nn.relu),</span><br><span class="line">    layers.MaxPool2D(pool_size=[<span class="number">2</span>, <span class="number">2</span>], strides=<span class="number">2</span>, padding=<span class="string">'same'</span>),</span><br><span class="line">    layers.Dropout(<span class="number">0.25</span>),</span><br><span class="line"></span><br><span class="line">    layers.Flatten(),</span><br><span class="line"></span><br><span class="line">    layers.Dense(<span class="number">2480</span>),</span><br><span class="line">    layers.Dense(<span class="number">248</span>),  <span class="comment"># 4*62</span></span><br><span class="line">    layers.Reshape([<span class="number">4</span>, <span class="number">62</span>])</span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">model.build(input_shape=[<span class="literal">None</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">1</span>])</span><br><span class="line">model.summary()</span><br><span class="line">optimizer = optimizers.Adam(lr=<span class="number">0.43</span> * <span class="number">1e-3</span>)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="è®­ç»ƒæ•°æ®"><a href="#è®­ç»ƒæ•°æ®" class="headerlink" title="è®­ç»ƒæ•°æ®"></a>è®­ç»ƒæ•°æ®</h3><ul>
<li>åŒæ—¶ä½¿ç”¨Tensorboardå¯è§†åŒ–æ•°æ®ï¼Œè¦æ³¨æ„tf1å’Œtf2çš„tensorboardä½¿ç”¨ä¸ä¸€æ ·ï¼Œéœ€è¦æ‰‹åŠ¨å°†æ•°æ®å†™å…¥æ—¥å¿—ä¿å­˜</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">IdentifyTrain</span>():</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    Save model.h5</span></span><br><span class="line"><span class="string">    :return: None</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="comment"># Repeat training</span></span><br><span class="line">    training_time = <span class="number">40</span></span><br><span class="line">    loss = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> <span class="built_in">range</span>(training_time):</span><br><span class="line">        <span class="keyword">for</span> step, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(train_db):</span><br><span class="line">            <span class="keyword">if</span> x.shape == (<span class="number">64</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">with</span> tf.GradientTape() <span class="keyword">as</span> tape:</span><br><span class="line">                    logits = IdentifyImg.model(x)</span><br><span class="line">                    y_one_hot = tf.one_hot(y, depth=<span class="number">62</span>)</span><br><span class="line">                    loss_ce = tf.losses.MSE(y_one_hot, logits)</span><br><span class="line">                    loss_ce = tf.reduce_mean(loss_ce)</span><br><span class="line">                    <span class="keyword">if</span> loss_ce &lt; loss:</span><br><span class="line">                        IdentifyImg.model.save(<span class="string">'model.h5'</span>)</span><br><span class="line">                        loss = loss_ce</span><br><span class="line">                        <span class="built_in">print</span>(<span class="string">"Save new model.h5 successfully! accï¼š"</span>, <span class="built_in">float</span>(<span class="number">1</span> - loss_ce))</span><br><span class="line">                grads = tape.gradient(loss_ce, IdentifyImg.model.trainable_variables)</span><br><span class="line">                IdentifyImg.optimizer.apply_gradients(<span class="built_in">zip</span>(grads, IdentifyImg.model.trainable_variables))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> step % <span class="number">100</span> == <span class="number">0</span>:</span><br><span class="line">                <span class="built_in">print</span>(epoch, step)</span><br><span class="line">        <span class="keyword">with</span> IdentifyImg.summary_writer.as_default():</span><br><span class="line">            tf.summary.scalar(<span class="string">'train_loss'</span>, loss, step=epoch)</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">"Finally model acc: "</span>, <span class="built_in">float</span>(<span class="number">1</span> - loss))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Generate train set</span></span><br><span class="line">(x_train, y_train) = IdentifyImg.generateTrainData(train_data_dir)</span><br><span class="line"><span class="built_in">print</span>(x_train.shape, y_train.shape)</span><br><span class="line"></span><br><span class="line"><span class="comment"># load_dataset</span></span><br><span class="line">batch_size = <span class="number">64</span></span><br><span class="line">train_db = tf.data.Dataset.from_tensor_slices((x_train, y_train))</span><br><span class="line">train_db = train_db.<span class="built_in">map</span>(IdentifyImg.preprocess).batch(batch_size)</span><br></pre></td></tr></tbody></table></figure>
<h3 id="æµ‹è¯•æ•°æ®"><a href="#æµ‹è¯•æ•°æ®" class="headerlink" title="æµ‹è¯•æ•°æ®"></a>æµ‹è¯•æ•°æ®</h3><ul>
<li>è°ƒç”¨è®­ç»ƒæ—¶å­˜ä¸‹çš„æ¨¡å‹ï¼Œåˆ¤æ–­æ˜¯å¦å››ä¸ªéªŒè¯ç éƒ½ç›¸åŒï¼Œè¿”å›æ­£ç¡®ç‡ï¼Œé€šè¿‡è°ƒæ•´å­¦ä¹ ç‡<code>optimizer</code>ä»¥åŠå·ç§¯æ¨¡å‹ï¼Œæ­£ç¡®è¯†åˆ«ç‡è¾¾åˆ°96%ä»¥ä¸Šã€‚</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">IdentifyTest</span>():</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    correct_rate is over 93% now</span></span><br><span class="line"><span class="string">    :return: correct_rate = correct_quantity/total_number</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    correct_quantity = <span class="number">0</span></span><br><span class="line">    total_number = x_test.shape[<span class="number">0</span>]</span><br><span class="line">    IdentifyImg.model = tf.keras.models.load_model(<span class="string">'model.h5'</span>, <span class="built_in">compile</span>=<span class="literal">False</span>)</span><br><span class="line">    <span class="keyword">for</span> step, (x, y) <span class="keyword">in</span> <span class="built_in">enumerate</span>(test_db):</span><br><span class="line">        <span class="keyword">if</span> x.shape == (<span class="number">1</span>, <span class="number">20</span>, <span class="number">80</span>, <span class="number">1</span>):</span><br><span class="line">            logits = IdentifyImg.model(x)</span><br><span class="line">            logits = tf.nn.softmax(logits)</span><br><span class="line">            pred = tf.cast(tf.argmax(logits, axis=<span class="number">2</span>), dtype=tf.int32)</span><br><span class="line">            true_flag = <span class="built_in">int</span>(tf.reduce_sum(tf.cast(tf.equal(pred, y), dtype=tf.int32))) == <span class="number">4</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">'Preï¼š'</span>, np.array(IdentifyImg.char_set)[pred[<span class="number">0</span>].numpy()], <span class="string">'Realï¼š'</span>,</span><br><span class="line">                  np.array(IdentifyImg.char_set)[y[<span class="number">0</span>].numpy()], <span class="string">'Sameï¼š'</span>, true_flag)</span><br><span class="line">            <span class="keyword">if</span> true_flag:</span><br><span class="line">                correct_quantity += <span class="number">1</span></span><br><span class="line">    correct_rate = correct_quantity / total_number</span><br><span class="line">    <span class="keyword">return</span> correct_rate</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Generate test set</span></span><br><span class="line">(x_test, y_test) = IdentifyImg.generateTrainData(test_data_dir)</span><br><span class="line"><span class="built_in">print</span>(x_test.shape, y_test.shape)</span><br><span class="line"><span class="comment"># (num of Img, 20:width, 80:height) (num of Img, 4)</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># load_dataset</span></span><br><span class="line">test_db = tf.data.Dataset.from_tensor_slices((x_test, y_test))</span><br><span class="line">test_db = test_db.<span class="built_in">map</span>(IdentifyImg.preprocess).batch(<span class="number">1</span>)</span><br></pre></td></tr></tbody></table></figure>
<h2 id="é¡¹ç›®ç»“æ„"><a href="#é¡¹ç›®ç»“æ„" class="headerlink" title="é¡¹ç›®ç»“æ„"></a>é¡¹ç›®ç»“æ„</h2><figure class="highlight md"><table><tbody><tr><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ README.md</span><br><span class="line">â”œâ”€â”€ <span class="strong">__pycache__</span></span><br><span class="line">â”œâ”€â”€ logs</span><br><span class="line">â”œâ”€â”€ test</span><br><span class="line">â”‚&nbsp;&nbsp; â””â”€â”€ xxx.png </span><br><span class="line">â”œâ”€â”€ train</span><br><span class="line">â”‚&nbsp;&nbsp; â””â”€â”€ xxx.png </span><br><span class="line">â”œâ”€â”€ GenerateImg.py</span><br><span class="line">â”œâ”€â”€ IdentifyImg.py</span><br><span class="line">â”œâ”€â”€ IdentifyTest.py</span><br><span class="line">â”œâ”€â”€ IdentifyTrain.py</span><br><span class="line">â””â”€â”€ model.h5</span><br><span class="line"></span><br><span class="line">4 directories, 6 files</span><br></pre></td></tr></tbody></table></figure>
<h3 id="Download-Source-File"><a href="#Download-Source-File" class="headerlink" title="Download Source File"></a><a href="https://www.lingzhicheng.cn/usr/file/CodeIdVerify.zip">Download Source File</a></h3><!-- markdownlint-disable-file MD025 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Tensorflow</tag>
        <tag>CNN</tag>
      </tags>
  </entry>
  <entry>
    <title>æ­£åˆ™è¡¨è¾¾å¼æ•´ç†ï¼ˆæŒç»­æ›´æ–°ï¼‰</title>
    <url>/2021/02/17/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%95%B4%E7%90%86/</url>
    <content><![CDATA[<blockquote>
<p>å¶å°”ä¼šç”¨åˆ°æ­£åˆ™åŒ¹é…ï¼Œä¸‹é¢åšä¸€ä¸ªå¸¸ç”¨çš„æ­£åˆ™è¡¨è¾¾å¼æ•´ç†ä»¥ä¾¿å¾€åæŸ¥è¯¢</p>
</blockquote>
<span id="more"></span>
<h2 id="æœ€å¸¸ç”¨çš„åŒ¹é…"><a href="#æœ€å¸¸ç”¨çš„åŒ¹é…" class="headerlink" title="æœ€å¸¸ç”¨çš„åŒ¹é…"></a>æœ€å¸¸ç”¨çš„åŒ¹é…</h2><div class="table-container">
<table>
<thead>
<tr>
<th>å­—ç¬¦</th>
<th>æè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong><code>\d</code></strong></td>
<td>è¡¨ç¤ºä»»æ„æ•°å­—ï¼Œå°±æ˜¯é˜¿æ‹‰ä¼¯æ•°å­—<code>0~9</code>è¿™äº›ã€‚</td>
</tr>
<tr>
<td><code>\D</code></td>
<td>å¤§å†™çš„è¡¨ç¤ºä¸å°å†™çš„ç›¸åï¼Œè¡¨ç¤ºä¸æ˜¯æ•°å­—ã€‚</td>
</tr>
<tr>
<td><code>\w</code></td>
<td>ä»£è¡¨å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ã€‚<code>a-z</code>ã€<code>A-Z</code>ã€<code>0~9</code>ã€<code>_</code>ã€‚</td>
</tr>
<tr>
<td><code>\W</code></td>
<td>å¤§å†™çš„è¡¨ç¤ºä¸å°å†™çš„ç›¸åï¼Œä¸æ˜¯å­—æ¯ã€ä¸æ˜¯æ•°å­—ä¹Ÿä¸æ˜¯ä¸‹åˆ’çº¿ã€‚</td>
</tr>
<tr>
<td><strong><code>\n</code></strong></td>
<td>ä»£è¡¨ä¸€ä¸ªå›æ¢è¡Œã€‚</td>
</tr>
<tr>
<td><code>\r</code></td>
<td>ä»£è¡¨ä¸€ä¸ªå›è½¦ã€‚</td>
</tr>
<tr>
<td><code>\f</code></td>
<td>ä»£è¡¨æ¢é¡µã€‚</td>
</tr>
<tr>
<td><code>\t</code></td>
<td>ä»£è¡¨ä¸€ä¸ª<code>Tab</code>ã€‚</td>
</tr>
<tr>
<td><code>\s</code></td>
<td>ä»£è¡¨æ‰€æœ‰çš„ç©ºç™½ç¬¦ï¼Œä¹Ÿå°±æ˜¯ä¸Šé¢å››ä¸ªï¼š<code>\n</code>ã€<code>\r</code>ã€<code>\f</code>ã€<code>\t</code>ã€‚</td>
</tr>
<tr>
<td><code>\S</code></td>
<td>å¤§å†™çš„è¡¨ç¤ºä¸å°å†™çš„ç›¸åï¼Œä»£è¡¨æ‰€æœ‰ä¸æ˜¯ç©ºç™½çš„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td><code>\A</code></td>
<td>ä»£è¡¨å­—ç¬¦ä¸²çš„å¼€å§‹ã€‚</td>
</tr>
<tr>
<td><code>\Z</code></td>
<td>ä»£è¡¨å­—ç¬¦ä¸²çš„ç»“æŸã€‚</td>
</tr>
<tr>
<td><strong><code>^</code></strong></td>
<td>åŒ¹é…å­—ç¬¦ä¸²å¼€å§‹çš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td><strong><code>$</code></strong></td>
<td>åŒ¹é…å­—ç¬¦ä¸²ç»“æŸçš„ä½ç½®ã€‚</td>
</tr>
<tr>
<td><strong><code>.</code></strong></td>
<td>ä»£è¡¨æ‰€æœ‰çš„å•ä¸ªå­—ç¬¦ï¼Œé™¤äº†æ¢è¡Œ<code>\n</code>,å›è½¦<code>\r</code>ã€‚</td>
</tr>
<tr>
<td><code>[...]</code></td>
<td>ä»£è¡¨åœ¨<code>[]</code>èŒƒå›´å†…çš„å­—ç¬¦ï¼Œæ¯”å¦‚<code>[a-z]</code>å°±ä»£è¡¨<code>a-z</code>çš„å­—æ¯ã€‚</td>
</tr>
<tr>
<td><code>[^...]</code></td>
<td>ä¸ä¸Šä¸€ä¸ªç›¸åï¼Œä»£è¡¨ä¸åœ¨<code>[]</code>èŒƒå›´å†…çš„å­—ç¬¦ã€‚</td>
</tr>
<tr>
<td><code>{n}</code></td>
<td>åŒ¹é…åœ¨<code>{n}</code>å‰é¢çš„ä¸œè¥¿ï¼Œæ¯”å¦‚<code>o{2}</code>ä¸èƒ½åŒ¹é…<code>Bob</code>ä¸­çš„<code>o</code>ï¼Œä½†æ˜¯èƒ½åŒ¹é…<code>food</code>ä¸­çš„ä¸¤ä¸ª<code>o</code>ã€‚</td>
</tr>
<tr>
<td><code>{n,m}</code></td>
<td>åŒ¹é…åœ¨<code>{n,m}</code>å‰é¢çš„ä¸œè¥¿ï¼Œæ¯”å¦‚<code>o{1,3}</code>å°†åŒ¹é…<code>fooooood</code>ä¸­çš„å‰ä¸‰ä¸ª<code>o</code>ã€‚</td>
</tr>
<tr>
<td><code>{n, }</code></td>
<td>åŒ¹é…åœ¨<code>{n,}</code>å‰é¢çš„ä¸œè¥¿ï¼Œæ¯”å¦‚<code>o{2,}</code>ä¸èƒ½åŒ¹é…<code>Bob</code>ä¸­çš„<code>o</code>ï¼Œä½†æ˜¯èƒ½åŒ¹é…<code>foooood</code>ä¸­çš„æ‰€æœ‰<code>o</code>ã€‚</td>
</tr>
<tr>
<td><code>*</code></td>
<td>å’Œ<code>{0,}</code>ä¸€æ ·ï¼ŒåŒ¹é…<code>*</code>å‰é¢çš„0æ¬¡æˆ–å¤šæ¬¡ã€‚æ¯”å¦‚<code>zo*</code>èƒ½åŒ¹é…<code>z</code>ã€<code>zo</code>ä»¥åŠ<code>zoo</code>ã€‚</td>
</tr>
<tr>
<td><code>+</code></td>
<td>å’Œ<code>{1,}</code>ä¸€æ ·ï¼ŒåŒ¹é…+å‰é¢1æ¬¡æˆ–å¤šæ¬¡ã€‚æ¯”å¦‚<code>zo+</code>èƒ½åŒ¹é…<code>zo</code>ä»¥åŠ<code>zoo</code>ä½†ä¸èƒ½åŒ¹é…<code>z</code></td>
</tr>
<tr>
<td><code>?</code></td>
<td>å’Œ<code>{0,1}</code>ä¸€æ ·ï¼ŒåŒ¹é…<code>?</code>å‰é¢0æ¬¡æˆ–1æ¬¡</td>
</tr>
<tr>
<td><code>()</code></td>
<td>åŒ¹é…æ‹¬å·é‡Œçš„å†…å®¹</td>
</tr>
</tbody>
</table>
</div>
<h2 id="re-match"><a href="#re-match" class="headerlink" title="re.match"></a>re.match</h2><blockquote>
<p>ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼Œç¬¬ä¸€ä¸ªæ˜¯åŒ¹é…çš„è§„åˆ™ï¼Œç¬¬äºŒä¸ªæ˜¯éœ€è¦è¢«è¿‡æ»¤çš„å†…å®¹</p>
</blockquote>
<figure class="highlight python"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">content = <span class="string">'you have 100 bananas.'</span></span><br><span class="line">res = re.match(<span class="string">'^yo.*(\d+)\s.*s$'</span>,content)</span><br><span class="line"><span class="built_in">print</span>(res.group(<span class="number">1</span>))</span><br></pre></td></tr></tbody></table></figure>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Python</tag>
        <tag>re.match</tag>
      </tags>
  </entry>
  <entry>
    <title>è°ƒé¢‘æ— çº¿è¯ç­’</title>
    <url>/2021/03/10/%E8%B0%83%E9%A2%91%E6%97%A0%E7%BA%BF%E8%AF%9D%E7%AD%92/</url>
    <content><![CDATA[<p>è¾ƒä¸ºè¯¦ç»†çš„å®éªŒæ€»ç»“ï¼Œéœ€è¦çš„å¯ä»¥å€Ÿé‰´å‚è€ƒ</p>
<span id="more"></span>
<ul>
<li><p><strong>æµ™æ±Ÿå·¥ä¸šå¤§å­¦ä¿¡æ¯å·¥ç¨‹å­¦é™¢é€šä¿¡ç”µå­çº¿è·¯è¯¾ç¨‹è®¾è®¡</strong></p>
</li>
<li><p>è®¾è®¡åˆ¶ä½œï¼šç†Ÿæ‚‰å’ŒæŒæ¡é€šä¿¡ç”µå­çº¿è·¯çš„ä¸€èˆ¬è®¾è®¡æ­¥éª¤ä¸æ–¹æ³•ã€ç”µè·¯åˆ¶ä½œå’Œè°ƒè¯•ä¸€èˆ¬æ­¥éª¤å’Œæ–¹æ³•</p>
</li>
<li>CADè®¾è®¡ï¼šæŒæ¡ç”µå­ç”µè·¯çš„åˆ¶å›¾å·¥å…·ï¼Œè¿›ä¸€æ­¥äº†è§£å’ŒæŒæ¡ç”µå­çº¿è·¯è®¾è®¡ä¸­åŸç†å›¾å’ŒPCBå›¾çš„è®¾è®¡æ–¹æ³•å’ŒæŠ€èƒ½</li>
</ul>
<hr>
<h2 id="ä¸€ã€å®éªŒç›®çš„"><a href="#ä¸€ã€å®éªŒç›®çš„" class="headerlink" title="ä¸€ã€å®éªŒç›®çš„"></a>ä¸€ã€å®éªŒç›®çš„</h2><blockquote>
<p>æŒæ¡è°ƒé¢‘å‘å°„æœºæ•´æœºç”µè·¯çš„è®¾è®¡ä¸è°ƒè¯•æ–¹æ³•ï¼Œä»¥åŠé«˜é¢‘ç”µè·¯çš„è°ƒè¯•ä¸­å¸¸è§æ•…éšœçš„åˆ†æä¸ æ’é™¤ï¼›å­¦ä¼šå¦‚ä½•å°†é«˜é¢‘å•å…ƒç”µè·¯ç»„åˆèµ·æ¥å®ç°æ»¡è¶³å·¥ç¨‹å®é™…è¦æ±‚çš„æ•´æœºç”µè·¯çš„è®¾è®¡ä¸è°ƒè¯•æŠ€æœ¯</p>
</blockquote>
<h2 id="äºŒã€å‚è€ƒè®¾è®¡"><a href="#äºŒã€å‚è€ƒè®¾è®¡" class="headerlink" title="äºŒã€å‚è€ƒè®¾è®¡"></a>äºŒã€å‚è€ƒè®¾è®¡</h2><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/System.png" alt="ç³»ç»Ÿæ¡†å›¾"></p>
<center><font size="2">å›¾1 å°åŠŸç‡è°ƒé¢‘æ— çº¿è¯ç­’çš„ç³»ç»Ÿæ¡†å›¾</font></center>

<blockquote>
<p>å¯¹äºå°åŠŸç‡çš„è°ƒé¢‘æ— çº¿è¯ç­’ï¼Œè®¾è®¡æ—¶åœ¨ä¿è¯æŠ€æœ¯æŒ‡æ ‡çš„å‰æä¸‹ï¼Œåº”åŠ›æ±‚ç”µè·¯ç®€å•ã€æ€§èƒ½ ç¨³å®šå¯é ã€‚å•å…ƒç”µè·¯çº§æ•°å°½å¯èƒ½å°‘ï¼Œä»¥å‡å°çº§é—´çš„ç›¸äº’æ„Ÿåº”ã€å¹²æ‰°å’Œè‡ªæ¿€ï¼Œå·¥ä½œåœ¨è°ƒé¢‘å¹¿æ’­é¢‘æ®µï¼ˆ87MHz~108MHzï¼‰ã€‚é«˜é¢‘åŠŸæ”¾åœ¨å‘å°„åŠŸ ç‡è¾ƒå°æ—¶å¯å·¥ä½œäºç”²ç±»çŠ¶æ€</p>
</blockquote>
<h3 id="é«˜é¢‘éƒ¨åˆ†ç­‰æ•ˆç”µè·¯"><a href="#é«˜é¢‘éƒ¨åˆ†ç­‰æ•ˆç”µè·¯" class="headerlink" title="é«˜é¢‘éƒ¨åˆ†ç­‰æ•ˆç”µè·¯"></a>é«˜é¢‘éƒ¨åˆ†ç­‰æ•ˆç”µè·¯</h3><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/equal.png" alt="ç­‰æ•ˆç”µè·¯"></p>
<center><font size="2">å›¾2 é«˜é¢‘éƒ¨åˆ†ç­‰æ•ˆç”µè·¯</font></center>

<h2 id="ä¸‰ã€ä»ªå™¨ä¸å·¥å…·"><a href="#ä¸‰ã€ä»ªå™¨ä¸å·¥å…·" class="headerlink" title="ä¸‰ã€ä»ªå™¨ä¸å·¥å…·"></a>ä¸‰ã€ä»ªå™¨ä¸å·¥å…·</h2><blockquote>
<p>1.ç›´æµç¨³å‹ç”µæº<br>2.æ•°å­—ä¸‡ç”¨è¡¨<br>3ã€ç¤ºæ³¢å™¨ï¼ˆâ‰¥100MHzï¼‰<br>4ã€è°ƒé¢‘æ”¶éŸ³æœºï¼ˆ87~108MHzï¼‰<br>5ã€çƒ™é“ã€é•Šå­ã€æ–œå£é’³ç­‰</p>
</blockquote>
<h2 id="å››ã€æŠ€æœ¯æŒ‡æ ‡"><a href="#å››ã€æŠ€æœ¯æŒ‡æ ‡" class="headerlink" title="å››ã€æŠ€æœ¯æŒ‡æ ‡"></a>å››ã€æŠ€æœ¯æŒ‡æ ‡</h2><h3 id="4-1å‘å°„åŠŸç‡"><a href="#4-1å‘å°„åŠŸç‡" class="headerlink" title="4.1å‘å°„åŠŸç‡"></a>4.1å‘å°„åŠŸç‡</h3><blockquote>
<p>å‘å°„æœºè¾“é€åˆ°å¤©çº¿ä¸Šçš„åŠŸç‡ï¼Œå½“å¤©çº¿é•¿åº¦Lä¸å‘å°„é¢‘ç‡æ³¢é•¿å¯ä»¥å’Œ$\lambda$æ¯”æ‹Ÿæ—¶ï¼Œå¤©çº¿æ‰èƒ½æœ‰æ•ˆåœ°å°†ä¿¡å·å‘é€å‡ºå»</p>
</blockquote>
<h3 id="4-2å·¥ä½œé¢‘ç‡æˆ–æ³¢æ®µ"><a href="#4-2å·¥ä½œé¢‘ç‡æˆ–æ³¢æ®µ" class="headerlink" title="4.2å·¥ä½œé¢‘ç‡æˆ–æ³¢æ®µ"></a>4.2å·¥ä½œé¢‘ç‡æˆ–æ³¢æ®µ</h3><blockquote>
<p>å‘å°„æœºçš„å·¥ä½œé¢‘ç‡ä¹‹å…¶è½½æ³¢é¢‘ç‡ï¼Œæ ¹æ®è°ƒåˆ¶æ–¹å¼ï¼Œåœ¨å›½å®¶æœ‰å…³éƒ¨é—¨æ‰€è§„å®šçš„èŒƒå›´å†…é€‰å–ï¼Œå¹¿æ’­é€šä¿¡å¸¸ç”¨æ³¢æ®µå¯æŸ¥é˜…æœ‰å…³ä¹¦ç±ï¼Œå¯¹äºè°ƒé¢‘å‘å°„æœºï¼Œå·¥ä½œé¢‘ç‡ä¸€èˆ¬åœ¨è¶…çŸ­æ³¢èŒƒå›´å†…ï¼ˆ30MHz ~ 300MHzï¼‰ã€‚è°ƒé¢‘å¹¿æ’­æ®µè§„å®šä¸º87MHz ~ 108MHz</p>
</blockquote>
<h3 id="4-3æ€»æ•ˆç‡"><a href="#4-3æ€»æ•ˆç‡" class="headerlink" title="4.3æ€»æ•ˆç‡"></a>4.3æ€»æ•ˆç‡</h3><blockquote>
<p>å‘å°„æœºå‘å°„çš„æ€»åŠŸç‡$P<em>{A}$ä¸å…¶æ¶ˆè€—çš„æ€»åŠŸç‡$P</em>{C}^{â€˜}$ä¹‹æ¯”ç§°ä¸ºå‘å°„æœºçš„æ€»æ•ˆç‡$\eta_{A}$</p>
</blockquote>
<h3 id="4-4è¾“å‡ºé˜»æŠ—"><a href="#4-4è¾“å‡ºé˜»æŠ—" class="headerlink" title="4.4è¾“å‡ºé˜»æŠ—"></a>4.4è¾“å‡ºé˜»æŠ—</h3><blockquote>
<p>ä¸€èˆ¬è¦æ±‚50Î©</p>
</blockquote>
<h3 id="4-5æ®‹æ³¢è¾å°„"><a href="#4-5æ®‹æ³¢è¾å°„" class="headerlink" title="4.5æ®‹æ³¢è¾å°„"></a>4.5æ®‹æ³¢è¾å°„</h3><blockquote>
<p>åŠŸç‡ä¸æœ‰æ•ˆè¾“å‡ºåŠŸç‡ä¹‹æ¯”</p>
</blockquote>
<h3 id="4-6ä¿¡æ‚æ¯”"><a href="#4-6ä¿¡æ‚æ¯”" class="headerlink" title="4.6ä¿¡æ‚æ¯”"></a>4.6ä¿¡æ‚æ¯”</h3><blockquote>
<p>åœ¨è§„å®šé¢‘åçš„æƒ…å†µä¸‹ç»ç†æƒ³è§£è°ƒåæœ‰ç”¨ä¿¡å·åŠŸç‡ä¸è½½æ³¢åŠŸç‡ä¹‹æ¯”</p>
</blockquote>
<h3 id="4-7å¤±çœŸåº¦"><a href="#4-7å¤±çœŸåº¦" class="headerlink" title="4.7å¤±çœŸåº¦"></a>4.7å¤±çœŸåº¦</h3><blockquote>
<p>åœ¨è§„å®šé¢‘åçš„æƒ…å†µä¸‹ç»ç†æƒ³è§£è°ƒåå•éŸ³é¢‘ä¿¡å·çš„å¤±çœŸåº¦</p>
</blockquote>
<h3 id="4-8é¢‘ç‡å“åº”"><a href="#4-8é¢‘ç‡å“åº”" class="headerlink" title="4.8é¢‘ç‡å“åº”"></a>4.8é¢‘ç‡å“åº”</h3><blockquote>
<p>åœ¨è§„å®šé¢‘åçš„æƒ…å†µä¸‹ç»ç†æƒ³è§£è°ƒåè¾“å‡ºéŸ³é¢‘çš„å¹…é¢‘å“åº”</p>
</blockquote>
<h2 id="äº”ã€ç³»ç»ŸåŸç†åˆ†æ"><a href="#äº”ã€ç³»ç»ŸåŸç†åˆ†æ" class="headerlink" title="äº”ã€ç³»ç»ŸåŸç†åˆ†æ"></a>äº”ã€ç³»ç»ŸåŸç†åˆ†æ</h2><h3 id="5-1éŸ³é¢‘æ”¾å¤§"><a href="#5-1éŸ³é¢‘æ”¾å¤§" class="headerlink" title="5.1éŸ³é¢‘æ”¾å¤§"></a>5.1éŸ³é¢‘æ”¾å¤§</h3><blockquote>
<p>ä½é¢‘æ”¾å¤§ï¼Œç”±ä¸‰æç®¡å®ç°åŠŸèƒ½</p>
<p>å¾®å‹éº¦å…‹é£å°†é‡‡é›†çš„è¯­è¨€ä¿¡å·è½¬æ¢æˆç”µå‹ä¿¡å·è¾“å…¥ç”µè·¯ï¼ŒR15å¾®éº¦å…‹é£åç½®ç”µé˜»ï¼Œç”¨æ¥ç¡®å®šéº¦å…‹é£çš„é™æ€å·¥ä½œç‚¹ã€‚C16ç”µå®¹ç”¨æ¥ç¨³å®šæ”¾å¤§å™¨ï¼ŒåŒæ—¶èµ·åˆ°ä½é€šæ»¤æ³¢çš„ä½œç”¨ã€‚R16ã€R17ã€R18ã€R19ã€R20ä¸ºä¸‰æç®¡9013çš„åç½®ç”µé˜»ã€‚C17ä¸ºæ—è·¯ç”µå®¹ï¼Œä¸‰æç®¡é™æ€å·¥ä½œæ—¶ï¼Œä¸èµ·ä»»ä½•ä½œç”¨ã€‚å½“è¾“å…¥äº¤æµä¿¡å·æ—¶ï¼ŒR19è¢«C17çŸ­è·¯ï¼ŒC14ã€C15æ¥åœ°èµ·åˆ°æ»¤æ³¢ä½œç”¨ã€‚C18ä¸ºéš”ç¦»ç”µå®¹</p>
<p>ç†è®ºä¸Šè¯¥éƒ¨åˆ†èƒ½å¯¹è¾“å…¥çš„è¯­éŸ³ä¿¡å·æ”¾å¤§10å€å·¦å³ï¼Œè¢«æ”¾å¤§åçš„è¯­éŸ³ä¿¡å·å°±æ˜¯è°ƒé¢‘ç³»ç»Ÿçš„åŸºå¸¦ä¿¡å·</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/Audio_amplification_module.png" alt="éŸ³é¢‘æ”¾å¤§"></p>
<center><font size="2">å›¾3 éŸ³é¢‘æ”¾å¤§æ¨¡å—</font></center>

<h3 id="5-2é«˜é¢‘æŒ¯è¡ä¸é¢‘ç‡è°ƒåˆ¶"><a href="#5-2é«˜é¢‘æŒ¯è¡ä¸é¢‘ç‡è°ƒåˆ¶" class="headerlink" title="5.2é«˜é¢‘æŒ¯è¡ä¸é¢‘ç‡è°ƒåˆ¶"></a>5.2é«˜é¢‘æŒ¯è¡ä¸é¢‘ç‡è°ƒåˆ¶</h3><blockquote>
<p>è°ƒé¢‘ç³»ç»Ÿä¸­ï¼Œç”¨ä¸€ä¸ªé¢‘ç‡é«˜çš„ä¿¡å·ä½œä¸ºè½½æ³¢ã€‚è½½æ³¢çš„é¢‘ç‡å°†è¢«åŸºå¸¦ä¿¡å·æ‰€æ§åˆ¶ï¼Œæºå¸¦åŸºå¸¦ä¿¡å·çš„å…¨éƒ¨ä¿¡æ¯</p>
<p>é‡‡ç”¨ç”µå®¹ä¸‰ç«¯å¼æŒ¯è¡å™¨ï¼ŒåŠ äº†å˜å®¹äºŒæç®¡Cx1å’Œåé¦ˆç½‘ç»œï¼Œå¤–æ¥ç”µæºååªè¦æœ‰ä¸€ä¸ªå¾®å°çš„å¼€å…³æ‰°åŠ¨å°±èƒ½è‡ªæ¿€æŒ¯è¡ï¼Œæœ€ç»ˆè¾“å‡ºé¢‘ç‡ä¸ºå‡ åå…†çš„æ­£å¼¦æ³¢ã€‚é€šè¿‡è°ƒèŠ‚å¯è°ƒç”µæ„ŸL1ï¼Œå¯é€æ¸æ”¹å˜æ­£å¼¦æ³¢çš„é¢‘ç‡ç›´è‡³è¾¾åˆ°æœŸæœ›å€¼</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/High_frequency_oscillation_and_frequency_modulation_module.png" alt="é«˜é¢‘æŒ¯è¡ä¸é¢‘ç‡è°ƒåˆ¶"></p>
<center><font size="2">å›¾4 é«˜é¢‘æŒ¯è¡ä¸é¢‘ç‡è°ƒåˆ¶æ¨¡å—</font></center>

<h3 id="5-3ç¼“å†²éš”ç¦»ä¸é«˜é¢‘åŠŸæ”¾"><a href="#5-3ç¼“å†²éš”ç¦»ä¸é«˜é¢‘åŠŸæ”¾" class="headerlink" title="5.3ç¼“å†²éš”ç¦»ä¸é«˜é¢‘åŠŸæ”¾"></a>5.3ç¼“å†²éš”ç¦»ä¸é«˜é¢‘åŠŸæ”¾</h3><blockquote>
<p>ç¼“å†²é«˜é¢‘æŒ¯è¡éƒ¨åˆ†è¾“å‡ºçš„ä¿¡å·ï¼ŒåŒæ—¶éš”ç¦»å‰åçº§ç”µè·¯</p>
<p>é‡‡ç”¨å°„æè·Ÿéšå™¨ï¼Œä¸‰æç®¡T2 9018çš„é™æ€å·¥ä½œç‚¹ç”±åç½®ç”µé˜»R7ã€R8ã€R9ç¡®å®šã€‚æ­¤å¤„åŒæ ·è®¾ç½®äº†ä¸€ä¸ªç®€å•çš„æ¨¡æ‹Ÿæ»¤æ³¢ç”µè·¯ï¼Œç”±C12ã€C13ã€L4æ„æˆï¼ŒC9ä¸ºéš”ç¦»ç”µå®¹</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/Buffer_isolation_module.png" alt="ç¼“å†²éš”ç¦»"></p>
<center><font size="2">å›¾5 ç¼“å†²éš”ç¦»æ¨¡å—</font></center>

<blockquote>
<p>é«˜é¢‘æŒ¯è¡ç”µè·¯è¾“å‡ºçš„è°ƒåˆ¶ä¿¡å·å¹…å€¼ä¸€èˆ¬è¾ƒå°ï¼Œè€Œè¯ç­’å¤©çº¿ä¼ è¾“å‡ºå»çš„ä¿¡å·æ˜¯åœ¨æ— çº¿ä¿¡é“ä¸­ä¼ æ’­çš„ï¼Œå¿…ç„¶å­˜åœ¨ä¸€å®šç¨‹åº¦ä¸Šçš„å¹…å€¼è¡°å‡ï¼Œæ‰€ä»¥å¿…é¡»åœ¨éœ‡è¡ç”µè·¯ä¹‹åæ·»åŠ ä¸€ä¸ªé«˜é¢‘åŠŸç‡æ”¾å¤§å™¨ã€‚</p>
<p>é«˜é¢‘åŠŸæ”¾ç”±ä¸‰æç®¡T3 9018ï¼Œç”µé˜»R10ã€R11ã€R12ä½œä¸ºåç½®ç”µé˜»ç¡®å®šé™æ€å·¥ä½œç‚¹ã€‚C10å’Œå¯è°ƒç”µæ„ŸL3ç»„æˆLCå›è·¯ï¼Œè°æŒ¯åœ¨è½½é¢‘ä¸Šï¼Œè¾“å‡ºæ³¢å½¢çš„å³°å³°å€¼$V_{pp}$å¯ç”±L3è°ƒèŠ‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/High-frequency_amplifier_module.png" alt="é«˜é¢‘åŠŸæ”¾"></p>
<center><font size="2">å›¾6 é«˜é¢‘åŠŸæ”¾æ¨¡å—</font></center>

<h2 id="å…­ã€-æ“ä½œæ­¥éª¤ä¸æ•°æ®è®°å½•"><a href="#å…­ã€-æ“ä½œæ­¥éª¤ä¸æ•°æ®è®°å½•" class="headerlink" title="å…­ã€ æ“ä½œæ­¥éª¤ä¸æ•°æ®è®°å½•"></a>å…­ã€ æ“ä½œæ­¥éª¤ä¸æ•°æ®è®°å½•</h2><blockquote>
<p>ç†Ÿæ‚‰å‚è€ƒç”µè·¯åŸç†å›¾ï¼Œç†è§£å„ä¸ªç”µè·¯éƒ¨åˆ†çš„åŠŸèƒ½ï¼Œæ˜ç¡®æ•´ç†è®¾è®¡æ€è·¯ï¼›<br>æ ¹æ®åŸç†å›¾ï¼Œå¯¹é¢„é…ç½®çš„å®é™…å…ƒå™¨ä»¶è¿›è¡Œåˆç†å¸ƒå±€ï¼›<br>åˆ©ç”¨ç°æœ‰çš„å®é™…å…ƒå™¨ä»¶ï¼Œåœ¨ä¸‡ç”¨æ¿ä¸Šè¿›è¡Œç”µè·¯å®‰è£…ï¼›<br>æ£€æŸ¥å„ä¸ªå…ƒå™¨ä»¶çš„å®‰è£…ï¼Œç„¶åè¿›è¡Œç„Šæ¥ï¼›<br>åˆ©ç”¨ä¸‡ç”¨è¡¨ï¼Œä¾æ¬¡æ£€æŸ¥éº¦å…‹é£çš„è¾“å‡ºç”µå‹ï¼Œå„ä¸ªä¸‰æç®¡çš„é™æ€å·¥ä½œç‚¹ï¼›<br>åˆ©ç”¨ç¤ºæ³¢å™¨ï¼Œè§‚å¯ŸJP2å¤„çš„è¾“å‡ºæ³¢å½¢ï¼Œæ³¨æ„å…¶é¢‘ç‡å€¼ï¼Œè½»å¼¹éº¦å…‹é£å‘ç”Ÿæ³¢å½¢å˜åŒ–ï¼›<br>éº¦å…‹é£æ­£æåŠ Vpp=50mVï¼Œf=1KHzçš„æ­£å¼¦æ³¢ï¼Œç¤ºæ³¢å™¨æµ‹JP2å·¦ä¾§æ³¢å½¢æ”¾å¤§å€æ•°ï¼›<br>åœ¨ä¸Šè¿°æ­¥éª¤å‡æ­£å¸¸çš„æƒ…å†µä¸‹ï¼Œé«˜é¢‘ç¤ºæ³¢å™¨nsæ¡£ä½æµ‹è¯•ç¨³å®šæ³¢å½¢ï¼Œè§‚å¯ŸJP3å¤„çš„æ³¢å½¢ï¼Œè°ƒèŠ‚L1å’ŒL3ä½¿å¹…å€¼å’Œé¢‘ç‡æ»¡è¶³è¦æ±‚ï¼›<br>åˆ©ç”¨è°ƒé¢‘æ”¶éŸ³æœºï¼Œå®é™…è°ƒè¯•æ•´ä¸ªæ— çº¿è¯ç­’çš„åŠŸèƒ½ï¼Œæµ‹è¯•å·¥ä½œé¢‘æ®µï¼Œå¯ä½¿ç”¨çš„å®æµ‹è·ç¦»ç­‰ï¼›<br>å®Œæˆå®éªŒï¼Œè®°å½•æ•°æ®ï¼ŒéªŒæ”¶ã€‚</p>
</blockquote>
<div class="table-container">
<table>
<thead>
<tr>
<th>ä¸‰æç®¡/ç”µæ</th>
<th>åŸºæb/V</th>
<th>å‘å°„æe/V</th>
<th>é›†ç”µæc/V</th>
</tr>
</thead>
<tbody>
<tr>
<td>T1 9018</td>
<td>2.918</td>
<td>2.190</td>
<td>6.901</td>
</tr>
<tr>
<td>T2 9018</td>
<td>5.356</td>
<td>4.818</td>
<td>9.030</td>
</tr>
<tr>
<td>T3 9018</td>
<td>2.872</td>
<td>2.102</td>
<td>9.006</td>
</tr>
<tr>
<td>T4 9018</td>
<td>2.533</td>
<td>1.879</td>
<td>5.663</td>
</tr>
</tbody>
</table>
</div>
<blockquote>
<p>é«˜é¢‘æŒ¯è¡å®é™…é¢‘ç‡89.5MHzï¼Œå‘å°„è·ç¦»çº¦45mï¼›<br>éº¦å…‹é£ä¸¤ç«¯ç”µå‹7.4V<br>R5å’ŒR6ä¹‹é—´çš„ç”µå‹å€¼ä¸ºV=4.094Vï¼Œæ¥è¿‘4Vï¼Œè¾¾åˆ°é¢„æœŸå€¼<br>éº¦å…‹é£æ­£æåŠ Vpp=50mVï¼Œf=1KHzçš„æ­£å¼¦æ³¢ï¼Œæ”¾å¤§å€æ•°çº¦ä¸º11å€<br>å¤©çº¿è¾“å‡ºä¿¡å·çš„å³°å³°å€¼Vpp=1.70Vï¼Œè¾¾åˆ°é¢„æœŸå€¼</p>
</blockquote>
<h3 id="â—å»ºè®®"><a href="#â—å»ºè®®" class="headerlink" title="â—å»ºè®®"></a>â—å»ºè®®</h3><p>80~100MHzå†…å¼ºä¿¡å·å¹¿æ’­è¾ƒå¤šï¼Œå¦‚è‹¥æ€§èƒ½ä¸ä½³ï¼Œå¯å°è¯•æ”¹å˜L1å°†é¢‘ç‡è°ƒæ•´è‡³80MHzä»¥ä¸‹æˆ–100MHzä»¥ä¸Šï¼Œå¹²æ‰°è¾ƒå°</p>
<h3 id="é™„å½•ğŸ‘‡"><a href="#é™„å½•ğŸ‘‡" class="headerlink" title="é™„å½•ğŸ‘‡"></a><em>é™„å½•ğŸ‘‡</em></h3><h4 id="é™„1ï¼šSCH"><a href="#é™„1ï¼šSCH" class="headerlink" title="é™„1ï¼šSCH"></a><em>é™„1ï¼šSCH</em></h4><blockquote>
<p>SCHå›¾ğŸ‘‡</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/SCH_new.png" alt="ä¿®æ”¹ä¹‹åçš„SCHå›¾"></p>
<center><font size="2">å›¾7 SCH</font></center>

<h4 id="é™„2ï¼šPCB"><a href="#é™„2ï¼šPCB" class="headerlink" title="é™„2ï¼šPCB"></a><em>é™„2ï¼šPCB</em></h4><blockquote>
<p>ç»è¿‡ä¼˜åŒ–çš„PCBå›¾ğŸ‘‡</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/PCB_new.png" alt="ç»è¿‡ä¼˜åŒ–çš„PCBå›¾"></p>
<center><font size="2">å›¾8 PCB</font></center>

<blockquote>
<p>è¾ƒä¸ºç´§å‡‘ï¼Œå°è£…ä¸å®ç‰©æ‰€ç”¨ç•¥æœ‰ä¸åŒï¼Œç¨æœ‰å‡ºå…¥ã€‚å®ç‰©ä¸ŠC9åœ¨ç„Šæ¥æ—¶ä¸¤å¼•è„šæ°å¼€ï¼Œä¸­é—´ç©ºäº†ä¸€æ ¼èµ°åœ°çº¿ï¼ŒPCBå›¾ä¸­æœ‰æ‰€ä¸åŒ</p>
</blockquote>
<h4 id="é™„3ï¼šå®ç‰©å›¾æ­£é¢"><a href="#é™„3ï¼šå®ç‰©å›¾æ­£é¢" class="headerlink" title="é™„3ï¼šå®ç‰©å›¾æ­£é¢"></a><em>é™„3ï¼šå®ç‰©å›¾æ­£é¢</em></h4><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/Real_positive.jpg" alt="Real_positive"></p>
<center><font size="2">å®ç‰©å›¾æ­£é¢</font></center>

<h4 id="é™„4ï¼šå®ç‰©å›¾åé¢"><a href="#é™„4ï¼šå®ç‰©å›¾åé¢" class="headerlink" title="é™„4ï¼šå®ç‰©å›¾åé¢"></a><em>é™„4ï¼šå®ç‰©å›¾åé¢</em></h4><p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM/Real_opposite.jpg" alt="Real_opposite"></p>
<center><font size="2">å®ç‰©å›¾åé¢</font></center>

<h4 id="é™„5ï¼šæºæ–‡ä»¶ä¸‹è½½"><a href="#é™„5ï¼šæºæ–‡ä»¶ä¸‹è½½" class="headerlink" title="é™„5ï¼šæºæ–‡ä»¶ä¸‹è½½"></a><em>é™„5ï¼šæºæ–‡ä»¶ä¸‹è½½</em></h4><!-- markdownlint-disable-file MD025 MD033 MD028-->
<p><a href="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/PCB/2021FM.zip">Altium Designerå·¥ç¨‹æºæ–‡ä»¶</a></p>
]]></content>
      <categories>
        <category>Communication</category>
      </categories>
      <tags>
        <tag>Modulation</tag>
        <tag>High-frequency circuits</tag>
        <tag>PCB</tag>
      </tags>
  </entry>
  <entry>
    <title>è¥¿è—è‡ªç”±è¡Œï¼ˆé’è—çº¿-æ‹‰è¨-å±±å—-æ—èŠï¼‰</title>
    <url>/2025/04/17/TibetRound1/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è¥¿è—è‡ªç”±è¡Œï¼ˆé’è—çº¿â€”&gt;æ‹‰è¨â€”&gt;å±±å—â€”&gt;æ—èŠï¼‰ï¼Œå†æ—¶10å¤©ï¼Œäº2025å¹´3æœˆä¸­æ—¬è‡ªå—äº¬å‡ºå‘ï¼Œé€”å¾„ç”˜è‚ƒå…°å·ï¼Œé’æµ·è¥¿å®ï¼Œé’è—çº¿ï¼Œè¥¿è—æ‹‰è¨ã€å±±å—ã€æ—èŠã€‚</p>
<span id="more"></span>
<hr>
<h2 id="1-Tibet-è‡ªç”±è¡Œç®€è¦è¡Œç¨‹"><a href="#1-Tibet-è‡ªç”±è¡Œç®€è¦è¡Œç¨‹" class="headerlink" title="1. $ Tibet $ è‡ªç”±è¡Œç®€è¦è¡Œç¨‹"></a>1. $ Tibet $ è‡ªç”±è¡Œç®€è¦è¡Œç¨‹</h2><p>å—äº¬â€”&gt;å…°å·â€”&gt;è¥¿å®â€”&gt;é’è—çº¿â€”&gt;æ‹‰è¨â€”&gt;å±±å—ç¾Šå“é›æªâ€”&gt;æ—èŠå·´å®œåŒºâ€”&gt;è‰²å­£æ‹‰å±±å£ã€é²æœ—ã€å·´æ¾æªã€æ–°æªã€é›…é²è—å¸ƒå¤§å³¡è°·â€”&gt;é‡åº†â€”&gt;å—äº¬</p>
<h2 id="2-è¯¦ç»†è¡Œç¨‹"><a href="#2-è¯¦ç»†è¡Œç¨‹" class="headerlink" title="2. è¯¦ç»†è¡Œç¨‹"></a>2. è¯¦ç»†è¡Œç¨‹</h2><ul>
<li><strong>Day 1</strong>ï¼šå—äº¬ç¦„å£æœºåœºå‡ºå‘ï¼Œä¸‹åˆæŠµè¾¾å…°å·ä¸­å·æœºåœºï¼Œæ•´å¤‡è¡Œæé¤é£Ÿï¼Œä¹˜åŠ¨è½¦å‰å¾€è¥¿å®ç«™ï¼Œè¥¿å®ç«™é’è—çº¿å§‹å‘ã€‚</li>
<li><strong>Day 2</strong>ï¼š<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>é’è—çº¿è‡³æ‹‰è¨ï¼Œé€”ç»æ ¼å°”æœ¨ã€æ˜†ä»‘å±±å£ã€å¯å¯è¥¿é‡Œã€æ²±æ²±æ²³ã€å”å¤æ‹‰å±±å£ã€é‚£æ›²ã€å½“é›„ã€ç¾Šå…«äº•ç­‰åœ°ï¼Œæ—¥è½åæŠµè¾¾æ‹‰è¨ç«™ã€‚</li>
<li><strong>Day 3</strong>ï¼š<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è¯ç‹å±±è§‚æ™¯å°ï¼Œåƒä½›æ‘©å´–çŸ³åˆ»ï¼Œç”˜ç å°”å¡”ï¼Œè¥¿è—åšç‰©é¦†ï¼Œæ‰åŸºå¯ºï¼Œå¸ƒè¾¾æ‹‰å®«å¹¿åœºï¼Œå¤©ä¸Šé‚®å±€ï¼Œå…«å»“è¡—</li>
<li><strong>Day 4</strong>ï¼š<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¸ƒè¾¾æ‹‰å®«ï¼Œæ‹‰é²æ¹¿åœ°å›½å®¶çº§è‡ªç„¶ä¿æŠ¤åŒº</li>
<li><strong>Day 5</strong>ï¼š<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>å¤§æ˜­å¯ºï¼›æ‹‰è¨å‡ºå‘èµ°G4218é›…å¶é«˜é€Ÿã€349å›½é“ï¼Œç»å±±å—å¸‚è´¡å˜å¿å²—å †é•‡æ™®åŠªæ‘ï¼Œè¿‡åŠ è‹¥æ‹‰å±±å£åˆ°ç¾Šå“é›æªï¼Œèµ°å¿é“306çº¿è¿‡ä¸œæ‹‰ä¹¡åˆ°æ—¥æ‰˜å¯ºï¼Œç»æ‰ç‰æ‰å¯ºåˆ°è¾¾å–€åº†æ‹‰å±±ã€é²æ—¥æ‹‰å±±ï¼Œçº¦160å…¬é‡Œï¼Œ3.5-4å°æ—¶è½¦ç¨‹ï¼›è¿”ç¨‹èµ°å¿é“305çº¿ï¼Œç»å¼ è¾¾ä¹¡ã€æ±Ÿé›„æ‘ã€æœ—æ°å­¦ä¹¡åˆ°è´¡å˜å¿ï¼Œèµ°349å›½é“å’Œé›…å¶é«˜é€Ÿè¿”å›æ‹‰è¨ï¼Œçº¦170å…¬é‡Œï¼Œ3.5-4å°æ—¶è½¦ç¨‹ã€‚</li>
<li><strong>Day 6</strong>ï¼š<span class="github-emoji"><span>â˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2601.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æ‹‰è¨åŸé™…é“è·¯åˆ°æ—èŠ<span class="github-emoji"><span>â˜”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2614.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼›èµ°G4218é›…å¶é«˜é€Ÿã€318å›½é“ï¼Œ<span class="github-emoji"><span>â„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2744.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ç¿»è¶Šè‰²å­£æ‹‰å±±å£åˆ°é²æœ—é•‡ï¼Œæ‰è¥¿å²—æ‘ï¼Œçº¦75å…¬é‡Œï¼Œ1.5å°æ—¶è½¦ç¨‹ï¼›èµ°318å›½é“ï¼Œé›…å¶é«˜é€Ÿæš´é›¨<span class="github-emoji"><span>â˜”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2614.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œå·¥å¸ƒæ±Ÿè¾¾å¿å·´æ¾æªï¼Œç»“å·´æ‘ï¼Œæš´é›ª<span class="github-emoji"><span>â„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2744.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œçº¦200å…¬é‡Œï¼Œ4å°æ—¶è½¦ç¨‹ã€‚</li>
<li><strong>Day 7</strong>ï¼š<span class="github-emoji"><span>â˜</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2601.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ç»“å·´æ‘é©±è½¦å‰å¾€æ–°æªï¼Œçº¦27å…¬é‡Œï¼Œ2å°æ—¶è½¦ç¨‹ï¼Œæ–°æªå¾’æ­¥å¾€è¿”7å…¬é‡Œï¼Œçº¦2å°æ—¶ï¼›<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>æ–°æªè¿”å›ç»“å·´æ‘é—å¿˜ç å¤´ï¼›å·´æ¾æªé©±è½¦å‰å¾€é›…é²è—å¸ƒå¤§å³¡è°·å·¦å²¸<span class="github-emoji"><span>â˜”</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2614.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œç±³æ—å¸‚æ´¾é•‡ç´¢æ¾æ‘<span class="github-emoji"><span>â„</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2744.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œçº¦220å…¬é‡Œï¼Œ4å°æ—¶è½¦ç¨‹ã€‚</li>
<li><strong>Day 8</strong>ï¼š<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ç´¢æ¾æ‘è‡³è¾¾æ—æ‘å¾’æ­¥ï¼Œå•ç¨‹çº¦10å…¬é‡Œï¼Œå¾€è¿”çº¦4å°æ—¶ï¼Œè¿”å›æ—èŠå¸‚åŒºã€‚</li>
<li><strong>Day 9-10</strong>ï¼š<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ä¹˜æœºåœºå¤§å·´è‡³æ—èŠæœºåœºï¼Œç»é‡åº†è½¬æœºè¿”å›å—äº¬ã€‚</li>
</ul>
<h2 id="3-å…¨ç¨‹çºªå®"><a href="#3-å…¨ç¨‹çºªå®" class="headerlink" title="3. å…¨ç¨‹çºªå®"></a>3. å…¨ç¨‹çºªå®</h2><ul>
<li>æœ¬æ–‡ç›¸å…³åæ ‡ï¼Œè‹¥éç‰¹åˆ«è¯´æ˜ï¼Œå‡ä¸ºå›½æµ‹å±€GCJ-02åæ ‡ç³»ï¼Œå…¶ä»–éƒ¨åˆ†ä¸ºWGS-84åæ ‡ç³»ã€‚</li>
</ul>
<h3 id="3-1-å—äº¬â€”-gt-å…°å·â€”-gt-è¥¿å®â€”-gt-é’è—çº¿â€”-gt-æ‹‰è¨"><a href="#3-1-å—äº¬â€”-gt-å…°å·â€”-gt-è¥¿å®â€”-gt-é’è—çº¿â€”-gt-æ‹‰è¨" class="headerlink" title="3.1 å—äº¬â€”>å…°å·â€”>è¥¿å®â€”>é’è—çº¿â€”>æ‹‰è¨"></a>3.1 å—äº¬â€”&gt;å…°å·â€”&gt;è¥¿å®â€”&gt;é’è—çº¿â€”&gt;æ‹‰è¨</h3><blockquote>
<p>ä»çƒŸé›¨æ±Ÿå—ä¸€è·¯å‘è¥¿åŒ—è¿›å‘ï¼Œä»ä¸˜é™µåˆ°å¹³åŸä¸€æœ›æ— é™…ï¼Œå†åˆ°é»„åœŸæ²Ÿå£‘çºµæ¨ªï¼ŒæŠµè¾¾å…°å·ä¸­å·æœºåœºT2ï¼Œæ°å¥½èµ¶ä¸ŠT2èˆªç«™æ¥¼æœ€åå‡ å¤©è¿è¥ï¼Œå³å°†å¯ç”¨T3èˆªç«™æ¥¼ã€‚ä¸å¾—ä¸è¯´ä¸­å·æœºåœºçš„è®¾è®¡ï¼Œæ‹¿å®Œè¡Œæå‡ºé—¨å°±æ˜¯åŸè½¨çš„å…¥å£ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/01å…°å·æœºåœº.JPG" alt="ä¸­å·æœºåœºT2"></p>
<blockquote>
<p>æœºåœºå‡ºå‘æ‹¼è½¦åˆ°å…°å·ç«™ï¼Œä¸€è·¯é»„åœŸï¼Œç¬¬ä¸€æ¬¡è§åˆ°é»„æ²³ï¼Œåƒç¢—æ­£å®—çš„å…°å·ç‰›è‚‰é¢ï¼Œæ•´å¤‡è¡Œæï¼Œå‡ºå‘ï¼</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/02å…°å·ç‰›è‚‰é¢.JPG" alt="å…°å·ç‰›è‚‰é¢"></p>
<blockquote>
<p>Y971æ¬¡åˆ—è½¦ï¼Œå¤©è·¯æ ¼æ¡‘èŠ±è¥¿å®ç«™æ¬¢è¿æ‚¨ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/03è¥¿å®ç«™ç«™å°.JPG" alt="è¥¿å®ç«™ç«™å°"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/04Y971.JPG" alt="Y971"></p>
<blockquote>
<p>ååŠå¤œè¿‡<strong>å¯Ÿå°”æ±—ç›æ¹–</strong>ï¼Œç¯ç«é€šæ˜ï¼Œå¡è½¦å’Œè·¯ç¯ï¼Œç¡æ¢¦ä¸­é†’æ¥æ„Ÿè§‰ç©¿è¶Šåˆ°å‡ åå¹´å‰ï¼›<br>å‡Œæ™¨05:48æŠµè¾¾æ ¼å°”æœ¨ç«™ï¼Œæ¢ç¾å›½è¿›å£å†…ç‡ƒæœºè½¦å¤´ï¼Œå…¨è½¦ä¾›æ°§ï¼Œéšè½¦åŒ»ç”Ÿä¸Šè½¦ï¼Œä¸‹è½¦æ“¦è½¦çª—ï¼Œå››å‘¨å·²ç»“å†°ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/05æ ¼å°”æœ¨ç«™ç«™å°.JPG" alt="æ ¼å°”æœ¨ç«™ç«™å°"></p>
<blockquote>
<p>ä¸ƒç‚¹åŠå·¦å³è“è°ƒæ—¶åˆ»ï¼Œé›ªå›½åˆ—è½¦ç»è¿‡æ˜†ä»‘å±±å£ï¼Œçª—å¤–ä¸€ç‰‡é›ªç™½ï¼Œçª—å¤–<strong>ç‰ç å³°</strong><code>(Yuzhu Peak, 35Â°39'8.53"N, 94Â°15'3.1"E, 6178m)</code>ï¼Œæ˜†ä»‘å±±ä¸œæ®µæœ€é«˜å³°ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/06ç‰ç å³°.JPG" alt="ç‰ç å³°"></p>
<blockquote>
<p>å³å°†è¿›å…¥æ˜†ä»‘å±±éš§é“</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/07æ˜†ä»‘å±±å£.JPG" alt="æ˜†ä»‘å±±å£"></p>
<blockquote>
<p>7:52æ˜†ä»‘å±±å£æ—¥å‡º<span class="github-emoji"><span>ğŸŒ…</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f305.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œç…§äº®å¤©é™…çº¿ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/08é›ªå±±æ—¥å‡º.JPG" alt="é›ªå±±æ—¥å‡º"></p>
<blockquote>
<p>ä¹ç‚¹å·¦å³ï¼Œå¯å¯è¥¿é‡Œæ— äººåŒºï¼Œé’æµ·ã€è¥¿è—ã€æ–°ç–†äº¤ç•Œçš„ç”Ÿå‘½ç¦åŒºï¼Œâ€œå®ˆæŠ¤å¯å¯è¥¿é‡Œï¼Œä¿æŠ¤ä¸‰æ±Ÿä¹‹æºâ€ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/09å¯å¯è¥¿é‡Œ.JPG" alt="å¯å¯è¥¿é‡Œ"></p>
<blockquote>
<p>åä¸€ç‚¹å·¦å³ï¼Œæ²±æ²±æ²³ï¼Œ<strong>æ ¼æ‹‰ä¸¹ä¸œé›ªå±±</strong>å†°å·èé›ªæ»‹å…»ä¹å·å¤§åœ°ï¼Œæ±‡å…¥æ±Ÿæµ·ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/10æ²±æ²±æ²³.JPG" alt="æ²±æ²±æ²³"></p>
<blockquote>
<p>éšæœºåˆ·æ–°çš„è—é‡é©´ã€è—ç‰¦ç‰›</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/11é‡ç”ŸåŠ¨ç‰©.JPG" alt="é‡ç”ŸåŠ¨ç‰©"></p>
<blockquote>
<p>åäºŒç‚¹å¤šï¼Œç¿»è¶Š<strong>å”å¤æ‹‰å±±å£</strong>ï¼Œè¿œå¤„ä¸º<strong>å”å¤æ‹‰å±±é¾™åŒ£å®°é™‡å·´</strong><code>(33Â°07'47.11"N, 92Â°01'51.72"E, 5940m)</code> <em>WGS-84</em>ï¼Œç§‘è€ƒé˜Ÿå¸¸äºæ­¤é’»æ¢å†°å·ç ´è¯‘â€œæ— å­—å¤©ä¹¦â€ï¼Œä¸ä¹…åç»è¿‡é’è—é“è·¯æµ·æ‹”æœ€é«˜ç‚¹5072ç±³ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/12é¾™åŒ£å®°é™‡å·´.JPG" alt="é¾™åŒ£å®°é™‡å·´"></p>
<blockquote>
<p>ä¸‹åˆä¸¤ç‚¹ï¼Œæ¥åˆ°é‚£æ›²å¸‚å®‰å¤šå¿å¢ƒå†…ï¼Œ<strong>é”™é‚£æ¹–</strong>è¿‘åœ¨å’«å°ºï¼Œé“è·¯æ²¿æ¹–è€Œè¿‡ï¼Œæµ·æ‹”æœ€é«˜çš„æ·¡æ°´æ¹–ï¼Œå†¬æ˜¥ä¹‹äº¤å†°æ¨ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/13é”™é‚£æ¹–.JPG" alt="é”™é‚£æ¹–"></p>
<blockquote>
<p>æ— äººå€¼å®ˆçš„åº•å¾ç›ç«™ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/14åº•å¾ç›.JPG" alt="åº•å¾ç›"></p>
<blockquote>
<p>ä¸‹åˆå››ç‚¹ï¼Œé‚£æ›²ç«™à½“à½‚à¼‹à½†à½´à¼ ï¼Œåœ¨æµ·æ‹”å››åƒäº”ç™¾ç±³ä¸‹è½¦å‘¼å¸æ–°é²œç©ºæ°”ï¼Œå…´å¥‹æ©ç›–äº†åˆºéª¨å¯’é£ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/15é‚£æ›².JPG" alt="é‚£æ›²"></p>
<blockquote>
<p>ä¸‹åˆäº”ç‚¹åŠï¼Œé‚£æ›²å¿å¢ƒå†…ï¼Œåˆ—è½¦å³ä¾§ä¸ºå¿µé’å”å¤æ‹‰å±±è„‰ä¸­æ®µï¼Œ<strong>æ¡‘ä¸¹åº·æ¡‘å³°</strong><code>(Samdain Kangsang, 30Â°50'12.98"N, 91Â°29'21.48"E, 6590m)</code>ï¼Œä¸»å³°çš„è¾¨è¯†åº¦æé«˜ã€‚äºŒåäº”ä½ä»™å¢ƒå±…å£«ä¹‹ä¸€ï¼Œå±±ç¥â€œå¤œå‰å²—å¸ƒæ¡‘å¸ƒâ€æ˜¯æ³•åŠ›æ— è¾¹çš„ä½›æ³•ä¿æŠ¤ç¥ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/16æ¡‘ä¸¹åº·æ¡‘.JPG" alt="æ¡‘ä¸¹åº·æ¡‘"></p>
<blockquote>
<p>åˆ—è½¦é©¶è¿‡å½“é›„ï¼Œå¿µé’å”å¤æ‹‰å±±è„‰è¿ç»µä¸ç»ï¼Œè—è¯­æ„ä¸ºâ€œçµåº”è‰åŸç¥â€ã€‚ä¸´è¿‘ä¸ƒç‚¹ï¼Œåˆ—è½¦å³ä¾§æ˜¯<strong>å¿µé’å”å¤æ‹‰å³°</strong><code>(NyainqÃªntanglha Feng, 30Â°22'57.47"N, 90Â°34'31.58"E, 7162m)</code>å’Œ<strong>å¿µé’å”å¤æ‹‰ä¸œå—å³°</strong><code>(Nyanchen Tanglha Southeast, 30Â°22'5.34"N, 90Â°36'2.92"E, 7046m)</code>ï¼ŒåŒ—éº“æ˜¯çº³æœ¨é”™ã€‚å¼ºçƒˆçš„ç¬¬å››çºªå†°å·ä½œç”¨å½¢æˆäº†é™¡å³­çš„å±±å²­ï¼Œå°¤å…¶è¥¿åŒ—å¡å±±åŠ¿ç¬”ç›´ï¼Œé™¡å³­å¼‚å¸¸ï¼Œä¸»å³°é¡¶éƒ¨å½¢ä¼¼é¹°å˜´ï¼Œå¤šæ–­å²©å³­å£ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/17å¿µé’å”å¤æ‹‰.JPG" alt="å¿µé’å”å¤æ‹‰"></p>
<blockquote>
<p>æ™šä¸Šå…«ç‚¹åŠï¼Œåˆ—è½¦é©¶è¿‡æ‹‰è¨æ²³ï¼Œå·²å¯çœ‹è§è¿œå¤„äº®ç¯çš„å¸ƒè¾¾æ‹‰å®«ï¼Œå‡†ç‚¹é©¶å…¥æ‹‰è¨ç«™ï¼Œå†æ—¶21å°æ—¶14åˆ†çš„é’è—çº¿ç»“æŸã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/18æ‹‰è¨ç«™ç«™å°.JPG" alt="æ‹‰è¨ç«™ç«™å°"></p>
<h3 id="3-2-æ‹‰è¨"><a href="#3-2-æ‹‰è¨" class="headerlink" title="3.2 æ‹‰è¨"></a>3.2 æ‹‰è¨</h3><blockquote>
<p><strong>Day 3</strong>ä¸Šåˆå…ˆåˆ°äº†è¯ç‹å±±è§‚æ™¯å°ï¼Œå‡ºå‘å‰è¿˜ç‰¹æ„æ£€æŸ¥äº†é’±åŒ…é‡Œçš„50å…ƒçº¸å¸ï¼Œç»“æœé’±åŒ…æ²¡éšèº«å¸¦ã€‚<br>èµ°ä¸‹è§‚æ™¯å°ï¼Œå·¦è½¬ç»•ä¸€åœˆæ¥åˆ°<strong>åƒä½›æ‘©å´–çŸ³åˆ»</strong>ï¼Œä¿¡å¾’ä¼—å¤šï¼Œå‡ ä¹æ²¡æœ‰ä»€ä¹ˆæ¸¸å®¢ï¼Œè·Ÿç€è—æ°‘ä»¬å»<strong>ç”˜ç å°”å¡”</strong>ã€‚<br>ç»§ç»­å‘è¯ç‹å±±é«˜å¤„èµ°å»ï¼ŒçŸ³å£ä¸Šéƒ½æ˜¯å£ç”»ï¼ŒåŸè®¡åˆ’å»<strong>é²æ™®å²©å¯º</strong>ç‚¹é…¥æ²¹ç¯ï¼Œé€æ¸å‘ç°å’Œè—æ°‘çš„è½¬ç»è·¯çº¿èµ°åäº†ï¼Œä¸èƒ½é¡ºè·¯åˆ°è¾¾ï¼Œäºæ˜¯ä¹æ²¡å»ï¼Œ<em>åº”å½“åœ¨è§‚æ™¯å°ä¸‹å±±åå³è½¬</em>ã€‚</p>
<p>è¥¿è—åšç‰©é¦†ï¼Œå½“å¤©å…è´¹é¢„çº¦ï¼Œåœ¨ä¸€æ¥¼çš„â€œç¦»å¤ªé˜³æœ€è¿‘çš„äººâ€”è¥¿è—æ°‘ä¿—æ–‡åŒ–â€å±•å…ï¼Œä¸»è¦æ˜¯è—åŒºå„åœ°çš„æ°‘ä¿—æ–‡åŒ–ï¼Œæœé¥°ã€ç”Ÿäº§ç”Ÿæ´»å™¨å…·ã€èŠ‚åº†æ´»åŠ¨ç­‰ï¼Œè·Ÿç€è®²è§£å‘˜çš„æ¸¸å®¢æ¯”è¾ƒå¤šï¼Œé€šé£å·®ï¼Œå¾…ä¹…äº†æ„Ÿè§‰èƒ¸é—·ä¸é€‚ï¼Œèµ¶ç´§åˆ°å¤§å…ç¼“ä¸€ç¼“ã€‚äºŒæ¥¼æœ‰è§£æ”¾è¥¿è—å±•å…ï¼Œå†æœå†ä»£çš„å†œå¥´åˆ¶åº¦ã€åœ°æ–¹æ²»ç†ç­‰å†…å®¹è¾ƒä¸ºè¯¦ç»†ã€‚é¡¶æ¥¼æœ‰è§‚æ™¯éœ²å°ï¼Œå¯ä»¥çœ‹åˆ°æ‹‰è¨å¸‚åŒºå…¨æ™¯ã€‚</p>
<p>ä¸­åˆåœ¨<strong>å…‰æ˜å²—ç¼ç”œèŒ¶é¦†</strong>å–1å…ƒä¸€æ¯çš„ç”œèŒ¶ï¼Œåƒè—é¢æ­é…ç‚¸åœŸè±†ï¼Œè—é¢æ¯”è¾ƒç¡¬ï¼Œä¸ä¸€å®šæ‰€æœ‰äººéƒ½åƒå¾—æ¥ã€‚</p>
<p>å›é…’åº—ä¼‘æ¯åä¹˜å…¬äº¤è½¦å‰å¾€<strong>æ‰åŸºå¯º</strong>ï¼Œå…è´¹å‚è§‚ï¼Œè´¢ç¥åº™ï¼Œé¦™ç«æ—ºç››ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/19æ‰åŸºå¯º.JPG" alt="æ‰åŸºå¯º"></p>
<blockquote>
<p>ä»æ‰åŸºå¯ºå‡ºæ¥ï¼Œæƒ³åˆ°æ—©ä¸Šæ¼æ‰äº†çº¸å¸çš„åˆå½±ï¼Œäºæ˜¯ç»§ç»­åå…¬äº¤åˆ°å¸ƒè¾¾æ‹‰å®«å¹¿åœºçš„<strong>å‰ç«™é…¸å¥¶åŠ</strong>ï¼Œåƒç‰¦ç‰›å†°æ·‡æ·‹é…¸å¥¶ç„¶åå†å»è¡¥å¡ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/20äº”åå…ƒçº¸å¸.JPG" alt="äº”åå…ƒçº¸å¸"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/21å¸ƒå®«å¹¿åœº.JPG" alt="å¸ƒå®«å¹¿åœº"></p>
<blockquote>
<p>ä¸€è·¯æ­¥è¡Œç©¿è¿‡å…«å»“è¡—ï¼Œçé€›å›é…’åº—ï¼Œé€”å¾„<strong>å¤§æ˜­å¯º</strong>ï¼Œæœæ‹œçš„ä¿¡å¾’ç»œç»ä¸ç»ï¼Œåå²å·¦å³çš„ä¸¤å§å¼Ÿè¡£è¡«è¤´è¤›ï¼Œç»•ç€å¤§æ˜­å¯ºç£•é•¿å¤´ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/22å¤§æ˜­å¯º.JPG" alt="å¤§æ˜­å¯º"></p>
<blockquote>
<p><strong>Day 4</strong> ä¸€å¤§æ—©å‡ºå‘å¸ƒè¾¾æ‹‰å®«ï¼</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/23å¸ƒå®«è„šä¸‹.JPG" alt="å¸ƒå®«è„šä¸‹"></p>
<blockquote>
<p>ä¸‹åˆåŸè®¡åˆ’å»å¤§æ˜­å¯ºï¼Œä½†åŒè¡Œçš„æ­å­é«˜åæ¯”è¾ƒä¸¥é‡å»åŒ»é™¢è¾“æ¶²æ‰“ä¹±äº†è¡Œç¨‹ï¼Œè°ƒæ•´åˆ°äº†<strong>Day 5</strong> ä¸€å¤§æ—©ã€‚<br>äºæ˜¯å³å…´å‰å¾€<strong>æ‹‰é²æ¹¿åœ°å›½å®¶çº§è‡ªç„¶ä¿æŠ¤åŒº</strong>ï¼Œæ‹ä¸‹è¿™ä¸¤å¼ å¸ƒè¾¾æ‹‰å®«è¿œæ™¯ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/24æ‹‰é²æ¹¿åœ°å¸ƒå®«.JPG" alt="æ‹‰é²æ¹¿åœ°å¸ƒå®«"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/25æœ›è¿œé•œå¸ƒå®«.JPG" alt="æœ›è¿œé•œå¸ƒå®«"></p>
<h3 id="3-3-å±±å—ç¾Šå“é›æª"><a href="#3-3-å±±å—ç¾Šå“é›æª" class="headerlink" title="3.3 å±±å—ç¾Šå“é›æª"></a>3.3 å±±å—ç¾Šå“é›æª</h3><blockquote>
<p>è¿›è—ç¬¬äº”å¤©ï¼Œè‡ªé©¾<strong>ç¾Šå“é›æª</strong>ã€‚ç¾Šæ¹–ç”±äº¿å¹´å‰å†°å·æ³¥çŸ³æµé˜»å¡æ²³é“è€Œå½¢æˆï¼Œæ˜¯è—å—æœ€å¤§çš„å°é—­æ€§å†…é™†æ¹–æ³Šï¼Œè¥¿è—ä¸‰å¤§åœ£æ¹–ä¹‹ä¸€ï¼Œæ¹–é¢æµ·æ‹”4441ç±³ï¼Œé¢ç§¯638å¹³æ–¹å…¬é‡Œï¼Œæ¹–æ°´å‘ˆç°å‡ºè“è‰²ã€ç»¿è‰²ã€‚<br>ä»æ™®åŠªæ‘å¼€å§‹ç¿»è¶Š<strong>åŠ è‹¥æ‹‰å±±</strong>ï¼Œéšç€ç›˜å±±å…¬è·¯æµ·æ‹”æ€¥å‰§ä¸Šå‡ï¼Œå±±å£ç‹‚é£å¤§ä½œï¼Œå±±å£ç»å¹¡é£˜æ‰¬<code>(29Â°8'27.53"N, 90Â°49'18.83"E, 4700m)</code>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/26åŠ è‹¥æ‹‰å±±å£.JPG" alt="åŠ è‹¥æ‹‰å±±å£"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/27åŠ è‹¥æ‹‰ç»å¹¡.JPG" alt="åŠ è‹¥æ‹‰ç»å¹¡"></p>
<blockquote>
<p>ç¿»è¶ŠåŠ è‹¥æ‹‰å±±å£åå°±èƒ½çœ‹åˆ°è¿œå¤„çš„ç¾Šæ¹–ï¼Œä¸‹å±±å·¦è½¬æ¥åˆ°ç¾Šæ¹–å²¸è¾¹<code>(29Â°7'28.16"N, 90Â°44'3.48"E, 4443m)</code>ï¼Œæˆ´å¢¨é•œçš„ç™½è‰²è—ç’ï¼ˆé›ªç’ï¼‰è¢«è¿«è¥ä¸šã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/28é›ªç’.JPG" alt="é›ªç’"></p>
<blockquote>
<p>æ¹–æ°´åˆ†å±‚ï¼Œä¸€å±‚å±‚æ³¢æµªèµ·ä¼ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/29ç¾Šå“é›æªæ¹–å²¸.JPG" alt="ç¾Šå“é›æªæ¹–å²¸"></p>
<blockquote>
<p>è¿œå¤„æ˜¯<strong>è§‰å§†</strong><code>(29Â°16'34.10"N, 90Â°20'4.45"E, 6080m)</code>å’Œ<strong>è§‰æ³¢</strong><code>(29Â°15'2.41"N, 90Â°20'30.08"E, 6070m)</code>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/30ç¾Šæ¹–æ¹–å²¸äººåƒ.JPG" alt="ç¾Šæ¹–æ¹–å²¸äººåƒ"></p>
<blockquote>
<p>å…¬å•æ¯äººä¸¤å…ƒï¼Œä¸è¿‡æ²¡æœ‰è¿›å»ä½“éªŒã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/31ç¾Šæ¹–å…¬å•.JPG" alt="ç¾Šæ¹–å…¬å•"></p>
<blockquote>
<p>æ²¿å¿é“306çº¿è¿‡ä¸œæ‹‰ä¹¡è´¡å˜æ‘ï¼Œä¸€è·¯ç¢çŸ³é¢ ç°¸ï¼Œå°˜åœŸé£æ‰¬ï¼Œè·¯å†µéå¸¸å·®ï¼Œç‰›ç¾Šæˆç¾¤ï¼Œå°å­¦ç”Ÿçš®è‚¤é»é»‘ã€‚<br>åœ¨ä¸œæ‹‰æ‘é™„çš„è¿‘å²”è·¯å£å³æ‹å°è·¯ï¼Œåˆ°è¾¾<strong>æ—¥æ‰˜å¯º</strong>ï¼Œé—¨ç¥¨20å…ƒï¼Œä¸–ç•Œä¸Šæœ€å­¤ç‹¬çš„å¯ºåº™ã€‚<br>æ­¤æ—¶è¿œå¤„å·²æœ‰äº‘é›¾ç¼­ç»•ï¼Œä½†æ— é®æŒ¡çš„åœ°æ–¹ï¼Œé˜³å…‰è¿˜æ˜¯éå¸¸å¼ºçƒˆã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/32æ—¥æ‰˜å¯º.JPG" alt="æ—¥æ‰˜å¯º"></p>
<blockquote>
<p>ç¦»å¼€æ—¥æ‰˜å¯ºç»§ç»­å‘å‰ï¼Œä¸€æ ·è¿˜æ˜¯ç¢çŸ³ï¼Œå°˜åœŸï¼Œå‘æ´¼ï¼Œçº¦åŠå°æ—¶ååœ¨ä¸»è·¯å·¦è½¬è¿›å…¥æ‰ä½™æ‘ï¼Œåœ¨æ‰ç‰æ‰å¯ºç»§ç»­å·¦è½¬ï¼Œæ²¿ç›˜å±±å…¬è·¯è€Œä¸Šçº¦åŠå°æ—¶ï¼Œäºä¸‹åˆäº”ç‚¹åŠåˆ°è¾¾<strong>å–€åº†æ‹‰å±±</strong><code>(29Â°3'29.26"N, 90Â°54'18.90"E, 5200m)</code>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/33å–€åº†æ‹‰å±±.JPG" alt="å–€åº†æ‹‰å±±"></p>
<blockquote>
<p>æ˜¥å¯’æ–™å³­ï¼Œåçº§ç‹‚é£ã€‚<strong>åº“æ‹‰å²—æ—¥å³°</strong><code>(Kula Kangri, 28Â°13'38.35"N, 90Â°36'54.94"E, 7538m)</code>ï¼Œå±±å—æœ€é«˜å³°ï¼Œåº“æ‹‰å²—æ—¥æ˜¯å››å¤§ç¥å±±ä¹‹ä¸€ï¼Œç»ä½³è§†è§’è¢«äº‘é›¾é®æŒ¡ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/34å–€åº†æ‹‰å±±äººåƒ1.JPG" alt="å–€åº†æ‹‰å±±äººåƒ1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/35å–€åº†æ‹‰å±±äººåƒ2.JPG" alt="å–€åº†æ‹‰å±±äººåƒ2"></p>
<blockquote>
<p>å±±é¡¶ç‹‚é£ä¸å®œä¹…ç•™ï¼Œè¿”ç¨‹ä¸‹å±±ï¼Œå³ä¾§å²”è·¯å¯åˆ°<strong>é²æ—¥æ‹‰å±±</strong>ã€‚ç»§ç»­æ²¿ç›˜å±±å…¬è·¯è€Œä¸‹ï¼Œå¾€æœ—æ°å­¦ä¹¡æ–¹å‘è¿”å›æ‹‰è¨ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/36é²æ—¥æ‹‰å±±.JPG" alt="é²æ—¥æ‹‰å±±"></p>
<h3 id="3-4-æ—èŠ"><a href="#3-4-æ—èŠ" class="headerlink" title="3.4 æ—èŠ"></a>3.4 æ—èŠ</h3><h4 id="3-4-1-é²æœ—"><a href="#3-4-1-é²æœ—" class="headerlink" title="3.4.1 é²æœ—"></a>3.4.1 é²æœ—</h4><blockquote>
<p>ä¸€å¤§æ—©æ‘¸é»‘å‡ºå‘ï¼Œä»æ‹‰è¨ç«™ä¹˜åæ‹‰è¨åŸé™…é“è·¯åˆ°æ—èŠç«™ï¼Œæ‹‰æ—é“è·¯æ²¿ç€<strong>é›…é²è—å¸ƒæ±Ÿ</strong>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/37æ‹‰æ—é“è·¯æ—çš„é›…æ±Ÿ.JPG" alt="æ‹‰æ—é“è·¯æ—çš„é›…æ±Ÿ"></p>
<blockquote>
<p>èµ°318å›½é“ç¿»è¶Š<strong>è‰²å­£æ‹‰å±±å£</strong><code>(29Â°36'38.20"N, 94Â°39'5.87"E, 4556m)</code>ï¼Œäº‘é›¾å¤§ï¼Œæœªèƒ½è§åˆ°è¿œå¤„çš„çº³è¿¦å·´ç“¦ï¼Œä¸‹èµ·äº†å°é›ªï¼Œè·¯é¢æ¹¿æ»‘ï¼Œå¤§è½¦æ¯”è¾ƒå¤šï¼Œçˆ¬å¡è¡Œé©¶ç¼“æ…¢ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/38è‰²å­£æ‹‰å±±å£.JPG" alt="318å›½é“è‰²å­£æ‹‰å±±å£"></p>
<blockquote>
<p>è·¯æ—åˆ·æ–°å‡ åªé‡çŒ´ï¼Œåœ¨åƒæ¸¸å®¢æŠ•å–‚çš„é£Ÿç‰©ï¼Œæœ¬ä¸è¯¥æ‰“æ‰°å®ƒä»¬çš„ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/39é‡çŒ´.JPG" alt="318å›½é“é‡çŒ´"></p>
<blockquote>
<p>ç¿»è¶Šå±±å£åä¸‹å±±å°±æ˜¯é²æœ—ï¼Œåœ¨æ‰è¥¿å²—æ‘ç¨ä½œåœç•™ï¼Œå†œåœºå’Œé›ªå±±è®©äººå¿ƒæ—·ç¥æ€¡ï¼Œè¿œå¤„å±±å³°åé¢æ˜¯è¢«äº‘é›¾é®æŒ¡çš„<strong>æ”¯å·´å²—æ—¥</strong><code>(29Â°49'26.65"N, 94Â°52'17.40"E, 6846m)</code>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/40é²æœ—.JPG" alt="é²æœ—"></p>
<h4 id="3-4-2-å·´æ¾æªã€æ–°æª"><a href="#3-4-2-å·´æ¾æªã€æ–°æª" class="headerlink" title="3.4.2 å·´æ¾æªã€æ–°æª"></a>3.4.2 å·´æ¾æªã€æ–°æª</h4><blockquote>
<p>ä»é²æœ—è¿”ç¨‹å·²æ¥è¿‘äº”ç‚¹ï¼Œé›…å¶é«˜é€Ÿä¸Šæš´é›¨ï¼Œåˆ°å·¥å¸ƒæ±Ÿè¾¾å¿é›¨åœäº†ï¼Œå¤©ä¹Ÿé»‘äº†ã€‚<br>ä¸´è¿‘å·´æ¾æªï¼Œåˆå¼€å§‹ä¸‹é›¨ï¼Œé€æ¸è½¬ä¸ºä¸‹é›ªï¼Œè¶Šå¾€å±±é‡Œé›ªè¶Šå¤§ï¼Œæ™šä¸Šä¹ç‚¹å¤šåˆ°è¾¾æ°‘å®¿å…¥ä½ï¼Œæ°‘å®¿é™¢å­é‡Œçš„ç»å¹¡ã€‚<br>æ”¾äº†åŠå°æ—¶çš„çƒ­æ°´ä»ç„¶æ˜¯å†°å‡‰çš„ï¼Œæ´—äº†ä¸ªå†·æ°´æ¾¡ï¼Œå¥½åœ¨æ°‘å®¿éƒ½æœ‰å–æš–å™¨ï¼Œæ²¡æ„Ÿå†’ä¹Ÿæ²¡é«˜åã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/41å·´æ¾æªç»å¹¡.JPG" alt="å·´æ¾æªç»å¹¡"></p>
<blockquote>
<p>ä¸€æ™šä¸Šçš„ç‹‚é£æš´é›ªï¼Œç»å¹¡åœ¨ç¬¬äºŒå¤©æ—©ä¸Šå¡Œäº†ï¼Œæš´é›ªå‹æ–­çº¿è·¯ï¼Œæ–­ç½‘æ–­ç”µï¼Œé©±è½¦å‰å¾€<strong>æ–°æª</strong>ã€‚<br>æœ¬å°±æ˜¯å‘å‘æ´¼æ´¼çš„éé“ºè£…è·¯é¢ï¼Œæ³¥åœ°ç§¯é›ªæ‰“æ»‘ï¼Œå¥½å‡ å¤„ä¸Šå¡å†²äº†å¥½å‡ æ¬¡æ‰ä¸Šå»ï¼Œä¸­åˆè¿”ç¨‹æ—¶è·¯ä¸Šå±…ç„¶éƒ½å¹²äº†ï¼Œå¤ªé˜³è¾å°„å¼ºå¯¼è‡´èé›ªä¹Ÿéå¸¸å¿«ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/42å‡ºå‘æ–°æª.JPG" alt="å‡ºå‘æ–°æª"></p>
<blockquote>
<p>æ–°æªæ”¶å–æ¸…æ´è´¹10å…ƒï¼ŒåŠ ä¸Šå·´æ¾æªé—¨ç¥¨æ·¡å­£60ï¼Œè‡ªè®¤ä¸ºè¿™å½“ä¸­çš„å¤§éƒ¨åˆ†åº”å½“ç»™æ–°æªæ‰å¯¹ã€‚<br>å†¬æ˜¥ç‹¬æœ‰çš„é›ªæ™¯ï¼Œå’Œå¤å­£çš„è‰ç”¸ç‰§åœºæˆªç„¶ä¸åŒã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/43æ–°æªèµ·ç‚¹.JPG" alt="æ–°æªèµ·ç‚¹"></p>
<blockquote>
<p>å¾’æ­¥å¼ºåº¦ç›¸å¯¹è¾ƒå°ï¼Œå¾€è¿”7å…¬é‡Œï¼Œä¸€ä¸ªå¤šå°æ—¶å¯ä»¥å®Œæˆï¼Œä½†ç§¯é›ªæ¯”è¾ƒåšï¼Œç™½å¤©ä»ç„¶é£˜ç€å°é›ªï¼Œéœ€è¦ç™»å±±é´å’Œå†²é”‹è¡£ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/44æ–°æªäººåƒ1.JPG" alt="æ–°æªäººåƒ1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/45æ–°æªäººåƒ2.JPG" alt="æ–°æªäººåƒ2"></p>
<blockquote>
<p>ç‰¦ç‰›æˆç¾¤ï¼Œè¿‘è·ç¦»é è¿‘ä¸ä¼šæœ‰å±é™©ï¼ŒåŸå§‹æ£®æ—é‡Œçš„ç‰¦ç‰›ä¼šä¸»åŠ¨å¾€å¯†æ—æ·±å¤„é¿å¼€äººç¾¤ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/46ç‰¦ç‰›.JPG" alt="ç‰¦ç‰›"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/47ä¸€ç¾¤ç‰¦ç‰›.JPG" alt="ä¸€ç¾¤ç‰¦ç‰›"></p>
<blockquote>
<p>æ–°æªå²¸è¾¹ï¼Œè¿œå¤„é›ªå±±è¢«é®æŒ¡ï¼Œé›ªåçš„æ¹–æ°´æ¸…æ¾ˆè§åº•ï¼Œå¤å­£åº”è¯¥å‘ˆè“ç»¿è‰²ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/48æ–°æªå²¸è¾¹.JPG" alt="æ–°æªå²¸è¾¹"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/49æ–°æªäººåƒ3.JPG" alt="æ–°æªäººåƒ3"></p>
<blockquote>
<p>å¯†æ—æ·±å¤„ç§¯é›ªåˆ°å°è…¿ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/50ç§¯é›ª.JPG" alt="ç§¯é›ª"></p>
<blockquote>
<p>ç›´æ¥èººä¸‹ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/51æ–°æªäººåƒ4.JPG" alt="æ–°æªäººåƒ4"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/52æ–°æªäººåƒ5.JPG" alt="æ–°æªäººåƒ5"></p>
<blockquote>
<p>å¾’æ­¥ç»“æŸï¼Œé©±è½¦è¿”å›ï¼Œ<strong>å·´æ¾æªé—å¿˜ç å¤´</strong><code>(30Â°0'35.24"N, 93Â°58'19.45"E)</code>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/53å·´æ¾æª1.JPG" alt="å·´æ¾æª1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/54å·´æ¾æª2.JPG" alt="å·´æ¾æª2"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/55å·´æ¾æªäººåƒ.JPG" alt="å·´æ¾æªäººåƒ"></p>
<blockquote>
<p>ä»é—å¿˜ç å¤´ç¦»å¼€æ—¶å·²ç»æ˜¯ä¸‹åˆä¸¤ç‚¹å¤šï¼Œç»“å·´æ‘ä»ç„¶å¤„äºæ–­ç”µæ–­ç½‘çŠ¶æ€ï¼Œåªèƒ½å¼€å‡ºå·´æ¾æªæ™¯åŒºæ‰¾åƒçš„ï¼Œåƒå®Œåèµ¶å¾€é›…æ±Ÿå³¡è°·ã€‚<br>é›¨å¤œåˆ°è¾¾<strong>ç´¢æ¾æ‘</strong>ï¼Œé—¨ç¥¨150å…ƒï¼Œé€”ä¸­è¢«å·ç‰Œå¤§ä¼—æ€¥è½¬å¼¯å¼ºè¡ŒåŠ å¡ï¼Œé‚æˆªåœè®¨è¦è¯´æ³•ã€‚<br>ç´¢æ¾æ‘é›ªå¤œè§…é£Ÿï¼Œæ‰¾äº†ä¸€å®¶è—é¤ï¼Œå’–å–±é¸¡é¥­ï¼Œç‰›è‚‰åŒ…å­ï¼Œå¥¶èŒ¶ï¼Œåªæœ‰å¥¶èŒ¶è¿˜æŒºå¥½ã€‚<br>è¾¹ä¸Šçš„é…’å§éœ‡å¤©å“ï¼ŒçœŸçš„å¾ˆéš¾æƒ³è±¡ä¸–å¤–æ¡ƒæºä¼šè¿™æ ·ã€‚</p>
</blockquote>
<h4 id="3-4-3-é›…é²è—å¸ƒå¤§å³¡è°·"><a href="#3-4-3-é›…é²è—å¸ƒå¤§å³¡è°·" class="headerlink" title="3.4.3 é›…é²è—å¸ƒå¤§å³¡è°·"></a>3.4.3 é›…é²è—å¸ƒå¤§å³¡è°·</h4><blockquote>
<p>æ—©æ™¨ä¾ç„¶åœ¨ä¸‹é›¨ä¸‹é›ªï¼Œä¹ç‚¹å¤šçš„æ—¶å€™å¼€å¤ªé˜³äº†<span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼Œç«‹å³æ”¶æ‹¾è£…å¤‡å¾€å³¡è°·å²¸è¾¹èµ°ï¼Œæ¡ƒèŠ±<code>(29Â°34'21.65"N, 94Â°53'35.16")</code>å’Œè¿œå¤„çš„<strong>å¤šé›„æ‹‰é›ªå±±</strong><code>(29Â°25'20.21"N, 94Â°54'2.05"E, 5780m)</code></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/56æ¡ƒèŠ±å’Œå¤šé›„æ‹‰.JPG" alt="æ¡ƒèŠ±å’Œå¤šé›„æ‹‰"></p>
<blockquote>
<p>ç»§ç»­æ²¿ç€é›…é²è—å¸ƒæ±Ÿçš„æ²³å²¸å¾€å‰èµ°ï¼Œæ¥åˆ°è‡ªè®¤ä¸ºåœ¨ç´¢æ¾æ‘èƒ½åˆ°è¾¾çš„æœ€ä½³è§‚æ™¯åœ°ç‚¹<code>(29Â°34'30.61"N, 94Â°53'38.54"E)</code>ï¼Œä½äºæ¡ƒèŠ±æ—çš„å°½å¤´ï¼Œå·¥ä½œäººå‘˜æ­£åœ¨åŠ æ€¥è£…æŠ¤æ ã€‚<br>å‰æ–¹æ˜¯é›…é²è—å¸ƒæ±Ÿå’Œ<strong>å—è¿¦å·´ç“¦</strong><code>(Namcha Barwa, 29Â°38'2.76"N, 95Â°3'34.38"E, 7782m)</code>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/57é›…æ±Ÿå’Œçº³è¿¦å·´ç“¦.JPG" alt="é›…æ±Ÿå’Œçº³è¿¦å·´ç“¦"></p>
<blockquote>
<p>èƒŒåæ˜¯é›…æ±Ÿå’Œå¤šé›„æ‹‰ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/58é›…æ±Ÿå’Œå¤šé›„æ‹‰.JPG" alt="é›…æ±Ÿå’Œå¤šé›„æ‹‰"></p>
<blockquote>
<p>åŸè®¡åˆ’æ˜¯å¼€è½¦è¿›è¾¾æ—æ‘ï¼Œä½†åŒè¡Œçš„æ­å­åˆé—¹äº†å¹ºè›¾å­ï¼Œå¾—äºä½“åŠ›è¿˜è¡Œï¼Œæ”¶æ‹¾å¥½è¡Œæå¯„å­˜åœ¨å‰å°ï¼Œå¸¦ä¸Šè½»è£…èƒŒåŒ…ç‹¬è‡ªå¾’æ­¥è¿›<strong>è¾¾æ—æ‘</strong>ï¼Œé¢„ä¼°æ¥å›å››å°æ—¶ã€‚ç´§è´´å³¡è°·å‘å‰ï¼Œå¯ä»¥çœ‹åˆ°çº³è¿¦å·´ç“¦è¿‘åœ¨çœ¼å‰ï¼Œå…¨æ™¯éå¸¸éœ‡æ’¼ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/59çº³è¿¦å·´ç“¦å…¨æ™¯.JPG" alt="çº³è¿¦å·´ç“¦å…¨æ™¯"></p>
<blockquote>
<p>æ‹å¼¯å¤„å¯è§è¿‘æ™¯çš„å†°å·ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/60çº³è¿¦å·´ç“¦è¿‘æ™¯.JPG" alt="çº³è¿¦å·´ç“¦è¿‘æ™¯"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/61å—è¿¦å·´ç“¦äººåƒ.JPG" alt="å—è¿¦å·´ç“¦äººåƒ"></p>
<blockquote>
<p>ä¸´è¿‘è¾¾æ—æ‘ï¼ŒèƒŒåæ˜¯å—è¿¦å·´ç“¦å³°å’Œå¾ˆå…·æœ‰è¾¨è¯†åº¦çš„<strong>ä¹ƒå½­å³°</strong><code>(Napung Peak, 29Â°37'1.2"N, 95Â°3'15.7"E, 7043m)</code></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/62è¾¾æ—æ‘äººåƒ.JPG" alt="è¾¾æ—æ‘äººåƒ"></p>
<blockquote>
<p>è¾¾æ—æ‘ç›¸è¾ƒäºå³¡è°·æ›´å¤–ä¾§çš„æ‘è½è¦åŸå§‹çš„å¤šï¼Œç§ƒé¹«æ­£åœ¨è¿›é£Ÿã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/63ç§ƒé¹«1.JPG" alt="ç§ƒé¹«1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/64ç§ƒé¹«2.JPG" alt="ç§ƒé¹«2"></p>
<blockquote>
<p>ç»ˆäºåœ¨è¾¾æ—æ‘ï¼Œæœ‰å¹¸è§åˆ°äº†<strong>åŠ æ‹‰ç™½å’</strong><code>(Gyala Peri, 29Â°48'51.62"N, 94Â°58'11.14"E, 7294m)</code>ï¼Œå¿µé’å”å¤æ‹‰å±±è„‰çš„æœ€é«˜å³°ï¼Œåœ¨ä¸¤ä¾§å±±æ—çš„æ˜ è¡¬ä¸‹æ›´åŠ æ´ç™½ï¼Œè“å¤©ç™½äº‘ä¸‹çš„å†°æ·‡æ·‹ï¼Œéš”ç€é›…é²è—å¸ƒæ±Ÿä¸å–œé©¬æ‹‰é›…å±±è„‰çš„çº³è¿¦å·´ç“¦å¯¹å³™ã€‚â€œåŠ æ‹‰â€å–è‡ªåŠ æ‹‰æ‘ï¼Œâ€œç™½å’â€æ„ä¸ºé«˜å³°ã€‚<br>ä¼ è¯´ä½œä¸ºå“¥å“¥çš„çº³è¿¦å·´ç“¦è§Šè§æ—¥ç›Šé›„ä¼Ÿçš„åŠ æ‹‰ç™½å’ï¼Œç å»å¼Ÿå¼Ÿçš„å¤´é¢…ï¼ŒåŒ–ä½œå¤šé›„æ‹‰é›ªå±±ã€‚<br>æŠ›å¼€ä¼ è¯´ï¼Œè¿™ä¸¤åº§é›ªå±±æ›´åƒæ˜¯åœ¨é•‡å®ˆç€é›…é²è—å¸ƒæ±Ÿã€‚<br>åŠ æ‹‰ç™½å’å³°çš„å·¦ä¾§ç´§è´´ç€æ˜¯<strong>ç™½æ‹‰æ—¥</strong><code>(29Â°49'4.12"N, 95Â°57'42.80"E, 7100m)</code>ï¼›ä¾§å³°æ˜¯<strong>æ£®å¡˜å¸ƒ</strong><code>(Sendapu, 29Â°50'23.1"N, 94Â°56'36.31"E, 6812m)</code>ï¼Œå°šæœªç™»å³°ã€‚</p>
</blockquote>
<ul>
<li><strong>åŠ›å¤å†¬æœå†°å·</strong>å†°èˆŒé™„è¿‘æµ·æ‹”2664ç±³ï¼Œè·ç¦»åŠ æ‹‰ç™½å’å³°ç›´çº¿è·ç¦»6.2å…¬é‡Œï¼Œè½å·®è¾¾åˆ°å››åƒå…­ç™¾ç±³ï¼Œæ¯”é™è¾¾åˆ°86%ï¼Œå›½å†…æå¤§è½å·®ç¬¬ä¸€ä½ã€‚åä½™å¹´å‰æ›¾æœ‰åä½™äººé˜Ÿä¼ç©¿è¶Šé›…é²è—å¸ƒå¤§å³¡è°·å·¦å²¸åŠ æ‹‰ç™½å’çº¿ï¼Œæ›¾åœ¨åŠ›å¤å†¬æœå†°å·<code>(29Â°47.072'N, 95Â°00.121'E, 3677M)</code>é™„è¿‘æ‰è¥ã€‚</li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/65åŠ æ‹‰ç™½å’.JPG" alt="åŠ æ‹‰ç™½å’"></p>
<ul>
<li>ä¸‹åˆä¸‰ç‚¹å·¦å³ï¼Œå‡†å¤‡ä»è¾¾æ—æ‘è¿”å›ç´¢æ¾æ‘ï¼Œå†é©¾è½¦å›å¸‚åŒºï¼ŒåŒè¡Œæ­å­ç»§ç»­çŠ¯å¹ºè›¾å­ï¼Œè¢«å‘ŠçŸ¥å¼€ç€è½¦å…ˆå‡ºæ‘äº†ã€‚</li>
<li><strong>é«˜åŸã€å³¡è°·ã€æ‘è½ã€ç‰¦ç‰›ã€ç§ƒé¹«</strong>ï¼Œæ— æ³•ç†è§£æ˜¯ä½•ç­‰çš„å¿ƒæ™ºä¸æˆç†Ÿå¯ä»¥åšå‡ºè¿™ç§äº‹ï¼Œåªèƒ½æŠ±ç€è¯•ä¸€è¯•çš„å¿ƒæ€è”ç³»æ°‘å®¿è€æ¿ï¼Œå›åˆ°ç´¢æ¾æ‘é¢„è®¡å››ç‚¹åŠï¼Œè¯·æ±‚å¸®å¿™è”ç³»å‡ºæ‘çš„å¸æœºï¼Œä½†è¢«å‘ŠçŸ¥ä¸‹åˆå¾ˆå°‘æœ‰å‡ºæ‘çš„ï¼Œå¤§å¤šéƒ½æ˜¯ä¸Šåˆå‡ºæ‘ã€‚</li>
<li>é‚åšå¥½æœ€åçš„æ‰“ç®—ï¼Œä¸€è¾¹ç»§ç»­å¾€å³¡è°·å¤–èµ°ï¼Œä¸€è¾¹å¼€å§‹é€€å½“æ™šåœ¨æ—èŠçš„é…’åº—ï¼Œå‡†å¤‡æ”¹ç­¾ç¬¬äºŒå¤©çš„æœºç¥¨ã€‚</li>
<li>å¹¸è¿ä¼šçœ·é¡¾æœ‰å¿ƒä¹‹äººï¼Œåœ¨MammutçŒ›çŠ¸è±¡çš„å®ˆæŠ¤ä¸‹æ²¡æœ‰è¢«ç§ƒé¹«å’Œé‡ç‰¦ç‰›è¢­å‡»ï¼Œåœ£æ´çš„Gyala Periä¹Ÿä¿ä½‘æˆ‘å¾ˆå¹¸è¿åœ°é‡åˆ°äº†ä»è¾¾æ—æ‘å»æ´¾é•‡åŠäº‹çš„æ‘æ°‘å°å“¥ï¼Œå°†æˆ‘å¸¦å›äº†ç´¢æ¾æ‘ï¼Œä¹Ÿé¡ºä¾¿è¯·ä»–å¸¦æˆ‘æ‹¿ä¸Šè¡Œæå›åˆ°æ´¾é•‡å®¢è¿ä¸­å¿ƒï¼Œå¾ˆçƒ­æƒ…åœ°å¸®æˆ‘è”ç³»äº†æ´¾é•‡çš„çº¿è·¯è½¦å¸æœºï¼Œä¸€è·¯å’Œå°å“¥èŠç€è—åŒºå’Œæ²¿æµ·åŸå¸‚çš„å·®å¼‚ï¼Œä¹Ÿé‚€è¯·ä»–æœ‰æœºä¼šæ¥æ­å·ã€‚</li>
<li>æ­ä¸Šäº†ä»æ´¾é•‡å›æ—èŠå¸‚åŒºçš„æœ€åä¸€ç­è½¦ï¼Œæ²¿ç€é›…æ±Ÿå’Œå°¼æ´‹æ²³é©¶å‡ºå³¡è°·ï¼Œå¤©é»‘å‰é¡ºåˆ©å›åˆ°äº†å¸‚åŒºï¼Œç­‹ç–²åŠ›å°½ï¼Œåƒäº†çŸ³é”…é¸¡ä½œä¸ºåœ¨è¥¿è—çš„æœ€åä¸€é¡¿ã€‚</li>
<li>å¼•ç”¨é«˜ä¸­æ—¶ä¸€ä½æ•°å­¦è€å¸ˆçš„è¯â€œ<strong>æˆ‘ç®€ç›´æ˜¯æ— æ³•ç†è§£ï¼Œéš¾ä»¥æƒ³è±¡</strong>â€æ¥å½¢å®¹è¿™å¤©çš„ç»å†ï¼Œæ—¢æœ‰è§åˆ°çº³è¿¦å·´ç“¦å’ŒåŠ æ‹‰ç™½å’çš„å¹¸è¿ï¼Œä¹Ÿæœ‰åŒè¡Œæ­å­çš„æ„šè ¢ï¼Œæ›´æœ‰æ¥ä¸åŠçœ‹æ—¥ç…§é‡‘å±±çš„é—æ†¾ï¼Œè¿™é—æ†¾å’Œæ„šè ¢çš„æ•™è®­å°±å½“æ˜¯ä¸‹æ¬¡è¿›è—æœ€å¥½çš„ç»éªŒå§ã€‚</li>
</ul>
<h4 id="3-4-4-é£æœºè§†è§’é›ªå±±"><a href="#3-4-4-é£æœºè§†è§’é›ªå±±" class="headerlink" title="3.4.4 é£æœºè§†è§’é›ªå±±"></a>3.4.4 é£æœºè§†è§’é›ªå±±</h4><blockquote>
<p>ç±³æ—æœºåœºéå¸¸å°ï¼Œèµ·é£å’Œé™è½çª—å£åŸºæœ¬éƒ½åœ¨ä¸Šåˆï¼Œåˆåé™è½å®¹æ˜“å‡ºç°å¤§é›¾ï¼Œå³¡è°·é™è½éš¾åº¦æå¤§ï¼›å†›æ°‘ä¸¤ç”¨ï¼Œèµ·é£æ»‘è¡Œæ—¶è¿˜çœ‹åˆ°äº†ç¿¼é¾™ã€‚</p>
<p>èµ·é£ä»å³¡è°·è¿…é€Ÿçˆ¬å‡é£è‡³é²æœ—ä¸Šç©ºï¼Œäº”åƒç±³é¥æœ›<strong>å—è¿¦å·´ç“¦</strong></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/66é«˜ç©ºçº³è¿¦å·´ç“¦.JPG" alt="é«˜ç©ºçº³è¿¦å·´ç“¦"></p>
<blockquote>
<p>å…­åƒäº”ç™¾ç±³é¥æœ›<strong>å—è¿¦å·´ç“¦ã€åŠ æ‹‰ç™½å’åŒæ¡†</strong></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/67é«˜ç©ºçº³è¿¦å·´ç“¦å’ŒåŠ æ‹‰ç™½å’.JPG" alt="é«˜ç©ºçº³è¿¦å·´ç“¦å’ŒåŠ æ‹‰ç™½å’"></p>
<blockquote>
<p>ç»§ç»­çˆ¬å‡åˆ°å…«åƒç±³ï¼Œæ¥åˆ°åŠ æ‹‰ç™½å’è¥¿åŒ—ä¾§ï¼Œå†°å·å³ä¾§æ˜¯<strong>æ”¯å·´å²—æ—¥</strong><code>(29Â°49'26.65"N, 94Â°52'17.40"E, 6846m)</code></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/68æ”¯å·´å²—æ—¥.JPG" alt="æ”¯å·´å²—æ—¥"></p>
<blockquote>
<p>è¿‘ä¹åƒç±³å¯ä»¥çœ‹åˆ°å®Œæ•´çš„<strong>åŠ æ‹‰ç™½å’åŒ—å¡å†°å·</strong></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/69åŠ æ‹‰ç™½å’åŒ—å¡å†°å·.JPG" alt="åŠ æ‹‰ç™½å’åŒ—å¡å†°å·"></p>
<blockquote>
<p>ç¨åå¯è§<strong>é›…é²è—å¸ƒå¤§å³¡è°·ï¼Œå®Œæ•´çš„å—è¿¦å·´ç“¦åŒ—å¡å’ŒåŠ æ‹‰ç™½å’å³°</strong></p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/70é›…æ±Ÿå³¡è°·å’Œå—è¿¦å·´ç“¦åŠ æ‹‰ç™½å’åŒ—å¡.JPG" alt="é›…æ±Ÿå³¡è°·å’Œå—è¿¦å·´ç“¦åŠ æ‹‰ç™½å’åŒ—å¡"></p>
<blockquote>
<p>å››å·çœç”˜å­œå·å·´å¡˜å¿ç”²è‹±é•‡ä¸Šç©ºï¼Œå‰æ–¹æ˜¯å‡¶é™©çš„é‡‘æ²™æ±Ÿï¼›<br>è¿œå¤„æ˜¯æ¢…é‡Œé›ªå±±ï¼Œ<strong>å¡ç“¦æ ¼åš</strong><code>(Kawagarbo, 28Â°26'18.31"N, 98Â°40'56.06"E, 6740m)</code>ï¼Œä¸Šä¸–çºªä¹åå¹´ä»£æ•°æ¬¡ç™»å³°å¤±è´¥ï¼Œâ€œå¡ç“¦â€æ„ä¸ºé›ªï¼Œâ€œæ ¼åšâ€æ„ä¸ºç™½è‰²ï¼Œè—æ—ç¥å±±ï¼Œ2001å¹´ç™»å±±ç¦ä»¤ï¼›<br>å³ä¾§æ˜¯<strong>ä»–å¿µä»–ç¿å±±è„‰</strong>ï¼Œæœ€é«˜å³°<strong>å¤§ç±³å‹‡</strong><code>(Damiyong, 29Â°10'53.65"N, 98Â°27'36.22"E, 6324m)</code>ï¼Œå±æ¨ªæ–­å±±è„‰ï¼Œæ˜¯å”å¤æ‹‰å±±çš„å—å»¶ï¼Œå±±ä½“é™©å³»æŒºæ‹”ï¼Œé£åŒ–ç ´ç¢ä¸¥é‡ï¼ŒçŠ¹å¦‚ä¸€å µé«˜å¢™åˆ†å‰²æ¾œæ²§æ±Ÿå’Œæ€’æ±Ÿï¼Œ<strong>è—ä¸œå—ç§˜å¢ƒå¾’æ­¥çº¿è·¯</strong>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/71æ¢…é‡Œé›ªå±±å¡ç“¦æ ¼åšå’Œé‡‘æ²™æ±Ÿ.JPG" alt="æ¢…é‡Œé›ªå±±å¡ç“¦æ ¼åšå’Œé‡‘æ²™æ±Ÿ"></p>
<blockquote>
<p>å››å·çœç”˜å­œå·åº·å®šå¸‚ä¸Šç©ºï¼Œé£æœºæ­£ä¸‹æ–¹æ˜¯<strong>å¤§æ¸¡æ²³</strong>å’Œ<strong>å¤¹é‡‘å±±</strong><code>(Jiajin Shan, 30Â°35'15.22"N, 102Â°10'6.82"E, 5734m)</code>ï¼Œâ€œé•¿å¾ä¸‡é‡Œé™©ï¼Œæœ€å¿†å¤¹é‡‘å±±â€ï¼Œ35å¹´6æœˆå¼ºæ¸¡å¤§æ¸¡æ²³é£å¤ºæ³¸å®šæ¡¥åï¼Œæœ€è‰°éš¾çš„æ­£æ˜¯è¿™é•¿å¾è·¯ä¸Šçš„ç¬¬ä¸€åº§å¤§é›ªå±±ã€‚<br>è¿œå¤„æœ€é«˜å³°æ˜¯<strong>æœ¨é›…è´¡å˜</strong><code>(Minya Konka, 29Â°35'45.76"N, 101Â°52'44"E, 7508.9m)</code>ï¼Œè´¡å˜å±±è„‰ä¸»å³°ï¼Œæµ·æ‹”7556ç±³ï¼Œæ˜¯æ¨ªæ–­å±±è„‰çš„æœ€é«˜å³°ï¼Œå·ç§°â€œèœ€å±±ä¹‹ç‹â€ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/72è´¡å˜å’Œå¤§æ¸¡æ²³.JPG" alt="è´¡å˜å’Œå¤§æ¸¡æ²³"></p>
<blockquote>
<p>å››å·çœæˆéƒ½å¸‚æ¸©æ±ŸåŒºä¸Šç©ºï¼Œè¿œå¤„æ˜¯<strong>è´¡å˜å±±è„‰</strong>å‚²ç«‹åœ¨æˆéƒ½å¹³åŸå°½å¤´ï¼Œå·¦ä¾§äº‘é›¾ä¹‹ä¸­æ˜¯<strong>å³¨çœ‰å±±</strong><code>(Emei Shan, 29Â°30'37.26"N, 103Â°19'54.73"E, 3099m)</code>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/73è´¡å˜è¿œæ™¯.JPG" alt="è´¡å˜è¿œæ™¯"></p>
<h3 id="3-5-ç•ªå¤–ï¼šé‡åº†"><a href="#3-5-ç•ªå¤–ï¼šé‡åº†" class="headerlink" title="3.5 ç•ªå¤–ï¼šé‡åº†"></a>3.5 ç•ªå¤–ï¼šé‡åº†</h3><blockquote>
<p>è½åœ°é‡åº†æ±ŸåŒ—ï¼Œå·²ç»æå‰åœ¨<em>ä¸­è½¬æ—…å®¢æœåŠ¡é€š</em>å¡«å†™äº†ä¿¡æ¯ï¼Œèˆªç«™æ¥¼å†…<em>é‡åº†é£</em>æŸœå°å…‘æ¢ä½å®¿ç¥¨æ®ï¼Œç­‰å‡ åˆ†é’Ÿåå°±æ¥åˆ°å¸æœºç”µè¯ï¼Œä¸€è¾†é¢åŒ…è½¦æ»¡æ»¡å½“å½“å…­ä¸ƒäººæ‹‰åˆ°èˆªç«™æ¥¼é™„è¿‘çš„é…’åº—ï¼Œä½å®¿æ¡ä»¶å‹‰å¼ºè¿‡å¾—å»ï¼ŒåŒäººé—´ï¼Œè‹¥è¦å•äººä½å®¿å¯è¡¥å·®ä»·ã€‚</p>
<p>åœ¨é­æ˜Ÿæ¥¼é™„è¿‘çš„ç¤¾åŒºåƒäº†ç«é”…ï¼Œå¾®è¾£è¿˜<strong>è¾£è¾£è¾£è¾£è¾£è¾£</strong>ï¼Œåƒå®Œåå­ƒå­ƒæ‰è¯´ä»–ä»¬è‡ªå·±ä¸€èˆ¬åƒå¾®å¾®è¾£<span class="github-emoji"><span>ğŸ˜©</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f629.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/74ç«é”…1.JPG" alt="ç«é”…1"></p>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/75ç«é”…2.JPG" alt="ç«é”…2"></p>
<blockquote>
<p>ä¸ºäº†è¡¥ä¸Šæ¬¡åœ¨é‡åº†æ²¡çœ‹åˆ°çš„æœå¤©é—¨å¤œæ™¯ï¼Œç‰¹åœ°å»äº†å—æ»¨è·¯é’Ÿæ¥¼å¹¿åœºã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/76ä¸œæ°´é—¨é•¿æ±Ÿå¤§æ¡¥å¤œæ™¯.JPG" alt="ä¸œæ°´é—¨é•¿æ±Ÿå¤§æ¡¥å¤œæ™¯"></p>
<blockquote>
<p>è·¯è¿‡äº†æ™šä¸Šçš„é¾™é—¨æµ©è€è¡—ï¼Œçœ‹åˆ°äº†äº®ç¯çš„ä¸œæ°´é—¨é•¿æ±Ÿå¤§æ¡¥ã€‚</p>
</blockquote>
<p><img src="https://cdn.jsdelivr.net/gh/boom1999/boom1999.github.io@hexo_backup/images/tibet/77æœå¤©é—¨å¤œæ™¯.JPG" alt="æœå¤©é—¨å¤œæ™¯"></p>
<h2 id="4-äº¤é€šã€çº¿è·¯å¼ºåº¦ã€ä½å®¿ã€é¤é¥®"><a href="#4-äº¤é€šã€çº¿è·¯å¼ºåº¦ã€ä½å®¿ã€é¤é¥®" class="headerlink" title="4. äº¤é€šã€çº¿è·¯å¼ºåº¦ã€ä½å®¿ã€é¤é¥®"></a>4. äº¤é€šã€çº¿è·¯å¼ºåº¦ã€ä½å®¿ã€é¤é¥®</h2><h3 id="4-1-äº¤é€š"><a href="#4-1-äº¤é€š" class="headerlink" title="4.1 äº¤é€š"></a>4.1 äº¤é€š</h3><ul>
<li>è¿›è—/å‡ºè—å¤§äº¤é€šï¼šå—äº¬ç›´é£å…°å·ï¼Œç”±åŠ¨è½¦<strong>D165</strong>è½¬è¥¿å®ï¼ˆ<strong>å…°å·ç«™21:06-è¥¿å®ç«™22:44</strong>ï¼‰ï¼Œé’è—çº¿<strong>Y971</strong>æ¬¡åˆ—è½¦è¿›è—ï¼ˆ<strong>è¥¿å®ç«™23:15-æ‹‰è¨ç«™20:29</strong>ï¼‰ï¼›ç”±æ—èŠç»é‡åº†è½¬æœºè¿”å›å—äº¬ã€‚<ul>
<li><em>ä¸ºä»€ä¹ˆæ²¡é€‰ç½‘çº¢<strong>Z164/Z165</strong>æ¬¡åˆ—è½¦ï¼Ÿ</em><ul>
<li>æ—¶é—´ï¼šZ164/Z165ç”±ä¸Šæµ·18:33å§‹å‘ï¼Œ21:13è¿‡å—äº¬ï¼ŒDay+2çš„01:38æŠµè¾¾æ ¼å°”æœ¨ï¼Œ15:30æŠµè¾¾æ‹‰è¨ï¼Œå‰åŠç¨‹å°†è¿‘ä¸€å¤©åŠçš„æ—¶é—´éƒ½åœ¨é’è—é«˜åŸå¤–ï¼Œé£æ™¯ä¸€èˆ¬ï¼›æ˜†ä»‘å±±ã€å¯å¯è¥¿é‡Œã€æ²±æ²±æ²³ç­‰å‰åŠæ®µåœ¨å¤œé‡Œï¼ˆæ­¤è¡Œä¸º3æœˆä¸­æ—¬ï¼Œå¤å­£7/8æœˆå¯é€‰æ­¤æ¬¡åˆ—è½¦ï¼‰ï¼Œ<strong>é’è—çº¿è¥¿å®å‘è½¦è¶Šæ™šï¼Œé£æ™¯è¶Šå¤šï¼ŒY971æœ€ä¼˜</strong>ï¼›</li>
<li>è½¦ç¥¨ï¼šç½‘çº¢ç­æ¬¡è½¦ç¥¨ç´§å¼ ï¼Œå¤§éƒ¨åˆ†ä»ä¸Šæµ·å‡ºå‘ï¼Œå…°å·ç”šè‡³è¥¿å®ä¸Šè½¦å‡ ä¹æ²¡ç¥¨ã€‚</li>
</ul>
</li>
<li>ä¸ºä»€ä¹ˆç»å…°å·è½¬ï¼Ÿ<ul>
<li>ç©ºé“è”è¿æ—¶é—´å¯è¡Œï¼Œå½“æ—¥å¯èµ¶ä¸Š<strong>Y971</strong>ï¼›ä¸­å·æœºåœºæ˜¯è¥¿åŒ—æ¢çº½ï¼Œèˆªç­é€‰æ‹©æ›´å¤šï¼›<strong>å…°å·ç‰›è‚‰é¢</strong>ã€‚</li>
</ul>
</li>
<li>ä¸ºä»€ä¹ˆç”±æ—èŠç±³æ—æœºåœºè¿”ç¨‹ï¼Ÿ<ul>
<li>ç±³æ—æœºåœºèˆªç­å…¨åœ¨ä¸Š/ä¸­åˆèµ·é£ï¼Œåç»­è¡Œç¨‹è¿è´¯ï¼›é«˜åŸå±±è°·èµ·é£ï¼Œèˆªçº¿é€”å¾„é²æœ—é•‡ï¼Œ<strong>è¿‘è·ç¦»æ¬£èµçº³è¿¦å·´ç“¦å’ŒåŠ æ‹‰ç™½å’</strong>ï¼›è‡ªç”±è¡Œåœ¨æ—èŠç»“æŸï¼Œè¿”å›è´¡å˜æœºåœºåè€Œæ›´è¿œï¼›</li>
<li>é‡åº†è½¬æœºåœç•™5-48hæœºåœºæä¾›ä½å®¿ï¼Œ<strong>é‡åº†ç«é”…</strong>ã€‚</li>
</ul>
</li>
</ul>
</li>
<li>æ‹‰è¨å¸‚åŒºäº¤é€šï¼š<ul>
<li>å…¬äº¤è½¦ï¼šå¸‚åŒºå…¬äº¤å¯åˆ°è¾¾å¤§éƒ¨åˆ†æ™¯ç‚¹ï¼ˆå“²èšŒå¯ºç­‰å±±ä¸Šå’Œåè¿œçš„æ™¯ç‚¹é™¤å¤–ï¼‰ï¼Œç¥¨ä»·1å…ƒï¼Œå¯åˆ·è”åˆäº¤é€šå¡ã€‚</li>
<li>ç½‘çº¦è½¦ï¼šåŸºæœ¬10-15å…ƒ/ç¨‹ï¼Œ3-4äººåˆ’ç®—ã€‚</li>
</ul>
</li>
<li>å±±å—ç¾Šæ¹–/æ—èŠäº¤é€šï¼š<ul>
<li>ç¾Šæ¹–ä¸€æ—¥æ¸¸<strong>ç§Ÿè½¦è‡ªé©¾</strong>ï¼Œèµ°ç¾Šæ¹–ä¸œä¾§æ—¥æ‰˜å¯ºæ–¹å‘ï¼Œå¾€è¿”æ€»å…±7-8å°æ—¶è½¦ç¨‹ï¼ˆå‰æ–‡æœ‰å…·ä½“çº¿è·¯ï¼‰ã€‚<ul>
<li>éœ€è¦æ³¨æ„çš„ä¸»è¦æ˜¯å¤©é»‘å‰ç¦»å¼€æ™®åŠªæ‘è‡³èŠé¾™æ‘æ®µçš„åŠ è‹¥æ‹‰å±±ï¼Œç›˜å±±å…¬è·¯ï¼›å¿é“306çº¿<strong>å¤§å¤šæ˜¯æ“è¡£æ¿è·¯</strong>ï¼Œéœ€SUVï¼›è¿”ç¨‹ä»æœ—æ°å­¦ä¹¡èµ°ï¼Œç†è®ºä¸Šç»è¿‡<em>ç”²æ—¥å±±æ²Ÿ-ç”²æ—¥æ™®-æœ—æ°æ—-æ²ƒæ‹‰</em>çš„çº¿è·¯æ›´å¿«ï¼Œä½†æ˜¯å¤„äºå…»æŠ¤æ–½å·¥å°è·¯çŠ¶æ€ï¼Œå‡ºå‘å‰è¯·ç¡®è®¤ã€‚</li>
</ul>
</li>
<li><em>ä¸ºä»€ä¹ˆæ²¡æŠ¥å›¢ç¾Šæ¹–ä¸€æ—¥æ¸¸/çº³æœ¨é”™?</em><ul>
<li>ç¾Šæ¹–ä¸€æ—¥æ¸¸æŠ¥å›¢ä»·æ ¼100-150å…ƒ/äººï¼ŒåŒ…è½¦ç¥¨ã€é¦–é“é—¨ç¥¨å’Œå›¢é¤ï¼Œæ—©å‡ºæ™šå½’ï¼Œè§‚æ™¯æ—¶é—´æ®µè·¯çº¿å•ä¸€ï¼Œéƒ½æ˜¯è¿œæ™¯ï¼Œå¡è‹¥æ‹‰å†°å·ä¸ªäººæ„Ÿè§‰æ²¡å¿…è¦ï¼Œï¼ˆæ·¡å­£æ—ºå­£ä»·æ ¼åº”è¯¥ä¼šå˜ï¼‰ã€‚</li>
<li>çº³æœ¨é”™åœ¨å¿µé’å”å¤æ‹‰å±±è„‰åŒ—ä¾§ï¼Œé’è—çº¿å·²ä»å—ä¾§ç»è¿‡ï¼Œå¯è¿œè§‚å¿µé’å”å¤æ‹‰å±±ä¸»å³°ï¼›é’è—çº¿ç´§è´´<strong>é”™é‚£æ¹–</strong>ï¼Œæœ‰æœºä¼šè§<strong>å†°æ¨</strong>ï¼›ä»æ‹‰è¨è‡³çº³æœ¨é”™æ¥å›ä¸¤å¤©æ‰æ¯”è¾ƒç¨³å¦¥ã€‚</li>
</ul>
</li>
<li>å»é²æœ—çš„è¡Œç¨‹éœ€è¦èµ°318å›½é“ç¿»è¶Šè‰²å­£æ‹‰å±±å£ï¼Œå·´æ¾æªçš„è¡Œç¨‹ä¸»è¦æ˜¯æ–°æªå¾’æ­¥ï¼Œä»ç»“å·´æ‘åˆ°æ–°æªé©¿ç«™çº¦ä¸‰åå…¬é‡Œï¼ŒåŒ…è½¦å¾€è¿”é¢„è®¡500å…ƒï¼Œé›…æ±Ÿå³¡è°·çš„è¡Œç¨‹è‹¥ä¸å¼€è½¦éœ€è¦æ°‘å®¿è€æ¿æ¥é€è´¹ç”¨å¦ç®—ï¼Œè¦ä¸ç„¶å°±å¾—åæ™¯åŒºè§‚å…‰è½¦90å…ƒï¼Œè¿™å‡ ä¸ªåœ°æ–¹éƒ½æ¯”è¾ƒè¿œå¹¶ä¸”ä¸åœ¨ä¸€ä¸ªæ–¹å‘ã€‚æ—èŠå®¢è¿ä¸­å¿ƒæ¯å¤©æœ‰å‡ è¶Ÿé¢åŒ…è½¦è¥è¿ï¼ˆç§°ä¹‹ä¸ºçº¿è·¯è½¦ï¼‰ï¼Œä½†<strong>å…¬å…±äº¤é€šæ—¶é—´ä¸å¯æ§</strong>ï¼Œé‚é€‰æ‹©ç§Ÿè½¦ã€‚ç§Ÿè½¦æˆæœ¬å’Œæ—¶é—´ä¸å¯æ§äº§ç”Ÿçš„å¤šä½å‡ å¤©çš„è´¹ç”¨ï¼Œå¿…é¡»äºŒé€‰ä¸€ã€‚</li>
</ul>
</li>
<li>æ—èŠæœºåœºäº¤é€š<ul>
<li>ç±³æ—æœºåœºå¤§å·´å•ç¨‹25å…ƒ/äººï¼Œçº¦40åˆ†é’Ÿè½¦ç¨‹ï¼Œä¸Šåˆç”±å·´å®œåŒºæ°‘èˆªåŸºåœ°å‘è½¦ï¼›</li>
<li>å‰ä¸€å¤œé€‚åˆä½åœ¨<strong>æ°‘èˆªåŸºåœ°</strong>é™„è¿‘ï¼Œä½é£Ÿç›¸å¯¹æ–¹ä¾¿ï¼›æœºåœºé™„è¿‘ä½å®¿æ¡ä»¶è¾ƒå·®ã€‚</li>
</ul>
</li>
</ul>
<h3 id="4-2-çº¿è·¯å¼ºåº¦"><a href="#4-2-çº¿è·¯å¼ºåº¦" class="headerlink" title="4.2 çº¿è·¯å¼ºåº¦"></a>4.2 çº¿è·¯å¼ºåº¦</h3><ul>
<li>è¿›è—å‰å‡å°‘æ‘„æ°§éœ€æ±‚å¤§çš„å¥èº«ï¼Œé€‚å½“å¢åŠ è€æ°§è®­ç»ƒï¼›</li>
<li>é’è—çº¿æ ¼å°”æœ¨ç«™ä¹‹åå¼€å§‹å¼¥æ•£å¼ä¾›æ°§ï¼Œæœ‰ç´§æ€¥ä¾›å…»å£ï¼Œè½¦å†…ä¸€èˆ¬ä¸ä¼šé«˜åï¼Œä¸å»ºè®®æŒç»­å¸æ°§ï¼Œäº§ç”Ÿä¾èµ–å°†å¯¼è‡´ä¸‹è½¦åçš„ååº”æ›´å¤§ï¼›å¤‡å¯ä¹å’Œç”µè§£è´¨ç²‰ï¼Œå……è¶³çš„è·¯é¤åŠæ—¶è¿›é£Ÿï¼Œå¯èƒ½äº§ç”Ÿä¸­è€³ä¸é€‚å’Œè‚šèƒ€æ°”ï¼Œå¤šè¿›è¡Œåå’½åŠ¨ä½œï¼›è½¦å†…æ¸©åº¦å¯èƒ½è¾ƒé«˜ï¼ŒåŠæ—¶å¢å‡è¡£ç‰©ï¼›åœè½¦æ—¶å¯ä¸‹è½¦é€‚åº”ä½å‹ä½æ°§ç¯å¢ƒï¼›</li>
<li>å¸ƒè¾¾æ‹‰å®«æ”¾åœ¨äº†Day 4ä¹Ÿå°±æ˜¯åœ¨æ‹‰è¨çš„ç¬¬äºŒä¸ªç™½å¤©ï¼Œç¬¬ä¸€å¤©å®‰æ’çˆ¬å‡å°‘ä¸€äº›çš„è¥¿è—åšç‰©é¦†ç­‰åœ°ï¼Œä½†äº‹å®æ˜¯åšç‰©é¦†å†…é€šé£è¾ƒå·®ï¼Œç©ºæ°”æµé€šä¸ç•…ï¼Œæ¯é€›ä¸€ä¸ªåœºé¦†å°±è§‰å¾—èƒ¸é—·ï¼Œå‡ºåšç‰©é¦†åè‡ªè¡Œç¼“è§£ï¼›</li>
<li>ç¾Šæ¹–è‡ªé©¾/æ—èŠè‡ªé©¾ï¼Œè·¯ç¨‹é•¿ã€è·¯å†µå¤æ‚ï¼Œä¸å»ºè®®æ–°æ‰‹å¼€ï¼Œè¦æœ‰è¶³å¤Ÿçš„å®‰å…¨å¸¸è¯†ï¼›çœ‹å­£èŠ‚å¤‡é˜²æ»‘é“¾å’Œé›ªèƒï¼›è¿™æ¬¡è¡Œç¨‹çš„æ‰€æœ‰è‡ªé©¾è·¯çº¿éƒ½å»ºè®®å¼€SUVï¼Œæœ€å¥½æœ‰æ¶¡è½®å¢å‹ï¼›</li>
<li>å¤©æ°”å˜åŒ–å¿«ï¼Œé£å¤§é›¨å¤§é›ªå¤§ï¼Œå¤‡å†²é”‹è¡£å’Œç™»å±±é´ï¼Œé€Ÿå¹²æ‰“åº•é¿å…å‡ºæ±—åç€å‡‰æ„Ÿå†’ï¼›</li>
<li>æ´—æ¾¡/æ´—å¤´ï¼Œä¸»è¦å°±æ˜¯åšå¥½ä¿æ¸©ä¿æ¹¿ï¼Œåšå¥½ä¿æš–æªæ–½ï¼Œä¿æ¹¿ä¹³æ¶²ï¼Œå¤´å‘å¹å¹²ï¼ŒåŸºæœ¬æ²¡é—®é¢˜ï¼›è¿›è—åç¬¬ä¸€å¤©å°±æ´—æ¾¡æ´—å¤´äº†ï¼Œåç»­ä¹Ÿæ¯å¤©æ´—ï¼Œåœ¨æ—èŠç”šè‡³æ´—äº†å†·æ°´æ¾¡ï¼Œæ²¡å‡ºç°é«˜åï¼Œåšå¥½é˜²æŠ¤æ¯”è¾ƒé‡è¦ã€‚</li>
<li>æ‹‰è¨å¸‚åŒºå¤©æ°”æ— æ‰€è°“ï¼Œå±±å—å’Œæ—èŠéœ€è¦ä¸€ç›´å…³æ³¨å¤©æ°”æ”¹è¡Œç¨‹ã€‚</li>
</ul>
<h3 id="4-3-ä½å®¿"><a href="#4-3-ä½å®¿" class="headerlink" title="4.3 ä½å®¿"></a>4.3 ä½å®¿</h3><blockquote>
<p>ä½å®¿çœ‹ä¸ªäººéœ€æ±‚è§ä»è§æ™ºï¼Œæ€»ä½“æ¥è¯´æ‹‰è¨å¸‚åŒºä½å®¿è¿˜å¯ä»¥ï¼Œæ—èŠå‡ å¤„æ‘è½çš„æ°‘å®¿æ¡ä»¶è¾ƒå·®ï¼Œè‹¥ä»‹æ„å¯æºå¸¦ä¸€æ¬¡æ€§æ´—æ¼±ç”¨å“ï¼Œæˆ‘æ˜¯æœ¬ç€èƒ½ç¡å°±è¡Œçš„ç†å¿µï¼Œè¯¥çœçœè¯¥èŠ±èŠ±ã€‚</p>
</blockquote>
<ul>
<li>æ‹‰è¨å¸‚åŒºæ¨èåœ¨<strong>åŒ—äº¬ä¸œè·¯</strong>ï¼Œç¦»å¸ƒè¾¾æ‹‰å®«ã€å¤§æ˜­å¯ºã€å…«å»“è¡—éƒ½å¾ˆè¿‘ï¼Œ<strong>æ­¥è¡Œå¯è¾¾</strong>ï¼ˆä½†æ°é€¢é“è·¯æ–½å·¥å°è·¯ï¼Œæ‰“è½¦å’Œå…¬äº¤éƒ¨åˆ†éœ€è¦ç»•è·¯ï¼Œæ®è¯´è¿™æ¡è·¯ç»å¸¸ä¿®ï¼Œæ—ºå­£åº”è¯¥å°±ä¿®å®Œäº†<span class="github-emoji"><span>ğŸ‘Š</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f44a.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼‰ï¼›</li>
<li>å·´æ¾æªä½å®¿å¯é€‰ç»“å·´æ‘ã€é”™é«˜æ‘å’Œæ–°æªé©¿ç«™ï¼›ä»¥<strong>ç»“å·´æ‘</strong>ä¸ºä¸»ï¼Œé¤é¥®å’Œä½å®¿é€‰æ‹©æ€§è¾ƒå¤šï¼Œè¿‘å·´æ¾æªæ™¯åŒºï¼›é”™é«˜æ‘ä½å®¿è¾ƒå°‘ï¼Œå¯ç»§ç»­å‘é‡Œè‡³æ‚æ‹‰æ‘ï¼ŒåŸå§‹æ‘è½ï¼›æ–°æªé©¿ç«™æ˜¯æ–°æªä»…æœ‰çš„ä¸€å®¶ä½å®¿ï¼Œè§†è¡Œç¨‹å®‰æ’å¯é€‰ï¼›</li>
<li>é›…æ±Ÿå³¡è°·ä½å®¿å·¦å²¸å¯é€‰åç™½æ‘ã€ç´¢æ¾æ‘ã€è¾¾æ—æ‘ï¼Œå³å²¸å¯é€‰è§‚å…‰æ™¯åŒºä½å®¿å’Œç›´ç™½æ‘ï¼›åç™½æ‘è¾ƒé å¤–ï¼Œé™¤éç´¢æ¾æ‘æ»¡æˆ¿æˆ–ä»·æ ¼å·®è¿‡å¤§ï¼Œä¸å»ºè®®é€‰ï¼›å¤§éƒ¨åˆ†ä½å®¿åœ¨<strong>ç´¢æ¾æ‘</strong>ï¼Œä»·æ ¼å°±å›¾ä¸€ä¹ï¼Œå’Œæ¡ä»¶æ²¡æœ‰å…³è”ï¼Œæ³¢åŠ¨è¾ƒå¤§ï¼›è¾¾æ—æ‘æœ‰æ¾èµé…’åº—ï¼Œè´µä½†æ¡ä»¶å’Œè§†è§’ç¡®å®å¥½ï¼›å³å²¸éœ€å¦å¤–ä»˜è´¹ä¹˜åæ™¯åŒºè§‚å…‰è½¦è¿›å…¥ï¼Œç›´ç™½æ‘è·çº³è¿¦å·´ç“¦æœ€è¿‘ï¼Œä½†å•†ä¸šåŒ–å¼€å‘è¾ƒå°‘ï¼Œå¯èƒ½éœ€è¦æ‘æ°‘å¸¦è¿›å»ã€‚</li>
<li>æ—èŠå¸‚åŒºé€‰æ‹©è¾ƒå¤šï¼Œç¬¬äºŒå¤©è¦å»æœºåœºå°±ä½åœ¨æ°‘èˆªåŸºåœ°é™„è¿‘æ–¹ä¾¿ï¼Œè‹¥ä½æœºåœºé™„è¿‘æ¡ä»¶å·®ä¸”ä»·æ ¼è´µã€‚</li>
</ul>
<h3 id="4-4-é¤é¥®"><a href="#4-4-é¤é¥®" class="headerlink" title="4.4 é¤é¥®"></a>4.4 é¤é¥®</h3><ul>
<li>è—é¤ï¼šè¿‘ä¼¼å°¼æ³Šå°”é¤å’Œå°åº¦èœï¼Œç‰›ç¾Šè‚‰ã€é’ç¨é¢é£Ÿã€å¥¶åˆ¶å“ä¸ºä¸»ï¼Œ<strong>å‰ç¥¥åœ£é›ª</strong>å¯ä»¥ä¸€è¯•ï¼Œåº—ä¸»æƒ…ç»ªä»·å€¼æ‹‰æ»¡</li>
<li>ç”œèŒ¶ï¼šå£æ„Ÿè¿‘ä¼¼é¦™é£˜é£˜ï¼Œå…¥å£èˆ’æœï¼Œæ¨è<strong>å…‰æ˜å²—ç¼ç”œèŒ¶é¦†</strong>ï¼Œ1å…ƒ/æ¯ï¼Œå€’èŒ¶æ”¶çº¸å¸ï¼Œè—é¢è¾ƒç¡¬ï¼Œå‘³é“ä¸é”™ï¼Œä»½é‡å°ï¼Œå¯ä»¥æ­é…ç‚¸åœŸè±†</li>
<li>é’ç¨é…’/æ‹‰è¨å•¤é…’/é’ç¨å•¤é…’ï¼šæ— ç‰¹æ®Šï¼Œæ²¡å–å‡ºæ¥ç‹¬ç‰¹ä¹‹å¤„</li>
<li>é…¸å¥¶ï¼šç‰¦ç‰›é…¸å¥¶ï¼Œç¡®å®é…¸ï¼Œæ¨è<strong>å‰ç«™ç‰¦ç‰›é…¸å¥¶åŠ</strong></li>
<li>é˜¿åˆå¥¶èŒ¶ï¼šä¸Šå±‚å¥¶é¦™æ›´æµ“éƒï¼Œå…¶ä»–è¿‘ä¼¼èŒ¶é¢œ</li>
<li>è—é¦™çŒªï¼šæ›´é¦™æ›´å¼¹ï¼Œå£æ„Ÿå’Œæ™®é€šè‚‰çŒªå·®æŒºå¤š</li>
<li>çŸ³é”…é¸¡ï¼šæœ¬åœ°é¸¡å’Œä¸€å †èŒç±»æ··åˆï¼Œç‰¹è‰²é¸¡ç…²ï¼Œå¯ä»¥ä¸€è¯•</li>
</ul>
<h2 id="5-åè®°"><a href="#5-åè®°" class="headerlink" title="5 åè®°"></a>5 åè®°</h2><blockquote>
<p>æ•´ä¸ªè¡Œç¨‹ç­¹åˆ’äº†è¿‘åŠä¸ªæœˆï¼Œä»å¾€è¿”çš„äº¤é€šåˆ°è·¯çº¿é¡ºåºï¼Œå¯¹æ¯”å„ç§æ”»ç•¥ï¼Œä¸æ–­è°ƒæ•´ï¼ŒåŠ›æ±‚æœ‰æ›´å¥½çš„ä½“éªŒã€‚åœ¨æ‹‰è¨çš„å‡ å¤©æ™šä¸Šéƒ½è¿˜åœ¨æ‹…å¿ƒå±±å—å’Œæ—èŠçš„å¤©æ°”ï¼ŒåŠå¤œè°ƒæ•´åå‡ å¤©çš„è¡Œç¨‹é¡ºåºï¼ŒæŠŠé›¨é›ªå¤©å¯ä»¥å»çš„æ–°æªæåˆ°äº†å‰é¢ï¼ŒæŠŠé›…æ±Ÿå³¡è°·æ”¾åœ¨äº†æ™´å¤©ï¼Œæœ€ç»ˆç®—æ˜¯æ„æ–™ä¹‹ä¸­ã€‚</p>
<p><strong>æ•¬ç•è‡ªç„¶</strong>æ˜¯ç¦»å¼€åŸå¸‚å¿…é¡»è¦éµå®ˆçš„æ³•åˆ™ï¼Œé’¢é“éª¨éª¼åœ¨æ— äººåŒºéƒ½æ˜¯è„†å¼±çš„ï¼Œå¿ƒæ™ºä¸æˆç†Ÿçš„äººåªä¼šè·µè¸äº˜å¤çš„å¨ä¸¥ï¼Œäº¿ä¸‡å¹´çš„é›ªå±±ä¸ç”±å¾—ä½ æ”¾è‚†ã€‚</p>
<p>è¿›è—$ Tibet Round 2 $è®¡åˆ’åœ¨äº”å¹´å†…å§ï¼Œ<strong>æ—¥å–€åˆ™åœ°åŒº</strong>å’Œ<strong>ç å³°å¤§æœ¬è¥</strong>ï¼Œ<strong>é˜¿é‡Œåœ°åŒº</strong>å’Œ<strong>å†ˆä»æ³¢é½</strong>ï¼›åœ¨æ­¤ä¹‹å‰å»<strong>é›¨å´©</strong>ï¼Œ<strong>æœ¨é›…è´¡å˜</strong>ï¼Œè—ä¸œå—çš„<strong>ä»–å¿µä»–ç¿</strong>é‡è£…å¾’æ­¥ã€‚</p>
<p>è¿›è—$ Tibet Round 3 $è®¡åˆ’åœ¨åå¹´å†…å§ï¼Œ<strong>å¢¨è„±å¾’æ­¥</strong>å’Œ<strong>é›…é²è—å¸ƒå¤§å³¡è°·å·¦å²¸ç©¿è¶Š</strong>ã€‚</p>
</blockquote>
<hr>
<blockquote>
<p>æœ€åä¿®æ”¹äº2025/04/19</p>
</blockquote>
<!-- markdownlint-disable-file MD025 MD028 MD033 -->
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Tibet</tag>
      </tags>
  </entry>
  <entry>
    <title>æŠ“å–é“å®¢å·´å·´å†…å®¹</title>
    <url>/2021/10/20/%E6%8A%93%E5%8F%96%E9%81%93%E5%AE%A2%E5%B7%B4%E5%B7%B4%E5%86%85%E5%AE%B9/</url>
    <content><![CDATA[<p><span class="github-emoji"><span>ğŸ“Œ</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f4cc.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span></p>
<ul>
<li>ä¸€èˆ¬éœ€è¦ç™»é™†è´¦å·ä»˜è´¹è´­ä¹°ï¼Œå¹¶ä¸”ä¼šå‘˜è¿˜ä¸ä¾¿å®œï¼Œæ·˜å®å•æ¬¡è´­ä¹°æ¯”è¾ƒåˆ’ç®—</li>
<li>è¿™é‡Œç›´æ¥ä»æ§åˆ¶å°æŠ“å–é“å®¢å·´å·´æ–‡æ¡£ï¼Œå­˜ä¸ºpngæ ¼å¼å›¾ç‰‡ï¼Œå¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è½¬åŒ–ä¸ºPDF<br><span class="github-emoji"><span>â˜€</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2600.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ•¤</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f564.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span class="github-emoji"><span>ğŸ˜´</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f634.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span><span id="more"></span>
</li>
</ul>
<blockquote>
<p>ç›´æ¥æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œè¾“å…¥ä»¥ä¸‹è„šæœ¬ï¼š</p>
</blockquote>
<figure class="highlight javascript"><table><tbody><tr><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">downloadPages</span>(<span class="params"><span class="keyword">from</span>, to</span>) {</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="keyword">from</span>; i &lt;= to; i++) {</span><br><span class="line">        <span class="keyword">const</span> pageCanvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">'page_'</span> + i);</span><br><span class="line">        <span class="keyword">if</span> (pageCanvas === <span class="literal">null</span>) { <span class="keyword">break</span>; }</span><br><span class="line">        <span class="keyword">const</span> pageNo = <span class="built_in">parseInt</span>(<span class="title class_">String</span>(i));</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> {</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"==pageNo==&gt;&gt;"</span>, pageNo);</span><br><span class="line">            (<span class="function">(<span class="params">num</span>) =&gt;</span> {</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">"å¼€å§‹æ‰“å°ç¬¬"</span> + num + <span class="string">"é¡µ"</span>);</span><br><span class="line">                pageCanvas.<span class="title function_">toBlob</span>(</span><br><span class="line">                    <span class="function"><span class="params">blob</span> =&gt;</span> {</span><br><span class="line">                        <span class="keyword">const</span> anchor = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">'a'</span>);</span><br><span class="line">                        anchor.<span class="property">download</span> = <span class="string">'page_'</span> + num + <span class="string">'.png'</span>;</span><br><span class="line">                        anchor.<span class="property">href</span> = <span class="variable constant_">URL</span>.<span class="title function_">createObjectURL</span>(blob);</span><br><span class="line">                        anchor.<span class="title function_">click</span>();</span><br><span class="line">                        <span class="variable constant_">URL</span>.<span class="title function_">revokeObjectURL</span>(anchor.<span class="property">href</span>);</span><br><span class="line">                    }</span><br><span class="line">                );</span><br><span class="line">            })(pageNo);</span><br><span class="line">        }, <span class="number">500</span> * pageNo);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<p><code>downloadPages(page_from, page_to);</code> ä¾‹å¦‚æ‰“å°ç¬¬3~5é¡µå³è¾“å…¥<code>downloadPages(3, 5);</code></p>
<ul>
<li>å›¾ç‰‡ä¼šç”±æµè§ˆå™¨ç›´æ¥ä¸‹è½½ï¼Œå¯èƒ½ä¼šæç¤ºæ˜¯å¦å…è®¸è¿ç»­ä¸‹è½½å¤šä¸ªæ–‡ä»¶ï¼ŒåŒæ„å³å¯</li>
<li>éœ€è¦æ³¨æ„ï¼š<span class="github-emoji"><span>â—</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/2757.png?v8" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>è¦æå‰æµè§ˆå…¨éƒ¨æ–‡æ¡£ï¼Œç­‰å¾…æµè§ˆå™¨åŠ è½½æˆåŠŸï¼Œå¦åˆ™å°†ä¿å­˜ä¸ºçº¯é»‘æ— å†…å®¹çš„å›¾ç‰‡</li>
</ul>
]]></content>
      <categories>
        <category>Summary</category>
      </categories>
      <tags>
        <tag>Tutorial</tag>
      </tags>
  </entry>
</search>
